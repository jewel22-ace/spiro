! function(e) {
    var t = {};

    function n(i) {
        if (t[i]) return t[i].exports;
        var r = t[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return e[i].call(r.exports, r, r.exports, n), r.l = !0, r.exports
    }
    n.m = e, n.c = t, n.d = function(e, t, i) {
        n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: i
        })
    }, n.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }, n.t = function(e, t) {
        if (1 & t && (e = n(e)), 8 & t) return e;
        if (4 & t && "object" == typeof e && e && e.__esModule) return e;
        var i = Object.create(null);
        if (n.r(i), Object.defineProperty(i, "default", {
                enumerable: !0,
                value: e
            }), 2 & t && "string" != typeof e)
            for (var r in e) n.d(i, r, function(t) {
                return e[t]
            }.bind(null, r));
        return i
    }, n.n = function(e) {
        var t = e && e.__esModule ? function() {
            return e.default
        } : function() {
            return e
        };
        return n.d(t, "a", t), t
    }, n.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }, n.p = "./", n(n.s = 125)
}([function(e, t, n) {
    "use strict";
    n.r(t),
        function(e) {
            n.d(t, "ACESFilmicToneMapping", (function() {
                return ce
            })), n.d(t, "AddEquation", (function() {
                return C
            })), n.d(t, "AddOperation", (function() {
                return ne
            })), n.d(t, "AdditiveBlending", (function() {
                return E
            })), n.d(t, "AlphaFormat", (function() {
                return Ve
            })), n.d(t, "AlwaysDepth", (function() {
                return Y
            })), n.d(t, "AlwaysStencilFunc", (function() {
                return hn
            })), n.d(t, "AmbientLight", (function() {
                return Ju
            })), n.d(t, "AmbientLightProbe", (function() {
                return bh
            })), n.d(t, "AnimationClip", (function() {
                return iu
            })), n.d(t, "AnimationLoader", (function() {
                return hu
            })), n.d(t, "AnimationMixer", (function() {
                return Zh
            })), n.d(t, "AnimationObjectGroup", (function() {
                return Yh
            })), n.d(t, "AnimationUtils", (function() {
                return Gl
            })), n.d(t, "ArcCurve", (function() {
                return bu
            })), n.d(t, "ArrayCamera", (function() {
                return fs
            })), n.d(t, "ArrowHelper", (function() {
                return Fd
            })), n.d(t, "Audio", (function() {
                return Lh
            })), n.d(t, "AudioAnalyser", (function() {
                return jh
            })), n.d(t, "AudioContext", (function() {
                return fh
            })), n.d(t, "AudioListener", (function() {
                return Ph
            })), n.d(t, "AudioLoader", (function() {
                return mh
            })), n.d(t, "AxesHelper", (function() {
                return Nd
            })), n.d(t, "AxisHelper", (function() {
                return Gp
            })), n.d(t, "BackSide", (function() {
                return g
            })), n.d(t, "BasicDepthPacking", (function() {
                return Wt
            })), n.d(t, "BasicShadowMap", (function() {
                return d
            })), n.d(t, "BinaryTextureLoader", (function() {
                return Zp
            })), n.d(t, "Bone", (function() {
                return qs
            })), n.d(t, "BooleanKeyframeTrack", (function() {
                return Jl
            })), n.d(t, "BoundingBoxHelper", (function() {
                return Wp
            })), n.d(t, "Box2", (function() {
                return rd
            })), n.d(t, "Box3", (function() {
                return Ti
            })), n.d(t, "Box3Helper", (function() {
                return Od
            })), n.d(t, "BoxBufferGeometry", (function() {
                return to
            })), n.d(t, "BoxGeometry", (function() {
                return eo
            })), n.d(t, "BoxHelper", (function() {
                return Rd
            })), n.d(t, "BufferAttribute", (function() {
                return lr
            })), n.d(t, "BufferGeometry", (function() {
                return Pr
            })), n.d(t, "BufferGeometryLoader", (function() {
                return nh
            })), n.d(t, "ByteType", (function() {
                return Re
            })), n.d(t, "Cache", (function() {
                return ou
            })), n.d(t, "Camera", (function() {
                return ao
            })), n.d(t, "CameraHelper", (function() {
                return Pd
            })), n.d(t, "CanvasRenderer", (function() {
                return Qp
            })), n.d(t, "CanvasTexture", (function() {
                return yc
            })), n.d(t, "CatmullRomCurve3", (function() {
                return Su
            })), n.d(t, "CineonToneMapping", (function() {
                return se
            })), n.d(t, "CircleBufferGeometry", (function() {
                return Rl
            })), n.d(t, "CircleGeometry", (function() {
                return Cl
            })), n.d(t, "ClampToEdgeWrapping", (function() {
                return ye
            })), n.d(t, "Clock", (function() {
                return Mh
            })), n.d(t, "ClosedSplineCurve3", (function() {
                return Up
            })), n.d(t, "Color", (function() {
                return er
            })), n.d(t, "ColorKeyframeTrack", (function() {
                return Kl
            })), n.d(t, "CompressedTexture", (function() {
                return gc
            })), n.d(t, "CompressedTextureLoader", (function() {
                return du
            })), n.d(t, "ConeBufferGeometry", (function() {
                return Ll
            })), n.d(t, "ConeGeometry", (function() {
                return Pl
            })), n.d(t, "CubeCamera", (function() {
                return co
            })), n.d(t, "CubeGeometry", (function() {
                return eo
            })), n.d(t, "CubeReflectionMapping", (function() {
                return ue
            })), n.d(t, "CubeRefractionMapping", (function() {
                return he
            })), n.d(t, "CubeTexture", (function() {
                return Do
            })), n.d(t, "CubeTextureLoader", (function() {
                return mu
            })), n.d(t, "CubeUVReflectionMapping", (function() {
                return me
            })), n.d(t, "CubeUVRefractionMapping", (function() {
                return ve
            })), n.d(t, "CubicBezierCurve", (function() {
                return Lu
            })), n.d(t, "CubicBezierCurve3", (function() {
                return Cu
            })), n.d(t, "CubicInterpolant", (function() {
                return ql
            })), n.d(t, "CullFaceBack", (function() {
                return s
            })), n.d(t, "CullFaceFront", (function() {
                return c
            })), n.d(t, "CullFaceFrontBack", (function() {
                return l
            })), n.d(t, "CullFaceNone", (function() {
                return a
            })), n.d(t, "Curve", (function() {
                return gu
            })), n.d(t, "CurvePath", (function() {
                return Fu
            })), n.d(t, "CustomBlending", (function() {
                return L
            })), n.d(t, "CylinderBufferGeometry", (function() {
                return Al
            })), n.d(t, "CylinderGeometry", (function() {
                return El
            })), n.d(t, "Cylindrical", (function() {
                return nd
            })), n.d(t, "DataTexture", (function() {
                return uo
            })), n.d(t, "DataTexture2DArray", (function() {
                return Io
            })), n.d(t, "DataTexture3D", (function() {
                return jo
            })), n.d(t, "DataTextureLoader", (function() {
                return pu
            })), n.d(t, "DecrementStencilOp", (function() {
                return $t
            })), n.d(t, "DecrementWrapStencilOp", (function() {
                return tn
            })), n.d(t, "DefaultLoadingManager", (function() {
                return su
            })), n.d(t, "DepthFormat", (function() {
                return Xe
            })), n.d(t, "DepthStencilFormat", (function() {
                return Ze
            })), n.d(t, "DepthTexture", (function() {
                return bc
            })), n.d(t, "DirectionalLight", (function() {
                return Zu
            })), n.d(t, "DirectionalLightHelper", (function() {
                return Sd
            })), n.d(t, "DirectionalLightShadow", (function() {
                return Xu
            })), n.d(t, "DiscreteInterpolant", (function() {
                return Xl
            })), n.d(t, "DodecahedronBufferGeometry", (function() {
                return Oc
            })), n.d(t, "DodecahedronGeometry", (function() {
                return Rc
            })), n.d(t, "DoubleSide", (function() {
                return y
            })), n.d(t, "DstAlphaFactor", (function() {
                return U
            })), n.d(t, "DstColorFactor", (function() {
                return H
            })), n.d(t, "DynamicBufferAttribute", (function() {
                return Rp
            })), n.d(t, "DynamicCopyUsage", (function() {
                return bn
            })), n.d(t, "DynamicDrawUsage", (function() {
                return pn
            })), n.d(t, "DynamicReadUsage", (function() {
                return vn
            })), n.d(t, "EdgesGeometry", (function() {
                return Sl
            })), n.d(t, "EdgesHelper", (function() {
                return qp
            })), n.d(t, "EllipseCurve", (function() {
                return yu
            })), n.d(t, "EqualDepth", (function() {
                return J
            })), n.d(t, "EqualStencilFunc", (function() {
                return an
            })), n.d(t, "EquirectangularReflectionMapping", (function() {
                return de
            })), n.d(t, "EquirectangularRefractionMapping", (function() {
                return pe
            })), n.d(t, "Euler", (function() {
                return Xn
            })), n.d(t, "EventDispatcher", (function() {
                return wn
            })), n.d(t, "ExtrudeBufferGeometry", (function() {
                return hl
            })), n.d(t, "ExtrudeGeometry", (function() {
                return ul
            })), n.d(t, "Face3", (function() {
                return rr
            })), n.d(t, "Face4", (function() {
                return bp
            })), n.d(t, "FaceColors", (function() {
                return _
            })), n.d(t, "FileLoader", (function() {
                return uu
            })), n.d(t, "FlatShading", (function() {
                return b
            })), n.d(t, "Float32Attribute", (function() {
                return zp
            })), n.d(t, "Float32BufferAttribute", (function() {
                return gr
            })), n.d(t, "Float64Attribute", (function() {
                return Bp
            })), n.d(t, "Float64BufferAttribute", (function() {
                return yr
            })), n.d(t, "FloatType", (function() {
                return ke
            })), n.d(t, "Fog", (function() {
                return bs
            })), n.d(t, "FogExp2", (function() {
                return ys
            })), n.d(t, "Font", (function() {
                return hh
            })), n.d(t, "FontLoader", (function() {
                return ph
            })), n.d(t, "FrontFaceDirectionCCW", (function() {
                return h
            })), n.d(t, "FrontFaceDirectionCW", (function() {
                return u
            })), n.d(t, "FrontSide", (function() {
                return v
            })), n.d(t, "Frustum", (function() {
                return fo
            })), n.d(t, "GammaEncoding", (function() {
                return zt
            })), n.d(t, "Geometry", (function() {
                return $r
            })), n.d(t, "GeometryUtils", (function() {
                return Kp
            })), n.d(t, "GreaterDepth", (function() {
                return Q
            })), n.d(t, "GreaterEqualDepth", (function() {
                return K
            })), n.d(t, "GreaterEqualStencilFunc", (function() {
                return un
            })), n.d(t, "GreaterStencilFunc", (function() {
                return cn
            })), n.d(t, "GridHelper", (function() {
                return xd
            })), n.d(t, "Group", (function() {
                return ms
            })), n.d(t, "HalfFloatType", (function() {
                return Fe
            })), n.d(t, "HemisphereLight", (function() {
                return Uu
            })), n.d(t, "HemisphereLightHelper", (function() {
                return bd
            })), n.d(t, "HemisphereLightProbe", (function() {
                return yh
            })), n.d(t, "IcosahedronBufferGeometry", (function() {
                return Cc
            })), n.d(t, "IcosahedronGeometry", (function() {
                return Lc
            })), n.d(t, "ImageBitmapLoader", (function() {
                return lh
            })), n.d(t, "ImageLoader", (function() {
                return fu
            })), n.d(t, "ImageUtils", (function() {
                return Pn
            })), n.d(t, "ImmediateRenderObject", (function() {
                return cd
            })), n.d(t, "IncrementStencilOp", (function() {
                return Qt
            })), n.d(t, "IncrementWrapStencilOp", (function() {
                return en
            })), n.d(t, "InstancedBufferAttribute", (function() {
                return th
            })), n.d(t, "InstancedBufferGeometry", (function() {
                return eh
            })), n.d(t, "InstancedInterleavedBuffer", (function() {
                return Kh
            })), n.d(t, "InstancedMesh", (function() {
                return Ks
            })), n.d(t, "Int16Attribute", (function() {
                return jp
            })), n.d(t, "Int16BufferAttribute", (function() {
                return pr
            })), n.d(t, "Int32Attribute", (function() {
                return Fp
            })), n.d(t, "Int32BufferAttribute", (function() {
                return mr
            })), n.d(t, "Int8Attribute", (function() {
                return Op
            })), n.d(t, "Int8BufferAttribute", (function() {
                return ur
            })), n.d(t, "IntType", (function() {
                return Ie
            })), n.d(t, "InterleavedBuffer", (function() {
                return xs
            })), n.d(t, "InterleavedBufferAttribute", (function() {
                return Ms
            })), n.d(t, "Interpolant", (function() {
                return Wl
            })), n.d(t, "InterpolateDiscrete", (function() {
                return Pt
            })), n.d(t, "InterpolateLinear", (function() {
                return Lt
            })), n.d(t, "InterpolateSmooth", (function() {
                return Ct
            })), n.d(t, "InvertStencilOp", (function() {
                return nn
            })), n.d(t, "JSONLoader", (function() {
                return $p
            })), n.d(t, "KeepStencilOp", (function() {
                return Jt
            })), n.d(t, "KeyframeTrack", (function() {
                return Zl
            })), n.d(t, "LOD", (function() {
                return Us
            })), n.d(t, "LatheBufferGeometry", (function() {
                return wl
            })), n.d(t, "LatheGeometry", (function() {
                return xl
            })), n.d(t, "Layers", (function() {
                return Zn
            })), n.d(t, "LensFlare", (function() {
                return tf
            })), n.d(t, "LessDepth", (function() {
                return X
            })), n.d(t, "LessEqualDepth", (function() {
                return Z
            })), n.d(t, "LessEqualStencilFunc", (function() {
                return sn
            })), n.d(t, "LessStencilFunc", (function() {
                return on
            })), n.d(t, "Light", (function() {
                return Bu
            })), n.d(t, "LightProbe", (function() {
                return gh
            })), n.d(t, "LightShadow", (function() {
                return Vu
            })), n.d(t, "Line", (function() {
                return rc
            })), n.d(t, "Line3", (function() {
                return sd
            })), n.d(t, "LineBasicMaterial", (function() {
                return Qs
            })), n.d(t, "LineCurve", (function() {
                return Ru
            })), n.d(t, "LineCurve3", (function() {
                return Ou
            })), n.d(t, "LineDashedMaterial", (function() {
                return Vl
            })), n.d(t, "LineLoop", (function() {
                return cc
            })), n.d(t, "LinePieces", (function() {
                return wp
            })), n.d(t, "LineSegments", (function() {
                return sc
            })), n.d(t, "LineStrip", (function() {
                return xp
            })), n.d(t, "LinearEncoding", (function() {
                return Ft
            })), n.d(t, "LinearFilter", (function() {
                return Se
            })), n.d(t, "LinearInterpolant", (function() {
                return Yl
            })), n.d(t, "LinearMipMapLinearFilter", (function() {
                return Le
            })), n.d(t, "LinearMipMapNearestFilter", (function() {
                return Ae
            })), n.d(t, "LinearMipmapLinearFilter", (function() {
                return Pe
            })), n.d(t, "LinearMipmapNearestFilter", (function() {
                return Ee
            })), n.d(t, "LinearToneMapping", (function() {
                return re
            })), n.d(t, "Loader", (function() {
                return cu
            })), n.d(t, "LoaderUtils", (function() {
                return $u
            })), n.d(t, "LoadingManager", (function() {
                return au
            })), n.d(t, "LogLuvEncoding", (function() {
                return Ut
            })), n.d(t, "LoopOnce", (function() {
                return St
            })), n.d(t, "LoopPingPong", (function() {
                return At
            })), n.d(t, "LoopRepeat", (function() {
                return Et
            })), n.d(t, "LuminanceAlphaFormat", (function() {
                return qe
            })), n.d(t, "LuminanceFormat", (function() {
                return We
            })), n.d(t, "MOUSE", (function() {
                return r
            })), n.d(t, "Material", (function() {
                return ar
            })), n.d(t, "MaterialLoader", (function() {
                return Qu
            })), n.d(t, "Math", (function() {
                return Sn
            })), n.d(t, "MathUtils", (function() {
                return Sn
            })), n.d(t, "Matrix3", (function() {
                return An
            })), n.d(t, "Matrix4", (function() {
                return Wn
            })), n.d(t, "MaxEquation", (function() {
                return I
            })), n.d(t, "Mesh", (function() {
                return qr
            })), n.d(t, "MeshBasicMaterial", (function() {
                return sr
            })), n.d(t, "MeshDepthMaterial", (function() {
                return as
            })), n.d(t, "MeshDistanceMaterial", (function() {
                return ss
            })), n.d(t, "MeshFaceMaterial", (function() {
                return _p
            })), n.d(t, "MeshLambertMaterial", (function() {
                return Bl
            })), n.d(t, "MeshMatcapMaterial", (function() {
                return Ul
            })), n.d(t, "MeshNormalMaterial", (function() {
                return zl
            })), n.d(t, "MeshPhongMaterial", (function() {
                return Fl
            })), n.d(t, "MeshPhysicalMaterial", (function() {
                return kl
            })), n.d(t, "MeshStandardMaterial", (function() {
                return jl
            })), n.d(t, "MeshToonMaterial", (function() {
                return Nl
            })), n.d(t, "MinEquation", (function() {
                return D
            })), n.d(t, "MirroredRepeatWrapping", (function() {
                return be
            })), n.d(t, "MixOperation", (function() {
                return te
            })), n.d(t, "MultiMaterial", (function() {
                return Mp
            })), n.d(t, "MultiplyBlending", (function() {
                return P
            })), n.d(t, "MultiplyOperation", (function() {
                return ee
            })), n.d(t, "NearestFilter", (function() {
                return xe
            })), n.d(t, "NearestMipMapLinearFilter", (function() {
                return Te
            })), n.d(t, "NearestMipMapNearestFilter", (function() {
                return _e
            })), n.d(t, "NearestMipmapLinearFilter", (function() {
                return Me
            })), n.d(t, "NearestMipmapNearestFilter", (function() {
                return we
            })), n.d(t, "NeverDepth", (function() {
                return q
            })), n.d(t, "NeverStencilFunc", (function() {
                return rn
            })), n.d(t, "NoBlending", (function() {
                return T
            })), n.d(t, "NoColors", (function() {
                return w
            })), n.d(t, "NoToneMapping", (function() {
                return ie
            })), n.d(t, "NormalBlending", (function() {
                return S
            })), n.d(t, "NotEqualDepth", (function() {
                return $
            })), n.d(t, "NotEqualStencilFunc", (function() {
                return ln
            })), n.d(t, "NumberKeyframeTrack", (function() {
                return Ql
            })), n.d(t, "Object3D", (function() {
                return li
            })), n.d(t, "ObjectLoader", (function() {
                return rh
            })), n.d(t, "ObjectSpaceNormalMap", (function() {
                return Xt
            })), n.d(t, "OctahedronBufferGeometry", (function() {
                return Pc
            })), n.d(t, "OctahedronGeometry", (function() {
                return Ac
            })), n.d(t, "OneFactor", (function() {
                return k
            })), n.d(t, "OneMinusDstAlphaFactor", (function() {
                return V
            })), n.d(t, "OneMinusDstColorFactor", (function() {
                return G
            })), n.d(t, "OneMinusSrcAlphaFactor", (function() {
                return B
            })), n.d(t, "OneMinusSrcColorFactor", (function() {
                return N
            })), n.d(t, "OrthographicCamera", (function() {
                return Yu
            })), n.d(t, "PCFShadowMap", (function() {
                return p
            })), n.d(t, "PCFSoftShadowMap", (function() {
                return f
            })), n.d(t, "PMREMGenerator", (function() {
                return ap
            })), n.d(t, "ParametricBufferGeometry", (function() {
                return _c
            })), n.d(t, "ParametricGeometry", (function() {
                return wc
            })), n.d(t, "Particle", (function() {
                return Sp
            })), n.d(t, "ParticleBasicMaterial", (function() {
                return Pp
            })), n.d(t, "ParticleSystem", (function() {
                return Ep
            })), n.d(t, "ParticleSystemMaterial", (function() {
                return Lp
            })), n.d(t, "Path", (function() {
                return Nu
            })), n.d(t, "PerspectiveCamera", (function() {
                return so
            })), n.d(t, "Plane", (function() {
                return zi
            })), n.d(t, "PlaneBufferGeometry", (function() {
                return bo
            })), n.d(t, "PlaneGeometry", (function() {
                return yo
            })), n.d(t, "PlaneHelper", (function() {
                return Dd
            })), n.d(t, "PointCloud", (function() {
                return Tp
            })), n.d(t, "PointCloudMaterial", (function() {
                return Ap
            })), n.d(t, "PointLight", (function() {
                return qu
            })), n.d(t, "PointLightHelper", (function() {
                return md
            })), n.d(t, "Points", (function() {
                return fc
            })), n.d(t, "PointsMaterial", (function() {
                return lc
            })), n.d(t, "PolarGridHelper", (function() {
                return wd
            })), n.d(t, "PolyhedronBufferGeometry", (function() {
                return Tc
            })), n.d(t, "PolyhedronGeometry", (function() {
                return Mc
            })), n.d(t, "PositionalAudio", (function() {
                return Ih
            })), n.d(t, "PropertyBinding", (function() {
                return qh
            })), n.d(t, "PropertyMixer", (function() {
                return kh
            })), n.d(t, "QuadraticBezierCurve", (function() {
                return Du
            })), n.d(t, "QuadraticBezierCurve3", (function() {
                return Iu
            })), n.d(t, "Quaternion", (function() {
                return In
            })), n.d(t, "QuaternionKeyframeTrack", (function() {
                return eu
            })), n.d(t, "QuaternionLinearInterpolant", (function() {
                return $l
            })), n.d(t, "REVISION", (function() {
                return i
            })), n.d(t, "RGBADepthPacking", (function() {
                return qt
            })), n.d(t, "RGBAFormat", (function() {
                return Ge
            })), n.d(t, "RGBAIntegerFormat", (function() {
                return tt
            })), n.d(t, "RGBA_ASTC_10x10_Format", (function() {
                return _t
            })), n.d(t, "RGBA_ASTC_10x5_Format", (function() {
                return bt
            })), n.d(t, "RGBA_ASTC_10x6_Format", (function() {
                return xt
            })), n.d(t, "RGBA_ASTC_10x8_Format", (function() {
                return wt
            })), n.d(t, "RGBA_ASTC_12x10_Format", (function() {
                return Mt
            })), n.d(t, "RGBA_ASTC_12x12_Format", (function() {
                return Tt
            })), n.d(t, "RGBA_ASTC_4x4_Format", (function() {
                return ht
            })), n.d(t, "RGBA_ASTC_5x4_Format", (function() {
                return dt
            })), n.d(t, "RGBA_ASTC_5x5_Format", (function() {
                return pt
            })), n.d(t, "RGBA_ASTC_6x5_Format", (function() {
                return ft
            })), n.d(t, "RGBA_ASTC_6x6_Format", (function() {
                return mt
            })), n.d(t, "RGBA_ASTC_8x5_Format", (function() {
                return vt
            })), n.d(t, "RGBA_ASTC_8x6_Format", (function() {
                return gt
            })), n.d(t, "RGBA_ASTC_8x8_Format", (function() {
                return yt
            })), n.d(t, "RGBA_PVRTC_2BPPV1_Format", (function() {
                return lt
            })), n.d(t, "RGBA_PVRTC_4BPPV1_Format", (function() {
                return ct
            })), n.d(t, "RGBA_S3TC_DXT1_Format", (function() {
                return it
            })), n.d(t, "RGBA_S3TC_DXT3_Format", (function() {
                return rt
            })), n.d(t, "RGBA_S3TC_DXT5_Format", (function() {
                return ot
            })), n.d(t, "RGBDEncoding", (function() {
                return Gt
            })), n.d(t, "RGBEEncoding", (function() {
                return Bt
            })), n.d(t, "RGBEFormat", (function() {
                return Ye
            })), n.d(t, "RGBFormat", (function() {
                return He
            })), n.d(t, "RGBIntegerFormat", (function() {
                return et
            })), n.d(t, "RGBM16Encoding", (function() {
                return Ht
            })), n.d(t, "RGBM7Encoding", (function() {
                return Vt
            })), n.d(t, "RGB_ETC1_Format", (function() {
                return ut
            })), n.d(t, "RGB_PVRTC_2BPPV1_Format", (function() {
                return st
            })), n.d(t, "RGB_PVRTC_4BPPV1_Format", (function() {
                return at
            })), n.d(t, "RGB_S3TC_DXT1_Format", (function() {
                return nt
            })), n.d(t, "RGFormat", (function() {
                return Qe
            })), n.d(t, "RGIntegerFormat", (function() {
                return $e
            })), n.d(t, "RawShaderMaterial", (function() {
                return Il
            })), n.d(t, "Ray", (function() {
                return ji
            })), n.d(t, "Raycaster", (function() {
                return Qh
            })), n.d(t, "RectAreaLight", (function() {
                return Ku
            })), n.d(t, "RedFormat", (function() {
                return Je
            })), n.d(t, "RedIntegerFormat", (function() {
                return Ke
            })), n.d(t, "ReinhardToneMapping", (function() {
                return oe
            })), n.d(t, "RepeatWrapping", (function() {
                return ge
            })), n.d(t, "ReplaceStencilOp", (function() {
                return Kt
            })), n.d(t, "ReverseSubtractEquation", (function() {
                return O
            })), n.d(t, "RingBufferGeometry", (function() {
                return bl
            })), n.d(t, "RingGeometry", (function() {
                return yl
            })), n.d(t, "Scene", (function() {
                return ui
            })), n.d(t, "SceneUtils", (function() {
                return ef
            })), n.d(t, "ShaderChunk", (function() {
                return xo
            })), n.d(t, "ShaderLib", (function() {
                return wo
            })), n.d(t, "ShaderMaterial", (function() {
                return oo
            })), n.d(t, "ShadowMaterial", (function() {
                return Dl
            })), n.d(t, "Shape", (function() {
                return zu
            })), n.d(t, "ShapeBufferGeometry", (function() {
                return Ml
            })), n.d(t, "ShapeGeometry", (function() {
                return _l
            })), n.d(t, "ShapePath", (function() {
                return uh
            })), n.d(t, "ShapeUtils", (function() {
                return sl
            })), n.d(t, "ShortType", (function() {
                return Oe
            })), n.d(t, "Skeleton", (function() {
                return Ws
            })), n.d(t, "SkeletonHelper", (function() {
                return fd
            })), n.d(t, "SkinnedMesh", (function() {
                return Vs
            })), n.d(t, "SmoothShading", (function() {
                return x
            })), n.d(t, "Sphere", (function() {
                return Ai
            })), n.d(t, "SphereBufferGeometry", (function() {
                return gl
            })), n.d(t, "SphereGeometry", (function() {
                return vl
            })), n.d(t, "Spherical", (function() {
                return td
            })), n.d(t, "SphericalHarmonics3", (function() {
                return vh
            })), n.d(t, "SphericalReflectionMapping", (function() {
                return fe
            })), n.d(t, "Spline", (function() {
                return Hp
            })), n.d(t, "SplineCurve", (function() {
                return ju
            })), n.d(t, "SplineCurve3", (function() {
                return Vp
            })), n.d(t, "SpotLight", (function() {
                return Gu
            })), n.d(t, "SpotLightHelper", (function() {
                return ud
            })), n.d(t, "SpotLightShadow", (function() {
                return Hu
            })), n.d(t, "Sprite", (function() {
                return Fs
            })), n.d(t, "SpriteMaterial", (function() {
                return Ts
            })), n.d(t, "SrcAlphaFactor", (function() {
                return z
            })), n.d(t, "SrcAlphaSaturateFactor", (function() {
                return W
            })), n.d(t, "SrcColorFactor", (function() {
                return F
            })), n.d(t, "StaticCopyUsage", (function() {
                return yn
            })), n.d(t, "StaticDrawUsage", (function() {
                return dn
            })), n.d(t, "StaticReadUsage", (function() {
                return mn
            })), n.d(t, "StereoCamera", (function() {
                return _h
            })), n.d(t, "StreamCopyUsage", (function() {
                return xn
            })), n.d(t, "StreamDrawUsage", (function() {
                return fn
            })), n.d(t, "StreamReadUsage", (function() {
                return gn
            })), n.d(t, "StringKeyframeTrack", (function() {
                return tu
            })), n.d(t, "SubtractEquation", (function() {
                return R
            })), n.d(t, "SubtractiveBlending", (function() {
                return A
            })), n.d(t, "TOUCH", (function() {
                return o
            })), n.d(t, "TangentSpaceNormalMap", (function() {
                return Yt
            })), n.d(t, "TetrahedronBufferGeometry", (function() {
                return Ec
            })), n.d(t, "TetrahedronGeometry", (function() {
                return Sc
            })), n.d(t, "TextBufferGeometry", (function() {
                return ml
            })), n.d(t, "TextGeometry", (function() {
                return fl
            })), n.d(t, "Texture", (function() {
                return Cn
            })), n.d(t, "TextureLoader", (function() {
                return vu
            })), n.d(t, "TorusBufferGeometry", (function() {
                return Nc
            })), n.d(t, "TorusGeometry", (function() {
                return Fc
            })), n.d(t, "TorusKnotBufferGeometry", (function() {
                return kc
            })), n.d(t, "TorusKnotGeometry", (function() {
                return jc
            })), n.d(t, "Triangle", (function() {
                return Ji
            })), n.d(t, "TriangleFanDrawMode", (function() {
                return kt
            })), n.d(t, "TriangleStripDrawMode", (function() {
                return jt
            })), n.d(t, "TrianglesDrawMode", (function() {
                return It
            })), n.d(t, "TubeBufferGeometry", (function() {
                return Ic
            })), n.d(t, "TubeGeometry", (function() {
                return Dc
            })), n.d(t, "UVMapping", (function() {
                return le
            })), n.d(t, "Uint16Attribute", (function() {
                return kp
            })), n.d(t, "Uint16BufferAttribute", (function() {
                return fr
            })), n.d(t, "Uint32Attribute", (function() {
                return Np
            })), n.d(t, "Uint32BufferAttribute", (function() {
                return vr
            })), n.d(t, "Uint8Attribute", (function() {
                return Dp
            })), n.d(t, "Uint8BufferAttribute", (function() {
                return hr
            })), n.d(t, "Uint8ClampedAttribute", (function() {
                return Ip
            })), n.d(t, "Uint8ClampedBufferAttribute", (function() {
                return dr
            })), n.d(t, "Uncharted2ToneMapping", (function() {
                return ae
            })), n.d(t, "Uniform", (function() {
                return Jh
            })), n.d(t, "UniformsLib", (function() {
                return mo
            })), n.d(t, "UniformsUtils", (function() {
                return ro
            })), n.d(t, "UnsignedByteType", (function() {
                return Ce
            })), n.d(t, "UnsignedInt248Type", (function() {
                return Ue
            })), n.d(t, "UnsignedIntType", (function() {
                return je
            })), n.d(t, "UnsignedShort4444Type", (function() {
                return Ne
            })), n.d(t, "UnsignedShort5551Type", (function() {
                return ze
            })), n.d(t, "UnsignedShort565Type", (function() {
                return Be
            })), n.d(t, "UnsignedShortType", (function() {
                return De
            })), n.d(t, "VSMShadowMap", (function() {
                return m
            })), n.d(t, "Vector2", (function() {
                return En
            })), n.d(t, "Vector3", (function() {
                return Fn
            })), n.d(t, "Vector4", (function() {
                return Rn
            })), n.d(t, "VectorKeyframeTrack", (function() {
                return nu
            })), n.d(t, "Vertex", (function() {
                return Cp
            })), n.d(t, "VertexColors", (function() {
                return M
            })), n.d(t, "VideoTexture", (function() {
                return vc
            })), n.d(t, "WebGLCubeRenderTarget", (function() {
                return lo
            })), n.d(t, "WebGLMultisampleRenderTarget", (function() {
                return Dn
            })), n.d(t, "WebGLRenderTarget", (function() {
                return On
            })), n.d(t, "WebGLRenderTargetCube", (function() {
                return Jp
            })), n.d(t, "WebGLRenderer", (function() {
                return gs
            })), n.d(t, "WebGLUtils", (function() {
                return hs
            })), n.d(t, "WireframeGeometry", (function() {
                return xc
            })), n.d(t, "WireframeHelper", (function() {
                return Yp
            })), n.d(t, "WrapAroundEnding", (function() {
                return Dt
            })), n.d(t, "XHRLoader", (function() {
                return Xp
            })), n.d(t, "ZeroCurvatureEnding", (function() {
                return Rt
            })), n.d(t, "ZeroFactor", (function() {
                return j
            })), n.d(t, "ZeroSlopeEnding", (function() {
                return Ot
            })), n.d(t, "ZeroStencilOp", (function() {
                return Zt
            })), n.d(t, "sRGBEncoding", (function() {
                return Nt
            })), void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)), void 0 === Number.isInteger && (Number.isInteger = function(e) {
                return "number" == typeof e && isFinite(e) && Math.floor(e) === e
            }), void 0 === Math.sign && (Math.sign = function(e) {
                return e < 0 ? -1 : e > 0 ? 1 : +e
            }), "name" in Function.prototype == !1 && Object.defineProperty(Function.prototype, "name", {
                get: function() {
                    return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]
                }
            }), void 0 === Object.assign && (Object.assign = function(e) {
                if (null == e) throw new TypeError("Cannot convert undefined or null to object");
                for (var t = Object(e), n = 1; n < arguments.length; n++) {
                    var i = arguments[n];
                    if (null != i)
                        for (var r in i) Object.prototype.hasOwnProperty.call(i, r) && (t[r] = i[r])
                }
                return t
            });
            var i = "113",
                r = {
                    LEFT: 0,
                    MIDDLE: 1,
                    RIGHT: 2,
                    ROTATE: 0,
                    DOLLY: 1,
                    PAN: 2
                },
                o = {
                    ROTATE: 0,
                    PAN: 1,
                    DOLLY_PAN: 2,
                    DOLLY_ROTATE: 3
                },
                a = 0,
                s = 1,
                c = 2,
                l = 3,
                u = 0,
                h = 1,
                d = 0,
                p = 1,
                f = 2,
                m = 3,
                v = 0,
                g = 1,
                y = 2,
                b = 1,
                x = 2,
                w = 0,
                _ = 1,
                M = 2,
                T = 0,
                S = 1,
                E = 2,
                A = 3,
                P = 4,
                L = 5,
                C = 100,
                R = 101,
                O = 102,
                D = 103,
                I = 104,
                j = 200,
                k = 201,
                F = 202,
                N = 203,
                z = 204,
                B = 205,
                U = 206,
                V = 207,
                H = 208,
                G = 209,
                W = 210,
                q = 0,
                Y = 1,
                X = 2,
                Z = 3,
                J = 4,
                K = 5,
                Q = 6,
                $ = 7,
                ee = 0,
                te = 1,
                ne = 2,
                ie = 0,
                re = 1,
                oe = 2,
                ae = 3,
                se = 4,
                ce = 5,
                le = 300,
                ue = 301,
                he = 302,
                de = 303,
                pe = 304,
                fe = 305,
                me = 306,
                ve = 307,
                ge = 1e3,
                ye = 1001,
                be = 1002,
                xe = 1003,
                we = 1004,
                _e = 1004,
                Me = 1005,
                Te = 1005,
                Se = 1006,
                Ee = 1007,
                Ae = 1007,
                Pe = 1008,
                Le = 1008,
                Ce = 1009,
                Re = 1010,
                Oe = 1011,
                De = 1012,
                Ie = 1013,
                je = 1014,
                ke = 1015,
                Fe = 1016,
                Ne = 1017,
                ze = 1018,
                Be = 1019,
                Ue = 1020,
                Ve = 1021,
                He = 1022,
                Ge = 1023,
                We = 1024,
                qe = 1025,
                Ye = Ge,
                Xe = 1026,
                Ze = 1027,
                Je = 1028,
                Ke = 1029,
                Qe = 1030,
                $e = 1031,
                et = 1032,
                tt = 1033,
                nt = 33776,
                it = 33777,
                rt = 33778,
                ot = 33779,
                at = 35840,
                st = 35841,
                ct = 35842,
                lt = 35843,
                ut = 36196,
                ht = 37808,
                dt = 37809,
                pt = 37810,
                ft = 37811,
                mt = 37812,
                vt = 37813,
                gt = 37814,
                yt = 37815,
                bt = 37816,
                xt = 37817,
                wt = 37818,
                _t = 37819,
                Mt = 37820,
                Tt = 37821,
                St = 2200,
                Et = 2201,
                At = 2202,
                Pt = 2300,
                Lt = 2301,
                Ct = 2302,
                Rt = 2400,
                Ot = 2401,
                Dt = 2402,
                It = 0,
                jt = 1,
                kt = 2,
                Ft = 3e3,
                Nt = 3001,
                zt = 3007,
                Bt = 3002,
                Ut = 3003,
                Vt = 3004,
                Ht = 3005,
                Gt = 3006,
                Wt = 3200,
                qt = 3201,
                Yt = 0,
                Xt = 1,
                Zt = 0,
                Jt = 7680,
                Kt = 7681,
                Qt = 7682,
                $t = 7683,
                en = 34055,
                tn = 34056,
                nn = 5386,
                rn = 512,
                on = 513,
                an = 514,
                sn = 515,
                cn = 516,
                ln = 517,
                un = 518,
                hn = 519,
                dn = 35044,
                pn = 35048,
                fn = 35040,
                mn = 35045,
                vn = 35049,
                gn = 35041,
                yn = 35046,
                bn = 35050,
                xn = 35042;

            function wn() {}
            Object.assign(wn.prototype, {
                addEventListener: function(e, t) {
                    void 0 === this._listeners && (this._listeners = {});
                    var n = this._listeners;
                    void 0 === n[e] && (n[e] = []), -1 === n[e].indexOf(t) && n[e].push(t)
                },
                hasEventListener: function(e, t) {
                    if (void 0 === this._listeners) return !1;
                    var n = this._listeners;
                    return void 0 !== n[e] && -1 !== n[e].indexOf(t)
                },
                removeEventListener: function(e, t) {
                    if (void 0 !== this._listeners) {
                        var n = this._listeners[e];
                        if (void 0 !== n) {
                            var i = n.indexOf(t); - 1 !== i && n.splice(i, 1)
                        }
                    }
                },
                dispatchEvent: function(e) {
                    if (void 0 !== this._listeners) {
                        var t = this._listeners[e.type];
                        if (void 0 !== t) {
                            e.target = this;
                            for (var n = t.slice(0), i = 0, r = n.length; i < r; i++) n[i].call(this, e)
                        }
                    }
                }
            });
            for (var _n = [], Mn = 0; Mn < 256; Mn++) _n[Mn] = (Mn < 16 ? "0" : "") + Mn.toString(16);
            var Tn, Sn = {
                DEG2RAD: Math.PI / 180,
                RAD2DEG: 180 / Math.PI,
                generateUUID: function() {
                    var e = 4294967295 * Math.random() | 0,
                        t = 4294967295 * Math.random() | 0,
                        n = 4294967295 * Math.random() | 0,
                        i = 4294967295 * Math.random() | 0;
                    return (_n[255 & e] + _n[e >> 8 & 255] + _n[e >> 16 & 255] + _n[e >> 24 & 255] + "-" + _n[255 & t] + _n[t >> 8 & 255] + "-" + _n[t >> 16 & 15 | 64] + _n[t >> 24 & 255] + "-" + _n[63 & n | 128] + _n[n >> 8 & 255] + "-" + _n[n >> 16 & 255] + _n[n >> 24 & 255] + _n[255 & i] + _n[i >> 8 & 255] + _n[i >> 16 & 255] + _n[i >> 24 & 255]).toUpperCase()
                },
                clamp: function(e, t, n) {
                    return Math.max(t, Math.min(n, e))
                },
                euclideanModulo: function(e, t) {
                    return (e % t + t) % t
                },
                mapLinear: function(e, t, n, i, r) {
                    return i + (e - t) * (r - i) / (n - t)
                },
                lerp: function(e, t, n) {
                    return (1 - n) * e + n * t
                },
                smoothstep: function(e, t, n) {
                    return e <= t ? 0 : e >= n ? 1 : (e = (e - t) / (n - t)) * e * (3 - 2 * e)
                },
                smootherstep: function(e, t, n) {
                    return e <= t ? 0 : e >= n ? 1 : (e = (e - t) / (n - t)) * e * e * (e * (6 * e - 15) + 10)
                },
                randInt: function(e, t) {
                    return e + Math.floor(Math.random() * (t - e + 1))
                },
                randFloat: function(e, t) {
                    return e + Math.random() * (t - e)
                },
                randFloatSpread: function(e) {
                    return e * (.5 - Math.random())
                },
                degToRad: function(e) {
                    return e * Sn.DEG2RAD
                },
                radToDeg: function(e) {
                    return e * Sn.RAD2DEG
                },
                isPowerOfTwo: function(e) {
                    return 0 == (e & e - 1) && 0 !== e
                },
                ceilPowerOfTwo: function(e) {
                    return Math.pow(2, Math.ceil(Math.log(e) / Math.LN2))
                },
                floorPowerOfTwo: function(e) {
                    return Math.pow(2, Math.floor(Math.log(e) / Math.LN2))
                },
                setQuaternionFromProperEuler: function(e, t, n, i, r) {
                    var o = Math.cos,
                        a = Math.sin,
                        s = o(n / 2),
                        c = a(n / 2),
                        l = o((t + i) / 2),
                        u = a((t + i) / 2),
                        h = o((t - i) / 2),
                        d = a((t - i) / 2),
                        p = o((i - t) / 2),
                        f = a((i - t) / 2);
                    "XYX" === r ? e.set(s * u, c * h, c * d, s * l) : "YZY" === r ? e.set(c * d, s * u, c * h, s * l) : "ZXZ" === r ? e.set(c * h, c * d, s * u, s * l) : "XZX" === r ? e.set(s * u, c * f, c * p, s * l) : "YXY" === r ? e.set(c * p, s * u, c * f, s * l) : "ZYZ" === r ? e.set(c * f, c * p, s * u, s * l) : console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")
                }
            };

            function En(e, t) {
                this.x = e || 0, this.y = t || 0
            }

            function An() {
                this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1], arguments.length > 0 && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")
            }
            Object.defineProperties(En.prototype, {
                width: {
                    get: function() {
                        return this.x
                    },
                    set: function(e) {
                        this.x = e
                    }
                },
                height: {
                    get: function() {
                        return this.y
                    },
                    set: function(e) {
                        this.y = e
                    }
                }
            }), Object.assign(En.prototype, {
                isVector2: !0,
                set: function(e, t) {
                    return this.x = e, this.y = t, this
                },
                setScalar: function(e) {
                    return this.x = e, this.y = e, this
                },
                setX: function(e) {
                    return this.x = e, this
                },
                setY: function(e) {
                    return this.y = e, this
                },
                setComponent: function(e, t) {
                    switch (e) {
                        case 0:
                            this.x = t;
                            break;
                        case 1:
                            this.y = t;
                            break;
                        default:
                            throw new Error("index is out of range: " + e)
                    }
                    return this
                },
                getComponent: function(e) {
                    switch (e) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        default:
                            throw new Error("index is out of range: " + e)
                    }
                },
                clone: function() {
                    return new this.constructor(this.x, this.y)
                },
                copy: function(e) {
                    return this.x = e.x, this.y = e.y, this
                },
                add: function(e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(e, t)) : (this.x += e.x, this.y += e.y, this)
                },
                addScalar: function(e) {
                    return this.x += e, this.y += e, this
                },
                addVectors: function(e, t) {
                    return this.x = e.x + t.x, this.y = e.y + t.y, this
                },
                addScaledVector: function(e, t) {
                    return this.x += e.x * t, this.y += e.y * t, this
                },
                sub: function(e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(e, t)) : (this.x -= e.x, this.y -= e.y, this)
                },
                subScalar: function(e) {
                    return this.x -= e, this.y -= e, this
                },
                subVectors: function(e, t) {
                    return this.x = e.x - t.x, this.y = e.y - t.y, this
                },
                multiply: function(e) {
                    return this.x *= e.x, this.y *= e.y, this
                },
                multiplyScalar: function(e) {
                    return this.x *= e, this.y *= e, this
                },
                divide: function(e) {
                    return this.x /= e.x, this.y /= e.y, this
                },
                divideScalar: function(e) {
                    return this.multiplyScalar(1 / e)
                },
                applyMatrix3: function(e) {
                    var t = this.x,
                        n = this.y,
                        i = e.elements;
                    return this.x = i[0] * t + i[3] * n + i[6], this.y = i[1] * t + i[4] * n + i[7], this
                },
                min: function(e) {
                    return this.x = Math.min(this.x, e.x), this.y = Math.min(this.y, e.y), this
                },
                max: function(e) {
                    return this.x = Math.max(this.x, e.x), this.y = Math.max(this.y, e.y), this
                },
                clamp: function(e, t) {
                    return this.x = Math.max(e.x, Math.min(t.x, this.x)), this.y = Math.max(e.y, Math.min(t.y, this.y)), this
                },
                clampScalar: function(e, t) {
                    return this.x = Math.max(e, Math.min(t, this.x)), this.y = Math.max(e, Math.min(t, this.y)), this
                },
                clampLength: function(e, t) {
                    var n = this.length();
                    return this.divideScalar(n || 1).multiplyScalar(Math.max(e, Math.min(t, n)))
                },
                floor: function() {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
                },
                ceil: function() {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this
                },
                round: function() {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this
                },
                roundToZero: function() {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this
                },
                negate: function() {
                    return this.x = -this.x, this.y = -this.y, this
                },
                dot: function(e) {
                    return this.x * e.x + this.y * e.y
                },
                cross: function(e) {
                    return this.x * e.y - this.y * e.x
                },
                lengthSq: function() {
                    return this.x * this.x + this.y * this.y
                },
                length: function() {
                    return Math.sqrt(this.x * this.x + this.y * this.y)
                },
                manhattanLength: function() {
                    return Math.abs(this.x) + Math.abs(this.y)
                },
                normalize: function() {
                    return this.divideScalar(this.length() || 1)
                },
                angle: function() {
                    var e = Math.atan2(this.y, this.x);
                    return e < 0 && (e += 2 * Math.PI), e
                },
                distanceTo: function(e) {
                    return Math.sqrt(this.distanceToSquared(e))
                },
                distanceToSquared: function(e) {
                    var t = this.x - e.x,
                        n = this.y - e.y;
                    return t * t + n * n
                },
                manhattanDistanceTo: function(e) {
                    return Math.abs(this.x - e.x) + Math.abs(this.y - e.y)
                },
                setLength: function(e) {
                    return this.normalize().multiplyScalar(e)
                },
                lerp: function(e, t) {
                    return this.x += (e.x - this.x) * t, this.y += (e.y - this.y) * t, this
                },
                lerpVectors: function(e, t, n) {
                    return this.subVectors(t, e).multiplyScalar(n).add(e)
                },
                equals: function(e) {
                    return e.x === this.x && e.y === this.y
                },
                fromArray: function(e, t) {
                    return void 0 === t && (t = 0), this.x = e[t], this.y = e[t + 1], this
                },
                toArray: function(e, t) {
                    return void 0 === e && (e = []), void 0 === t && (t = 0), e[t] = this.x, e[t + 1] = this.y, e
                },
                fromBufferAttribute: function(e, t, n) {
                    return void 0 !== n && console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."), this.x = e.getX(t), this.y = e.getY(t), this
                },
                rotateAround: function(e, t) {
                    var n = Math.cos(t),
                        i = Math.sin(t),
                        r = this.x - e.x,
                        o = this.y - e.y;
                    return this.x = r * n - o * i + e.x, this.y = r * i + o * n + e.y, this
                }
            }), Object.assign(An.prototype, {
                isMatrix3: !0,
                set: function(e, t, n, i, r, o, a, s, c) {
                    var l = this.elements;
                    return l[0] = e, l[1] = i, l[2] = a, l[3] = t, l[4] = r, l[5] = s, l[6] = n, l[7] = o, l[8] = c, this
                },
                identity: function() {
                    return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this
                },
                clone: function() {
                    return (new this.constructor).fromArray(this.elements)
                },
                copy: function(e) {
                    var t = this.elements,
                        n = e.elements;
                    return t[0] = n[0], t[1] = n[1], t[2] = n[2], t[3] = n[3], t[4] = n[4], t[5] = n[5], t[6] = n[6], t[7] = n[7], t[8] = n[8], this
                },
                setFromMatrix4: function(e) {
                    var t = e.elements;
                    return this.set(t[0], t[4], t[8], t[1], t[5], t[9], t[2], t[6], t[10]), this
                },
                multiply: function(e) {
                    return this.multiplyMatrices(this, e)
                },
                premultiply: function(e) {
                    return this.multiplyMatrices(e, this)
                },
                multiplyMatrices: function(e, t) {
                    var n = e.elements,
                        i = t.elements,
                        r = this.elements,
                        o = n[0],
                        a = n[3],
                        s = n[6],
                        c = n[1],
                        l = n[4],
                        u = n[7],
                        h = n[2],
                        d = n[5],
                        p = n[8],
                        f = i[0],
                        m = i[3],
                        v = i[6],
                        g = i[1],
                        y = i[4],
                        b = i[7],
                        x = i[2],
                        w = i[5],
                        _ = i[8];
                    return r[0] = o * f + a * g + s * x, r[3] = o * m + a * y + s * w, r[6] = o * v + a * b + s * _, r[1] = c * f + l * g + u * x, r[4] = c * m + l * y + u * w, r[7] = c * v + l * b + u * _, r[2] = h * f + d * g + p * x, r[5] = h * m + d * y + p * w, r[8] = h * v + d * b + p * _, this
                },
                multiplyScalar: function(e) {
                    var t = this.elements;
                    return t[0] *= e, t[3] *= e, t[6] *= e, t[1] *= e, t[4] *= e, t[7] *= e, t[2] *= e, t[5] *= e, t[8] *= e, this
                },
                determinant: function() {
                    var e = this.elements,
                        t = e[0],
                        n = e[1],
                        i = e[2],
                        r = e[3],
                        o = e[4],
                        a = e[5],
                        s = e[6],
                        c = e[7],
                        l = e[8];
                    return t * o * l - t * a * c - n * r * l + n * a * s + i * r * c - i * o * s
                },
                getInverse: function(e, t) {
                    e && e.isMatrix4 && console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");
                    var n = e.elements,
                        i = this.elements,
                        r = n[0],
                        o = n[1],
                        a = n[2],
                        s = n[3],
                        c = n[4],
                        l = n[5],
                        u = n[6],
                        h = n[7],
                        d = n[8],
                        p = d * c - l * h,
                        f = l * u - d * s,
                        m = h * s - c * u,
                        v = r * p + o * f + a * m;
                    if (0 === v) {
                        var g = "THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";
                        if (!0 === t) throw new Error(g);
                        return console.warn(g), this.identity()
                    }
                    var y = 1 / v;
                    return i[0] = p * y, i[1] = (a * h - d * o) * y, i[2] = (l * o - a * c) * y, i[3] = f * y, i[4] = (d * r - a * u) * y, i[5] = (a * s - l * r) * y, i[6] = m * y, i[7] = (o * u - h * r) * y, i[8] = (c * r - o * s) * y, this
                },
                transpose: function() {
                    var e, t = this.elements;
                    return e = t[1], t[1] = t[3], t[3] = e, e = t[2], t[2] = t[6], t[6] = e, e = t[5], t[5] = t[7], t[7] = e, this
                },
                getNormalMatrix: function(e) {
                    return this.setFromMatrix4(e).getInverse(this).transpose()
                },
                transposeIntoArray: function(e) {
                    var t = this.elements;
                    return e[0] = t[0], e[1] = t[3], e[2] = t[6], e[3] = t[1], e[4] = t[4], e[5] = t[7], e[6] = t[2], e[7] = t[5], e[8] = t[8], this
                },
                setUvTransform: function(e, t, n, i, r, o, a) {
                    var s = Math.cos(r),
                        c = Math.sin(r);
                    this.set(n * s, n * c, -n * (s * o + c * a) + o + e, -i * c, i * s, -i * (-c * o + s * a) + a + t, 0, 0, 1)
                },
                scale: function(e, t) {
                    var n = this.elements;
                    return n[0] *= e, n[3] *= e, n[6] *= e, n[1] *= t, n[4] *= t, n[7] *= t, this
                },
                rotate: function(e) {
                    var t = Math.cos(e),
                        n = Math.sin(e),
                        i = this.elements,
                        r = i[0],
                        o = i[3],
                        a = i[6],
                        s = i[1],
                        c = i[4],
                        l = i[7];
                    return i[0] = t * r + n * s, i[3] = t * o + n * c, i[6] = t * a + n * l, i[1] = -n * r + t * s, i[4] = -n * o + t * c, i[7] = -n * a + t * l, this
                },
                translate: function(e, t) {
                    var n = this.elements;
                    return n[0] += e * n[2], n[3] += e * n[5], n[6] += e * n[8], n[1] += t * n[2], n[4] += t * n[5], n[7] += t * n[8], this
                },
                equals: function(e) {
                    for (var t = this.elements, n = e.elements, i = 0; i < 9; i++)
                        if (t[i] !== n[i]) return !1;
                    return !0
                },
                fromArray: function(e, t) {
                    void 0 === t && (t = 0);
                    for (var n = 0; n < 9; n++) this.elements[n] = e[n + t];
                    return this
                },
                toArray: function(e, t) {
                    void 0 === e && (e = []), void 0 === t && (t = 0);
                    var n = this.elements;
                    return e[t] = n[0], e[t + 1] = n[1], e[t + 2] = n[2], e[t + 3] = n[3], e[t + 4] = n[4], e[t + 5] = n[5], e[t + 6] = n[6], e[t + 7] = n[7], e[t + 8] = n[8], e
                }
            });
            var Pn = {
                    getDataURL: function(e) {
                        var t;
                        if ("undefined" == typeof HTMLCanvasElement) return e.src;
                        if (e instanceof HTMLCanvasElement) t = e;
                        else {
                            void 0 === Tn && (Tn = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")), Tn.width = e.width, Tn.height = e.height;
                            var n = Tn.getContext("2d");
                            e instanceof ImageData ? n.putImageData(e, 0, 0) : n.drawImage(e, 0, 0, e.width, e.height), t = Tn
                        }
                        return t.width > 2048 || t.height > 2048 ? t.toDataURL("image/jpeg", .6) : t.toDataURL("image/png")
                    }
                },
                Ln = 0;

            function Cn(e, t, n, i, r, o, a, s, c, l) {
                Object.defineProperty(this, "id", {
                    value: Ln++
                }), this.uuid = Sn.generateUUID(), this.name = "", this.image = void 0 !== e ? e : Cn.DEFAULT_IMAGE, this.mipmaps = [], this.mapping = void 0 !== t ? t : Cn.DEFAULT_MAPPING, this.wrapS = void 0 !== n ? n : ye, this.wrapT = void 0 !== i ? i : ye, this.magFilter = void 0 !== r ? r : Se, this.minFilter = void 0 !== o ? o : Pe, this.anisotropy = void 0 !== c ? c : 1, this.format = void 0 !== a ? a : Ge, this.internalFormat = null, this.type = void 0 !== s ? s : Ce, this.offset = new En(0, 0), this.repeat = new En(1, 1), this.center = new En(0, 0), this.rotation = 0, this.matrixAutoUpdate = !0, this.matrix = new An, this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.encoding = void 0 !== l ? l : Ft, this.version = 0, this.onUpdate = null
            }

            function Rn(e, t, n, i) {
                this.x = e || 0, this.y = t || 0, this.z = n || 0, this.w = void 0 !== i ? i : 1
            }

            function On(e, t, n) {
                this.width = e, this.height = t, this.scissor = new Rn(0, 0, e, t), this.scissorTest = !1, this.viewport = new Rn(0, 0, e, t), n = n || {}, this.texture = new Cn(void 0, n.mapping, n.wrapS, n.wrapT, n.magFilter, n.minFilter, n.format, n.type, n.anisotropy, n.encoding), this.texture.image = {}, this.texture.image.width = e, this.texture.image.height = t, this.texture.generateMipmaps = void 0 !== n.generateMipmaps && n.generateMipmaps, this.texture.minFilter = void 0 !== n.minFilter ? n.minFilter : Se, this.depthBuffer = void 0 === n.depthBuffer || n.depthBuffer, this.stencilBuffer = void 0 === n.stencilBuffer || n.stencilBuffer, this.depthTexture = void 0 !== n.depthTexture ? n.depthTexture : null
            }

            function Dn(e, t, n) {
                On.call(this, e, t, n), this.samples = 4
            }

            function In(e, t, n, i) {
                this._x = e || 0, this._y = t || 0, this._z = n || 0, this._w = void 0 !== i ? i : 1
            }
            Cn.DEFAULT_IMAGE = void 0, Cn.DEFAULT_MAPPING = le, Cn.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: Cn,
                isTexture: !0,
                updateMatrix: function() {
                    this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y)
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    return this.name = e.name, this.image = e.image, this.mipmaps = e.mipmaps.slice(0), this.mapping = e.mapping, this.wrapS = e.wrapS, this.wrapT = e.wrapT, this.magFilter = e.magFilter, this.minFilter = e.minFilter, this.anisotropy = e.anisotropy, this.format = e.format, this.internalFormat = e.internalFormat, this.type = e.type, this.offset.copy(e.offset), this.repeat.copy(e.repeat), this.center.copy(e.center), this.rotation = e.rotation, this.matrixAutoUpdate = e.matrixAutoUpdate, this.matrix.copy(e.matrix), this.generateMipmaps = e.generateMipmaps, this.premultiplyAlpha = e.premultiplyAlpha, this.flipY = e.flipY, this.unpackAlignment = e.unpackAlignment, this.encoding = e.encoding, this
                },
                toJSON: function(e) {
                    var t = void 0 === e || "string" == typeof e;
                    if (!t && void 0 !== e.textures[this.uuid]) return e.textures[this.uuid];
                    var n = {
                        metadata: {
                            version: 4.5,
                            type: "Texture",
                            generator: "Texture.toJSON"
                        },
                        uuid: this.uuid,
                        name: this.name,
                        mapping: this.mapping,
                        repeat: [this.repeat.x, this.repeat.y],
                        offset: [this.offset.x, this.offset.y],
                        center: [this.center.x, this.center.y],
                        rotation: this.rotation,
                        wrap: [this.wrapS, this.wrapT],
                        format: this.format,
                        type: this.type,
                        encoding: this.encoding,
                        minFilter: this.minFilter,
                        magFilter: this.magFilter,
                        anisotropy: this.anisotropy,
                        flipY: this.flipY,
                        premultiplyAlpha: this.premultiplyAlpha,
                        unpackAlignment: this.unpackAlignment
                    };
                    if (void 0 !== this.image) {
                        var i = this.image;
                        if (void 0 === i.uuid && (i.uuid = Sn.generateUUID()), !t && void 0 === e.images[i.uuid]) {
                            var r;
                            if (Array.isArray(i)) {
                                r = [];
                                for (var o = 0, a = i.length; o < a; o++) r.push(Pn.getDataURL(i[o]))
                            } else r = Pn.getDataURL(i);
                            e.images[i.uuid] = {
                                uuid: i.uuid,
                                url: r
                            }
                        }
                        n.image = i.uuid
                    }
                    return t || (e.textures[this.uuid] = n), n
                },
                dispose: function() {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                },
                transformUv: function(e) {
                    if (this.mapping !== le) return e;
                    if (e.applyMatrix3(this.matrix), e.x < 0 || e.x > 1) switch (this.wrapS) {
                        case ge:
                            e.x = e.x - Math.floor(e.x);
                            break;
                        case ye:
                            e.x = e.x < 0 ? 0 : 1;
                            break;
                        case be:
                            1 === Math.abs(Math.floor(e.x) % 2) ? e.x = Math.ceil(e.x) - e.x : e.x = e.x - Math.floor(e.x)
                    }
                    if (e.y < 0 || e.y > 1) switch (this.wrapT) {
                        case ge:
                            e.y = e.y - Math.floor(e.y);
                            break;
                        case ye:
                            e.y = e.y < 0 ? 0 : 1;
                            break;
                        case be:
                            1 === Math.abs(Math.floor(e.y) % 2) ? e.y = Math.ceil(e.y) - e.y : e.y = e.y - Math.floor(e.y)
                    }
                    return this.flipY && (e.y = 1 - e.y), e
                }
            }), Object.defineProperty(Cn.prototype, "needsUpdate", {
                set: function(e) {
                    !0 === e && this.version++
                }
            }), Object.defineProperties(Rn.prototype, {
                width: {
                    get: function() {
                        return this.z
                    },
                    set: function(e) {
                        this.z = e
                    }
                },
                height: {
                    get: function() {
                        return this.w
                    },
                    set: function(e) {
                        this.w = e
                    }
                }
            }), Object.assign(Rn.prototype, {
                isVector4: !0,
                set: function(e, t, n, i) {
                    return this.x = e, this.y = t, this.z = n, this.w = i, this
                },
                setScalar: function(e) {
                    return this.x = e, this.y = e, this.z = e, this.w = e, this
                },
                setX: function(e) {
                    return this.x = e, this
                },
                setY: function(e) {
                    return this.y = e, this
                },
                setZ: function(e) {
                    return this.z = e, this
                },
                setW: function(e) {
                    return this.w = e, this
                },
                setComponent: function(e, t) {
                    switch (e) {
                        case 0:
                            this.x = t;
                            break;
                        case 1:
                            this.y = t;
                            break;
                        case 2:
                            this.z = t;
                            break;
                        case 3:
                            this.w = t;
                            break;
                        default:
                            throw new Error("index is out of range: " + e)
                    }
                    return this
                },
                getComponent: function(e) {
                    switch (e) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        case 2:
                            return this.z;
                        case 3:
                            return this.w;
                        default:
                            throw new Error("index is out of range: " + e)
                    }
                },
                clone: function() {
                    return new this.constructor(this.x, this.y, this.z, this.w)
                },
                copy: function(e) {
                    return this.x = e.x, this.y = e.y, this.z = e.z, this.w = void 0 !== e.w ? e.w : 1, this
                },
                add: function(e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(e, t)) : (this.x += e.x, this.y += e.y, this.z += e.z, this.w += e.w, this)
                },
                addScalar: function(e) {
                    return this.x += e, this.y += e, this.z += e, this.w += e, this
                },
                addVectors: function(e, t) {
                    return this.x = e.x + t.x, this.y = e.y + t.y, this.z = e.z + t.z, this.w = e.w + t.w, this
                },
                addScaledVector: function(e, t) {
                    return this.x += e.x * t, this.y += e.y * t, this.z += e.z * t, this.w += e.w * t, this
                },
                sub: function(e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(e, t)) : (this.x -= e.x, this.y -= e.y, this.z -= e.z, this.w -= e.w, this)
                },
                subScalar: function(e) {
                    return this.x -= e, this.y -= e, this.z -= e, this.w -= e, this
                },
                subVectors: function(e, t) {
                    return this.x = e.x - t.x, this.y = e.y - t.y, this.z = e.z - t.z, this.w = e.w - t.w, this
                },
                multiplyScalar: function(e) {
                    return this.x *= e, this.y *= e, this.z *= e, this.w *= e, this
                },
                applyMatrix4: function(e) {
                    var t = this.x,
                        n = this.y,
                        i = this.z,
                        r = this.w,
                        o = e.elements;
                    return this.x = o[0] * t + o[4] * n + o[8] * i + o[12] * r, this.y = o[1] * t + o[5] * n + o[9] * i + o[13] * r, this.z = o[2] * t + o[6] * n + o[10] * i + o[14] * r, this.w = o[3] * t + o[7] * n + o[11] * i + o[15] * r, this
                },
                divideScalar: function(e) {
                    return this.multiplyScalar(1 / e)
                },
                setAxisAngleFromQuaternion: function(e) {
                    this.w = 2 * Math.acos(e.w);
                    var t = Math.sqrt(1 - e.w * e.w);
                    return t < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = e.x / t, this.y = e.y / t, this.z = e.z / t), this
                },
                setAxisAngleFromRotationMatrix: function(e) {
                    var t, n, i, r, o = e.elements,
                        a = o[0],
                        s = o[4],
                        c = o[8],
                        l = o[1],
                        u = o[5],
                        h = o[9],
                        d = o[2],
                        p = o[6],
                        f = o[10];
                    if (Math.abs(s - l) < .01 && Math.abs(c - d) < .01 && Math.abs(h - p) < .01) {
                        if (Math.abs(s + l) < .1 && Math.abs(c + d) < .1 && Math.abs(h + p) < .1 && Math.abs(a + u + f - 3) < .1) return this.set(1, 0, 0, 0), this;
                        t = Math.PI;
                        var m = (a + 1) / 2,
                            v = (u + 1) / 2,
                            g = (f + 1) / 2,
                            y = (s + l) / 4,
                            b = (c + d) / 4,
                            x = (h + p) / 4;
                        return m > v && m > g ? m < .01 ? (n = 0, i = .707106781, r = .707106781) : (i = y / (n = Math.sqrt(m)), r = b / n) : v > g ? v < .01 ? (n = .707106781, i = 0, r = .707106781) : (n = y / (i = Math.sqrt(v)), r = x / i) : g < .01 ? (n = .707106781, i = .707106781, r = 0) : (n = b / (r = Math.sqrt(g)), i = x / r), this.set(n, i, r, t), this
                    }
                    var w = Math.sqrt((p - h) * (p - h) + (c - d) * (c - d) + (l - s) * (l - s));
                    return Math.abs(w) < .001 && (w = 1), this.x = (p - h) / w, this.y = (c - d) / w, this.z = (l - s) / w, this.w = Math.acos((a + u + f - 1) / 2), this
                },
                min: function(e) {
                    return this.x = Math.min(this.x, e.x), this.y = Math.min(this.y, e.y), this.z = Math.min(this.z, e.z), this.w = Math.min(this.w, e.w), this
                },
                max: function(e) {
                    return this.x = Math.max(this.x, e.x), this.y = Math.max(this.y, e.y), this.z = Math.max(this.z, e.z), this.w = Math.max(this.w, e.w), this
                },
                clamp: function(e, t) {
                    return this.x = Math.max(e.x, Math.min(t.x, this.x)), this.y = Math.max(e.y, Math.min(t.y, this.y)), this.z = Math.max(e.z, Math.min(t.z, this.z)), this.w = Math.max(e.w, Math.min(t.w, this.w)), this
                },
                clampScalar: function(e, t) {
                    return this.x = Math.max(e, Math.min(t, this.x)), this.y = Math.max(e, Math.min(t, this.y)), this.z = Math.max(e, Math.min(t, this.z)), this.w = Math.max(e, Math.min(t, this.w)), this
                },
                clampLength: function(e, t) {
                    var n = this.length();
                    return this.divideScalar(n || 1).multiplyScalar(Math.max(e, Math.min(t, n)))
                },
                floor: function() {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this
                },
                ceil: function() {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this
                },
                round: function() {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this
                },
                roundToZero: function() {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w), this
                },
                negate: function() {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this
                },
                dot: function(e) {
                    return this.x * e.x + this.y * e.y + this.z * e.z + this.w * e.w
                },
                lengthSq: function() {
                    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
                },
                length: function() {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
                },
                manhattanLength: function() {
                    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
                },
                normalize: function() {
                    return this.divideScalar(this.length() || 1)
                },
                setLength: function(e) {
                    return this.normalize().multiplyScalar(e)
                },
                lerp: function(e, t) {
                    return this.x += (e.x - this.x) * t, this.y += (e.y - this.y) * t, this.z += (e.z - this.z) * t, this.w += (e.w - this.w) * t, this
                },
                lerpVectors: function(e, t, n) {
                    return this.subVectors(t, e).multiplyScalar(n).add(e)
                },
                equals: function(e) {
                    return e.x === this.x && e.y === this.y && e.z === this.z && e.w === this.w
                },
                fromArray: function(e, t) {
                    return void 0 === t && (t = 0), this.x = e[t], this.y = e[t + 1], this.z = e[t + 2], this.w = e[t + 3], this
                },
                toArray: function(e, t) {
                    return void 0 === e && (e = []), void 0 === t && (t = 0), e[t] = this.x, e[t + 1] = this.y, e[t + 2] = this.z, e[t + 3] = this.w, e
                },
                fromBufferAttribute: function(e, t, n) {
                    return void 0 !== n && console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."), this.x = e.getX(t), this.y = e.getY(t), this.z = e.getZ(t), this.w = e.getW(t), this
                }
            }), On.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: On,
                isWebGLRenderTarget: !0,
                setSize: function(e, t) {
                    this.width === e && this.height === t || (this.width = e, this.height = t, this.texture.image.width = e, this.texture.image.height = t, this.dispose()), this.viewport.set(0, 0, e, t), this.scissor.set(0, 0, e, t)
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    return this.width = e.width, this.height = e.height, this.viewport.copy(e.viewport), this.texture = e.texture.clone(), this.depthBuffer = e.depthBuffer, this.stencilBuffer = e.stencilBuffer, this.depthTexture = e.depthTexture, this
                },
                dispose: function() {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            }), Dn.prototype = Object.assign(Object.create(On.prototype), {
                constructor: Dn,
                isWebGLMultisampleRenderTarget: !0,
                copy: function(e) {
                    return On.prototype.copy.call(this, e), this.samples = e.samples, this
                }
            }), Object.assign(In, {
                slerp: function(e, t, n, i) {
                    return n.copy(e).slerp(t, i)
                },
                slerpFlat: function(e, t, n, i, r, o, a) {
                    var s = n[i + 0],
                        c = n[i + 1],
                        l = n[i + 2],
                        u = n[i + 3],
                        h = r[o + 0],
                        d = r[o + 1],
                        p = r[o + 2],
                        f = r[o + 3];
                    if (u !== f || s !== h || c !== d || l !== p) {
                        var m = 1 - a,
                            v = s * h + c * d + l * p + u * f,
                            g = v >= 0 ? 1 : -1,
                            y = 1 - v * v;
                        if (y > Number.EPSILON) {
                            var b = Math.sqrt(y),
                                x = Math.atan2(b, v * g);
                            m = Math.sin(m * x) / b, a = Math.sin(a * x) / b
                        }
                        var w = a * g;
                        if (s = s * m + h * w, c = c * m + d * w, l = l * m + p * w, u = u * m + f * w, m === 1 - a) {
                            var _ = 1 / Math.sqrt(s * s + c * c + l * l + u * u);
                            s *= _, c *= _, l *= _, u *= _
                        }
                    }
                    e[t] = s, e[t + 1] = c, e[t + 2] = l, e[t + 3] = u
                }
            }), Object.defineProperties(In.prototype, {
                x: {
                    get: function() {
                        return this._x
                    },
                    set: function(e) {
                        this._x = e, this._onChangeCallback()
                    }
                },
                y: {
                    get: function() {
                        return this._y
                    },
                    set: function(e) {
                        this._y = e, this._onChangeCallback()
                    }
                },
                z: {
                    get: function() {
                        return this._z
                    },
                    set: function(e) {
                        this._z = e, this._onChangeCallback()
                    }
                },
                w: {
                    get: function() {
                        return this._w
                    },
                    set: function(e) {
                        this._w = e, this._onChangeCallback()
                    }
                }
            }), Object.assign(In.prototype, {
                isQuaternion: !0,
                set: function(e, t, n, i) {
                    return this._x = e, this._y = t, this._z = n, this._w = i, this._onChangeCallback(), this
                },
                clone: function() {
                    return new this.constructor(this._x, this._y, this._z, this._w)
                },
                copy: function(e) {
                    return this._x = e.x, this._y = e.y, this._z = e.z, this._w = e.w, this._onChangeCallback(), this
                },
                setFromEuler: function(e, t) {
                    if (!e || !e.isEuler) throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
                    var n = e._x,
                        i = e._y,
                        r = e._z,
                        o = e.order,
                        a = Math.cos,
                        s = Math.sin,
                        c = a(n / 2),
                        l = a(i / 2),
                        u = a(r / 2),
                        h = s(n / 2),
                        d = s(i / 2),
                        p = s(r / 2);
                    return "XYZ" === o ? (this._x = h * l * u + c * d * p, this._y = c * d * u - h * l * p, this._z = c * l * p + h * d * u, this._w = c * l * u - h * d * p) : "YXZ" === o ? (this._x = h * l * u + c * d * p, this._y = c * d * u - h * l * p, this._z = c * l * p - h * d * u, this._w = c * l * u + h * d * p) : "ZXY" === o ? (this._x = h * l * u - c * d * p, this._y = c * d * u + h * l * p, this._z = c * l * p + h * d * u, this._w = c * l * u - h * d * p) : "ZYX" === o ? (this._x = h * l * u - c * d * p, this._y = c * d * u + h * l * p, this._z = c * l * p - h * d * u, this._w = c * l * u + h * d * p) : "YZX" === o ? (this._x = h * l * u + c * d * p, this._y = c * d * u + h * l * p, this._z = c * l * p - h * d * u, this._w = c * l * u - h * d * p) : "XZY" === o && (this._x = h * l * u - c * d * p, this._y = c * d * u - h * l * p, this._z = c * l * p + h * d * u, this._w = c * l * u + h * d * p), !1 !== t && this._onChangeCallback(), this
                },
                setFromAxisAngle: function(e, t) {
                    var n = t / 2,
                        i = Math.sin(n);
                    return this._x = e.x * i, this._y = e.y * i, this._z = e.z * i, this._w = Math.cos(n), this._onChangeCallback(), this
                },
                setFromRotationMatrix: function(e) {
                    var t, n = e.elements,
                        i = n[0],
                        r = n[4],
                        o = n[8],
                        a = n[1],
                        s = n[5],
                        c = n[9],
                        l = n[2],
                        u = n[6],
                        h = n[10],
                        d = i + s + h;
                    return d > 0 ? (t = .5 / Math.sqrt(d + 1), this._w = .25 / t, this._x = (u - c) * t, this._y = (o - l) * t, this._z = (a - r) * t) : i > s && i > h ? (t = 2 * Math.sqrt(1 + i - s - h), this._w = (u - c) / t, this._x = .25 * t, this._y = (r + a) / t, this._z = (o + l) / t) : s > h ? (t = 2 * Math.sqrt(1 + s - i - h), this._w = (o - l) / t, this._x = (r + a) / t, this._y = .25 * t, this._z = (c + u) / t) : (t = 2 * Math.sqrt(1 + h - i - s), this._w = (a - r) / t, this._x = (o + l) / t, this._y = (c + u) / t, this._z = .25 * t), this._onChangeCallback(), this
                },
                setFromUnitVectors: function(e, t) {
                    var n = e.dot(t) + 1;
                    return n < 1e-6 ? (n = 0, Math.abs(e.x) > Math.abs(e.z) ? (this._x = -e.y, this._y = e.x, this._z = 0, this._w = n) : (this._x = 0, this._y = -e.z, this._z = e.y, this._w = n)) : (this._x = e.y * t.z - e.z * t.y, this._y = e.z * t.x - e.x * t.z, this._z = e.x * t.y - e.y * t.x, this._w = n), this.normalize()
                },
                angleTo: function(e) {
                    return 2 * Math.acos(Math.abs(Sn.clamp(this.dot(e), -1, 1)))
                },
                rotateTowards: function(e, t) {
                    var n = this.angleTo(e);
                    if (0 === n) return this;
                    var i = Math.min(1, t / n);
                    return this.slerp(e, i), this
                },
                inverse: function() {
                    return this.conjugate()
                },
                conjugate: function() {
                    return this._x *= -1, this._y *= -1, this._z *= -1, this._onChangeCallback(), this
                },
                dot: function(e) {
                    return this._x * e._x + this._y * e._y + this._z * e._z + this._w * e._w
                },
                lengthSq: function() {
                    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
                },
                length: function() {
                    return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
                },
                normalize: function() {
                    var e = this.length();
                    return 0 === e ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (e = 1 / e, this._x = this._x * e, this._y = this._y * e, this._z = this._z * e, this._w = this._w * e), this._onChangeCallback(), this
                },
                multiply: function(e, t) {
                    return void 0 !== t ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."), this.multiplyQuaternions(e, t)) : this.multiplyQuaternions(this, e)
                },
                premultiply: function(e) {
                    return this.multiplyQuaternions(e, this)
                },
                multiplyQuaternions: function(e, t) {
                    var n = e._x,
                        i = e._y,
                        r = e._z,
                        o = e._w,
                        a = t._x,
                        s = t._y,
                        c = t._z,
                        l = t._w;
                    return this._x = n * l + o * a + i * c - r * s, this._y = i * l + o * s + r * a - n * c, this._z = r * l + o * c + n * s - i * a, this._w = o * l - n * a - i * s - r * c, this._onChangeCallback(), this
                },
                slerp: function(e, t) {
                    if (0 === t) return this;
                    if (1 === t) return this.copy(e);
                    var n = this._x,
                        i = this._y,
                        r = this._z,
                        o = this._w,
                        a = o * e._w + n * e._x + i * e._y + r * e._z;
                    if (a < 0 ? (this._w = -e._w, this._x = -e._x, this._y = -e._y, this._z = -e._z, a = -a) : this.copy(e), a >= 1) return this._w = o, this._x = n, this._y = i, this._z = r, this;
                    var s = 1 - a * a;
                    if (s <= Number.EPSILON) {
                        var c = 1 - t;
                        return this._w = c * o + t * this._w, this._x = c * n + t * this._x, this._y = c * i + t * this._y, this._z = c * r + t * this._z, this.normalize(), this._onChangeCallback(), this
                    }
                    var l = Math.sqrt(s),
                        u = Math.atan2(l, a),
                        h = Math.sin((1 - t) * u) / l,
                        d = Math.sin(t * u) / l;
                    return this._w = o * h + this._w * d, this._x = n * h + this._x * d, this._y = i * h + this._y * d, this._z = r * h + this._z * d, this._onChangeCallback(), this
                },
                equals: function(e) {
                    return e._x === this._x && e._y === this._y && e._z === this._z && e._w === this._w
                },
                fromArray: function(e, t) {
                    return void 0 === t && (t = 0), this._x = e[t], this._y = e[t + 1], this._z = e[t + 2], this._w = e[t + 3], this._onChangeCallback(), this
                },
                toArray: function(e, t) {
                    return void 0 === e && (e = []), void 0 === t && (t = 0), e[t] = this._x, e[t + 1] = this._y, e[t + 2] = this._z, e[t + 3] = this._w, e
                },
                _onChange: function(e) {
                    return this._onChangeCallback = e, this
                },
                _onChangeCallback: function() {}
            });
            var jn = new Fn,
                kn = new In;

            function Fn(e, t, n) {
                this.x = e || 0, this.y = t || 0, this.z = n || 0
            }
            Object.assign(Fn.prototype, {
                isVector3: !0,
                set: function(e, t, n) {
                    return this.x = e, this.y = t, this.z = n, this
                },
                setScalar: function(e) {
                    return this.x = e, this.y = e, this.z = e, this
                },
                setX: function(e) {
                    return this.x = e, this
                },
                setY: function(e) {
                    return this.y = e, this
                },
                setZ: function(e) {
                    return this.z = e, this
                },
                setComponent: function(e, t) {
                    switch (e) {
                        case 0:
                            this.x = t;
                            break;
                        case 1:
                            this.y = t;
                            break;
                        case 2:
                            this.z = t;
                            break;
                        default:
                            throw new Error("index is out of range: " + e)
                    }
                    return this
                },
                getComponent: function(e) {
                    switch (e) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        case 2:
                            return this.z;
                        default:
                            throw new Error("index is out of range: " + e)
                    }
                },
                clone: function() {
                    return new this.constructor(this.x, this.y, this.z)
                },
                copy: function(e) {
                    return this.x = e.x, this.y = e.y, this.z = e.z, this
                },
                add: function(e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(e, t)) : (this.x += e.x, this.y += e.y, this.z += e.z, this)
                },
                addScalar: function(e) {
                    return this.x += e, this.y += e, this.z += e, this
                },
                addVectors: function(e, t) {
                    return this.x = e.x + t.x, this.y = e.y + t.y, this.z = e.z + t.z, this
                },
                addScaledVector: function(e, t) {
                    return this.x += e.x * t, this.y += e.y * t, this.z += e.z * t, this
                },
                sub: function(e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(e, t)) : (this.x -= e.x, this.y -= e.y, this.z -= e.z, this)
                },
                subScalar: function(e) {
                    return this.x -= e, this.y -= e, this.z -= e, this
                },
                subVectors: function(e, t) {
                    return this.x = e.x - t.x, this.y = e.y - t.y, this.z = e.z - t.z, this
                },
                multiply: function(e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."), this.multiplyVectors(e, t)) : (this.x *= e.x, this.y *= e.y, this.z *= e.z, this)
                },
                multiplyScalar: function(e) {
                    return this.x *= e, this.y *= e, this.z *= e, this
                },
                multiplyVectors: function(e, t) {
                    return this.x = e.x * t.x, this.y = e.y * t.y, this.z = e.z * t.z, this
                },
                applyEuler: function(e) {
                    return e && e.isEuler || console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."), this.applyQuaternion(kn.setFromEuler(e))
                },
                applyAxisAngle: function(e, t) {
                    return this.applyQuaternion(kn.setFromAxisAngle(e, t))
                },
                applyMatrix3: function(e) {
                    var t = this.x,
                        n = this.y,
                        i = this.z,
                        r = e.elements;
                    return this.x = r[0] * t + r[3] * n + r[6] * i, this.y = r[1] * t + r[4] * n + r[7] * i, this.z = r[2] * t + r[5] * n + r[8] * i, this
                },
                applyNormalMatrix: function(e) {
                    return this.applyMatrix3(e).normalize()
                },
                applyMatrix4: function(e) {
                    var t = this.x,
                        n = this.y,
                        i = this.z,
                        r = e.elements,
                        o = 1 / (r[3] * t + r[7] * n + r[11] * i + r[15]);
                    return this.x = (r[0] * t + r[4] * n + r[8] * i + r[12]) * o, this.y = (r[1] * t + r[5] * n + r[9] * i + r[13]) * o, this.z = (r[2] * t + r[6] * n + r[10] * i + r[14]) * o, this
                },
                applyQuaternion: function(e) {
                    var t = this.x,
                        n = this.y,
                        i = this.z,
                        r = e.x,
                        o = e.y,
                        a = e.z,
                        s = e.w,
                        c = s * t + o * i - a * n,
                        l = s * n + a * t - r * i,
                        u = s * i + r * n - o * t,
                        h = -r * t - o * n - a * i;
                    return this.x = c * s + h * -r + l * -a - u * -o, this.y = l * s + h * -o + u * -r - c * -a, this.z = u * s + h * -a + c * -o - l * -r, this
                },
                project: function(e) {
                    return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)
                },
                unproject: function(e) {
                    return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)
                },
                transformDirection: function(e) {
                    var t = this.x,
                        n = this.y,
                        i = this.z,
                        r = e.elements;
                    return this.x = r[0] * t + r[4] * n + r[8] * i, this.y = r[1] * t + r[5] * n + r[9] * i, this.z = r[2] * t + r[6] * n + r[10] * i, this.normalize()
                },
                divide: function(e) {
                    return this.x /= e.x, this.y /= e.y, this.z /= e.z, this
                },
                divideScalar: function(e) {
                    return this.multiplyScalar(1 / e)
                },
                min: function(e) {
                    return this.x = Math.min(this.x, e.x), this.y = Math.min(this.y, e.y), this.z = Math.min(this.z, e.z), this
                },
                max: function(e) {
                    return this.x = Math.max(this.x, e.x), this.y = Math.max(this.y, e.y), this.z = Math.max(this.z, e.z), this
                },
                clamp: function(e, t) {
                    return this.x = Math.max(e.x, Math.min(t.x, this.x)), this.y = Math.max(e.y, Math.min(t.y, this.y)), this.z = Math.max(e.z, Math.min(t.z, this.z)), this
                },
                clampScalar: function(e, t) {
                    return this.x = Math.max(e, Math.min(t, this.x)), this.y = Math.max(e, Math.min(t, this.y)), this.z = Math.max(e, Math.min(t, this.z)), this
                },
                clampLength: function(e, t) {
                    var n = this.length();
                    return this.divideScalar(n || 1).multiplyScalar(Math.max(e, Math.min(t, n)))
                },
                floor: function() {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this
                },
                ceil: function() {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this
                },
                round: function() {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this
                },
                roundToZero: function() {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this
                },
                negate: function() {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this
                },
                dot: function(e) {
                    return this.x * e.x + this.y * e.y + this.z * e.z
                },
                lengthSq: function() {
                    return this.x * this.x + this.y * this.y + this.z * this.z
                },
                length: function() {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
                },
                manhattanLength: function() {
                    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
                },
                normalize: function() {
                    return this.divideScalar(this.length() || 1)
                },
                setLength: function(e) {
                    return this.normalize().multiplyScalar(e)
                },
                lerp: function(e, t) {
                    return this.x += (e.x - this.x) * t, this.y += (e.y - this.y) * t, this.z += (e.z - this.z) * t, this
                },
                lerpVectors: function(e, t, n) {
                    return this.subVectors(t, e).multiplyScalar(n).add(e)
                },
                cross: function(e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."), this.crossVectors(e, t)) : this.crossVectors(this, e)
                },
                crossVectors: function(e, t) {
                    var n = e.x,
                        i = e.y,
                        r = e.z,
                        o = t.x,
                        a = t.y,
                        s = t.z;
                    return this.x = i * s - r * a, this.y = r * o - n * s, this.z = n * a - i * o, this
                },
                projectOnVector: function(e) {
                    var t = e.lengthSq();
                    if (0 === t) return this.set(0, 0, 0);
                    var n = e.dot(this) / t;
                    return this.copy(e).multiplyScalar(n)
                },
                projectOnPlane: function(e) {
                    return jn.copy(this).projectOnVector(e), this.sub(jn)
                },
                reflect: function(e) {
                    return this.sub(jn.copy(e).multiplyScalar(2 * this.dot(e)))
                },
                angleTo: function(e) {
                    var t = Math.sqrt(this.lengthSq() * e.lengthSq());
                    if (0 === t) return Math.PI / 2;
                    var n = this.dot(e) / t;
                    return Math.acos(Sn.clamp(n, -1, 1))
                },
                distanceTo: function(e) {
                    return Math.sqrt(this.distanceToSquared(e))
                },
                distanceToSquared: function(e) {
                    var t = this.x - e.x,
                        n = this.y - e.y,
                        i = this.z - e.z;
                    return t * t + n * n + i * i
                },
                manhattanDistanceTo: function(e) {
                    return Math.abs(this.x - e.x) + Math.abs(this.y - e.y) + Math.abs(this.z - e.z)
                },
                setFromSpherical: function(e) {
                    return this.setFromSphericalCoords(e.radius, e.phi, e.theta)
                },
                setFromSphericalCoords: function(e, t, n) {
                    var i = Math.sin(t) * e;
                    return this.x = i * Math.sin(n), this.y = Math.cos(t) * e, this.z = i * Math.cos(n), this
                },
                setFromCylindrical: function(e) {
                    return this.setFromCylindricalCoords(e.radius, e.theta, e.y)
                },
                setFromCylindricalCoords: function(e, t, n) {
                    return this.x = e * Math.sin(t), this.y = n, this.z = e * Math.cos(t), this
                },
                setFromMatrixPosition: function(e) {
                    var t = e.elements;
                    return this.x = t[12], this.y = t[13], this.z = t[14], this
                },
                setFromMatrixScale: function(e) {
                    var t = this.setFromMatrixColumn(e, 0).length(),
                        n = this.setFromMatrixColumn(e, 1).length(),
                        i = this.setFromMatrixColumn(e, 2).length();
                    return this.x = t, this.y = n, this.z = i, this
                },
                setFromMatrixColumn: function(e, t) {
                    return this.fromArray(e.elements, 4 * t)
                },
                setFromMatrix3Column: function(e, t) {
                    return this.fromArray(e.elements, 3 * t)
                },
                equals: function(e) {
                    return e.x === this.x && e.y === this.y && e.z === this.z
                },
                fromArray: function(e, t) {
                    return void 0 === t && (t = 0), this.x = e[t], this.y = e[t + 1], this.z = e[t + 2], this
                },
                toArray: function(e, t) {
                    return void 0 === e && (e = []), void 0 === t && (t = 0), e[t] = this.x, e[t + 1] = this.y, e[t + 2] = this.z, e
                },
                fromBufferAttribute: function(e, t, n) {
                    return void 0 !== n && console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."), this.x = e.getX(t), this.y = e.getY(t), this.z = e.getZ(t), this
                }
            });
            var Nn = new Fn,
                zn = new Wn,
                Bn = new Fn(0, 0, 0),
                Un = new Fn(1, 1, 1),
                Vn = new Fn,
                Hn = new Fn,
                Gn = new Fn;

            function Wn() {
                this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], arguments.length > 0 && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")
            }
            Object.assign(Wn.prototype, {
                isMatrix4: !0,
                set: function(e, t, n, i, r, o, a, s, c, l, u, h, d, p, f, m) {
                    var v = this.elements;
                    return v[0] = e, v[4] = t, v[8] = n, v[12] = i, v[1] = r, v[5] = o, v[9] = a, v[13] = s, v[2] = c, v[6] = l, v[10] = u, v[14] = h, v[3] = d, v[7] = p, v[11] = f, v[15] = m, this
                },
                identity: function() {
                    return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
                },
                clone: function() {
                    return (new Wn).fromArray(this.elements)
                },
                copy: function(e) {
                    var t = this.elements,
                        n = e.elements;
                    return t[0] = n[0], t[1] = n[1], t[2] = n[2], t[3] = n[3], t[4] = n[4], t[5] = n[5], t[6] = n[6], t[7] = n[7], t[8] = n[8], t[9] = n[9], t[10] = n[10], t[11] = n[11], t[12] = n[12], t[13] = n[13], t[14] = n[14], t[15] = n[15], this
                },
                copyPosition: function(e) {
                    var t = this.elements,
                        n = e.elements;
                    return t[12] = n[12], t[13] = n[13], t[14] = n[14], this
                },
                extractBasis: function(e, t, n) {
                    return e.setFromMatrixColumn(this, 0), t.setFromMatrixColumn(this, 1), n.setFromMatrixColumn(this, 2), this
                },
                makeBasis: function(e, t, n) {
                    return this.set(e.x, t.x, n.x, 0, e.y, t.y, n.y, 0, e.z, t.z, n.z, 0, 0, 0, 0, 1), this
                },
                extractRotation: function(e) {
                    var t = this.elements,
                        n = e.elements,
                        i = 1 / Nn.setFromMatrixColumn(e, 0).length(),
                        r = 1 / Nn.setFromMatrixColumn(e, 1).length(),
                        o = 1 / Nn.setFromMatrixColumn(e, 2).length();
                    return t[0] = n[0] * i, t[1] = n[1] * i, t[2] = n[2] * i, t[3] = 0, t[4] = n[4] * r, t[5] = n[5] * r, t[6] = n[6] * r, t[7] = 0, t[8] = n[8] * o, t[9] = n[9] * o, t[10] = n[10] * o, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, this
                },
                makeRotationFromEuler: function(e) {
                    e && e.isEuler || console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
                    var t = this.elements,
                        n = e.x,
                        i = e.y,
                        r = e.z,
                        o = Math.cos(n),
                        a = Math.sin(n),
                        s = Math.cos(i),
                        c = Math.sin(i),
                        l = Math.cos(r),
                        u = Math.sin(r);
                    if ("XYZ" === e.order) {
                        var h = o * l,
                            d = o * u,
                            p = a * l,
                            f = a * u;
                        t[0] = s * l, t[4] = -s * u, t[8] = c, t[1] = d + p * c, t[5] = h - f * c, t[9] = -a * s, t[2] = f - h * c, t[6] = p + d * c, t[10] = o * s
                    } else if ("YXZ" === e.order) {
                        var m = s * l,
                            v = s * u,
                            g = c * l,
                            y = c * u;
                        t[0] = m + y * a, t[4] = g * a - v, t[8] = o * c, t[1] = o * u, t[5] = o * l, t[9] = -a, t[2] = v * a - g, t[6] = y + m * a, t[10] = o * s
                    } else if ("ZXY" === e.order) {
                        m = s * l, v = s * u, g = c * l, y = c * u;
                        t[0] = m - y * a, t[4] = -o * u, t[8] = g + v * a, t[1] = v + g * a, t[5] = o * l, t[9] = y - m * a, t[2] = -o * c, t[6] = a, t[10] = o * s
                    } else if ("ZYX" === e.order) {
                        h = o * l, d = o * u, p = a * l, f = a * u;
                        t[0] = s * l, t[4] = p * c - d, t[8] = h * c + f, t[1] = s * u, t[5] = f * c + h, t[9] = d * c - p, t[2] = -c, t[6] = a * s, t[10] = o * s
                    } else if ("YZX" === e.order) {
                        var b = o * s,
                            x = o * c,
                            w = a * s,
                            _ = a * c;
                        t[0] = s * l, t[4] = _ - b * u, t[8] = w * u + x, t[1] = u, t[5] = o * l, t[9] = -a * l, t[2] = -c * l, t[6] = x * u + w, t[10] = b - _ * u
                    } else if ("XZY" === e.order) {
                        b = o * s, x = o * c, w = a * s, _ = a * c;
                        t[0] = s * l, t[4] = -u, t[8] = c * l, t[1] = b * u + _, t[5] = o * l, t[9] = x * u - w, t[2] = w * u - x, t[6] = a * l, t[10] = _ * u + b
                    }
                    return t[3] = 0, t[7] = 0, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, this
                },
                makeRotationFromQuaternion: function(e) {
                    return this.compose(Bn, e, Un)
                },
                lookAt: function(e, t, n) {
                    var i = this.elements;
                    return Gn.subVectors(e, t), 0 === Gn.lengthSq() && (Gn.z = 1), Gn.normalize(), Vn.crossVectors(n, Gn), 0 === Vn.lengthSq() && (1 === Math.abs(n.z) ? Gn.x += 1e-4 : Gn.z += 1e-4, Gn.normalize(), Vn.crossVectors(n, Gn)), Vn.normalize(), Hn.crossVectors(Gn, Vn), i[0] = Vn.x, i[4] = Hn.x, i[8] = Gn.x, i[1] = Vn.y, i[5] = Hn.y, i[9] = Gn.y, i[2] = Vn.z, i[6] = Hn.z, i[10] = Gn.z, this
                },
                multiply: function(e, t) {
                    return void 0 !== t ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."), this.multiplyMatrices(e, t)) : this.multiplyMatrices(this, e)
                },
                premultiply: function(e) {
                    return this.multiplyMatrices(e, this)
                },
                multiplyMatrices: function(e, t) {
                    var n = e.elements,
                        i = t.elements,
                        r = this.elements,
                        o = n[0],
                        a = n[4],
                        s = n[8],
                        c = n[12],
                        l = n[1],
                        u = n[5],
                        h = n[9],
                        d = n[13],
                        p = n[2],
                        f = n[6],
                        m = n[10],
                        v = n[14],
                        g = n[3],
                        y = n[7],
                        b = n[11],
                        x = n[15],
                        w = i[0],
                        _ = i[4],
                        M = i[8],
                        T = i[12],
                        S = i[1],
                        E = i[5],
                        A = i[9],
                        P = i[13],
                        L = i[2],
                        C = i[6],
                        R = i[10],
                        O = i[14],
                        D = i[3],
                        I = i[7],
                        j = i[11],
                        k = i[15];
                    return r[0] = o * w + a * S + s * L + c * D, r[4] = o * _ + a * E + s * C + c * I, r[8] = o * M + a * A + s * R + c * j, r[12] = o * T + a * P + s * O + c * k, r[1] = l * w + u * S + h * L + d * D, r[5] = l * _ + u * E + h * C + d * I, r[9] = l * M + u * A + h * R + d * j, r[13] = l * T + u * P + h * O + d * k, r[2] = p * w + f * S + m * L + v * D, r[6] = p * _ + f * E + m * C + v * I, r[10] = p * M + f * A + m * R + v * j, r[14] = p * T + f * P + m * O + v * k, r[3] = g * w + y * S + b * L + x * D, r[7] = g * _ + y * E + b * C + x * I, r[11] = g * M + y * A + b * R + x * j, r[15] = g * T + y * P + b * O + x * k, this
                },
                multiplyScalar: function(e) {
                    var t = this.elements;
                    return t[0] *= e, t[4] *= e, t[8] *= e, t[12] *= e, t[1] *= e, t[5] *= e, t[9] *= e, t[13] *= e, t[2] *= e, t[6] *= e, t[10] *= e, t[14] *= e, t[3] *= e, t[7] *= e, t[11] *= e, t[15] *= e, this
                },
                determinant: function() {
                    var e = this.elements,
                        t = e[0],
                        n = e[4],
                        i = e[8],
                        r = e[12],
                        o = e[1],
                        a = e[5],
                        s = e[9],
                        c = e[13],
                        l = e[2],
                        u = e[6],
                        h = e[10],
                        d = e[14];
                    return e[3] * (+r * s * u - i * c * u - r * a * h + n * c * h + i * a * d - n * s * d) + e[7] * (+t * s * d - t * c * h + r * o * h - i * o * d + i * c * l - r * s * l) + e[11] * (+t * c * u - t * a * d - r * o * u + n * o * d + r * a * l - n * c * l) + e[15] * (-i * a * l - t * s * u + t * a * h + i * o * u - n * o * h + n * s * l)
                },
                transpose: function() {
                    var e, t = this.elements;
                    return e = t[1], t[1] = t[4], t[4] = e, e = t[2], t[2] = t[8], t[8] = e, e = t[6], t[6] = t[9], t[9] = e, e = t[3], t[3] = t[12], t[12] = e, e = t[7], t[7] = t[13], t[13] = e, e = t[11], t[11] = t[14], t[14] = e, this
                },
                setPosition: function(e, t, n) {
                    var i = this.elements;
                    return e.isVector3 ? (i[12] = e.x, i[13] = e.y, i[14] = e.z) : (i[12] = e, i[13] = t, i[14] = n), this
                },
                getInverse: function(e, t) {
                    var n = this.elements,
                        i = e.elements,
                        r = i[0],
                        o = i[1],
                        a = i[2],
                        s = i[3],
                        c = i[4],
                        l = i[5],
                        u = i[6],
                        h = i[7],
                        d = i[8],
                        p = i[9],
                        f = i[10],
                        m = i[11],
                        v = i[12],
                        g = i[13],
                        y = i[14],
                        b = i[15],
                        x = p * y * h - g * f * h + g * u * m - l * y * m - p * u * b + l * f * b,
                        w = v * f * h - d * y * h - v * u * m + c * y * m + d * u * b - c * f * b,
                        _ = d * g * h - v * p * h + v * l * m - c * g * m - d * l * b + c * p * b,
                        M = v * p * u - d * g * u - v * l * f + c * g * f + d * l * y - c * p * y,
                        T = r * x + o * w + a * _ + s * M;
                    if (0 === T) {
                        var S = "THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";
                        if (!0 === t) throw new Error(S);
                        return console.warn(S), this.identity()
                    }
                    var E = 1 / T;
                    return n[0] = x * E, n[1] = (g * f * s - p * y * s - g * a * m + o * y * m + p * a * b - o * f * b) * E, n[2] = (l * y * s - g * u * s + g * a * h - o * y * h - l * a * b + o * u * b) * E, n[3] = (p * u * s - l * f * s - p * a * h + o * f * h + l * a * m - o * u * m) * E, n[4] = w * E, n[5] = (d * y * s - v * f * s + v * a * m - r * y * m - d * a * b + r * f * b) * E, n[6] = (v * u * s - c * y * s - v * a * h + r * y * h + c * a * b - r * u * b) * E, n[7] = (c * f * s - d * u * s + d * a * h - r * f * h - c * a * m + r * u * m) * E, n[8] = _ * E, n[9] = (v * p * s - d * g * s - v * o * m + r * g * m + d * o * b - r * p * b) * E, n[10] = (c * g * s - v * l * s + v * o * h - r * g * h - c * o * b + r * l * b) * E, n[11] = (d * l * s - c * p * s - d * o * h + r * p * h + c * o * m - r * l * m) * E, n[12] = M * E, n[13] = (d * g * a - v * p * a + v * o * f - r * g * f - d * o * y + r * p * y) * E, n[14] = (v * l * a - c * g * a - v * o * u + r * g * u + c * o * y - r * l * y) * E, n[15] = (c * p * a - d * l * a + d * o * u - r * p * u - c * o * f + r * l * f) * E, this
                },
                scale: function(e) {
                    var t = this.elements,
                        n = e.x,
                        i = e.y,
                        r = e.z;
                    return t[0] *= n, t[4] *= i, t[8] *= r, t[1] *= n, t[5] *= i, t[9] *= r, t[2] *= n, t[6] *= i, t[10] *= r, t[3] *= n, t[7] *= i, t[11] *= r, this
                },
                getMaxScaleOnAxis: function() {
                    var e = this.elements,
                        t = e[0] * e[0] + e[1] * e[1] + e[2] * e[2],
                        n = e[4] * e[4] + e[5] * e[5] + e[6] * e[6],
                        i = e[8] * e[8] + e[9] * e[9] + e[10] * e[10];
                    return Math.sqrt(Math.max(t, n, i))
                },
                makeTranslation: function(e, t, n) {
                    return this.set(1, 0, 0, e, 0, 1, 0, t, 0, 0, 1, n, 0, 0, 0, 1), this
                },
                makeRotationX: function(e) {
                    var t = Math.cos(e),
                        n = Math.sin(e);
                    return this.set(1, 0, 0, 0, 0, t, -n, 0, 0, n, t, 0, 0, 0, 0, 1), this
                },
                makeRotationY: function(e) {
                    var t = Math.cos(e),
                        n = Math.sin(e);
                    return this.set(t, 0, n, 0, 0, 1, 0, 0, -n, 0, t, 0, 0, 0, 0, 1), this
                },
                makeRotationZ: function(e) {
                    var t = Math.cos(e),
                        n = Math.sin(e);
                    return this.set(t, -n, 0, 0, n, t, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
                },
                makeRotationAxis: function(e, t) {
                    var n = Math.cos(t),
                        i = Math.sin(t),
                        r = 1 - n,
                        o = e.x,
                        a = e.y,
                        s = e.z,
                        c = r * o,
                        l = r * a;
                    return this.set(c * o + n, c * a - i * s, c * s + i * a, 0, c * a + i * s, l * a + n, l * s - i * o, 0, c * s - i * a, l * s + i * o, r * s * s + n, 0, 0, 0, 0, 1), this
                },
                makeScale: function(e, t, n) {
                    return this.set(e, 0, 0, 0, 0, t, 0, 0, 0, 0, n, 0, 0, 0, 0, 1), this
                },
                makeShear: function(e, t, n) {
                    return this.set(1, t, n, 0, e, 1, n, 0, e, t, 1, 0, 0, 0, 0, 1), this
                },
                compose: function(e, t, n) {
                    var i = this.elements,
                        r = t._x,
                        o = t._y,
                        a = t._z,
                        s = t._w,
                        c = r + r,
                        l = o + o,
                        u = a + a,
                        h = r * c,
                        d = r * l,
                        p = r * u,
                        f = o * l,
                        m = o * u,
                        v = a * u,
                        g = s * c,
                        y = s * l,
                        b = s * u,
                        x = n.x,
                        w = n.y,
                        _ = n.z;
                    return i[0] = (1 - (f + v)) * x, i[1] = (d + b) * x, i[2] = (p - y) * x, i[3] = 0, i[4] = (d - b) * w, i[5] = (1 - (h + v)) * w, i[6] = (m + g) * w, i[7] = 0, i[8] = (p + y) * _, i[9] = (m - g) * _, i[10] = (1 - (h + f)) * _, i[11] = 0, i[12] = e.x, i[13] = e.y, i[14] = e.z, i[15] = 1, this
                },
                decompose: function(e, t, n) {
                    var i = this.elements,
                        r = Nn.set(i[0], i[1], i[2]).length(),
                        o = Nn.set(i[4], i[5], i[6]).length(),
                        a = Nn.set(i[8], i[9], i[10]).length();
                    this.determinant() < 0 && (r = -r), e.x = i[12], e.y = i[13], e.z = i[14], zn.copy(this);
                    var s = 1 / r,
                        c = 1 / o,
                        l = 1 / a;
                    return zn.elements[0] *= s, zn.elements[1] *= s, zn.elements[2] *= s, zn.elements[4] *= c, zn.elements[5] *= c, zn.elements[6] *= c, zn.elements[8] *= l, zn.elements[9] *= l, zn.elements[10] *= l, t.setFromRotationMatrix(zn), n.x = r, n.y = o, n.z = a, this
                },
                makePerspective: function(e, t, n, i, r, o) {
                    void 0 === o && console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");
                    var a = this.elements,
                        s = 2 * r / (t - e),
                        c = 2 * r / (n - i),
                        l = (t + e) / (t - e),
                        u = (n + i) / (n - i),
                        h = -(o + r) / (o - r),
                        d = -2 * o * r / (o - r);
                    return a[0] = s, a[4] = 0, a[8] = l, a[12] = 0, a[1] = 0, a[5] = c, a[9] = u, a[13] = 0, a[2] = 0, a[6] = 0, a[10] = h, a[14] = d, a[3] = 0, a[7] = 0, a[11] = -1, a[15] = 0, this
                },
                makeOrthographic: function(e, t, n, i, r, o) {
                    var a = this.elements,
                        s = 1 / (t - e),
                        c = 1 / (n - i),
                        l = 1 / (o - r),
                        u = (t + e) * s,
                        h = (n + i) * c,
                        d = (o + r) * l;
                    return a[0] = 2 * s, a[4] = 0, a[8] = 0, a[12] = -u, a[1] = 0, a[5] = 2 * c, a[9] = 0, a[13] = -h, a[2] = 0, a[6] = 0, a[10] = -2 * l, a[14] = -d, a[3] = 0, a[7] = 0, a[11] = 0, a[15] = 1, this
                },
                equals: function(e) {
                    for (var t = this.elements, n = e.elements, i = 0; i < 16; i++)
                        if (t[i] !== n[i]) return !1;
                    return !0
                },
                fromArray: function(e, t) {
                    void 0 === t && (t = 0);
                    for (var n = 0; n < 16; n++) this.elements[n] = e[n + t];
                    return this
                },
                toArray: function(e, t) {
                    void 0 === e && (e = []), void 0 === t && (t = 0);
                    var n = this.elements;
                    return e[t] = n[0], e[t + 1] = n[1], e[t + 2] = n[2], e[t + 3] = n[3], e[t + 4] = n[4], e[t + 5] = n[5], e[t + 6] = n[6], e[t + 7] = n[7], e[t + 8] = n[8], e[t + 9] = n[9], e[t + 10] = n[10], e[t + 11] = n[11], e[t + 12] = n[12], e[t + 13] = n[13], e[t + 14] = n[14], e[t + 15] = n[15], e
                }
            });
            var qn = new Wn,
                Yn = new In;

            function Xn(e, t, n, i) {
                this._x = e || 0, this._y = t || 0, this._z = n || 0, this._order = i || Xn.DefaultOrder
            }

            function Zn() {
                this.mask = 1
            }
            Xn.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"], Xn.DefaultOrder = "XYZ", Object.defineProperties(Xn.prototype, {
                x: {
                    get: function() {
                        return this._x
                    },
                    set: function(e) {
                        this._x = e, this._onChangeCallback()
                    }
                },
                y: {
                    get: function() {
                        return this._y
                    },
                    set: function(e) {
                        this._y = e, this._onChangeCallback()
                    }
                },
                z: {
                    get: function() {
                        return this._z
                    },
                    set: function(e) {
                        this._z = e, this._onChangeCallback()
                    }
                },
                order: {
                    get: function() {
                        return this._order
                    },
                    set: function(e) {
                        this._order = e, this._onChangeCallback()
                    }
                }
            }), Object.assign(Xn.prototype, {
                isEuler: !0,
                set: function(e, t, n, i) {
                    return this._x = e, this._y = t, this._z = n, this._order = i || this._order, this._onChangeCallback(), this
                },
                clone: function() {
                    return new this.constructor(this._x, this._y, this._z, this._order)
                },
                copy: function(e) {
                    return this._x = e._x, this._y = e._y, this._z = e._z, this._order = e._order, this._onChangeCallback(), this
                },
                setFromRotationMatrix: function(e, t, n) {
                    var i = Sn.clamp,
                        r = e.elements,
                        o = r[0],
                        a = r[4],
                        s = r[8],
                        c = r[1],
                        l = r[5],
                        u = r[9],
                        h = r[2],
                        d = r[6],
                        p = r[10];
                    return "XYZ" === (t = t || this._order) ? (this._y = Math.asin(i(s, -1, 1)), Math.abs(s) < .9999999 ? (this._x = Math.atan2(-u, p), this._z = Math.atan2(-a, o)) : (this._x = Math.atan2(d, l), this._z = 0)) : "YXZ" === t ? (this._x = Math.asin(-i(u, -1, 1)), Math.abs(u) < .9999999 ? (this._y = Math.atan2(s, p), this._z = Math.atan2(c, l)) : (this._y = Math.atan2(-h, o), this._z = 0)) : "ZXY" === t ? (this._x = Math.asin(i(d, -1, 1)), Math.abs(d) < .9999999 ? (this._y = Math.atan2(-h, p), this._z = Math.atan2(-a, l)) : (this._y = 0, this._z = Math.atan2(c, o))) : "ZYX" === t ? (this._y = Math.asin(-i(h, -1, 1)), Math.abs(h) < .9999999 ? (this._x = Math.atan2(d, p), this._z = Math.atan2(c, o)) : (this._x = 0, this._z = Math.atan2(-a, l))) : "YZX" === t ? (this._z = Math.asin(i(c, -1, 1)), Math.abs(c) < .9999999 ? (this._x = Math.atan2(-u, l), this._y = Math.atan2(-h, o)) : (this._x = 0, this._y = Math.atan2(s, p))) : "XZY" === t ? (this._z = Math.asin(-i(a, -1, 1)), Math.abs(a) < .9999999 ? (this._x = Math.atan2(d, l), this._y = Math.atan2(s, o)) : (this._x = Math.atan2(-u, p), this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + t), this._order = t, !1 !== n && this._onChangeCallback(), this
                },
                setFromQuaternion: function(e, t, n) {
                    return qn.makeRotationFromQuaternion(e), this.setFromRotationMatrix(qn, t, n)
                },
                setFromVector3: function(e, t) {
                    return this.set(e.x, e.y, e.z, t || this._order)
                },
                reorder: function(e) {
                    return Yn.setFromEuler(this), this.setFromQuaternion(Yn, e)
                },
                equals: function(e) {
                    return e._x === this._x && e._y === this._y && e._z === this._z && e._order === this._order
                },
                fromArray: function(e) {
                    return this._x = e[0], this._y = e[1], this._z = e[2], void 0 !== e[3] && (this._order = e[3]), this._onChangeCallback(), this
                },
                toArray: function(e, t) {
                    return void 0 === e && (e = []), void 0 === t && (t = 0), e[t] = this._x, e[t + 1] = this._y, e[t + 2] = this._z, e[t + 3] = this._order, e
                },
                toVector3: function(e) {
                    return e ? e.set(this._x, this._y, this._z) : new Fn(this._x, this._y, this._z)
                },
                _onChange: function(e) {
                    return this._onChangeCallback = e, this
                },
                _onChangeCallback: function() {}
            }), Object.assign(Zn.prototype, {
                set: function(e) {
                    this.mask = 1 << e | 0
                },
                enable: function(e) {
                    this.mask |= 1 << e | 0
                },
                enableAll: function() {
                    this.mask = -1
                },
                toggle: function(e) {
                    this.mask ^= 1 << e | 0
                },
                disable: function(e) {
                    this.mask &= ~(1 << e | 0)
                },
                disableAll: function() {
                    this.mask = 0
                },
                test: function(e) {
                    return 0 != (this.mask & e.mask)
                }
            });
            var Jn = 0,
                Kn = new Fn,
                Qn = new In,
                $n = new Wn,
                ei = new Fn,
                ti = new Fn,
                ni = new Fn,
                ii = new In,
                ri = new Fn(1, 0, 0),
                oi = new Fn(0, 1, 0),
                ai = new Fn(0, 0, 1),
                si = {
                    type: "added"
                },
                ci = {
                    type: "removed"
                };

            function li() {
                Object.defineProperty(this, "id", {
                    value: Jn++
                }), this.uuid = Sn.generateUUID(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = li.DefaultUp.clone();
                var e = new Fn,
                    t = new Xn,
                    n = new In,
                    i = new Fn(1, 1, 1);
                t._onChange((function() {
                    n.setFromEuler(t, !1)
                })), n._onChange((function() {
                    t.setFromQuaternion(n, void 0, !1)
                })), Object.defineProperties(this, {
                    position: {
                        configurable: !0,
                        enumerable: !0,
                        value: e
                    },
                    rotation: {
                        configurable: !0,
                        enumerable: !0,
                        value: t
                    },
                    quaternion: {
                        configurable: !0,
                        enumerable: !0,
                        value: n
                    },
                    scale: {
                        configurable: !0,
                        enumerable: !0,
                        value: i
                    },
                    modelViewMatrix: {
                        value: new Wn
                    },
                    normalMatrix: {
                        value: new An
                    }
                }), this.matrix = new Wn, this.matrixWorld = new Wn, this.matrixAutoUpdate = li.DefaultMatrixAutoUpdate, this.matrixWorldNeedsUpdate = !1, this.layers = new Zn, this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.userData = {}
            }

            function ui() {
                li.call(this), this.type = "Scene", this.background = null, this.environment = null, this.fog = null, this.overrideMaterial = null, this.autoUpdate = !0, "undefined" != typeof __THREE_DEVTOOLS__ && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", {
                    detail: this
                }))
            }
            li.DefaultUp = new Fn(0, 1, 0), li.DefaultMatrixAutoUpdate = !0, li.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: li,
                isObject3D: !0,
                onBeforeRender: function() {},
                onAfterRender: function() {},
                applyMatrix4: function(e) {
                    this.matrixAutoUpdate && this.updateMatrix(), this.matrix.premultiply(e), this.matrix.decompose(this.position, this.quaternion, this.scale)
                },
                applyQuaternion: function(e) {
                    return this.quaternion.premultiply(e), this
                },
                setRotationFromAxisAngle: function(e, t) {
                    this.quaternion.setFromAxisAngle(e, t)
                },
                setRotationFromEuler: function(e) {
                    this.quaternion.setFromEuler(e, !0)
                },
                setRotationFromMatrix: function(e) {
                    this.quaternion.setFromRotationMatrix(e)
                },
                setRotationFromQuaternion: function(e) {
                    this.quaternion.copy(e)
                },
                rotateOnAxis: function(e, t) {
                    return Qn.setFromAxisAngle(e, t), this.quaternion.multiply(Qn), this
                },
                rotateOnWorldAxis: function(e, t) {
                    return Qn.setFromAxisAngle(e, t), this.quaternion.premultiply(Qn), this
                },
                rotateX: function(e) {
                    return this.rotateOnAxis(ri, e)
                },
                rotateY: function(e) {
                    return this.rotateOnAxis(oi, e)
                },
                rotateZ: function(e) {
                    return this.rotateOnAxis(ai, e)
                },
                translateOnAxis: function(e, t) {
                    return Kn.copy(e).applyQuaternion(this.quaternion), this.position.add(Kn.multiplyScalar(t)), this
                },
                translateX: function(e) {
                    return this.translateOnAxis(ri, e)
                },
                translateY: function(e) {
                    return this.translateOnAxis(oi, e)
                },
                translateZ: function(e) {
                    return this.translateOnAxis(ai, e)
                },
                localToWorld: function(e) {
                    return e.applyMatrix4(this.matrixWorld)
                },
                worldToLocal: function(e) {
                    return e.applyMatrix4($n.getInverse(this.matrixWorld))
                },
                lookAt: function(e, t, n) {
                    e.isVector3 ? ei.copy(e) : ei.set(e, t, n);
                    var i = this.parent;
                    this.updateWorldMatrix(!0, !1), ti.setFromMatrixPosition(this.matrixWorld), this.isCamera || this.isLight ? $n.lookAt(ti, ei, this.up) : $n.lookAt(ei, ti, this.up), this.quaternion.setFromRotationMatrix($n), i && ($n.extractRotation(i.matrixWorld), Qn.setFromRotationMatrix($n), this.quaternion.premultiply(Qn.inverse()))
                },
                add: function(e) {
                    if (arguments.length > 1) {
                        for (var t = 0; t < arguments.length; t++) this.add(arguments[t]);
                        return this
                    }
                    return e === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", e), this) : (e && e.isObject3D ? (null !== e.parent && e.parent.remove(e), e.parent = this, this.children.push(e), e.dispatchEvent(si)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", e), this)
                },
                remove: function(e) {
                    if (arguments.length > 1) {
                        for (var t = 0; t < arguments.length; t++) this.remove(arguments[t]);
                        return this
                    }
                    var n = this.children.indexOf(e);
                    return -1 !== n && (e.parent = null, this.children.splice(n, 1), e.dispatchEvent(ci)), this
                },
                attach: function(e) {
                    return this.updateWorldMatrix(!0, !1), $n.getInverse(this.matrixWorld), null !== e.parent && (e.parent.updateWorldMatrix(!0, !1), $n.multiply(e.parent.matrixWorld)), e.applyMatrix4($n), e.updateWorldMatrix(!1, !1), this.add(e), this
                },
                getObjectById: function(e) {
                    return this.getObjectByProperty("id", e)
                },
                getObjectByName: function(e) {
                    return this.getObjectByProperty("name", e)
                },
                getObjectByProperty: function(e, t) {
                    if (this[e] === t) return this;
                    for (var n = 0, i = this.children.length; n < i; n++) {
                        var r = this.children[n].getObjectByProperty(e, t);
                        if (void 0 !== r) return r
                    }
                },
                getWorldPosition: function(e) {
                    return void 0 === e && (console.warn("THREE.Object3D: .getWorldPosition() target is now required"), e = new Fn), this.updateMatrixWorld(!0), e.setFromMatrixPosition(this.matrixWorld)
                },
                getWorldQuaternion: function(e) {
                    return void 0 === e && (console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"), e = new In), this.updateMatrixWorld(!0), this.matrixWorld.decompose(ti, e, ni), e
                },
                getWorldScale: function(e) {
                    return void 0 === e && (console.warn("THREE.Object3D: .getWorldScale() target is now required"), e = new Fn), this.updateMatrixWorld(!0), this.matrixWorld.decompose(ti, ii, e), e
                },
                getWorldDirection: function(e) {
                    void 0 === e && (console.warn("THREE.Object3D: .getWorldDirection() target is now required"), e = new Fn), this.updateMatrixWorld(!0);
                    var t = this.matrixWorld.elements;
                    return e.set(t[8], t[9], t[10]).normalize()
                },
                raycast: function() {},
                traverse: function(e) {
                    e(this);
                    for (var t = this.children, n = 0, i = t.length; n < i; n++) t[n].traverse(e)
                },
                traverseVisible: function(e) {
                    if (!1 !== this.visible) {
                        e(this);
                        for (var t = this.children, n = 0, i = t.length; n < i; n++) t[n].traverseVisible(e)
                    }
                },
                traverseAncestors: function(e) {
                    var t = this.parent;
                    null !== t && (e(t), t.traverseAncestors(e))
                },
                updateMatrix: function() {
                    this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0
                },
                updateMatrixWorld: function(e) {
                    this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || e) && (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, e = !0);
                    for (var t = this.children, n = 0, i = t.length; n < i; n++) t[n].updateMatrixWorld(e)
                },
                updateWorldMatrix: function(e, t) {
                    var n = this.parent;
                    if (!0 === e && null !== n && n.updateWorldMatrix(!0, !1), this.matrixAutoUpdate && this.updateMatrix(), null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), !0 === t)
                        for (var i = this.children, r = 0, o = i.length; r < o; r++) i[r].updateWorldMatrix(!1, !0)
                },
                toJSON: function(e) {
                    var t = void 0 === e || "string" == typeof e,
                        n = {};
                    t && (e = {
                        geometries: {},
                        materials: {},
                        textures: {},
                        images: {},
                        shapes: {}
                    }, n.metadata = {
                        version: 4.5,
                        type: "Object",
                        generator: "Object3D.toJSON"
                    });
                    var i = {};

                    function r(t, n) {
                        return void 0 === t[n.uuid] && (t[n.uuid] = n.toJSON(e)), n.uuid
                    }
                    if (i.uuid = this.uuid, i.type = this.type, "" !== this.name && (i.name = this.name), !0 === this.castShadow && (i.castShadow = !0), !0 === this.receiveShadow && (i.receiveShadow = !0), !1 === this.visible && (i.visible = !1), !1 === this.frustumCulled && (i.frustumCulled = !1), 0 !== this.renderOrder && (i.renderOrder = this.renderOrder), "{}" !== JSON.stringify(this.userData) && (i.userData = this.userData), i.layers = this.layers.mask, i.matrix = this.matrix.toArray(), !1 === this.matrixAutoUpdate && (i.matrixAutoUpdate = !1), this.isInstancedMesh && (i.type = "InstancedMesh", i.count = this.count, i.instanceMatrix = this.instanceMatrix.toJSON()), this.isMesh || this.isLine || this.isPoints) {
                        i.geometry = r(e.geometries, this.geometry);
                        var o = this.geometry.parameters;
                        if (void 0 !== o && void 0 !== o.shapes) {
                            var a = o.shapes;
                            if (Array.isArray(a))
                                for (var s = 0, c = a.length; s < c; s++) {
                                    var l = a[s];
                                    r(e.shapes, l)
                                } else r(e.shapes, a)
                        }
                    }
                    if (void 0 !== this.material)
                        if (Array.isArray(this.material)) {
                            var u = [];
                            for (s = 0, c = this.material.length; s < c; s++) u.push(r(e.materials, this.material[s]));
                            i.material = u
                        } else i.material = r(e.materials, this.material);
                    if (this.children.length > 0) {
                        i.children = [];
                        for (s = 0; s < this.children.length; s++) i.children.push(this.children[s].toJSON(e).object)
                    }
                    if (t) {
                        var h = m(e.geometries),
                            d = m(e.materials),
                            p = m(e.textures),
                            f = m(e.images);
                        a = m(e.shapes);
                        h.length > 0 && (n.geometries = h), d.length > 0 && (n.materials = d), p.length > 0 && (n.textures = p), f.length > 0 && (n.images = f), a.length > 0 && (n.shapes = a)
                    }
                    return n.object = i, n;

                    function m(e) {
                        var t = [];
                        for (var n in e) {
                            var i = e[n];
                            delete i.metadata, t.push(i)
                        }
                        return t
                    }
                },
                clone: function(e) {
                    return (new this.constructor).copy(this, e)
                },
                copy: function(e, t) {
                    if (void 0 === t && (t = !0), this.name = e.name, this.up.copy(e.up), this.position.copy(e.position), this.quaternion.copy(e.quaternion), this.scale.copy(e.scale), this.matrix.copy(e.matrix), this.matrixWorld.copy(e.matrixWorld), this.matrixAutoUpdate = e.matrixAutoUpdate, this.matrixWorldNeedsUpdate = e.matrixWorldNeedsUpdate, this.layers.mask = e.layers.mask, this.visible = e.visible, this.castShadow = e.castShadow, this.receiveShadow = e.receiveShadow, this.frustumCulled = e.frustumCulled, this.renderOrder = e.renderOrder, this.userData = JSON.parse(JSON.stringify(e.userData)), !0 === t)
                        for (var n = 0; n < e.children.length; n++) {
                            var i = e.children[n];
                            this.add(i.clone())
                        }
                    return this
                }
            }), ui.prototype = Object.assign(Object.create(li.prototype), {
                constructor: ui,
                isScene: !0,
                copy: function(e, t) {
                    return li.prototype.copy.call(this, e, t), null !== e.background && (this.background = e.background.clone()), null !== e.environment && (this.environment = e.environment.clone()), null !== e.fog && (this.fog = e.fog.clone()), null !== e.overrideMaterial && (this.overrideMaterial = e.overrideMaterial.clone()), this.autoUpdate = e.autoUpdate, this.matrixAutoUpdate = e.matrixAutoUpdate, this
                },
                toJSON: function(e) {
                    var t = li.prototype.toJSON.call(this, e);
                    return null !== this.background && (t.object.background = this.background.toJSON(e)), null !== this.environment && (t.object.environment = this.environment.toJSON(e)), null !== this.fog && (t.object.fog = this.fog.toJSON()), t
                },
                dispose: function() {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            });
            var hi = [new Fn, new Fn, new Fn, new Fn, new Fn, new Fn, new Fn, new Fn],
                di = new Fn,
                pi = new Ti,
                fi = new Fn,
                mi = new Fn,
                vi = new Fn,
                gi = new Fn,
                yi = new Fn,
                bi = new Fn,
                xi = new Fn,
                wi = new Fn,
                _i = new Fn,
                Mi = new Fn;

            function Ti(e, t) {
                this.min = void 0 !== e ? e : new Fn(1 / 0, 1 / 0, 1 / 0), this.max = void 0 !== t ? t : new Fn(-1 / 0, -1 / 0, -1 / 0)
            }

            function Si(e, t, n, i, r) {
                var o, a;
                for (o = 0, a = e.length - 3; o <= a; o += 3) {
                    Mi.fromArray(e, o);
                    var s = r.x * Math.abs(Mi.x) + r.y * Math.abs(Mi.y) + r.z * Math.abs(Mi.z),
                        c = t.dot(Mi),
                        l = n.dot(Mi),
                        u = i.dot(Mi);
                    if (Math.max(-Math.max(c, l, u), Math.min(c, l, u)) > s) return !1
                }
                return !0
            }
            Object.assign(Ti.prototype, {
                isBox3: !0,
                set: function(e, t) {
                    return this.min.copy(e), this.max.copy(t), this
                },
                setFromArray: function(e) {
                    for (var t = 1 / 0, n = 1 / 0, i = 1 / 0, r = -1 / 0, o = -1 / 0, a = -1 / 0, s = 0, c = e.length; s < c; s += 3) {
                        var l = e[s],
                            u = e[s + 1],
                            h = e[s + 2];
                        l < t && (t = l), u < n && (n = u), h < i && (i = h), l > r && (r = l), u > o && (o = u), h > a && (a = h)
                    }
                    return this.min.set(t, n, i), this.max.set(r, o, a), this
                },
                setFromBufferAttribute: function(e) {
                    for (var t = 1 / 0, n = 1 / 0, i = 1 / 0, r = -1 / 0, o = -1 / 0, a = -1 / 0, s = 0, c = e.count; s < c; s++) {
                        var l = e.getX(s),
                            u = e.getY(s),
                            h = e.getZ(s);
                        l < t && (t = l), u < n && (n = u), h < i && (i = h), l > r && (r = l), u > o && (o = u), h > a && (a = h)
                    }
                    return this.min.set(t, n, i), this.max.set(r, o, a), this
                },
                setFromPoints: function(e) {
                    this.makeEmpty();
                    for (var t = 0, n = e.length; t < n; t++) this.expandByPoint(e[t]);
                    return this
                },
                setFromCenterAndSize: function(e, t) {
                    var n = di.copy(t).multiplyScalar(.5);
                    return this.min.copy(e).sub(n), this.max.copy(e).add(n), this
                },
                setFromObject: function(e) {
                    return this.makeEmpty(), this.expandByObject(e)
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    return this.min.copy(e.min), this.max.copy(e.max), this
                },
                makeEmpty: function() {
                    return this.min.x = this.min.y = this.min.z = 1 / 0, this.max.x = this.max.y = this.max.z = -1 / 0, this
                },
                isEmpty: function() {
                    return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
                },
                getCenter: function(e) {
                    return void 0 === e && (console.warn("THREE.Box3: .getCenter() target is now required"), e = new Fn), this.isEmpty() ? e.set(0, 0, 0) : e.addVectors(this.min, this.max).multiplyScalar(.5)
                },
                getSize: function(e) {
                    return void 0 === e && (console.warn("THREE.Box3: .getSize() target is now required"), e = new Fn), this.isEmpty() ? e.set(0, 0, 0) : e.subVectors(this.max, this.min)
                },
                expandByPoint: function(e) {
                    return this.min.min(e), this.max.max(e), this
                },
                expandByVector: function(e) {
                    return this.min.sub(e), this.max.add(e), this
                },
                expandByScalar: function(e) {
                    return this.min.addScalar(-e), this.max.addScalar(e), this
                },
                expandByObject: function(e) {
                    e.updateWorldMatrix(!1, !1);
                    var t = e.geometry;
                    void 0 !== t && (null === t.boundingBox && t.computeBoundingBox(), pi.copy(t.boundingBox), pi.applyMatrix4(e.matrixWorld), this.expandByPoint(pi.min), this.expandByPoint(pi.max));
                    for (var n = e.children, i = 0, r = n.length; i < r; i++) this.expandByObject(n[i]);
                    return this
                },
                containsPoint: function(e) {
                    return !(e.x < this.min.x || e.x > this.max.x || e.y < this.min.y || e.y > this.max.y || e.z < this.min.z || e.z > this.max.z)
                },
                containsBox: function(e) {
                    return this.min.x <= e.min.x && e.max.x <= this.max.x && this.min.y <= e.min.y && e.max.y <= this.max.y && this.min.z <= e.min.z && e.max.z <= this.max.z
                },
                getParameter: function(e, t) {
                    return void 0 === t && (console.warn("THREE.Box3: .getParameter() target is now required"), t = new Fn), t.set((e.x - this.min.x) / (this.max.x - this.min.x), (e.y - this.min.y) / (this.max.y - this.min.y), (e.z - this.min.z) / (this.max.z - this.min.z))
                },
                intersectsBox: function(e) {
                    return !(e.max.x < this.min.x || e.min.x > this.max.x || e.max.y < this.min.y || e.min.y > this.max.y || e.max.z < this.min.z || e.min.z > this.max.z)
                },
                intersectsSphere: function(e) {
                    return this.clampPoint(e.center, di), di.distanceToSquared(e.center) <= e.radius * e.radius
                },
                intersectsPlane: function(e) {
                    var t, n;
                    return e.normal.x > 0 ? (t = e.normal.x * this.min.x, n = e.normal.x * this.max.x) : (t = e.normal.x * this.max.x, n = e.normal.x * this.min.x), e.normal.y > 0 ? (t += e.normal.y * this.min.y, n += e.normal.y * this.max.y) : (t += e.normal.y * this.max.y, n += e.normal.y * this.min.y), e.normal.z > 0 ? (t += e.normal.z * this.min.z, n += e.normal.z * this.max.z) : (t += e.normal.z * this.max.z, n += e.normal.z * this.min.z), t <= -e.constant && n >= -e.constant
                },
                intersectsTriangle: function(e) {
                    if (this.isEmpty()) return !1;
                    this.getCenter(xi), wi.subVectors(this.max, xi), fi.subVectors(e.a, xi), mi.subVectors(e.b, xi), vi.subVectors(e.c, xi), gi.subVectors(mi, fi), yi.subVectors(vi, mi), bi.subVectors(fi, vi);
                    var t = [0, -gi.z, gi.y, 0, -yi.z, yi.y, 0, -bi.z, bi.y, gi.z, 0, -gi.x, yi.z, 0, -yi.x, bi.z, 0, -bi.x, -gi.y, gi.x, 0, -yi.y, yi.x, 0, -bi.y, bi.x, 0];
                    return !!Si(t, fi, mi, vi, wi) && (!!Si(t = [1, 0, 0, 0, 1, 0, 0, 0, 1], fi, mi, vi, wi) && (_i.crossVectors(gi, yi), Si(t = [_i.x, _i.y, _i.z], fi, mi, vi, wi)))
                },
                clampPoint: function(e, t) {
                    return void 0 === t && (console.warn("THREE.Box3: .clampPoint() target is now required"), t = new Fn), t.copy(e).clamp(this.min, this.max)
                },
                distanceToPoint: function(e) {
                    return di.copy(e).clamp(this.min, this.max).sub(e).length()
                },
                getBoundingSphere: function(e) {
                    return void 0 === e && console.error("THREE.Box3: .getBoundingSphere() target is now required"), this.getCenter(e.center), e.radius = .5 * this.getSize(di).length(), e
                },
                intersect: function(e) {
                    return this.min.max(e.min), this.max.min(e.max), this.isEmpty() && this.makeEmpty(), this
                },
                union: function(e) {
                    return this.min.min(e.min), this.max.max(e.max), this
                },
                applyMatrix4: function(e) {
                    return this.isEmpty() || (hi[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(e), hi[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(e), hi[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(e), hi[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(e), hi[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(e), hi[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(e), hi[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(e), hi[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(e), this.setFromPoints(hi)), this
                },
                translate: function(e) {
                    return this.min.add(e), this.max.add(e), this
                },
                equals: function(e) {
                    return e.min.equals(this.min) && e.max.equals(this.max)
                }
            });
            var Ei = new Ti;

            function Ai(e, t) {
                this.center = void 0 !== e ? e : new Fn, this.radius = void 0 !== t ? t : 0
            }
            Object.assign(Ai.prototype, {
                set: function(e, t) {
                    return this.center.copy(e), this.radius = t, this
                },
                setFromPoints: function(e, t) {
                    var n = this.center;
                    void 0 !== t ? n.copy(t) : Ei.setFromPoints(e).getCenter(n);
                    for (var i = 0, r = 0, o = e.length; r < o; r++) i = Math.max(i, n.distanceToSquared(e[r]));
                    return this.radius = Math.sqrt(i), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    return this.center.copy(e.center), this.radius = e.radius, this
                },
                empty: function() {
                    return this.radius <= 0
                },
                containsPoint: function(e) {
                    return e.distanceToSquared(this.center) <= this.radius * this.radius
                },
                distanceToPoint: function(e) {
                    return e.distanceTo(this.center) - this.radius
                },
                intersectsSphere: function(e) {
                    var t = this.radius + e.radius;
                    return e.center.distanceToSquared(this.center) <= t * t
                },
                intersectsBox: function(e) {
                    return e.intersectsSphere(this)
                },
                intersectsPlane: function(e) {
                    return Math.abs(e.distanceToPoint(this.center)) <= this.radius
                },
                clampPoint: function(e, t) {
                    var n = this.center.distanceToSquared(e);
                    return void 0 === t && (console.warn("THREE.Sphere: .clampPoint() target is now required"), t = new Fn), t.copy(e), n > this.radius * this.radius && (t.sub(this.center).normalize(), t.multiplyScalar(this.radius).add(this.center)), t
                },
                getBoundingBox: function(e) {
                    return void 0 === e && (console.warn("THREE.Sphere: .getBoundingBox() target is now required"), e = new Ti), e.set(this.center, this.center), e.expandByScalar(this.radius), e
                },
                applyMatrix4: function(e) {
                    return this.center.applyMatrix4(e), this.radius = this.radius * e.getMaxScaleOnAxis(), this
                },
                translate: function(e) {
                    return this.center.add(e), this
                },
                equals: function(e) {
                    return e.center.equals(this.center) && e.radius === this.radius
                }
            });
            var Pi = new Fn,
                Li = new Fn,
                Ci = new Fn,
                Ri = new Fn,
                Oi = new Fn,
                Di = new Fn,
                Ii = new Fn;

            function ji(e, t) {
                this.origin = void 0 !== e ? e : new Fn, this.direction = void 0 !== t ? t : new Fn(0, 0, -1)
            }
            Object.assign(ji.prototype, {
                set: function(e, t) {
                    return this.origin.copy(e), this.direction.copy(t), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    return this.origin.copy(e.origin), this.direction.copy(e.direction), this
                },
                at: function(e, t) {
                    return void 0 === t && (console.warn("THREE.Ray: .at() target is now required"), t = new Fn), t.copy(this.direction).multiplyScalar(e).add(this.origin)
                },
                lookAt: function(e) {
                    return this.direction.copy(e).sub(this.origin).normalize(), this
                },
                recast: function(e) {
                    return this.origin.copy(this.at(e, Pi)), this
                },
                closestPointToPoint: function(e, t) {
                    void 0 === t && (console.warn("THREE.Ray: .closestPointToPoint() target is now required"), t = new Fn), t.subVectors(e, this.origin);
                    var n = t.dot(this.direction);
                    return n < 0 ? t.copy(this.origin) : t.copy(this.direction).multiplyScalar(n).add(this.origin)
                },
                distanceToPoint: function(e) {
                    return Math.sqrt(this.distanceSqToPoint(e))
                },
                distanceSqToPoint: function(e) {
                    var t = Pi.subVectors(e, this.origin).dot(this.direction);
                    return t < 0 ? this.origin.distanceToSquared(e) : (Pi.copy(this.direction).multiplyScalar(t).add(this.origin), Pi.distanceToSquared(e))
                },
                distanceSqToSegment: function(e, t, n, i) {
                    Li.copy(e).add(t).multiplyScalar(.5), Ci.copy(t).sub(e).normalize(), Ri.copy(this.origin).sub(Li);
                    var r, o, a, s, c = .5 * e.distanceTo(t),
                        l = -this.direction.dot(Ci),
                        u = Ri.dot(this.direction),
                        h = -Ri.dot(Ci),
                        d = Ri.lengthSq(),
                        p = Math.abs(1 - l * l);
                    if (p > 0)
                        if (o = l * u - h, s = c * p, (r = l * h - u) >= 0)
                            if (o >= -s)
                                if (o <= s) {
                                    var f = 1 / p;
                                    a = (r *= f) * (r + l * (o *= f) + 2 * u) + o * (l * r + o + 2 * h) + d
                                } else o = c, a = -(r = Math.max(0, -(l * o + u))) * r + o * (o + 2 * h) + d;
                    else o = -c, a = -(r = Math.max(0, -(l * o + u))) * r + o * (o + 2 * h) + d;
                    else o <= -s ? a = -(r = Math.max(0, -(-l * c + u))) * r + (o = r > 0 ? -c : Math.min(Math.max(-c, -h), c)) * (o + 2 * h) + d : o <= s ? (r = 0, a = (o = Math.min(Math.max(-c, -h), c)) * (o + 2 * h) + d) : a = -(r = Math.max(0, -(l * c + u))) * r + (o = r > 0 ? c : Math.min(Math.max(-c, -h), c)) * (o + 2 * h) + d;
                    else o = l > 0 ? -c : c, a = -(r = Math.max(0, -(l * o + u))) * r + o * (o + 2 * h) + d;
                    return n && n.copy(this.direction).multiplyScalar(r).add(this.origin), i && i.copy(Ci).multiplyScalar(o).add(Li), a
                },
                intersectSphere: function(e, t) {
                    Pi.subVectors(e.center, this.origin);
                    var n = Pi.dot(this.direction),
                        i = Pi.dot(Pi) - n * n,
                        r = e.radius * e.radius;
                    if (i > r) return null;
                    var o = Math.sqrt(r - i),
                        a = n - o,
                        s = n + o;
                    return a < 0 && s < 0 ? null : a < 0 ? this.at(s, t) : this.at(a, t)
                },
                intersectsSphere: function(e) {
                    return this.distanceSqToPoint(e.center) <= e.radius * e.radius
                },
                distanceToPlane: function(e) {
                    var t = e.normal.dot(this.direction);
                    if (0 === t) return 0 === e.distanceToPoint(this.origin) ? 0 : null;
                    var n = -(this.origin.dot(e.normal) + e.constant) / t;
                    return n >= 0 ? n : null
                },
                intersectPlane: function(e, t) {
                    var n = this.distanceToPlane(e);
                    return null === n ? null : this.at(n, t)
                },
                intersectsPlane: function(e) {
                    var t = e.distanceToPoint(this.origin);
                    return 0 === t || e.normal.dot(this.direction) * t < 0
                },
                intersectBox: function(e, t) {
                    var n, i, r, o, a, s, c = 1 / this.direction.x,
                        l = 1 / this.direction.y,
                        u = 1 / this.direction.z,
                        h = this.origin;
                    return c >= 0 ? (n = (e.min.x - h.x) * c, i = (e.max.x - h.x) * c) : (n = (e.max.x - h.x) * c, i = (e.min.x - h.x) * c), l >= 0 ? (r = (e.min.y - h.y) * l, o = (e.max.y - h.y) * l) : (r = (e.max.y - h.y) * l, o = (e.min.y - h.y) * l), n > o || r > i ? null : ((r > n || n != n) && (n = r), (o < i || i != i) && (i = o), u >= 0 ? (a = (e.min.z - h.z) * u, s = (e.max.z - h.z) * u) : (a = (e.max.z - h.z) * u, s = (e.min.z - h.z) * u), n > s || a > i ? null : ((a > n || n != n) && (n = a), (s < i || i != i) && (i = s), i < 0 ? null : this.at(n >= 0 ? n : i, t)))
                },
                intersectsBox: function(e) {
                    return null !== this.intersectBox(e, Pi)
                },
                intersectTriangle: function(e, t, n, i, r) {
                    Oi.subVectors(t, e), Di.subVectors(n, e), Ii.crossVectors(Oi, Di);
                    var o, a = this.direction.dot(Ii);
                    if (a > 0) {
                        if (i) return null;
                        o = 1
                    } else {
                        if (!(a < 0)) return null;
                        o = -1, a = -a
                    }
                    Ri.subVectors(this.origin, e);
                    var s = o * this.direction.dot(Di.crossVectors(Ri, Di));
                    if (s < 0) return null;
                    var c = o * this.direction.dot(Oi.cross(Ri));
                    if (c < 0) return null;
                    if (s + c > a) return null;
                    var l = -o * Ri.dot(Ii);
                    return l < 0 ? null : this.at(l / a, r)
                },
                applyMatrix4: function(e) {
                    return this.origin.applyMatrix4(e), this.direction.transformDirection(e), this
                },
                equals: function(e) {
                    return e.origin.equals(this.origin) && e.direction.equals(this.direction)
                }
            });
            var ki = new Fn,
                Fi = new Fn,
                Ni = new An;

            function zi(e, t) {
                this.normal = void 0 !== e ? e : new Fn(1, 0, 0), this.constant = void 0 !== t ? t : 0
            }
            Object.assign(zi.prototype, {
                isPlane: !0,
                set: function(e, t) {
                    return this.normal.copy(e), this.constant = t, this
                },
                setComponents: function(e, t, n, i) {
                    return this.normal.set(e, t, n), this.constant = i, this
                },
                setFromNormalAndCoplanarPoint: function(e, t) {
                    return this.normal.copy(e), this.constant = -t.dot(this.normal), this
                },
                setFromCoplanarPoints: function(e, t, n) {
                    var i = ki.subVectors(n, t).cross(Fi.subVectors(e, t)).normalize();
                    return this.setFromNormalAndCoplanarPoint(i, e), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    return this.normal.copy(e.normal), this.constant = e.constant, this
                },
                normalize: function() {
                    var e = 1 / this.normal.length();
                    return this.normal.multiplyScalar(e), this.constant *= e, this
                },
                negate: function() {
                    return this.constant *= -1, this.normal.negate(), this
                },
                distanceToPoint: function(e) {
                    return this.normal.dot(e) + this.constant
                },
                distanceToSphere: function(e) {
                    return this.distanceToPoint(e.center) - e.radius
                },
                projectPoint: function(e, t) {
                    return void 0 === t && (console.warn("THREE.Plane: .projectPoint() target is now required"), t = new Fn), t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)
                },
                intersectLine: function(e, t) {
                    void 0 === t && (console.warn("THREE.Plane: .intersectLine() target is now required"), t = new Fn);
                    var n = e.delta(ki),
                        i = this.normal.dot(n);
                    if (0 === i) return 0 === this.distanceToPoint(e.start) ? t.copy(e.start) : void 0;
                    var r = -(e.start.dot(this.normal) + this.constant) / i;
                    return r < 0 || r > 1 ? void 0 : t.copy(n).multiplyScalar(r).add(e.start)
                },
                intersectsLine: function(e) {
                    var t = this.distanceToPoint(e.start),
                        n = this.distanceToPoint(e.end);
                    return t < 0 && n > 0 || n < 0 && t > 0
                },
                intersectsBox: function(e) {
                    return e.intersectsPlane(this)
                },
                intersectsSphere: function(e) {
                    return e.intersectsPlane(this)
                },
                coplanarPoint: function(e) {
                    return void 0 === e && (console.warn("THREE.Plane: .coplanarPoint() target is now required"), e = new Fn), e.copy(this.normal).multiplyScalar(-this.constant)
                },
                applyMatrix4: function(e, t) {
                    var n = t || Ni.getNormalMatrix(e),
                        i = this.coplanarPoint(ki).applyMatrix4(e),
                        r = this.normal.applyMatrix3(n).normalize();
                    return this.constant = -i.dot(r), this
                },
                translate: function(e) {
                    return this.constant -= e.dot(this.normal), this
                },
                equals: function(e) {
                    return e.normal.equals(this.normal) && e.constant === this.constant
                }
            });
            var Bi = new Fn,
                Ui = new Fn,
                Vi = new Fn,
                Hi = new Fn,
                Gi = new Fn,
                Wi = new Fn,
                qi = new Fn,
                Yi = new Fn,
                Xi = new Fn,
                Zi = new Fn;

            function Ji(e, t, n) {
                this.a = void 0 !== e ? e : new Fn, this.b = void 0 !== t ? t : new Fn, this.c = void 0 !== n ? n : new Fn
            }
            Object.assign(Ji, {
                getNormal: function(e, t, n, i) {
                    void 0 === i && (console.warn("THREE.Triangle: .getNormal() target is now required"), i = new Fn), i.subVectors(n, t), Bi.subVectors(e, t), i.cross(Bi);
                    var r = i.lengthSq();
                    return r > 0 ? i.multiplyScalar(1 / Math.sqrt(r)) : i.set(0, 0, 0)
                },
                getBarycoord: function(e, t, n, i, r) {
                    Bi.subVectors(i, t), Ui.subVectors(n, t), Vi.subVectors(e, t);
                    var o = Bi.dot(Bi),
                        a = Bi.dot(Ui),
                        s = Bi.dot(Vi),
                        c = Ui.dot(Ui),
                        l = Ui.dot(Vi),
                        u = o * c - a * a;
                    if (void 0 === r && (console.warn("THREE.Triangle: .getBarycoord() target is now required"), r = new Fn), 0 === u) return r.set(-2, -1, -1);
                    var h = 1 / u,
                        d = (c * s - a * l) * h,
                        p = (o * l - a * s) * h;
                    return r.set(1 - d - p, p, d)
                },
                containsPoint: function(e, t, n, i) {
                    return Ji.getBarycoord(e, t, n, i, Hi), Hi.x >= 0 && Hi.y >= 0 && Hi.x + Hi.y <= 1
                },
                getUV: function(e, t, n, i, r, o, a, s) {
                    return this.getBarycoord(e, t, n, i, Hi), s.set(0, 0), s.addScaledVector(r, Hi.x), s.addScaledVector(o, Hi.y), s.addScaledVector(a, Hi.z), s
                },
                isFrontFacing: function(e, t, n, i) {
                    return Bi.subVectors(n, t), Ui.subVectors(e, t), Bi.cross(Ui).dot(i) < 0
                }
            }), Object.assign(Ji.prototype, {
                set: function(e, t, n) {
                    return this.a.copy(e), this.b.copy(t), this.c.copy(n), this
                },
                setFromPointsAndIndices: function(e, t, n, i) {
                    return this.a.copy(e[t]), this.b.copy(e[n]), this.c.copy(e[i]), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    return this.a.copy(e.a), this.b.copy(e.b), this.c.copy(e.c), this
                },
                getArea: function() {
                    return Bi.subVectors(this.c, this.b), Ui.subVectors(this.a, this.b), .5 * Bi.cross(Ui).length()
                },
                getMidpoint: function(e) {
                    return void 0 === e && (console.warn("THREE.Triangle: .getMidpoint() target is now required"), e = new Fn), e.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
                },
                getNormal: function(e) {
                    return Ji.getNormal(this.a, this.b, this.c, e)
                },
                getPlane: function(e) {
                    return void 0 === e && (console.warn("THREE.Triangle: .getPlane() target is now required"), e = new zi), e.setFromCoplanarPoints(this.a, this.b, this.c)
                },
                getBarycoord: function(e, t) {
                    return Ji.getBarycoord(e, this.a, this.b, this.c, t)
                },
                getUV: function(e, t, n, i, r) {
                    return Ji.getUV(e, this.a, this.b, this.c, t, n, i, r)
                },
                containsPoint: function(e) {
                    return Ji.containsPoint(e, this.a, this.b, this.c)
                },
                isFrontFacing: function(e) {
                    return Ji.isFrontFacing(this.a, this.b, this.c, e)
                },
                intersectsBox: function(e) {
                    return e.intersectsTriangle(this)
                },
                closestPointToPoint: function(e, t) {
                    void 0 === t && (console.warn("THREE.Triangle: .closestPointToPoint() target is now required"), t = new Fn);
                    var n, i, r = this.a,
                        o = this.b,
                        a = this.c;
                    Gi.subVectors(o, r), Wi.subVectors(a, r), Yi.subVectors(e, r);
                    var s = Gi.dot(Yi),
                        c = Wi.dot(Yi);
                    if (s <= 0 && c <= 0) return t.copy(r);
                    Xi.subVectors(e, o);
                    var l = Gi.dot(Xi),
                        u = Wi.dot(Xi);
                    if (l >= 0 && u <= l) return t.copy(o);
                    var h = s * u - l * c;
                    if (h <= 0 && s >= 0 && l <= 0) return n = s / (s - l), t.copy(r).addScaledVector(Gi, n);
                    Zi.subVectors(e, a);
                    var d = Gi.dot(Zi),
                        p = Wi.dot(Zi);
                    if (p >= 0 && d <= p) return t.copy(a);
                    var f = d * c - s * p;
                    if (f <= 0 && c >= 0 && p <= 0) return i = c / (c - p), t.copy(r).addScaledVector(Wi, i);
                    var m = l * p - d * u;
                    if (m <= 0 && u - l >= 0 && d - p >= 0) return qi.subVectors(a, o), i = (u - l) / (u - l + (d - p)), t.copy(o).addScaledVector(qi, i);
                    var v = 1 / (m + f + h);
                    return n = f * v, i = h * v, t.copy(r).addScaledVector(Gi, n).addScaledVector(Wi, i)
                },
                equals: function(e) {
                    return e.a.equals(this.a) && e.b.equals(this.b) && e.c.equals(this.c)
                }
            });
            var Ki = {
                    aliceblue: 15792383,
                    antiquewhite: 16444375,
                    aqua: 65535,
                    aquamarine: 8388564,
                    azure: 15794175,
                    beige: 16119260,
                    bisque: 16770244,
                    black: 0,
                    blanchedalmond: 16772045,
                    blue: 255,
                    blueviolet: 9055202,
                    brown: 10824234,
                    burlywood: 14596231,
                    cadetblue: 6266528,
                    chartreuse: 8388352,
                    chocolate: 13789470,
                    coral: 16744272,
                    cornflowerblue: 6591981,
                    cornsilk: 16775388,
                    crimson: 14423100,
                    cyan: 65535,
                    darkblue: 139,
                    darkcyan: 35723,
                    darkgoldenrod: 12092939,
                    darkgray: 11119017,
                    darkgreen: 25600,
                    darkgrey: 11119017,
                    darkkhaki: 12433259,
                    darkmagenta: 9109643,
                    darkolivegreen: 5597999,
                    darkorange: 16747520,
                    darkorchid: 10040012,
                    darkred: 9109504,
                    darksalmon: 15308410,
                    darkseagreen: 9419919,
                    darkslateblue: 4734347,
                    darkslategray: 3100495,
                    darkslategrey: 3100495,
                    darkturquoise: 52945,
                    darkviolet: 9699539,
                    deeppink: 16716947,
                    deepskyblue: 49151,
                    dimgray: 6908265,
                    dimgrey: 6908265,
                    dodgerblue: 2003199,
                    firebrick: 11674146,
                    floralwhite: 16775920,
                    forestgreen: 2263842,
                    fuchsia: 16711935,
                    gainsboro: 14474460,
                    ghostwhite: 16316671,
                    gold: 16766720,
                    goldenrod: 14329120,
                    gray: 8421504,
                    green: 32768,
                    greenyellow: 11403055,
                    grey: 8421504,
                    honeydew: 15794160,
                    hotpink: 16738740,
                    indianred: 13458524,
                    indigo: 4915330,
                    ivory: 16777200,
                    khaki: 15787660,
                    lavender: 15132410,
                    lavenderblush: 16773365,
                    lawngreen: 8190976,
                    lemonchiffon: 16775885,
                    lightblue: 11393254,
                    lightcoral: 15761536,
                    lightcyan: 14745599,
                    lightgoldenrodyellow: 16448210,
                    lightgray: 13882323,
                    lightgreen: 9498256,
                    lightgrey: 13882323,
                    lightpink: 16758465,
                    lightsalmon: 16752762,
                    lightseagreen: 2142890,
                    lightskyblue: 8900346,
                    lightslategray: 7833753,
                    lightslategrey: 7833753,
                    lightsteelblue: 11584734,
                    lightyellow: 16777184,
                    lime: 65280,
                    limegreen: 3329330,
                    linen: 16445670,
                    magenta: 16711935,
                    maroon: 8388608,
                    mediumaquamarine: 6737322,
                    mediumblue: 205,
                    mediumorchid: 12211667,
                    mediumpurple: 9662683,
                    mediumseagreen: 3978097,
                    mediumslateblue: 8087790,
                    mediumspringgreen: 64154,
                    mediumturquoise: 4772300,
                    mediumvioletred: 13047173,
                    midnightblue: 1644912,
                    mintcream: 16121850,
                    mistyrose: 16770273,
                    moccasin: 16770229,
                    navajowhite: 16768685,
                    navy: 128,
                    oldlace: 16643558,
                    olive: 8421376,
                    olivedrab: 7048739,
                    orange: 16753920,
                    orangered: 16729344,
                    orchid: 14315734,
                    palegoldenrod: 15657130,
                    palegreen: 10025880,
                    paleturquoise: 11529966,
                    palevioletred: 14381203,
                    papayawhip: 16773077,
                    peachpuff: 16767673,
                    peru: 13468991,
                    pink: 16761035,
                    plum: 14524637,
                    powderblue: 11591910,
                    purple: 8388736,
                    rebeccapurple: 6697881,
                    red: 16711680,
                    rosybrown: 12357519,
                    royalblue: 4286945,
                    saddlebrown: 9127187,
                    salmon: 16416882,
                    sandybrown: 16032864,
                    seagreen: 3050327,
                    seashell: 16774638,
                    sienna: 10506797,
                    silver: 12632256,
                    skyblue: 8900331,
                    slateblue: 6970061,
                    slategray: 7372944,
                    slategrey: 7372944,
                    snow: 16775930,
                    springgreen: 65407,
                    steelblue: 4620980,
                    tan: 13808780,
                    teal: 32896,
                    thistle: 14204888,
                    tomato: 16737095,
                    turquoise: 4251856,
                    violet: 15631086,
                    wheat: 16113331,
                    white: 16777215,
                    whitesmoke: 16119285,
                    yellow: 16776960,
                    yellowgreen: 10145074
                },
                Qi = {
                    h: 0,
                    s: 0,
                    l: 0
                },
                $i = {
                    h: 0,
                    s: 0,
                    l: 0
                };

            function er(e, t, n) {
                return void 0 === t && void 0 === n ? this.set(e) : this.setRGB(e, t, n)
            }

            function tr(e, t, n) {
                return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + 6 * (t - e) * (2 / 3 - n) : e
            }

            function nr(e) {
                return e < .04045 ? .0773993808 * e : Math.pow(.9478672986 * e + .0521327014, 2.4)
            }

            function ir(e) {
                return e < .0031308 ? 12.92 * e : 1.055 * Math.pow(e, .41666) - .055
            }

            function rr(e, t, n, i, r, o) {
                this.a = e, this.b = t, this.c = n, this.normal = i && i.isVector3 ? i : new Fn, this.vertexNormals = Array.isArray(i) ? i : [], this.color = r && r.isColor ? r : new er, this.vertexColors = Array.isArray(r) ? r : [], this.materialIndex = void 0 !== o ? o : 0
            }
            Object.assign(er.prototype, {
                isColor: !0,
                r: 1,
                g: 1,
                b: 1,
                set: function(e) {
                    return e && e.isColor ? this.copy(e) : "number" == typeof e ? this.setHex(e) : "string" == typeof e && this.setStyle(e), this
                },
                setScalar: function(e) {
                    return this.r = e, this.g = e, this.b = e, this
                },
                setHex: function(e) {
                    return e = Math.floor(e), this.r = (e >> 16 & 255) / 255, this.g = (e >> 8 & 255) / 255, this.b = (255 & e) / 255, this
                },
                setRGB: function(e, t, n) {
                    return this.r = e, this.g = t, this.b = n, this
                },
                setHSL: function(e, t, n) {
                    if (e = Sn.euclideanModulo(e, 1), t = Sn.clamp(t, 0, 1), n = Sn.clamp(n, 0, 1), 0 === t) this.r = this.g = this.b = n;
                    else {
                        var i = n <= .5 ? n * (1 + t) : n + t - n * t,
                            r = 2 * n - i;
                        this.r = tr(r, i, e + 1 / 3), this.g = tr(r, i, e), this.b = tr(r, i, e - 1 / 3)
                    }
                    return this
                },
                setStyle: function(e) {
                    function t(t) {
                        void 0 !== t && parseFloat(t) < 1 && console.warn("THREE.Color: Alpha component of " + e + " will be ignored.")
                    }
                    var n;
                    if (n = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)) {
                        var i, r = n[1],
                            o = n[2];
                        switch (r) {
                            case "rgb":
                            case "rgba":
                                if (i = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) return this.r = Math.min(255, parseInt(i[1], 10)) / 255, this.g = Math.min(255, parseInt(i[2], 10)) / 255, this.b = Math.min(255, parseInt(i[3], 10)) / 255, t(i[5]), this;
                                if (i = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) return this.r = Math.min(100, parseInt(i[1], 10)) / 100, this.g = Math.min(100, parseInt(i[2], 10)) / 100, this.b = Math.min(100, parseInt(i[3], 10)) / 100, t(i[5]), this;
                                break;
                            case "hsl":
                            case "hsla":
                                if (i = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) {
                                    var a = parseFloat(i[1]) / 360,
                                        s = parseInt(i[2], 10) / 100,
                                        c = parseInt(i[3], 10) / 100;
                                    return t(i[5]), this.setHSL(a, s, c)
                                }
                        }
                    } else if (n = /^\#([A-Fa-f0-9]+)$/.exec(e)) {
                        var l = n[1],
                            u = l.length;
                        if (3 === u) return this.r = parseInt(l.charAt(0) + l.charAt(0), 16) / 255, this.g = parseInt(l.charAt(1) + l.charAt(1), 16) / 255, this.b = parseInt(l.charAt(2) + l.charAt(2), 16) / 255, this;
                        if (6 === u) return this.r = parseInt(l.charAt(0) + l.charAt(1), 16) / 255, this.g = parseInt(l.charAt(2) + l.charAt(3), 16) / 255, this.b = parseInt(l.charAt(4) + l.charAt(5), 16) / 255, this
                    }
                    return e && e.length > 0 ? this.setColorName(e) : this
                },
                setColorName: function(e) {
                    var t = Ki[e];
                    return void 0 !== t ? this.setHex(t) : console.warn("THREE.Color: Unknown color " + e), this
                },
                clone: function() {
                    return new this.constructor(this.r, this.g, this.b)
                },
                copy: function(e) {
                    return this.r = e.r, this.g = e.g, this.b = e.b, this
                },
                copyGammaToLinear: function(e, t) {
                    return void 0 === t && (t = 2), this.r = Math.pow(e.r, t), this.g = Math.pow(e.g, t), this.b = Math.pow(e.b, t), this
                },
                copyLinearToGamma: function(e, t) {
                    void 0 === t && (t = 2);
                    var n = t > 0 ? 1 / t : 1;
                    return this.r = Math.pow(e.r, n), this.g = Math.pow(e.g, n), this.b = Math.pow(e.b, n), this
                },
                convertGammaToLinear: function(e) {
                    return this.copyGammaToLinear(this, e), this
                },
                convertLinearToGamma: function(e) {
                    return this.copyLinearToGamma(this, e), this
                },
                copySRGBToLinear: function(e) {
                    return this.r = nr(e.r), this.g = nr(e.g), this.b = nr(e.b), this
                },
                copyLinearToSRGB: function(e) {
                    return this.r = ir(e.r), this.g = ir(e.g), this.b = ir(e.b), this
                },
                convertSRGBToLinear: function() {
                    return this.copySRGBToLinear(this), this
                },
                convertLinearToSRGB: function() {
                    return this.copyLinearToSRGB(this), this
                },
                getHex: function() {
                    return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
                },
                getHexString: function() {
                    return ("000000" + this.getHex().toString(16)).slice(-6)
                },
                getHSL: function(e) {
                    void 0 === e && (console.warn("THREE.Color: .getHSL() target is now required"), e = {
                        h: 0,
                        s: 0,
                        l: 0
                    });
                    var t, n, i = this.r,
                        r = this.g,
                        o = this.b,
                        a = Math.max(i, r, o),
                        s = Math.min(i, r, o),
                        c = (s + a) / 2;
                    if (s === a) t = 0, n = 0;
                    else {
                        var l = a - s;
                        switch (n = c <= .5 ? l / (a + s) : l / (2 - a - s), a) {
                            case i:
                                t = (r - o) / l + (r < o ? 6 : 0);
                                break;
                            case r:
                                t = (o - i) / l + 2;
                                break;
                            case o:
                                t = (i - r) / l + 4
                        }
                        t /= 6
                    }
                    return e.h = t, e.s = n, e.l = c, e
                },
                getStyle: function() {
                    return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
                },
                offsetHSL: function(e, t, n) {
                    return this.getHSL(Qi), Qi.h += e, Qi.s += t, Qi.l += n, this.setHSL(Qi.h, Qi.s, Qi.l), this
                },
                add: function(e) {
                    return this.r += e.r, this.g += e.g, this.b += e.b, this
                },
                addColors: function(e, t) {
                    return this.r = e.r + t.r, this.g = e.g + t.g, this.b = e.b + t.b, this
                },
                addScalar: function(e) {
                    return this.r += e, this.g += e, this.b += e, this
                },
                sub: function(e) {
                    return this.r = Math.max(0, this.r - e.r), this.g = Math.max(0, this.g - e.g), this.b = Math.max(0, this.b - e.b), this
                },
                multiply: function(e) {
                    return this.r *= e.r, this.g *= e.g, this.b *= e.b, this
                },
                multiplyScalar: function(e) {
                    return this.r *= e, this.g *= e, this.b *= e, this
                },
                lerp: function(e, t) {
                    return this.r += (e.r - this.r) * t, this.g += (e.g - this.g) * t, this.b += (e.b - this.b) * t, this
                },
                lerpHSL: function(e, t) {
                    this.getHSL(Qi), e.getHSL($i);
                    var n = Sn.lerp(Qi.h, $i.h, t),
                        i = Sn.lerp(Qi.s, $i.s, t),
                        r = Sn.lerp(Qi.l, $i.l, t);
                    return this.setHSL(n, i, r), this
                },
                equals: function(e) {
                    return e.r === this.r && e.g === this.g && e.b === this.b
                },
                fromArray: function(e, t) {
                    return void 0 === t && (t = 0), this.r = e[t], this.g = e[t + 1], this.b = e[t + 2], this
                },
                toArray: function(e, t) {
                    return void 0 === e && (e = []), void 0 === t && (t = 0), e[t] = this.r, e[t + 1] = this.g, e[t + 2] = this.b, e
                },
                toJSON: function() {
                    return this.getHex()
                }
            }), er.NAMES = Ki, Object.assign(rr.prototype, {
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    this.a = e.a, this.b = e.b, this.c = e.c, this.normal.copy(e.normal), this.color.copy(e.color), this.materialIndex = e.materialIndex;
                    for (var t = 0, n = e.vertexNormals.length; t < n; t++) this.vertexNormals[t] = e.vertexNormals[t].clone();
                    for (t = 0, n = e.vertexColors.length; t < n; t++) this.vertexColors[t] = e.vertexColors[t].clone();
                    return this
                }
            });
            var or = 0;

            function ar() {
                Object.defineProperty(this, "id", {
                    value: or++
                }), this.uuid = Sn.generateUUID(), this.name = "", this.type = "Material", this.fog = !0, this.blending = S, this.side = v, this.flatShading = !1, this.vertexTangents = !1, this.vertexColors = w, this.opacity = 1, this.transparent = !1, this.blendSrc = z, this.blendDst = B, this.blendEquation = C, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.depthFunc = Z, this.depthTest = !0, this.depthWrite = !0, this.stencilWriteMask = 255, this.stencilFunc = hn, this.stencilRef = 0, this.stencilFuncMask = 255, this.stencilFail = Jt, this.stencilZFail = Jt, this.stencilZPass = Jt, this.stencilWrite = !1, this.clippingPlanes = null, this.clipIntersection = !1, this.clipShadows = !1, this.shadowSide = null, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.dithering = !1, this.alphaTest = 0, this.premultipliedAlpha = !1, this.visible = !0, this.toneMapped = !0, this.userData = {}, this.version = 0
            }

            function sr(e) {
                ar.call(this), this.type = "MeshBasicMaterial", this.color = new er(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = ee, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.setValues(e)
            }
            ar.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: ar,
                isMaterial: !0,
                onBeforeCompile: function() {},
                setValues: function(e) {
                    if (void 0 !== e)
                        for (var t in e) {
                            var n = e[t];
                            if (void 0 !== n)
                                if ("shading" !== t) {
                                    var i = this[t];
                                    void 0 !== i ? i && i.isColor ? i.set(n) : i && i.isVector3 && n && n.isVector3 ? i.copy(n) : this[t] = n : console.warn("THREE." + this.type + ": '" + t + "' is not a property of this material.")
                                } else console.warn("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead."), this.flatShading = n === b;
                            else console.warn("THREE.Material: '" + t + "' parameter is undefined.")
                        }
                },
                toJSON: function(e) {
                    var t = void 0 === e || "string" == typeof e;
                    t && (e = {
                        textures: {},
                        images: {}
                    });
                    var n = {
                        metadata: {
                            version: 4.5,
                            type: "Material",
                            generator: "Material.toJSON"
                        }
                    };

                    function i(e) {
                        var t = [];
                        for (var n in e) {
                            var i = e[n];
                            delete i.metadata, t.push(i)
                        }
                        return t
                    }
                    if (n.uuid = this.uuid, n.type = this.type, "" !== this.name && (n.name = this.name), this.color && this.color.isColor && (n.color = this.color.getHex()), void 0 !== this.roughness && (n.roughness = this.roughness), void 0 !== this.metalness && (n.metalness = this.metalness), this.sheen && this.sheen.isColor && (n.sheen = this.sheen.getHex()), this.emissive && this.emissive.isColor && (n.emissive = this.emissive.getHex()), this.emissiveIntensity && 1 !== this.emissiveIntensity && (n.emissiveIntensity = this.emissiveIntensity), this.specular && this.specular.isColor && (n.specular = this.specular.getHex()), void 0 !== this.shininess && (n.shininess = this.shininess), void 0 !== this.clearcoat && (n.clearcoat = this.clearcoat), void 0 !== this.clearcoatRoughness && (n.clearcoatRoughness = this.clearcoatRoughness), this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture && (n.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(e).uuid, n.clearcoatNormalScale = this.clearcoatNormalScale.toArray()), this.map && this.map.isTexture && (n.map = this.map.toJSON(e).uuid), this.matcap && this.matcap.isTexture && (n.matcap = this.matcap.toJSON(e).uuid), this.alphaMap && this.alphaMap.isTexture && (n.alphaMap = this.alphaMap.toJSON(e).uuid), this.lightMap && this.lightMap.isTexture && (n.lightMap = this.lightMap.toJSON(e).uuid), this.aoMap && this.aoMap.isTexture && (n.aoMap = this.aoMap.toJSON(e).uuid, n.aoMapIntensity = this.aoMapIntensity), this.bumpMap && this.bumpMap.isTexture && (n.bumpMap = this.bumpMap.toJSON(e).uuid, n.bumpScale = this.bumpScale), this.normalMap && this.normalMap.isTexture && (n.normalMap = this.normalMap.toJSON(e).uuid, n.normalMapType = this.normalMapType, n.normalScale = this.normalScale.toArray()), this.displacementMap && this.displacementMap.isTexture && (n.displacementMap = this.displacementMap.toJSON(e).uuid, n.displacementScale = this.displacementScale, n.displacementBias = this.displacementBias), this.roughnessMap && this.roughnessMap.isTexture && (n.roughnessMap = this.roughnessMap.toJSON(e).uuid), this.metalnessMap && this.metalnessMap.isTexture && (n.metalnessMap = this.metalnessMap.toJSON(e).uuid), this.emissiveMap && this.emissiveMap.isTexture && (n.emissiveMap = this.emissiveMap.toJSON(e).uuid), this.specularMap && this.specularMap.isTexture && (n.specularMap = this.specularMap.toJSON(e).uuid), this.envMap && this.envMap.isTexture && (n.envMap = this.envMap.toJSON(e).uuid, n.reflectivity = this.reflectivity, n.refractionRatio = this.refractionRatio, void 0 !== this.combine && (n.combine = this.combine), void 0 !== this.envMapIntensity && (n.envMapIntensity = this.envMapIntensity)), this.gradientMap && this.gradientMap.isTexture && (n.gradientMap = this.gradientMap.toJSON(e).uuid), void 0 !== this.size && (n.size = this.size), void 0 !== this.sizeAttenuation && (n.sizeAttenuation = this.sizeAttenuation), this.blending !== S && (n.blending = this.blending), !0 === this.flatShading && (n.flatShading = this.flatShading), this.side !== v && (n.side = this.side), this.vertexColors !== w && (n.vertexColors = this.vertexColors), this.opacity < 1 && (n.opacity = this.opacity), !0 === this.transparent && (n.transparent = this.transparent), n.depthFunc = this.depthFunc, n.depthTest = this.depthTest, n.depthWrite = this.depthWrite, n.stencilWrite = this.stencilWrite, n.stencilWriteMask = this.stencilWriteMask, n.stencilFunc = this.stencilFunc, n.stencilRef = this.stencilRef, n.stencilFuncMask = this.stencilFuncMask, n.stencilFail = this.stencilFail, n.stencilZFail = this.stencilZFail, n.stencilZPass = this.stencilZPass, this.rotation && 0 !== this.rotation && (n.rotation = this.rotation), !0 === this.polygonOffset && (n.polygonOffset = !0), 0 !== this.polygonOffsetFactor && (n.polygonOffsetFactor = this.polygonOffsetFactor), 0 !== this.polygonOffsetUnits && (n.polygonOffsetUnits = this.polygonOffsetUnits), this.linewidth && 1 !== this.linewidth && (n.linewidth = this.linewidth), void 0 !== this.dashSize && (n.dashSize = this.dashSize), void 0 !== this.gapSize && (n.gapSize = this.gapSize), void 0 !== this.scale && (n.scale = this.scale), !0 === this.dithering && (n.dithering = !0), this.alphaTest > 0 && (n.alphaTest = this.alphaTest), !0 === this.premultipliedAlpha && (n.premultipliedAlpha = this.premultipliedAlpha), !0 === this.wireframe && (n.wireframe = this.wireframe), this.wireframeLinewidth > 1 && (n.wireframeLinewidth = this.wireframeLinewidth), "round" !== this.wireframeLinecap && (n.wireframeLinecap = this.wireframeLinecap), "round" !== this.wireframeLinejoin && (n.wireframeLinejoin = this.wireframeLinejoin), !0 === this.morphTargets && (n.morphTargets = !0), !0 === this.morphNormals && (n.morphNormals = !0), !0 === this.skinning && (n.skinning = !0), !1 === this.visible && (n.visible = !1), !1 === this.toneMapped && (n.toneMapped = !1), "{}" !== JSON.stringify(this.userData) && (n.userData = this.userData), t) {
                        var r = i(e.textures),
                            o = i(e.images);
                        r.length > 0 && (n.textures = r), o.length > 0 && (n.images = o)
                    }
                    return n
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    this.name = e.name, this.fog = e.fog, this.blending = e.blending, this.side = e.side, this.flatShading = e.flatShading, this.vertexTangents = e.vertexTangents, this.vertexColors = e.vertexColors, this.opacity = e.opacity, this.transparent = e.transparent, this.blendSrc = e.blendSrc, this.blendDst = e.blendDst, this.blendEquation = e.blendEquation, this.blendSrcAlpha = e.blendSrcAlpha, this.blendDstAlpha = e.blendDstAlpha, this.blendEquationAlpha = e.blendEquationAlpha, this.depthFunc = e.depthFunc, this.depthTest = e.depthTest, this.depthWrite = e.depthWrite, this.stencilWriteMask = e.stencilWriteMask, this.stencilFunc = e.stencilFunc, this.stencilRef = e.stencilRef, this.stencilFuncMask = e.stencilFuncMask, this.stencilFail = e.stencilFail, this.stencilZFail = e.stencilZFail, this.stencilZPass = e.stencilZPass, this.stencilWrite = e.stencilWrite;
                    var t = e.clippingPlanes,
                        n = null;
                    if (null !== t) {
                        var i = t.length;
                        n = new Array(i);
                        for (var r = 0; r !== i; ++r) n[r] = t[r].clone()
                    }
                    return this.clippingPlanes = n, this.clipIntersection = e.clipIntersection, this.clipShadows = e.clipShadows, this.shadowSide = e.shadowSide, this.colorWrite = e.colorWrite, this.precision = e.precision, this.polygonOffset = e.polygonOffset, this.polygonOffsetFactor = e.polygonOffsetFactor, this.polygonOffsetUnits = e.polygonOffsetUnits, this.dithering = e.dithering, this.alphaTest = e.alphaTest, this.premultipliedAlpha = e.premultipliedAlpha, this.visible = e.visible, this.toneMapped = e.toneMapped, this.userData = JSON.parse(JSON.stringify(e.userData)), this
                },
                dispose: function() {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            }), Object.defineProperty(ar.prototype, "needsUpdate", {
                set: function(e) {
                    !0 === e && this.version++
                }
            }), sr.prototype = Object.create(ar.prototype), sr.prototype.constructor = sr, sr.prototype.isMeshBasicMaterial = !0, sr.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.map = e.map, this.lightMap = e.lightMap, this.lightMapIntensity = e.lightMapIntensity, this.aoMap = e.aoMap, this.aoMapIntensity = e.aoMapIntensity, this.specularMap = e.specularMap, this.alphaMap = e.alphaMap, this.envMap = e.envMap, this.combine = e.combine, this.reflectivity = e.reflectivity, this.refractionRatio = e.refractionRatio, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.wireframeLinecap = e.wireframeLinecap, this.wireframeLinejoin = e.wireframeLinejoin, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this
            };
            var cr = new Fn;

            function lr(e, t, n) {
                if (Array.isArray(e)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                this.name = "", this.array = e, this.itemSize = t, this.count = void 0 !== e ? e.length / t : 0, this.normalized = !0 === n, this.usage = dn, this.updateRange = {
                    offset: 0,
                    count: -1
                }, this.version = 0
            }

            function ur(e, t, n) {
                lr.call(this, new Int8Array(e), t, n)
            }

            function hr(e, t, n) {
                lr.call(this, new Uint8Array(e), t, n)
            }

            function dr(e, t, n) {
                lr.call(this, new Uint8ClampedArray(e), t, n)
            }

            function pr(e, t, n) {
                lr.call(this, new Int16Array(e), t, n)
            }

            function fr(e, t, n) {
                lr.call(this, new Uint16Array(e), t, n)
            }

            function mr(e, t, n) {
                lr.call(this, new Int32Array(e), t, n)
            }

            function vr(e, t, n) {
                lr.call(this, new Uint32Array(e), t, n)
            }

            function gr(e, t, n) {
                lr.call(this, new Float32Array(e), t, n)
            }

            function yr(e, t, n) {
                lr.call(this, new Float64Array(e), t, n)
            }

            function br() {
                this.vertices = [], this.normals = [], this.colors = [], this.uvs = [], this.uvs2 = [], this.groups = [], this.morphTargets = {}, this.skinWeights = [], this.skinIndices = [], this.boundingBox = null, this.boundingSphere = null, this.verticesNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.uvsNeedUpdate = !1, this.groupsNeedUpdate = !1
            }

            function xr(e) {
                if (0 === e.length) return -1 / 0;
                for (var t = e[0], n = 1, i = e.length; n < i; ++n) e[n] > t && (t = e[n]);
                return t
            }
            Object.defineProperty(lr.prototype, "needsUpdate", {
                set: function(e) {
                    !0 === e && this.version++
                }
            }), Object.assign(lr.prototype, {
                isBufferAttribute: !0,
                onUploadCallback: function() {},
                setUsage: function(e) {
                    return this.usage = e, this
                },
                copy: function(e) {
                    return this.name = e.name, this.array = new e.array.constructor(e.array), this.itemSize = e.itemSize, this.count = e.count, this.normalized = e.normalized, this.usage = e.usage, this
                },
                copyAt: function(e, t, n) {
                    e *= this.itemSize, n *= t.itemSize;
                    for (var i = 0, r = this.itemSize; i < r; i++) this.array[e + i] = t.array[n + i];
                    return this
                },
                copyArray: function(e) {
                    return this.array.set(e), this
                },
                copyColorsArray: function(e) {
                    for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                        var o = e[i];
                        void 0 === o && (console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined", i), o = new er), t[n++] = o.r, t[n++] = o.g, t[n++] = o.b
                    }
                    return this
                },
                copyVector2sArray: function(e) {
                    for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                        var o = e[i];
                        void 0 === o && (console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined", i), o = new En), t[n++] = o.x, t[n++] = o.y
                    }
                    return this
                },
                copyVector3sArray: function(e) {
                    for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                        var o = e[i];
                        void 0 === o && (console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined", i), o = new Fn), t[n++] = o.x, t[n++] = o.y, t[n++] = o.z
                    }
                    return this
                },
                copyVector4sArray: function(e) {
                    for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                        var o = e[i];
                        void 0 === o && (console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined", i), o = new Rn), t[n++] = o.x, t[n++] = o.y, t[n++] = o.z, t[n++] = o.w
                    }
                    return this
                },
                applyMatrix3: function(e) {
                    for (var t = 0, n = this.count; t < n; t++) cr.x = this.getX(t), cr.y = this.getY(t), cr.z = this.getZ(t), cr.applyMatrix3(e), this.setXYZ(t, cr.x, cr.y, cr.z);
                    return this
                },
                applyMatrix4: function(e) {
                    for (var t = 0, n = this.count; t < n; t++) cr.x = this.getX(t), cr.y = this.getY(t), cr.z = this.getZ(t), cr.applyMatrix4(e), this.setXYZ(t, cr.x, cr.y, cr.z);
                    return this
                },
                applyNormalMatrix: function(e) {
                    for (var t = 0, n = this.count; t < n; t++) cr.x = this.getX(t), cr.y = this.getY(t), cr.z = this.getZ(t), cr.applyNormalMatrix(e), this.setXYZ(t, cr.x, cr.y, cr.z);
                    return this
                },
                transformDirection: function(e) {
                    for (var t = 0, n = this.count; t < n; t++) cr.x = this.getX(t), cr.y = this.getY(t), cr.z = this.getZ(t), cr.transformDirection(e), this.setXYZ(t, cr.x, cr.y, cr.z);
                    return this
                },
                set: function(e, t) {
                    return void 0 === t && (t = 0), this.array.set(e, t), this
                },
                getX: function(e) {
                    return this.array[e * this.itemSize]
                },
                setX: function(e, t) {
                    return this.array[e * this.itemSize] = t, this
                },
                getY: function(e) {
                    return this.array[e * this.itemSize + 1]
                },
                setY: function(e, t) {
                    return this.array[e * this.itemSize + 1] = t, this
                },
                getZ: function(e) {
                    return this.array[e * this.itemSize + 2]
                },
                setZ: function(e, t) {
                    return this.array[e * this.itemSize + 2] = t, this
                },
                getW: function(e) {
                    return this.array[e * this.itemSize + 3]
                },
                setW: function(e, t) {
                    return this.array[e * this.itemSize + 3] = t, this
                },
                setXY: function(e, t, n) {
                    return e *= this.itemSize, this.array[e + 0] = t, this.array[e + 1] = n, this
                },
                setXYZ: function(e, t, n, i) {
                    return e *= this.itemSize, this.array[e + 0] = t, this.array[e + 1] = n, this.array[e + 2] = i, this
                },
                setXYZW: function(e, t, n, i, r) {
                    return e *= this.itemSize, this.array[e + 0] = t, this.array[e + 1] = n, this.array[e + 2] = i, this.array[e + 3] = r, this
                },
                onUpload: function(e) {
                    return this.onUploadCallback = e, this
                },
                clone: function() {
                    return new this.constructor(this.array, this.itemSize).copy(this)
                },
                toJSON: function() {
                    return {
                        itemSize: this.itemSize,
                        type: this.array.constructor.name,
                        array: Array.prototype.slice.call(this.array),
                        normalized: this.normalized
                    }
                }
            }), ur.prototype = Object.create(lr.prototype), ur.prototype.constructor = ur, hr.prototype = Object.create(lr.prototype), hr.prototype.constructor = hr, dr.prototype = Object.create(lr.prototype), dr.prototype.constructor = dr, pr.prototype = Object.create(lr.prototype), pr.prototype.constructor = pr, fr.prototype = Object.create(lr.prototype), fr.prototype.constructor = fr, mr.prototype = Object.create(lr.prototype), mr.prototype.constructor = mr, vr.prototype = Object.create(lr.prototype), vr.prototype.constructor = vr, gr.prototype = Object.create(lr.prototype), gr.prototype.constructor = gr, yr.prototype = Object.create(lr.prototype), yr.prototype.constructor = yr, Object.assign(br.prototype, {
                computeGroups: function(e) {
                    for (var t, n = [], i = void 0, r = e.faces, o = 0; o < r.length; o++) {
                        var a = r[o];
                        a.materialIndex !== i && (i = a.materialIndex, void 0 !== t && (t.count = 3 * o - t.start, n.push(t)), t = {
                            start: 3 * o,
                            materialIndex: i
                        })
                    }
                    void 0 !== t && (t.count = 3 * o - t.start, n.push(t)), this.groups = n
                },
                fromGeometry: function(e) {
                    var t, n = e.faces,
                        i = e.vertices,
                        r = e.faceVertexUvs,
                        o = r[0] && r[0].length > 0,
                        a = r[1] && r[1].length > 0,
                        s = e.morphTargets,
                        c = s.length;
                    if (c > 0) {
                        t = [];
                        for (var l = 0; l < c; l++) t[l] = {
                            name: s[l].name,
                            data: []
                        };
                        this.morphTargets.position = t
                    }
                    var u, h = e.morphNormals,
                        d = h.length;
                    if (d > 0) {
                        u = [];
                        for (l = 0; l < d; l++) u[l] = {
                            name: h[l].name,
                            data: []
                        };
                        this.morphTargets.normal = u
                    }
                    var p = e.skinIndices,
                        f = e.skinWeights,
                        m = p.length === i.length,
                        v = f.length === i.length;
                    i.length > 0 && 0 === n.length && console.error("THREE.DirectGeometry: Faceless geometries are not supported.");
                    for (l = 0; l < n.length; l++) {
                        var g = n[l];
                        this.vertices.push(i[g.a], i[g.b], i[g.c]);
                        var y = g.vertexNormals;
                        if (3 === y.length) this.normals.push(y[0], y[1], y[2]);
                        else {
                            var b = g.normal;
                            this.normals.push(b, b, b)
                        }
                        var x, w = g.vertexColors;
                        if (3 === w.length) this.colors.push(w[0], w[1], w[2]);
                        else {
                            var _ = g.color;
                            this.colors.push(_, _, _)
                        }
                        if (!0 === o) void 0 !== (x = r[0][l]) ? this.uvs.push(x[0], x[1], x[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ", l), this.uvs.push(new En, new En, new En));
                        if (!0 === a) void 0 !== (x = r[1][l]) ? this.uvs2.push(x[0], x[1], x[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ", l), this.uvs2.push(new En, new En, new En));
                        for (var M = 0; M < c; M++) {
                            var T = s[M].vertices;
                            t[M].data.push(T[g.a], T[g.b], T[g.c])
                        }
                        for (M = 0; M < d; M++) {
                            var S = h[M].vertexNormals[l];
                            u[M].data.push(S.a, S.b, S.c)
                        }
                        m && this.skinIndices.push(p[g.a], p[g.b], p[g.c]), v && this.skinWeights.push(f[g.a], f[g.b], f[g.c])
                    }
                    return this.computeGroups(e), this.verticesNeedUpdate = e.verticesNeedUpdate, this.normalsNeedUpdate = e.normalsNeedUpdate, this.colorsNeedUpdate = e.colorsNeedUpdate, this.uvsNeedUpdate = e.uvsNeedUpdate, this.groupsNeedUpdate = e.groupsNeedUpdate, null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()), this
                }
            });
            var wr = 1,
                _r = new Wn,
                Mr = new li,
                Tr = new Fn,
                Sr = new Ti,
                Er = new Ti,
                Ar = new Fn;

            function Pr() {
                Object.defineProperty(this, "id", {
                    value: wr += 2
                }), this.uuid = Sn.generateUUID(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.morphTargetsRelative = !1, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = {
                    start: 0,
                    count: 1 / 0
                }, this.userData = {}
            }
            Pr.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: Pr,
                isBufferGeometry: !0,
                getIndex: function() {
                    return this.index
                },
                setIndex: function(e) {
                    Array.isArray(e) ? this.index = new(xr(e) > 65535 ? vr : fr)(e, 1) : this.index = e
                },
                getAttribute: function(e) {
                    return this.attributes[e]
                },
                setAttribute: function(e, t) {
                    return this.attributes[e] = t, this
                },
                deleteAttribute: function(e) {
                    return delete this.attributes[e], this
                },
                addGroup: function(e, t, n) {
                    this.groups.push({
                        start: e,
                        count: t,
                        materialIndex: void 0 !== n ? n : 0
                    })
                },
                clearGroups: function() {
                    this.groups = []
                },
                setDrawRange: function(e, t) {
                    this.drawRange.start = e, this.drawRange.count = t
                },
                applyMatrix4: function(e) {
                    var t = this.attributes.position;
                    void 0 !== t && (t.applyMatrix4(e), t.needsUpdate = !0);
                    var n = this.attributes.normal;
                    if (void 0 !== n) {
                        var i = (new An).getNormalMatrix(e);
                        n.applyNormalMatrix(i), n.needsUpdate = !0
                    }
                    var r = this.attributes.tangent;
                    return void 0 !== r && (r.transformDirection(e), r.needsUpdate = !0), null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this
                },
                rotateX: function(e) {
                    return _r.makeRotationX(e), this.applyMatrix4(_r), this
                },
                rotateY: function(e) {
                    return _r.makeRotationY(e), this.applyMatrix4(_r), this
                },
                rotateZ: function(e) {
                    return _r.makeRotationZ(e), this.applyMatrix4(_r), this
                },
                translate: function(e, t, n) {
                    return _r.makeTranslation(e, t, n), this.applyMatrix4(_r), this
                },
                scale: function(e, t, n) {
                    return _r.makeScale(e, t, n), this.applyMatrix4(_r), this
                },
                lookAt: function(e) {
                    return Mr.lookAt(e), Mr.updateMatrix(), this.applyMatrix4(Mr.matrix), this
                },
                center: function() {
                    return this.computeBoundingBox(), this.boundingBox.getCenter(Tr).negate(), this.translate(Tr.x, Tr.y, Tr.z), this
                },
                setFromObject: function(e) {
                    var t = e.geometry;
                    if (e.isPoints || e.isLine) {
                        var n = new gr(3 * t.vertices.length, 3),
                            i = new gr(3 * t.colors.length, 3);
                        if (this.setAttribute("position", n.copyVector3sArray(t.vertices)), this.setAttribute("color", i.copyColorsArray(t.colors)), t.lineDistances && t.lineDistances.length === t.vertices.length) {
                            var r = new gr(t.lineDistances.length, 1);
                            this.setAttribute("lineDistance", r.copyArray(t.lineDistances))
                        }
                        null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone())
                    } else e.isMesh && t && t.isGeometry && this.fromGeometry(t);
                    return this
                },
                setFromPoints: function(e) {
                    for (var t = [], n = 0, i = e.length; n < i; n++) {
                        var r = e[n];
                        t.push(r.x, r.y, r.z || 0)
                    }
                    return this.setAttribute("position", new gr(t, 3)), this
                },
                updateFromObject: function(e) {
                    var t, n = e.geometry;
                    if (e.isMesh) {
                        var i = n.__directGeometry;
                        if (!0 === n.elementsNeedUpdate && (i = void 0, n.elementsNeedUpdate = !1), void 0 === i) return this.fromGeometry(n);
                        i.verticesNeedUpdate = n.verticesNeedUpdate, i.normalsNeedUpdate = n.normalsNeedUpdate, i.colorsNeedUpdate = n.colorsNeedUpdate, i.uvsNeedUpdate = n.uvsNeedUpdate, i.groupsNeedUpdate = n.groupsNeedUpdate, n.verticesNeedUpdate = !1, n.normalsNeedUpdate = !1, n.colorsNeedUpdate = !1, n.uvsNeedUpdate = !1, n.groupsNeedUpdate = !1, n = i
                    }
                    return !0 === n.verticesNeedUpdate && (void 0 !== (t = this.attributes.position) && (t.copyVector3sArray(n.vertices), t.needsUpdate = !0), n.verticesNeedUpdate = !1), !0 === n.normalsNeedUpdate && (void 0 !== (t = this.attributes.normal) && (t.copyVector3sArray(n.normals), t.needsUpdate = !0), n.normalsNeedUpdate = !1), !0 === n.colorsNeedUpdate && (void 0 !== (t = this.attributes.color) && (t.copyColorsArray(n.colors), t.needsUpdate = !0), n.colorsNeedUpdate = !1), n.uvsNeedUpdate && (void 0 !== (t = this.attributes.uv) && (t.copyVector2sArray(n.uvs), t.needsUpdate = !0), n.uvsNeedUpdate = !1), n.lineDistancesNeedUpdate && (void 0 !== (t = this.attributes.lineDistance) && (t.copyArray(n.lineDistances), t.needsUpdate = !0), n.lineDistancesNeedUpdate = !1), n.groupsNeedUpdate && (n.computeGroups(e.geometry), this.groups = n.groups, n.groupsNeedUpdate = !1), this
                },
                fromGeometry: function(e) {
                    return e.__directGeometry = (new br).fromGeometry(e), this.fromDirectGeometry(e.__directGeometry)
                },
                fromDirectGeometry: function(e) {
                    var t = new Float32Array(3 * e.vertices.length);
                    if (this.setAttribute("position", new lr(t, 3).copyVector3sArray(e.vertices)), e.normals.length > 0) {
                        var n = new Float32Array(3 * e.normals.length);
                        this.setAttribute("normal", new lr(n, 3).copyVector3sArray(e.normals))
                    }
                    if (e.colors.length > 0) {
                        var i = new Float32Array(3 * e.colors.length);
                        this.setAttribute("color", new lr(i, 3).copyColorsArray(e.colors))
                    }
                    if (e.uvs.length > 0) {
                        var r = new Float32Array(2 * e.uvs.length);
                        this.setAttribute("uv", new lr(r, 2).copyVector2sArray(e.uvs))
                    }
                    if (e.uvs2.length > 0) {
                        var o = new Float32Array(2 * e.uvs2.length);
                        this.setAttribute("uv2", new lr(o, 2).copyVector2sArray(e.uvs2))
                    }
                    for (var a in this.groups = e.groups, e.morphTargets) {
                        for (var s = [], c = e.morphTargets[a], l = 0, u = c.length; l < u; l++) {
                            var h = c[l],
                                d = new gr(3 * h.data.length, 3);
                            d.name = h.name, s.push(d.copyVector3sArray(h.data))
                        }
                        this.morphAttributes[a] = s
                    }
                    if (e.skinIndices.length > 0) {
                        var p = new gr(4 * e.skinIndices.length, 4);
                        this.setAttribute("skinIndex", p.copyVector4sArray(e.skinIndices))
                    }
                    if (e.skinWeights.length > 0) {
                        var f = new gr(4 * e.skinWeights.length, 4);
                        this.setAttribute("skinWeight", f.copyVector4sArray(e.skinWeights))
                    }
                    return null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()), this
                },
                computeBoundingBox: function() {
                    null === this.boundingBox && (this.boundingBox = new Ti);
                    var e = this.attributes.position,
                        t = this.morphAttributes.position;
                    if (void 0 !== e) {
                        if (this.boundingBox.setFromBufferAttribute(e), t)
                            for (var n = 0, i = t.length; n < i; n++) {
                                var r = t[n];
                                Sr.setFromBufferAttribute(r), this.morphTargetsRelative ? (Ar.addVectors(this.boundingBox.min, Sr.min), this.boundingBox.expandByPoint(Ar), Ar.addVectors(this.boundingBox.max, Sr.max), this.boundingBox.expandByPoint(Ar)) : (this.boundingBox.expandByPoint(Sr.min), this.boundingBox.expandByPoint(Sr.max))
                            }
                    } else this.boundingBox.makeEmpty();
                    (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this)
                },
                computeBoundingSphere: function() {
                    null === this.boundingSphere && (this.boundingSphere = new Ai);
                    var e = this.attributes.position,
                        t = this.morphAttributes.position;
                    if (e) {
                        var n = this.boundingSphere.center;
                        if (Sr.setFromBufferAttribute(e), t)
                            for (var i = 0, r = t.length; i < r; i++) {
                                var o = t[i];
                                Er.setFromBufferAttribute(o), this.morphTargetsRelative ? (Ar.addVectors(Sr.min, Er.min), Sr.expandByPoint(Ar), Ar.addVectors(Sr.max, Er.max), Sr.expandByPoint(Ar)) : (Sr.expandByPoint(Er.min), Sr.expandByPoint(Er.max))
                            }
                        Sr.getCenter(n);
                        var a = 0;
                        for (i = 0, r = e.count; i < r; i++) Ar.fromBufferAttribute(e, i), a = Math.max(a, n.distanceToSquared(Ar));
                        if (t)
                            for (i = 0, r = t.length; i < r; i++) {
                                o = t[i];
                                for (var s = this.morphTargetsRelative, c = 0, l = o.count; c < l; c++) Ar.fromBufferAttribute(o, c), s && (Tr.fromBufferAttribute(e, c), Ar.add(Tr)), a = Math.max(a, n.distanceToSquared(Ar))
                            }
                        this.boundingSphere.radius = Math.sqrt(a), isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this)
                    }
                },
                computeFaceNormals: function() {},
                computeVertexNormals: function() {
                    var e = this.index,
                        t = this.attributes;
                    if (t.position) {
                        var n = t.position.array;
                        if (void 0 === t.normal) this.setAttribute("normal", new lr(new Float32Array(n.length), 3));
                        else
                            for (var i = t.normal.array, r = 0, o = i.length; r < o; r++) i[r] = 0;
                        var a, s, c, l = t.normal.array,
                            u = new Fn,
                            h = new Fn,
                            d = new Fn,
                            p = new Fn,
                            f = new Fn;
                        if (e) {
                            var m = e.array;
                            for (r = 0, o = e.count; r < o; r += 3) a = 3 * m[r + 0], s = 3 * m[r + 1], c = 3 * m[r + 2], u.fromArray(n, a), h.fromArray(n, s), d.fromArray(n, c), p.subVectors(d, h), f.subVectors(u, h), p.cross(f), l[a] += p.x, l[a + 1] += p.y, l[a + 2] += p.z, l[s] += p.x, l[s + 1] += p.y, l[s + 2] += p.z, l[c] += p.x, l[c + 1] += p.y, l[c + 2] += p.z
                        } else
                            for (r = 0, o = n.length; r < o; r += 9) u.fromArray(n, r), h.fromArray(n, r + 3), d.fromArray(n, r + 6), p.subVectors(d, h), f.subVectors(u, h), p.cross(f), l[r] = p.x, l[r + 1] = p.y, l[r + 2] = p.z, l[r + 3] = p.x, l[r + 4] = p.y, l[r + 5] = p.z, l[r + 6] = p.x, l[r + 7] = p.y, l[r + 8] = p.z;
                        this.normalizeNormals(), t.normal.needsUpdate = !0
                    }
                },
                merge: function(e, t) {
                    if (e && e.isBufferGeometry) {
                        void 0 === t && (t = 0, console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));
                        var n = this.attributes;
                        for (var i in n)
                            if (void 0 !== e.attributes[i])
                                for (var r = n[i].array, o = e.attributes[i], a = o.array, s = o.itemSize * t, c = Math.min(a.length, r.length - s), l = 0, u = s; l < c; l++, u++) r[u] = a[l];
                        return this
                    }
                    console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.", e)
                },
                normalizeNormals: function() {
                    for (var e = this.attributes.normal, t = 0, n = e.count; t < n; t++) Ar.x = e.getX(t), Ar.y = e.getY(t), Ar.z = e.getZ(t), Ar.normalize(), e.setXYZ(t, Ar.x, Ar.y, Ar.z)
                },
                toNonIndexed: function() {
                    function e(e, t) {
                        for (var n = e.array, i = e.itemSize, r = new n.constructor(t.length * i), o = 0, a = 0, s = 0, c = t.length; s < c; s++) {
                            o = t[s] * i;
                            for (var l = 0; l < i; l++) r[a++] = n[o++]
                        }
                        return new lr(r, i)
                    }
                    if (null === this.index) return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."), this;
                    var t = new Pr,
                        n = this.index.array,
                        i = this.attributes;
                    for (var r in i) {
                        var o = e(i[r], n);
                        t.setAttribute(r, o)
                    }
                    var a = this.morphAttributes;
                    for (r in a) {
                        for (var s = [], c = a[r], l = 0, u = c.length; l < u; l++) {
                            o = e(c[l], n);
                            s.push(o)
                        }
                        t.morphAttributes[r] = s
                    }
                    t.morphTargetsRelative = this.morphTargetsRelative;
                    for (var h = this.groups, d = (l = 0, h.length); l < d; l++) {
                        var p = h[l];
                        t.addGroup(p.start, p.count, p.materialIndex)
                    }
                    return t
                },
                toJSON: function() {
                    var e = {
                        metadata: {
                            version: 4.5,
                            type: "BufferGeometry",
                            generator: "BufferGeometry.toJSON"
                        }
                    };
                    if (e.uuid = this.uuid, e.type = this.type, "" !== this.name && (e.name = this.name), Object.keys(this.userData).length > 0 && (e.userData = this.userData), void 0 !== this.parameters) {
                        var t = this.parameters;
                        for (var n in t) void 0 !== t[n] && (e[n] = t[n]);
                        return e
                    }
                    e.data = {
                        attributes: {}
                    };
                    var i = this.index;
                    null !== i && (e.data.index = {
                        type: i.array.constructor.name,
                        array: Array.prototype.slice.call(i.array)
                    });
                    var r = this.attributes;
                    for (var n in r) {
                        var o = (d = r[n]).toJSON();
                        "" !== d.name && (o.name = d.name), e.data.attributes[n] = o
                    }
                    var a = {},
                        s = !1;
                    for (var n in this.morphAttributes) {
                        for (var c = this.morphAttributes[n], l = [], u = 0, h = c.length; u < h; u++) {
                            var d;
                            o = (d = c[u]).toJSON();
                            "" !== d.name && (o.name = d.name), l.push(o)
                        }
                        l.length > 0 && (a[n] = l, s = !0)
                    }
                    s && (e.data.morphAttributes = a, e.data.morphTargetsRelative = this.morphTargetsRelative);
                    var p = this.groups;
                    p.length > 0 && (e.data.groups = JSON.parse(JSON.stringify(p)));
                    var f = this.boundingSphere;
                    return null !== f && (e.data.boundingSphere = {
                        center: f.center.toArray(),
                        radius: f.radius
                    }), e
                },
                clone: function() {
                    return (new Pr).copy(this)
                },
                copy: function(e) {
                    var t, n, i;
                    this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.name = e.name;
                    var r = e.index;
                    null !== r && this.setIndex(r.clone());
                    var o = e.attributes;
                    for (t in o) {
                        var a = o[t];
                        this.setAttribute(t, a.clone())
                    }
                    var s = e.morphAttributes;
                    for (t in s) {
                        var c = [],
                            l = s[t];
                        for (n = 0, i = l.length; n < i; n++) c.push(l[n].clone());
                        this.morphAttributes[t] = c
                    }
                    this.morphTargetsRelative = e.morphTargetsRelative;
                    var u = e.groups;
                    for (n = 0, i = u.length; n < i; n++) {
                        var h = u[n];
                        this.addGroup(h.start, h.count, h.materialIndex)
                    }
                    var d = e.boundingBox;
                    null !== d && (this.boundingBox = d.clone());
                    var p = e.boundingSphere;
                    return null !== p && (this.boundingSphere = p.clone()), this.drawRange.start = e.drawRange.start, this.drawRange.count = e.drawRange.count, this.userData = e.userData, this
                },
                dispose: function() {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            });
            var Lr = new Wn,
                Cr = new ji,
                Rr = new Ai,
                Or = new Fn,
                Dr = new Fn,
                Ir = new Fn,
                jr = new Fn,
                kr = new Fn,
                Fr = new Fn,
                Nr = new Fn,
                zr = new Fn,
                Br = new Fn,
                Ur = new En,
                Vr = new En,
                Hr = new En,
                Gr = new Fn,
                Wr = new Fn;

            function qr(e, t) {
                li.call(this), this.type = "Mesh", this.geometry = void 0 !== e ? e : new Pr, this.material = void 0 !== t ? t : new sr, this.updateMorphTargets()
            }

            function Yr(e, t, n, i, r, o, a, s) {
                if (null === (t.side === g ? i.intersectTriangle(a, o, r, !0, s) : i.intersectTriangle(r, o, a, t.side !== y, s))) return null;
                Wr.copy(s), Wr.applyMatrix4(e.matrixWorld);
                var c = n.ray.origin.distanceTo(Wr);
                return c < n.near || c > n.far ? null : {
                    distance: c,
                    point: Wr.clone(),
                    object: e
                }
            }

            function Xr(e, t, n, i, r, o, a, s, c, l, u, h) {
                Or.fromBufferAttribute(r, l), Dr.fromBufferAttribute(r, u), Ir.fromBufferAttribute(r, h);
                var d = e.morphTargetInfluences;
                if (t.morphTargets && o && d) {
                    Nr.set(0, 0, 0), zr.set(0, 0, 0), Br.set(0, 0, 0);
                    for (var p = 0, f = o.length; p < f; p++) {
                        var m = d[p],
                            v = o[p];
                        0 !== m && (jr.fromBufferAttribute(v, l), kr.fromBufferAttribute(v, u), Fr.fromBufferAttribute(v, h), a ? (Nr.addScaledVector(jr, m), zr.addScaledVector(kr, m), Br.addScaledVector(Fr, m)) : (Nr.addScaledVector(jr.sub(Or), m), zr.addScaledVector(kr.sub(Dr), m), Br.addScaledVector(Fr.sub(Ir), m)))
                    }
                    Or.add(Nr), Dr.add(zr), Ir.add(Br)
                }
                var g = Yr(e, t, n, i, Or, Dr, Ir, Gr);
                if (g) {
                    s && (Ur.fromBufferAttribute(s, l), Vr.fromBufferAttribute(s, u), Hr.fromBufferAttribute(s, h), g.uv = Ji.getUV(Gr, Or, Dr, Ir, Ur, Vr, Hr, new En)), c && (Ur.fromBufferAttribute(c, l), Vr.fromBufferAttribute(c, u), Hr.fromBufferAttribute(c, h), g.uv2 = Ji.getUV(Gr, Or, Dr, Ir, Ur, Vr, Hr, new En));
                    var y = new rr(l, u, h);
                    Ji.getNormal(Or, Dr, Ir, y.normal), g.face = y
                }
                return g
            }
            qr.prototype = Object.assign(Object.create(li.prototype), {
                constructor: qr,
                isMesh: !0,
                copy: function(e) {
                    return li.prototype.copy.call(this, e), void 0 !== e.morphTargetInfluences && (this.morphTargetInfluences = e.morphTargetInfluences.slice()), void 0 !== e.morphTargetDictionary && (this.morphTargetDictionary = Object.assign({}, e.morphTargetDictionary)), this
                },
                updateMorphTargets: function() {
                    var e, t, n, i = this.geometry;
                    if (i.isBufferGeometry) {
                        var r = i.morphAttributes,
                            o = Object.keys(r);
                        if (o.length > 0) {
                            var a = r[o[0]];
                            if (void 0 !== a)
                                for (this.morphTargetInfluences = [], this.morphTargetDictionary = {}, e = 0, t = a.length; e < t; e++) n = a[e].name || String(e), this.morphTargetInfluences.push(0), this.morphTargetDictionary[n] = e
                        }
                    } else {
                        var s = i.morphTargets;
                        void 0 !== s && s.length > 0 && console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")
                    }
                },
                raycast: function(e, t) {
                    var n, i = this.geometry,
                        r = this.material,
                        o = this.matrixWorld;
                    if (void 0 !== r && (null === i.boundingSphere && i.computeBoundingSphere(), Rr.copy(i.boundingSphere), Rr.applyMatrix4(o), !1 !== e.ray.intersectsSphere(Rr) && (Lr.getInverse(o), Cr.copy(e.ray).applyMatrix4(Lr), null === i.boundingBox || !1 !== Cr.intersectsBox(i.boundingBox))))
                        if (i.isBufferGeometry) {
                            var a, s, c, l, u, h, d, p, f, m = i.index,
                                v = i.attributes.position,
                                g = i.morphAttributes.position,
                                y = i.morphTargetsRelative,
                                b = i.attributes.uv,
                                x = i.attributes.uv2,
                                w = i.groups,
                                _ = i.drawRange;
                            if (null !== m)
                                if (Array.isArray(r))
                                    for (l = 0, h = w.length; l < h; l++)
                                        for (f = r[(p = w[l]).materialIndex], u = Math.max(p.start, _.start), d = Math.min(p.start + p.count, _.start + _.count); u < d; u += 3) a = m.getX(u), s = m.getX(u + 1), c = m.getX(u + 2), (n = Xr(this, f, e, Cr, v, g, y, b, x, a, s, c)) && (n.faceIndex = Math.floor(u / 3), n.face.materialIndex = p.materialIndex, t.push(n));
                                else
                                    for (l = Math.max(0, _.start), h = Math.min(m.count, _.start + _.count); l < h; l += 3) a = m.getX(l), s = m.getX(l + 1), c = m.getX(l + 2), (n = Xr(this, r, e, Cr, v, g, y, b, x, a, s, c)) && (n.faceIndex = Math.floor(l / 3), t.push(n));
                            else if (void 0 !== v)
                                if (Array.isArray(r))
                                    for (l = 0, h = w.length; l < h; l++)
                                        for (f = r[(p = w[l]).materialIndex], u = Math.max(p.start, _.start), d = Math.min(p.start + p.count, _.start + _.count); u < d; u += 3)(n = Xr(this, f, e, Cr, v, g, y, b, x, a = u, s = u + 1, c = u + 2)) && (n.faceIndex = Math.floor(u / 3), n.face.materialIndex = p.materialIndex, t.push(n));
                                else
                                    for (l = Math.max(0, _.start), h = Math.min(v.count, _.start + _.count); l < h; l += 3)(n = Xr(this, r, e, Cr, v, g, y, b, x, a = l, s = l + 1, c = l + 2)) && (n.faceIndex = Math.floor(l / 3), t.push(n))
                        } else if (i.isGeometry) {
                        var M, T, S, E, A = Array.isArray(r),
                            P = i.vertices,
                            L = i.faces,
                            C = i.faceVertexUvs[0];
                        C.length > 0 && (E = C);
                        for (var R = 0, O = L.length; R < O; R++) {
                            var D = L[R],
                                I = A ? r[D.materialIndex] : r;
                            if (void 0 !== I && (M = P[D.a], T = P[D.b], S = P[D.c], n = Yr(this, I, e, Cr, M, T, S, Gr))) {
                                if (E && E[R]) {
                                    var j = E[R];
                                    Ur.copy(j[0]), Vr.copy(j[1]), Hr.copy(j[2]), n.uv = Ji.getUV(Gr, M, T, S, Ur, Vr, Hr, new En)
                                }
                                n.face = D, n.faceIndex = R, t.push(n)
                            }
                        }
                    }
                },
                clone: function() {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            });
            var Zr = 0,
                Jr = new Wn,
                Kr = new li,
                Qr = new Fn;

            function $r() {
                Object.defineProperty(this, "id", {
                    value: Zr += 2
                }), this.uuid = Sn.generateUUID(), this.name = "", this.type = "Geometry", this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [
                    []
                ], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.elementsNeedUpdate = !1, this.verticesNeedUpdate = !1, this.uvsNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.lineDistancesNeedUpdate = !1, this.groupsNeedUpdate = !1
            }
            $r.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: $r,
                isGeometry: !0,
                applyMatrix4: function(e) {
                    for (var t = (new An).getNormalMatrix(e), n = 0, i = this.vertices.length; n < i; n++) {
                        this.vertices[n].applyMatrix4(e)
                    }
                    for (n = 0, i = this.faces.length; n < i; n++) {
                        var r = this.faces[n];
                        r.normal.applyMatrix3(t).normalize();
                        for (var o = 0, a = r.vertexNormals.length; o < a; o++) r.vertexNormals[o].applyMatrix3(t).normalize()
                    }
                    return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this.verticesNeedUpdate = !0, this.normalsNeedUpdate = !0, this
                },
                rotateX: function(e) {
                    return Jr.makeRotationX(e), this.applyMatrix4(Jr), this
                },
                rotateY: function(e) {
                    return Jr.makeRotationY(e), this.applyMatrix4(Jr), this
                },
                rotateZ: function(e) {
                    return Jr.makeRotationZ(e), this.applyMatrix4(Jr), this
                },
                translate: function(e, t, n) {
                    return Jr.makeTranslation(e, t, n), this.applyMatrix4(Jr), this
                },
                scale: function(e, t, n) {
                    return Jr.makeScale(e, t, n), this.applyMatrix4(Jr), this
                },
                lookAt: function(e) {
                    return Kr.lookAt(e), Kr.updateMatrix(), this.applyMatrix4(Kr.matrix), this
                },
                fromBufferGeometry: function(e) {
                    var t = this,
                        n = null !== e.index ? e.index.array : void 0,
                        i = e.attributes;
                    if (void 0 === i.position) return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."), this;
                    var r = i.position.array,
                        o = void 0 !== i.normal ? i.normal.array : void 0,
                        a = void 0 !== i.color ? i.color.array : void 0,
                        s = void 0 !== i.uv ? i.uv.array : void 0,
                        c = void 0 !== i.uv2 ? i.uv2.array : void 0;
                    void 0 !== c && (this.faceVertexUvs[1] = []);
                    for (var l = 0; l < r.length; l += 3) t.vertices.push((new Fn).fromArray(r, l)), void 0 !== a && t.colors.push((new er).fromArray(a, l));

                    function u(e, n, i, r) {
                        var l = void 0 === a ? [] : [t.colors[e].clone(), t.colors[n].clone(), t.colors[i].clone()],
                            u = new rr(e, n, i, void 0 === o ? [] : [(new Fn).fromArray(o, 3 * e), (new Fn).fromArray(o, 3 * n), (new Fn).fromArray(o, 3 * i)], l, r);
                        t.faces.push(u), void 0 !== s && t.faceVertexUvs[0].push([(new En).fromArray(s, 2 * e), (new En).fromArray(s, 2 * n), (new En).fromArray(s, 2 * i)]), void 0 !== c && t.faceVertexUvs[1].push([(new En).fromArray(c, 2 * e), (new En).fromArray(c, 2 * n), (new En).fromArray(c, 2 * i)])
                    }
                    var h = e.groups;
                    if (h.length > 0)
                        for (l = 0; l < h.length; l++)
                            for (var d = h[l], p = d.start, f = p, m = p + d.count; f < m; f += 3) void 0 !== n ? u(n[f], n[f + 1], n[f + 2], d.materialIndex) : u(f, f + 1, f + 2, d.materialIndex);
                    else if (void 0 !== n)
                        for (l = 0; l < n.length; l += 3) u(n[l], n[l + 1], n[l + 2]);
                    else
                        for (l = 0; l < r.length / 3; l += 3) u(l, l + 1, l + 2);
                    return this.computeFaceNormals(), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()), null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), this
                },
                center: function() {
                    return this.computeBoundingBox(), this.boundingBox.getCenter(Qr).negate(), this.translate(Qr.x, Qr.y, Qr.z), this
                },
                normalize: function() {
                    this.computeBoundingSphere();
                    var e = this.boundingSphere.center,
                        t = this.boundingSphere.radius,
                        n = 0 === t ? 1 : 1 / t,
                        i = new Wn;
                    return i.set(n, 0, 0, -n * e.x, 0, n, 0, -n * e.y, 0, 0, n, -n * e.z, 0, 0, 0, 1), this.applyMatrix4(i), this
                },
                computeFaceNormals: function() {
                    for (var e = new Fn, t = new Fn, n = 0, i = this.faces.length; n < i; n++) {
                        var r = this.faces[n],
                            o = this.vertices[r.a],
                            a = this.vertices[r.b],
                            s = this.vertices[r.c];
                        e.subVectors(s, a), t.subVectors(o, a), e.cross(t), e.normalize(), r.normal.copy(e)
                    }
                },
                computeVertexNormals: function(e) {
                    var t, n, i, r, o, a;
                    for (void 0 === e && (e = !0), a = new Array(this.vertices.length), t = 0, n = this.vertices.length; t < n; t++) a[t] = new Fn;
                    if (e) {
                        var s, c, l, u = new Fn,
                            h = new Fn;
                        for (i = 0, r = this.faces.length; i < r; i++) o = this.faces[i], s = this.vertices[o.a], c = this.vertices[o.b], l = this.vertices[o.c], u.subVectors(l, c), h.subVectors(s, c), u.cross(h), a[o.a].add(u), a[o.b].add(u), a[o.c].add(u)
                    } else
                        for (this.computeFaceNormals(), i = 0, r = this.faces.length; i < r; i++) a[(o = this.faces[i]).a].add(o.normal), a[o.b].add(o.normal), a[o.c].add(o.normal);
                    for (t = 0, n = this.vertices.length; t < n; t++) a[t].normalize();
                    for (i = 0, r = this.faces.length; i < r; i++) {
                        var d = (o = this.faces[i]).vertexNormals;
                        3 === d.length ? (d[0].copy(a[o.a]), d[1].copy(a[o.b]), d[2].copy(a[o.c])) : (d[0] = a[o.a].clone(), d[1] = a[o.b].clone(), d[2] = a[o.c].clone())
                    }
                    this.faces.length > 0 && (this.normalsNeedUpdate = !0)
                },
                computeFlatVertexNormals: function() {
                    var e, t, n;
                    for (this.computeFaceNormals(), e = 0, t = this.faces.length; e < t; e++) {
                        var i = (n = this.faces[e]).vertexNormals;
                        3 === i.length ? (i[0].copy(n.normal), i[1].copy(n.normal), i[2].copy(n.normal)) : (i[0] = n.normal.clone(), i[1] = n.normal.clone(), i[2] = n.normal.clone())
                    }
                    this.faces.length > 0 && (this.normalsNeedUpdate = !0)
                },
                computeMorphNormals: function() {
                    var e, t, n, i, r;
                    for (n = 0, i = this.faces.length; n < i; n++)
                        for ((r = this.faces[n]).__originalFaceNormal ? r.__originalFaceNormal.copy(r.normal) : r.__originalFaceNormal = r.normal.clone(), r.__originalVertexNormals || (r.__originalVertexNormals = []), e = 0, t = r.vertexNormals.length; e < t; e++) r.__originalVertexNormals[e] ? r.__originalVertexNormals[e].copy(r.vertexNormals[e]) : r.__originalVertexNormals[e] = r.vertexNormals[e].clone();
                    var o = new $r;
                    for (o.faces = this.faces, e = 0, t = this.morphTargets.length; e < t; e++) {
                        if (!this.morphNormals[e]) {
                            this.morphNormals[e] = {}, this.morphNormals[e].faceNormals = [], this.morphNormals[e].vertexNormals = [];
                            var a = this.morphNormals[e].faceNormals,
                                s = this.morphNormals[e].vertexNormals;
                            for (n = 0, i = this.faces.length; n < i; n++) c = new Fn, l = {
                                a: new Fn,
                                b: new Fn,
                                c: new Fn
                            }, a.push(c), s.push(l)
                        }
                        var c, l, u = this.morphNormals[e];
                        for (o.vertices = this.morphTargets[e].vertices, o.computeFaceNormals(), o.computeVertexNormals(), n = 0, i = this.faces.length; n < i; n++) r = this.faces[n], c = u.faceNormals[n], l = u.vertexNormals[n], c.copy(r.normal), l.a.copy(r.vertexNormals[0]), l.b.copy(r.vertexNormals[1]), l.c.copy(r.vertexNormals[2])
                    }
                    for (n = 0, i = this.faces.length; n < i; n++)(r = this.faces[n]).normal = r.__originalFaceNormal, r.vertexNormals = r.__originalVertexNormals
                },
                computeBoundingBox: function() {
                    null === this.boundingBox && (this.boundingBox = new Ti), this.boundingBox.setFromPoints(this.vertices)
                },
                computeBoundingSphere: function() {
                    null === this.boundingSphere && (this.boundingSphere = new Ai), this.boundingSphere.setFromPoints(this.vertices)
                },
                merge: function(e, t, n) {
                    if (e && e.isGeometry) {
                        var i, r = this.vertices.length,
                            o = this.vertices,
                            a = e.vertices,
                            s = this.faces,
                            c = e.faces,
                            l = this.colors,
                            u = e.colors;
                        void 0 === n && (n = 0), void 0 !== t && (i = (new An).getNormalMatrix(t));
                        for (var h = 0, d = a.length; h < d; h++) {
                            var p = a[h].clone();
                            void 0 !== t && p.applyMatrix4(t), o.push(p)
                        }
                        for (h = 0, d = u.length; h < d; h++) l.push(u[h].clone());
                        for (h = 0, d = c.length; h < d; h++) {
                            var f, m, v, g = c[h],
                                y = g.vertexNormals,
                                b = g.vertexColors;
                            (f = new rr(g.a + r, g.b + r, g.c + r)).normal.copy(g.normal), void 0 !== i && f.normal.applyMatrix3(i).normalize();
                            for (var x = 0, w = y.length; x < w; x++) m = y[x].clone(), void 0 !== i && m.applyMatrix3(i).normalize(), f.vertexNormals.push(m);
                            f.color.copy(g.color);
                            for (x = 0, w = b.length; x < w; x++) v = b[x], f.vertexColors.push(v.clone());
                            f.materialIndex = g.materialIndex + n, s.push(f)
                        }
                        for (h = 0, d = e.faceVertexUvs.length; h < d; h++) {
                            var _ = e.faceVertexUvs[h];
                            void 0 === this.faceVertexUvs[h] && (this.faceVertexUvs[h] = []);
                            for (x = 0, w = _.length; x < w; x++) {
                                for (var M = _[x], T = [], S = 0, E = M.length; S < E; S++) T.push(M[S].clone());
                                this.faceVertexUvs[h].push(T)
                            }
                        }
                    } else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.", e)
                },
                mergeMesh: function(e) {
                    e && e.isMesh ? (e.matrixAutoUpdate && e.updateMatrix(), this.merge(e.geometry, e.matrix)) : console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.", e)
                },
                mergeVertices: function() {
                    var e, t, n, i, r, o, a, s, c = {},
                        l = [],
                        u = [],
                        h = Math.pow(10, 4);
                    for (n = 0, i = this.vertices.length; n < i; n++) e = this.vertices[n], void 0 === c[t = Math.round(e.x * h) + "_" + Math.round(e.y * h) + "_" + Math.round(e.z * h)] ? (c[t] = n, l.push(this.vertices[n]), u[n] = l.length - 1) : u[n] = u[c[t]];
                    var d = [];
                    for (n = 0, i = this.faces.length; n < i; n++) {
                        (r = this.faces[n]).a = u[r.a], r.b = u[r.b], r.c = u[r.c], o = [r.a, r.b, r.c];
                        for (var p = 0; p < 3; p++)
                            if (o[p] === o[(p + 1) % 3]) {
                                d.push(n);
                                break
                            }
                    }
                    for (n = d.length - 1; n >= 0; n--) {
                        var f = d[n];
                        for (this.faces.splice(f, 1), a = 0, s = this.faceVertexUvs.length; a < s; a++) this.faceVertexUvs[a].splice(f, 1)
                    }
                    var m = this.vertices.length - l.length;
                    return this.vertices = l, m
                },
                setFromPoints: function(e) {
                    this.vertices = [];
                    for (var t = 0, n = e.length; t < n; t++) {
                        var i = e[t];
                        this.vertices.push(new Fn(i.x, i.y, i.z || 0))
                    }
                    return this
                },
                sortFacesByMaterialIndex: function() {
                    for (var e = this.faces, t = e.length, n = 0; n < t; n++) e[n]._id = n;
                    e.sort((function(e, t) {
                        return e.materialIndex - t.materialIndex
                    }));
                    var i, r, o = this.faceVertexUvs[0],
                        a = this.faceVertexUvs[1];
                    o && o.length === t && (i = []), a && a.length === t && (r = []);
                    for (n = 0; n < t; n++) {
                        var s = e[n]._id;
                        i && i.push(o[s]), r && r.push(a[s])
                    }
                    i && (this.faceVertexUvs[0] = i), r && (this.faceVertexUvs[1] = r)
                },
                toJSON: function() {
                    var e = {
                        metadata: {
                            version: 4.5,
                            type: "Geometry",
                            generator: "Geometry.toJSON"
                        }
                    };
                    if (e.uuid = this.uuid, e.type = this.type, "" !== this.name && (e.name = this.name), void 0 !== this.parameters) {
                        var t = this.parameters;
                        for (var n in t) void 0 !== t[n] && (e[n] = t[n]);
                        return e
                    }
                    for (var i = [], r = 0; r < this.vertices.length; r++) {
                        var o = this.vertices[r];
                        i.push(o.x, o.y, o.z)
                    }
                    var a = [],
                        s = [],
                        c = {},
                        l = [],
                        u = {},
                        h = [],
                        d = {};
                    for (r = 0; r < this.faces.length; r++) {
                        var p = this.faces[r],
                            f = void 0 !== this.faceVertexUvs[0][r],
                            m = p.normal.length() > 0,
                            v = p.vertexNormals.length > 0,
                            g = 1 !== p.color.r || 1 !== p.color.g || 1 !== p.color.b,
                            y = p.vertexColors.length > 0,
                            b = 0;
                        if (b = M(b, 0, 0), b = M(b, 1, !0), b = M(b, 2, !1), b = M(b, 3, f), b = M(b, 4, m), b = M(b, 5, v), b = M(b, 6, g), b = M(b, 7, y), a.push(b), a.push(p.a, p.b, p.c), a.push(p.materialIndex), f) {
                            var x = this.faceVertexUvs[0][r];
                            a.push(E(x[0]), E(x[1]), E(x[2]))
                        }
                        if (m && a.push(T(p.normal)), v) {
                            var w = p.vertexNormals;
                            a.push(T(w[0]), T(w[1]), T(w[2]))
                        }
                        if (g && a.push(S(p.color)), y) {
                            var _ = p.vertexColors;
                            a.push(S(_[0]), S(_[1]), S(_[2]))
                        }
                    }

                    function M(e, t, n) {
                        return n ? e | 1 << t : e & ~(1 << t)
                    }

                    function T(e) {
                        var t = e.x.toString() + e.y.toString() + e.z.toString();
                        return void 0 !== c[t] || (c[t] = s.length / 3, s.push(e.x, e.y, e.z)), c[t]
                    }

                    function S(e) {
                        var t = e.r.toString() + e.g.toString() + e.b.toString();
                        return void 0 !== u[t] || (u[t] = l.length, l.push(e.getHex())), u[t]
                    }

                    function E(e) {
                        var t = e.x.toString() + e.y.toString();
                        return void 0 !== d[t] || (d[t] = h.length / 2, h.push(e.x, e.y)), d[t]
                    }
                    return e.data = {}, e.data.vertices = i, e.data.normals = s, l.length > 0 && (e.data.colors = l), h.length > 0 && (e.data.uvs = [h]), e.data.faces = a, e
                },
                clone: function() {
                    return (new $r).copy(this)
                },
                copy: function(e) {
                    var t, n, i, r, o, a;
                    this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [
                        []
                    ], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.name = e.name;
                    var s = e.vertices;
                    for (t = 0, n = s.length; t < n; t++) this.vertices.push(s[t].clone());
                    var c = e.colors;
                    for (t = 0, n = c.length; t < n; t++) this.colors.push(c[t].clone());
                    var l = e.faces;
                    for (t = 0, n = l.length; t < n; t++) this.faces.push(l[t].clone());
                    for (t = 0, n = e.faceVertexUvs.length; t < n; t++) {
                        var u = e.faceVertexUvs[t];
                        for (void 0 === this.faceVertexUvs[t] && (this.faceVertexUvs[t] = []), i = 0, r = u.length; i < r; i++) {
                            var h = u[i],
                                d = [];
                            for (o = 0, a = h.length; o < a; o++) {
                                var p = h[o];
                                d.push(p.clone())
                            }
                            this.faceVertexUvs[t].push(d)
                        }
                    }
                    var f = e.morphTargets;
                    for (t = 0, n = f.length; t < n; t++) {
                        var m = {};
                        if (m.name = f[t].name, void 0 !== f[t].vertices)
                            for (m.vertices = [], i = 0, r = f[t].vertices.length; i < r; i++) m.vertices.push(f[t].vertices[i].clone());
                        if (void 0 !== f[t].normals)
                            for (m.normals = [], i = 0, r = f[t].normals.length; i < r; i++) m.normals.push(f[t].normals[i].clone());
                        this.morphTargets.push(m)
                    }
                    var v = e.morphNormals;
                    for (t = 0, n = v.length; t < n; t++) {
                        var g = {};
                        if (void 0 !== v[t].vertexNormals)
                            for (g.vertexNormals = [], i = 0, r = v[t].vertexNormals.length; i < r; i++) {
                                var y = v[t].vertexNormals[i],
                                    b = {};
                                b.a = y.a.clone(), b.b = y.b.clone(), b.c = y.c.clone(), g.vertexNormals.push(b)
                            }
                        if (void 0 !== v[t].faceNormals)
                            for (g.faceNormals = [], i = 0, r = v[t].faceNormals.length; i < r; i++) g.faceNormals.push(v[t].faceNormals[i].clone());
                        this.morphNormals.push(g)
                    }
                    var x = e.skinWeights;
                    for (t = 0, n = x.length; t < n; t++) this.skinWeights.push(x[t].clone());
                    var w = e.skinIndices;
                    for (t = 0, n = w.length; t < n; t++) this.skinIndices.push(w[t].clone());
                    var _ = e.lineDistances;
                    for (t = 0, n = _.length; t < n; t++) this.lineDistances.push(_[t]);
                    var M = e.boundingBox;
                    null !== M && (this.boundingBox = M.clone());
                    var T = e.boundingSphere;
                    return null !== T && (this.boundingSphere = T.clone()), this.elementsNeedUpdate = e.elementsNeedUpdate, this.verticesNeedUpdate = e.verticesNeedUpdate, this.uvsNeedUpdate = e.uvsNeedUpdate, this.normalsNeedUpdate = e.normalsNeedUpdate, this.colorsNeedUpdate = e.colorsNeedUpdate, this.lineDistancesNeedUpdate = e.lineDistancesNeedUpdate, this.groupsNeedUpdate = e.groupsNeedUpdate, this
                },
                dispose: function() {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            });
            class eo extends $r {
                constructor(e, t, n, i, r, o) {
                    super(), this.type = "BoxGeometry", this.parameters = {
                        width: e,
                        height: t,
                        depth: n,
                        widthSegments: i,
                        heightSegments: r,
                        depthSegments: o
                    }, this.fromBufferGeometry(new to(e, t, n, i, r, o)), this.mergeVertices()
                }
            }
            class to extends Pr {
                constructor(e, t, n, i, r, o) {
                    super(), this.type = "BoxBufferGeometry", this.parameters = {
                        width: e,
                        height: t,
                        depth: n,
                        widthSegments: i,
                        heightSegments: r,
                        depthSegments: o
                    };
                    var a = this;
                    e = e || 1, t = t || 1, n = n || 1, i = Math.floor(i) || 1, r = Math.floor(r) || 1, o = Math.floor(o) || 1;
                    var s = [],
                        c = [],
                        l = [],
                        u = [],
                        h = 0,
                        d = 0;

                    function p(e, t, n, i, r, o, p, f, m, v, g) {
                        var y, b, x = o / m,
                            w = p / v,
                            _ = o / 2,
                            M = p / 2,
                            T = f / 2,
                            S = m + 1,
                            E = v + 1,
                            A = 0,
                            P = 0,
                            L = new Fn;
                        for (b = 0; b < E; b++) {
                            var C = b * w - M;
                            for (y = 0; y < S; y++) {
                                var R = y * x - _;
                                L[e] = R * i, L[t] = C * r, L[n] = T, c.push(L.x, L.y, L.z), L[e] = 0, L[t] = 0, L[n] = f > 0 ? 1 : -1, l.push(L.x, L.y, L.z), u.push(y / m), u.push(1 - b / v), A += 1
                            }
                        }
                        for (b = 0; b < v; b++)
                            for (y = 0; y < m; y++) {
                                var O = h + y + S * b,
                                    D = h + y + S * (b + 1),
                                    I = h + (y + 1) + S * (b + 1),
                                    j = h + (y + 1) + S * b;
                                s.push(O, D, j), s.push(D, I, j), P += 6
                            }
                        a.addGroup(d, P, g), d += P, h += A
                    }
                    p("z", "y", "x", -1, -1, n, t, e, o, r, 0), p("z", "y", "x", 1, -1, n, t, -e, o, r, 1), p("x", "z", "y", 1, 1, e, n, t, i, o, 2), p("x", "z", "y", 1, -1, e, n, -t, i, o, 3), p("x", "y", "z", 1, -1, e, t, n, i, r, 4), p("x", "y", "z", -1, -1, e, t, -n, i, r, 5), this.setIndex(s), this.setAttribute("position", new gr(c, 3)), this.setAttribute("normal", new gr(l, 3)), this.setAttribute("uv", new gr(u, 2))
                }
            }

            function no(e) {
                var t = {};
                for (var n in e)
                    for (var i in t[n] = {}, e[n]) {
                        var r = e[n][i];
                        r && (r.isColor || r.isMatrix3 || r.isMatrix4 || r.isVector2 || r.isVector3 || r.isVector4 || r.isTexture) ? t[n][i] = r.clone() : Array.isArray(r) ? t[n][i] = r.slice() : t[n][i] = r
                    }
                return t
            }

            function io(e) {
                for (var t = {}, n = 0; n < e.length; n++) {
                    var i = no(e[n]);
                    for (var r in i) t[r] = i[r]
                }
                return t
            }
            var ro = {
                clone: no,
                merge: io
            };

            function oo(e) {
                ar.call(this), this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}", this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}", this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.clipping = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.extensions = {
                    derivatives: !1,
                    fragDepth: !1,
                    drawBuffers: !1,
                    shaderTextureLOD: !1
                }, this.defaultAttributeValues = {
                    color: [1, 1, 1],
                    uv: [0, 0],
                    uv2: [0, 0]
                }, this.index0AttributeName = void 0, this.uniformsNeedUpdate = !1, void 0 !== e && (void 0 !== e.attributes && console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."), this.setValues(e))
            }

            function ao() {
                li.call(this), this.type = "Camera", this.matrixWorldInverse = new Wn, this.projectionMatrix = new Wn, this.projectionMatrixInverse = new Wn
            }

            function so(e, t, n, i) {
                ao.call(this), this.type = "PerspectiveCamera", this.fov = void 0 !== e ? e : 50, this.zoom = 1, this.near = void 0 !== n ? n : .1, this.far = void 0 !== i ? i : 2e3, this.focus = 10, this.aspect = void 0 !== t ? t : 1, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix()
            }
            oo.prototype = Object.create(ar.prototype), oo.prototype.constructor = oo, oo.prototype.isShaderMaterial = !0, oo.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.fragmentShader = e.fragmentShader, this.vertexShader = e.vertexShader, this.uniforms = no(e.uniforms), this.defines = Object.assign({}, e.defines), this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.lights = e.lights, this.clipping = e.clipping, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this.extensions = e.extensions, this
            }, oo.prototype.toJSON = function(e) {
                var t = ar.prototype.toJSON.call(this, e);
                for (var n in t.uniforms = {}, this.uniforms) {
                    var i = this.uniforms[n].value;
                    i && i.isTexture ? t.uniforms[n] = {
                        type: "t",
                        value: i.toJSON(e).uuid
                    } : i && i.isColor ? t.uniforms[n] = {
                        type: "c",
                        value: i.getHex()
                    } : i && i.isVector2 ? t.uniforms[n] = {
                        type: "v2",
                        value: i.toArray()
                    } : i && i.isVector3 ? t.uniforms[n] = {
                        type: "v3",
                        value: i.toArray()
                    } : i && i.isVector4 ? t.uniforms[n] = {
                        type: "v4",
                        value: i.toArray()
                    } : i && i.isMatrix3 ? t.uniforms[n] = {
                        type: "m3",
                        value: i.toArray()
                    } : i && i.isMatrix4 ? t.uniforms[n] = {
                        type: "m4",
                        value: i.toArray()
                    } : t.uniforms[n] = {
                        value: i
                    }
                }
                Object.keys(this.defines).length > 0 && (t.defines = this.defines), t.vertexShader = this.vertexShader, t.fragmentShader = this.fragmentShader;
                var r = {};
                for (var o in this.extensions) !0 === this.extensions[o] && (r[o] = !0);
                return Object.keys(r).length > 0 && (t.extensions = r), t
            }, ao.prototype = Object.assign(Object.create(li.prototype), {
                constructor: ao,
                isCamera: !0,
                copy: function(e, t) {
                    return li.prototype.copy.call(this, e, t), this.matrixWorldInverse.copy(e.matrixWorldInverse), this.projectionMatrix.copy(e.projectionMatrix), this.projectionMatrixInverse.copy(e.projectionMatrixInverse), this
                },
                getWorldDirection: function(e) {
                    void 0 === e && (console.warn("THREE.Camera: .getWorldDirection() target is now required"), e = new Fn), this.updateMatrixWorld(!0);
                    var t = this.matrixWorld.elements;
                    return e.set(-t[8], -t[9], -t[10]).normalize()
                },
                updateMatrixWorld: function(e) {
                    li.prototype.updateMatrixWorld.call(this, e), this.matrixWorldInverse.getInverse(this.matrixWorld)
                },
                updateWorldMatrix: function(e, t) {
                    li.prototype.updateWorldMatrix.call(this, e, t), this.matrixWorldInverse.getInverse(this.matrixWorld)
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                }
            }), so.prototype = Object.assign(Object.create(ao.prototype), {
                constructor: so,
                isPerspectiveCamera: !0,
                copy: function(e, t) {
                    return ao.prototype.copy.call(this, e, t), this.fov = e.fov, this.zoom = e.zoom, this.near = e.near, this.far = e.far, this.focus = e.focus, this.aspect = e.aspect, this.view = null === e.view ? null : Object.assign({}, e.view), this.filmGauge = e.filmGauge, this.filmOffset = e.filmOffset, this
                },
                setFocalLength: function(e) {
                    var t = .5 * this.getFilmHeight() / e;
                    this.fov = 2 * Sn.RAD2DEG * Math.atan(t), this.updateProjectionMatrix()
                },
                getFocalLength: function() {
                    var e = Math.tan(.5 * Sn.DEG2RAD * this.fov);
                    return .5 * this.getFilmHeight() / e
                },
                getEffectiveFOV: function() {
                    return 2 * Sn.RAD2DEG * Math.atan(Math.tan(.5 * Sn.DEG2RAD * this.fov) / this.zoom)
                },
                getFilmWidth: function() {
                    return this.filmGauge * Math.min(this.aspect, 1)
                },
                getFilmHeight: function() {
                    return this.filmGauge / Math.max(this.aspect, 1)
                },
                setViewOffset: function(e, t, n, i, r, o) {
                    this.aspect = e / t, null === this.view && (this.view = {
                        enabled: !0,
                        fullWidth: 1,
                        fullHeight: 1,
                        offsetX: 0,
                        offsetY: 0,
                        width: 1,
                        height: 1
                    }), this.view.enabled = !0, this.view.fullWidth = e, this.view.fullHeight = t, this.view.offsetX = n, this.view.offsetY = i, this.view.width = r, this.view.height = o, this.updateProjectionMatrix()
                },
                clearViewOffset: function() {
                    null !== this.view && (this.view.enabled = !1), this.updateProjectionMatrix()
                },
                updateProjectionMatrix: function() {
                    var e = this.near,
                        t = e * Math.tan(.5 * Sn.DEG2RAD * this.fov) / this.zoom,
                        n = 2 * t,
                        i = this.aspect * n,
                        r = -.5 * i,
                        o = this.view;
                    if (null !== this.view && this.view.enabled) {
                        var a = o.fullWidth,
                            s = o.fullHeight;
                        r += o.offsetX * i / a, t -= o.offsetY * n / s, i *= o.width / a, n *= o.height / s
                    }
                    var c = this.filmOffset;
                    0 !== c && (r += e * c / this.getFilmWidth()), this.projectionMatrix.makePerspective(r, r + i, t, t - n, e, this.far), this.projectionMatrixInverse.getInverse(this.projectionMatrix)
                },
                toJSON: function(e) {
                    var t = li.prototype.toJSON.call(this, e);
                    return t.object.fov = this.fov, t.object.zoom = this.zoom, t.object.near = this.near, t.object.far = this.far, t.object.focus = this.focus, t.object.aspect = this.aspect, null !== this.view && (t.object.view = Object.assign({}, this.view)), t.object.filmGauge = this.filmGauge, t.object.filmOffset = this.filmOffset, t
                }
            });

            function co(e, t, n, i) {
                li.call(this), this.type = "CubeCamera";
                var r = new so(90, 1, e, t);
                r.up.set(0, -1, 0), r.lookAt(new Fn(1, 0, 0)), this.add(r);
                var o = new so(90, 1, e, t);
                o.up.set(0, -1, 0), o.lookAt(new Fn(-1, 0, 0)), this.add(o);
                var a = new so(90, 1, e, t);
                a.up.set(0, 0, 1), a.lookAt(new Fn(0, 1, 0)), this.add(a);
                var s = new so(90, 1, e, t);
                s.up.set(0, 0, -1), s.lookAt(new Fn(0, -1, 0)), this.add(s);
                var c = new so(90, 1, e, t);
                c.up.set(0, -1, 0), c.lookAt(new Fn(0, 0, 1)), this.add(c);
                var l = new so(90, 1, e, t);
                l.up.set(0, -1, 0), l.lookAt(new Fn(0, 0, -1)), this.add(l), i = i || {
                    format: He,
                    magFilter: Se,
                    minFilter: Se
                }, this.renderTarget = new lo(n, i), this.renderTarget.texture.name = "CubeCamera", this.update = function(e, t) {
                    null === this.parent && this.updateMatrixWorld();
                    var n = e.getRenderTarget(),
                        i = this.renderTarget,
                        u = i.texture.generateMipmaps;
                    i.texture.generateMipmaps = !1, e.setRenderTarget(i, 0), e.render(t, r), e.setRenderTarget(i, 1), e.render(t, o), e.setRenderTarget(i, 2), e.render(t, a), e.setRenderTarget(i, 3), e.render(t, s), e.setRenderTarget(i, 4), e.render(t, c), i.texture.generateMipmaps = u, e.setRenderTarget(i, 5), e.render(t, l), e.setRenderTarget(n)
                }, this.clear = function(e, t, n, i) {
                    for (var r = e.getRenderTarget(), o = this.renderTarget, a = 0; a < 6; a++) e.setRenderTarget(o, a), e.clear(t, n, i);
                    e.setRenderTarget(r)
                }
            }

            function lo(e, t, n) {
                Number.isInteger(t) && (console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"), t = n), On.call(this, e, e, t)
            }

            function uo(e, t, n, i, r, o, a, s, c, l, u, h) {
                Cn.call(this, null, o, a, s, c, l, i, r, u, h), this.image = {
                    data: e || null,
                    width: t || 1,
                    height: n || 1
                }, this.magFilter = void 0 !== c ? c : xe, this.minFilter = void 0 !== l ? l : xe, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1, this.needsUpdate = !0
            }
            co.prototype = Object.create(li.prototype), co.prototype.constructor = co, lo.prototype = Object.create(On.prototype), lo.prototype.constructor = lo, lo.prototype.isWebGLCubeRenderTarget = !0, lo.prototype.fromEquirectangularTexture = function(e, t) {
                this.texture.type = t.type, this.texture.format = t.format, this.texture.encoding = t.encoding;
                var n = new ui,
                    i = {
                        uniforms: {
                            tEquirect: {
                                value: null
                            }
                        },
                        vertexShader: ["varying vec3 vWorldDirection;", "vec3 transformDirection( in vec3 dir, in mat4 matrix ) {", "\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );", "}", "void main() {", "\tvWorldDirection = transformDirection( position, modelMatrix );", "\t#include <begin_vertex>", "\t#include <project_vertex>", "}"].join("\n"),
                        fragmentShader: ["uniform sampler2D tEquirect;", "varying vec3 vWorldDirection;", "#define RECIPROCAL_PI 0.31830988618", "#define RECIPROCAL_PI2 0.15915494", "void main() {", "\tvec3 direction = normalize( vWorldDirection );", "\tvec2 sampleUV;", "\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;", "\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;", "\tgl_FragColor = texture2D( tEquirect, sampleUV );", "}"].join("\n")
                    },
                    r = new oo({
                        type: "CubemapFromEquirect",
                        uniforms: no(i.uniforms),
                        vertexShader: i.vertexShader,
                        fragmentShader: i.fragmentShader,
                        side: g,
                        blending: T
                    });
                r.uniforms.tEquirect.value = t;
                var o = new qr(new to(5, 5, 5), r);
                n.add(o);
                var a = new co(1, 10, 1);
                return a.renderTarget = this, a.renderTarget.texture.name = "CubeCameraTexture", a.update(e, n), o.geometry.dispose(), o.material.dispose(), this
            }, uo.prototype = Object.create(Cn.prototype), uo.prototype.constructor = uo, uo.prototype.isDataTexture = !0;
            var ho = new Ai,
                po = new Fn;

            function fo(e, t, n, i, r, o) {
                this.planes = [void 0 !== e ? e : new zi, void 0 !== t ? t : new zi, void 0 !== n ? n : new zi, void 0 !== i ? i : new zi, void 0 !== r ? r : new zi, void 0 !== o ? o : new zi]
            }
            Object.assign(fo.prototype, {
                set: function(e, t, n, i, r, o) {
                    var a = this.planes;
                    return a[0].copy(e), a[1].copy(t), a[2].copy(n), a[3].copy(i), a[4].copy(r), a[5].copy(o), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    for (var t = this.planes, n = 0; n < 6; n++) t[n].copy(e.planes[n]);
                    return this
                },
                setFromProjectionMatrix: function(e) {
                    var t = this.planes,
                        n = e.elements,
                        i = n[0],
                        r = n[1],
                        o = n[2],
                        a = n[3],
                        s = n[4],
                        c = n[5],
                        l = n[6],
                        u = n[7],
                        h = n[8],
                        d = n[9],
                        p = n[10],
                        f = n[11],
                        m = n[12],
                        v = n[13],
                        g = n[14],
                        y = n[15];
                    return t[0].setComponents(a - i, u - s, f - h, y - m).normalize(), t[1].setComponents(a + i, u + s, f + h, y + m).normalize(), t[2].setComponents(a + r, u + c, f + d, y + v).normalize(), t[3].setComponents(a - r, u - c, f - d, y - v).normalize(), t[4].setComponents(a - o, u - l, f - p, y - g).normalize(), t[5].setComponents(a + o, u + l, f + p, y + g).normalize(), this
                },
                intersectsObject: function(e) {
                    var t = e.geometry;
                    return null === t.boundingSphere && t.computeBoundingSphere(), ho.copy(t.boundingSphere).applyMatrix4(e.matrixWorld), this.intersectsSphere(ho)
                },
                intersectsSprite: function(e) {
                    return ho.center.set(0, 0, 0), ho.radius = .7071067811865476, ho.applyMatrix4(e.matrixWorld), this.intersectsSphere(ho)
                },
                intersectsSphere: function(e) {
                    for (var t = this.planes, n = e.center, i = -e.radius, r = 0; r < 6; r++) {
                        if (t[r].distanceToPoint(n) < i) return !1
                    }
                    return !0
                },
                intersectsBox: function(e) {
                    for (var t = this.planes, n = 0; n < 6; n++) {
                        var i = t[n];
                        if (po.x = i.normal.x > 0 ? e.max.x : e.min.x, po.y = i.normal.y > 0 ? e.max.y : e.min.y, po.z = i.normal.z > 0 ? e.max.z : e.min.z, i.distanceToPoint(po) < 0) return !1
                    }
                    return !0
                },
                containsPoint: function(e) {
                    for (var t = this.planes, n = 0; n < 6; n++)
                        if (t[n].distanceToPoint(e) < 0) return !1;
                    return !0
                }
            });
            var mo = {
                common: {
                    diffuse: {
                        value: new er(15658734)
                    },
                    opacity: {
                        value: 1
                    },
                    map: {
                        value: null
                    },
                    uvTransform: {
                        value: new An
                    },
                    uv2Transform: {
                        value: new An
                    },
                    alphaMap: {
                        value: null
                    }
                },
                specularmap: {
                    specularMap: {
                        value: null
                    }
                },
                envmap: {
                    envMap: {
                        value: null
                    },
                    flipEnvMap: {
                        value: -1
                    },
                    reflectivity: {
                        value: 1
                    },
                    refractionRatio: {
                        value: .98
                    },
                    maxMipLevel: {
                        value: 0
                    }
                },
                aomap: {
                    aoMap: {
                        value: null
                    },
                    aoMapIntensity: {
                        value: 1
                    }
                },
                lightmap: {
                    lightMap: {
                        value: null
                    },
                    lightMapIntensity: {
                        value: 1
                    }
                },
                emissivemap: {
                    emissiveMap: {
                        value: null
                    }
                },
                bumpmap: {
                    bumpMap: {
                        value: null
                    },
                    bumpScale: {
                        value: 1
                    }
                },
                normalmap: {
                    normalMap: {
                        value: null
                    },
                    normalScale: {
                        value: new En(1, 1)
                    }
                },
                displacementmap: {
                    displacementMap: {
                        value: null
                    },
                    displacementScale: {
                        value: 1
                    },
                    displacementBias: {
                        value: 0
                    }
                },
                roughnessmap: {
                    roughnessMap: {
                        value: null
                    }
                },
                metalnessmap: {
                    metalnessMap: {
                        value: null
                    }
                },
                gradientmap: {
                    gradientMap: {
                        value: null
                    }
                },
                fog: {
                    fogDensity: {
                        value: 25e-5
                    },
                    fogNear: {
                        value: 1
                    },
                    fogFar: {
                        value: 2e3
                    },
                    fogColor: {
                        value: new er(16777215)
                    }
                },
                lights: {
                    ambientLightColor: {
                        value: []
                    },
                    lightProbe: {
                        value: []
                    },
                    directionalLights: {
                        value: [],
                        properties: {
                            direction: {},
                            color: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {}
                        }
                    },
                    directionalShadowMap: {
                        value: []
                    },
                    directionalShadowMatrix: {
                        value: []
                    },
                    spotLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            direction: {},
                            distance: {},
                            coneCos: {},
                            penumbraCos: {},
                            decay: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {}
                        }
                    },
                    spotShadowMap: {
                        value: []
                    },
                    spotShadowMatrix: {
                        value: []
                    },
                    pointLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            decay: {},
                            distance: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {},
                            shadowCameraNear: {},
                            shadowCameraFar: {}
                        }
                    },
                    pointShadowMap: {
                        value: []
                    },
                    pointShadowMatrix: {
                        value: []
                    },
                    hemisphereLights: {
                        value: [],
                        properties: {
                            direction: {},
                            skyColor: {},
                            groundColor: {}
                        }
                    },
                    rectAreaLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            width: {},
                            height: {}
                        }
                    }
                },
                points: {
                    diffuse: {
                        value: new er(15658734)
                    },
                    opacity: {
                        value: 1
                    },
                    size: {
                        value: 1
                    },
                    scale: {
                        value: 1
                    },
                    map: {
                        value: null
                    },
                    alphaMap: {
                        value: null
                    },
                    uvTransform: {
                        value: new An
                    }
                },
                sprite: {
                    diffuse: {
                        value: new er(15658734)
                    },
                    opacity: {
                        value: 1
                    },
                    center: {
                        value: new En(.5, .5)
                    },
                    rotation: {
                        value: 0
                    },
                    map: {
                        value: null
                    },
                    alphaMap: {
                        value: null
                    },
                    uvTransform: {
                        value: new An
                    }
                }
            };

            function vo() {
                var e = null,
                    t = !1,
                    n = null;

                function i(r, o) {
                    !1 !== t && (n(r, o), e.requestAnimationFrame(i))
                }
                return {
                    start: function() {
                        !0 !== t && null !== n && (e.requestAnimationFrame(i), t = !0)
                    },
                    stop: function() {
                        t = !1
                    },
                    setAnimationLoop: function(e) {
                        n = e
                    },
                    setContext: function(t) {
                        e = t
                    }
                }
            }

            function go(e, t) {
                var n = t.isWebGL2,
                    i = new WeakMap;
                return {
                    get: function(e) {
                        return e.isInterleavedBufferAttribute && (e = e.data), i.get(e)
                    },
                    remove: function(t) {
                        t.isInterleavedBufferAttribute && (t = t.data);
                        var n = i.get(t);
                        n && (e.deleteBuffer(n.buffer), i.delete(t))
                    },
                    update: function(t, r) {
                        t.isInterleavedBufferAttribute && (t = t.data);
                        var o = i.get(t);
                        void 0 === o ? i.set(t, function(t, n) {
                            var i = t.array,
                                r = t.usage,
                                o = e.createBuffer();
                            e.bindBuffer(n, o), e.bufferData(n, i, r), t.onUploadCallback();
                            var a = 5126;
                            return i instanceof Float32Array ? a = 5126 : i instanceof Float64Array ? console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.") : i instanceof Uint16Array ? a = 5123 : i instanceof Int16Array ? a = 5122 : i instanceof Uint32Array ? a = 5125 : i instanceof Int32Array ? a = 5124 : i instanceof Int8Array ? a = 5120 : i instanceof Uint8Array && (a = 5121), {
                                buffer: o,
                                type: a,
                                bytesPerElement: i.BYTES_PER_ELEMENT,
                                version: t.version
                            }
                        }(t, r)) : o.version < t.version && (! function(t, i, r) {
                            var o = i.array,
                                a = i.updateRange;
                            e.bindBuffer(r, t), -1 === a.count ? e.bufferSubData(r, 0, o) : (n ? e.bufferSubData(r, a.offset * o.BYTES_PER_ELEMENT, o, a.offset, a.count) : e.bufferSubData(r, a.offset * o.BYTES_PER_ELEMENT, o.subarray(a.offset, a.offset + a.count)), a.count = -1)
                        }(o.buffer, t, r), o.version = t.version)
                    }
                }
            }

            function yo(e, t, n, i) {
                $r.call(this), this.type = "PlaneGeometry", this.parameters = {
                    width: e,
                    height: t,
                    widthSegments: n,
                    heightSegments: i
                }, this.fromBufferGeometry(new bo(e, t, n, i)), this.mergeVertices()
            }

            function bo(e, t, n, i) {
                Pr.call(this), this.type = "PlaneBufferGeometry", this.parameters = {
                    width: e,
                    height: t,
                    widthSegments: n,
                    heightSegments: i
                };
                var r, o, a = (e = e || 1) / 2,
                    s = (t = t || 1) / 2,
                    c = Math.floor(n) || 1,
                    l = Math.floor(i) || 1,
                    u = c + 1,
                    h = l + 1,
                    d = e / c,
                    p = t / l,
                    f = [],
                    m = [],
                    v = [],
                    g = [];
                for (o = 0; o < h; o++) {
                    var y = o * p - s;
                    for (r = 0; r < u; r++) {
                        var b = r * d - a;
                        m.push(b, -y, 0), v.push(0, 0, 1), g.push(r / c), g.push(1 - o / l)
                    }
                }
                for (o = 0; o < l; o++)
                    for (r = 0; r < c; r++) {
                        var x = r + u * o,
                            w = r + u * (o + 1),
                            _ = r + 1 + u * (o + 1),
                            M = r + 1 + u * o;
                        f.push(x, w, M), f.push(w, _, M)
                    }
                this.setIndex(f), this.setAttribute("position", new gr(m, 3)), this.setAttribute("normal", new gr(v, 3)), this.setAttribute("uv", new gr(g, 2))
            }
            yo.prototype = Object.create($r.prototype), yo.prototype.constructor = yo, bo.prototype = Object.create(Pr.prototype), bo.prototype.constructor = bo;
            var xo = {
                    alphamap_fragment: "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",
                    alphamap_pars_fragment: "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
                    alphatest_fragment: "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",
                    aomap_fragment: "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",
                    aomap_pars_fragment: "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
                    begin_vertex: "vec3 transformed = vec3( position );",
                    beginnormal_vertex: "vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",
                    bsdfs: "vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",
                    bumpmap_pars_fragment: "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
                    clipping_planes_fragment: "#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
                    clipping_planes_pars_fragment: "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",
                    clipping_planes_pars_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",
                    clipping_planes_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",
                    color_fragment: "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
                    color_pars_fragment: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
                    color_pars_vertex: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
                    color_vertex: "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
                    common: "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",
                    cube_uv_reflection_fragment: "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",
                    defaultnormal_vertex: "vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",
                    displacementmap_pars_vertex: "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",
                    displacementmap_vertex: "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",
                    emissivemap_fragment: "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",
                    emissivemap_pars_fragment: "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",
                    encodings_fragment: "gl_FragColor = linearToOutputTexel( gl_FragColor );",
                    encodings_pars_fragment: "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",
                    envmap_fragment: "#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
                    envmap_common_pars_fragment: "#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",
                    envmap_pars_fragment: "#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
                    envmap_pars_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",
                    envmap_physical_pars_fragment: "#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",
                    envmap_vertex: "#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
                    fog_vertex: "#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",
                    fog_pars_vertex: "#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",
                    fog_fragment: "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",
                    fog_pars_fragment: "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
                    gradientmap_pars_fragment: "#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",
                    lightmap_fragment: "#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",
                    lightmap_pars_fragment: "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
                    lights_lambert_vertex: "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",
                    lights_pars_begin: "uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",
                    lights_toon_fragment: "ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",
                    lights_toon_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",
                    lights_phong_fragment: "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",
                    lights_phong_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",
                    lights_physical_fragment: "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",
                    lights_physical_pars_fragment: "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
                    lights_fragment_begin: "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",
                    lights_fragment_maps: "#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",
                    lights_fragment_end: "#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",
                    logdepthbuf_fragment: "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
                    logdepthbuf_pars_fragment: "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",
                    logdepthbuf_pars_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",
                    logdepthbuf_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",
                    map_fragment: "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",
                    map_pars_fragment: "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",
                    map_particle_fragment: "#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",
                    map_particle_pars_fragment: "#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
                    metalnessmap_fragment: "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",
                    metalnessmap_pars_fragment: "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
                    morphnormal_vertex: "#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",
                    morphtarget_pars_vertex: "#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
                    morphtarget_vertex: "#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",
                    normal_fragment_begin: "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",
                    normal_fragment_maps: "#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",
                    normalmap_pars_fragment: "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",
                    clearcoat_normal_fragment_begin: "#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",
                    clearcoat_normal_fragment_maps: "#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",
                    clearcoat_normalmap_pars_fragment: "#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",
                    packing: "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",
                    premultiplied_alpha_fragment: "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",
                    project_vertex: "vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",
                    dithering_fragment: "#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",
                    dithering_pars_fragment: "#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",
                    roughnessmap_fragment: "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",
                    roughnessmap_pars_fragment: "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
                    shadowmap_pars_fragment: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
                    shadowmap_pars_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",
                    shadowmap_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",
                    shadowmask_pars_fragment: "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",
                    skinbase_vertex: "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
                    skinning_pars_vertex: "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",
                    skinning_vertex: "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",
                    skinnormal_vertex: "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
                    specularmap_fragment: "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
                    specularmap_pars_fragment: "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
                    tonemapping_fragment: "#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",
                    tonemapping_pars_fragment: "#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",
                    uv_pars_fragment: "#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",
                    uv_pars_vertex: "#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",
                    uv_vertex: "#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",
                    uv2_pars_fragment: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
                    uv2_pars_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",
                    uv2_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",
                    worldpos_vertex: "#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",
                    background_frag: "uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
                    background_vert: "varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",
                    cube_frag: "#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
                    cube_vert: "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",
                    depth_frag: "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",
                    depth_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",
                    distanceRGBA_frag: "#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",
                    distanceRGBA_vert: "#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",
                    equirect_frag: "uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
                    equirect_vert: "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",
                    linedashed_frag: "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
                    linedashed_vert: "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",
                    meshbasic_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
                    meshbasic_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",
                    meshlambert_frag: "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                    meshlambert_vert: "#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                    meshmatcap_frag: "#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
                    meshmatcap_vert: "#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",
                    meshtoon_frag: "#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                    meshtoon_vert: "#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                    meshphong_frag: "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                    meshphong_vert: "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                    meshphysical_frag: "#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                    meshphysical_vert: "#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                    normal_frag: "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",
                    normal_vert: "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",
                    points_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
                    points_vert: "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",
                    shadow_frag: "uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                    shadow_vert: "#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                    sprite_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                    sprite_vert: "uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"
                },
                wo = {
                    basic: {
                        uniforms: io([mo.common, mo.specularmap, mo.envmap, mo.aomap, mo.lightmap, mo.fog]),
                        vertexShader: xo.meshbasic_vert,
                        fragmentShader: xo.meshbasic_frag
                    },
                    lambert: {
                        uniforms: io([mo.common, mo.specularmap, mo.envmap, mo.aomap, mo.lightmap, mo.emissivemap, mo.fog, mo.lights, {
                            emissive: {
                                value: new er(0)
                            }
                        }]),
                        vertexShader: xo.meshlambert_vert,
                        fragmentShader: xo.meshlambert_frag
                    },
                    phong: {
                        uniforms: io([mo.common, mo.specularmap, mo.envmap, mo.aomap, mo.lightmap, mo.emissivemap, mo.bumpmap, mo.normalmap, mo.displacementmap, mo.fog, mo.lights, {
                            emissive: {
                                value: new er(0)
                            },
                            specular: {
                                value: new er(1118481)
                            },
                            shininess: {
                                value: 30
                            }
                        }]),
                        vertexShader: xo.meshphong_vert,
                        fragmentShader: xo.meshphong_frag
                    },
                    standard: {
                        uniforms: io([mo.common, mo.envmap, mo.aomap, mo.lightmap, mo.emissivemap, mo.bumpmap, mo.normalmap, mo.displacementmap, mo.roughnessmap, mo.metalnessmap, mo.fog, mo.lights, {
                            emissive: {
                                value: new er(0)
                            },
                            roughness: {
                                value: .5
                            },
                            metalness: {
                                value: .5
                            },
                            envMapIntensity: {
                                value: 1
                            }
                        }]),
                        vertexShader: xo.meshphysical_vert,
                        fragmentShader: xo.meshphysical_frag
                    },
                    toon: {
                        uniforms: io([mo.common, mo.specularmap, mo.aomap, mo.lightmap, mo.emissivemap, mo.bumpmap, mo.normalmap, mo.displacementmap, mo.gradientmap, mo.fog, mo.lights, {
                            emissive: {
                                value: new er(0)
                            },
                            specular: {
                                value: new er(1118481)
                            },
                            shininess: {
                                value: 30
                            }
                        }]),
                        vertexShader: xo.meshtoon_vert,
                        fragmentShader: xo.meshtoon_frag
                    },
                    matcap: {
                        uniforms: io([mo.common, mo.bumpmap, mo.normalmap, mo.displacementmap, mo.fog, {
                            matcap: {
                                value: null
                            }
                        }]),
                        vertexShader: xo.meshmatcap_vert,
                        fragmentShader: xo.meshmatcap_frag
                    },
                    points: {
                        uniforms: io([mo.points, mo.fog]),
                        vertexShader: xo.points_vert,
                        fragmentShader: xo.points_frag
                    },
                    dashed: {
                        uniforms: io([mo.common, mo.fog, {
                            scale: {
                                value: 1
                            },
                            dashSize: {
                                value: 1
                            },
                            totalSize: {
                                value: 2
                            }
                        }]),
                        vertexShader: xo.linedashed_vert,
                        fragmentShader: xo.linedashed_frag
                    },
                    depth: {
                        uniforms: io([mo.common, mo.displacementmap]),
                        vertexShader: xo.depth_vert,
                        fragmentShader: xo.depth_frag
                    },
                    normal: {
                        uniforms: io([mo.common, mo.bumpmap, mo.normalmap, mo.displacementmap, {
                            opacity: {
                                value: 1
                            }
                        }]),
                        vertexShader: xo.normal_vert,
                        fragmentShader: xo.normal_frag
                    },
                    sprite: {
                        uniforms: io([mo.sprite, mo.fog]),
                        vertexShader: xo.sprite_vert,
                        fragmentShader: xo.sprite_frag
                    },
                    background: {
                        uniforms: {
                            uvTransform: {
                                value: new An
                            },
                            t2D: {
                                value: null
                            }
                        },
                        vertexShader: xo.background_vert,
                        fragmentShader: xo.background_frag
                    },
                    cube: {
                        uniforms: io([mo.envmap, {
                            opacity: {
                                value: 1
                            }
                        }]),
                        vertexShader: xo.cube_vert,
                        fragmentShader: xo.cube_frag
                    },
                    equirect: {
                        uniforms: {
                            tEquirect: {
                                value: null
                            }
                        },
                        vertexShader: xo.equirect_vert,
                        fragmentShader: xo.equirect_frag
                    },
                    distanceRGBA: {
                        uniforms: io([mo.common, mo.displacementmap, {
                            referencePosition: {
                                value: new Fn
                            },
                            nearDistance: {
                                value: 1
                            },
                            farDistance: {
                                value: 1e3
                            }
                        }]),
                        vertexShader: xo.distanceRGBA_vert,
                        fragmentShader: xo.distanceRGBA_frag
                    },
                    shadow: {
                        uniforms: io([mo.lights, mo.fog, {
                            color: {
                                value: new er(0)
                            },
                            opacity: {
                                value: 1
                            }
                        }]),
                        vertexShader: xo.shadow_vert,
                        fragmentShader: xo.shadow_frag
                    }
                };

            function _o(e, t, n, i) {
                var r, o, a = new er(0),
                    s = 0,
                    c = null,
                    l = 0,
                    u = null;

                function h(e, n) {
                    t.buffers.color.setClear(e.r, e.g, e.b, n, i)
                }
                return {
                    getClearColor: function() {
                        return a
                    },
                    setClearColor: function(e, t) {
                        a.set(e), h(a, s = void 0 !== t ? t : 1)
                    },
                    getClearAlpha: function() {
                        return s
                    },
                    setClearAlpha: function(e) {
                        h(a, s = e)
                    },
                    render: function(t, i, d, p) {
                        var f = i.background,
                            m = e.xr,
                            y = m.getSession && m.getSession();
                        if (y && "additive" === y.environmentBlendMode && (f = null), null === f ? h(a, s) : f && f.isColor && (h(f, 1), p = !0), (e.autoClear || p) && e.clear(e.autoClearColor, e.autoClearDepth, e.autoClearStencil), f && (f.isCubeTexture || f.isWebGLCubeRenderTarget || f.mapping === me)) {
                            void 0 === o && ((o = new qr(new to(1, 1, 1), new oo({
                                type: "BackgroundCubeMaterial",
                                uniforms: no(wo.cube.uniforms),
                                vertexShader: wo.cube.vertexShader,
                                fragmentShader: wo.cube.fragmentShader,
                                side: g,
                                depthTest: !1,
                                depthWrite: !1,
                                fog: !1
                            }))).geometry.deleteAttribute("normal"), o.geometry.deleteAttribute("uv"), o.onBeforeRender = function(e, t, n) {
                                this.matrixWorld.copyPosition(n.matrixWorld)
                            }, Object.defineProperty(o.material, "envMap", {
                                get: function() {
                                    return this.uniforms.envMap.value
                                }
                            }), n.update(o));
                            var b = f.isWebGLCubeRenderTarget ? f.texture : f;
                            o.material.uniforms.envMap.value = b, o.material.uniforms.flipEnvMap.value = b.isCubeTexture ? -1 : 1, c === f && l === b.version && u === e.toneMapping || (o.material.needsUpdate = !0, c = f, l = b.version, u = e.toneMapping), t.unshift(o, o.geometry, o.material, 0, 0, null)
                        } else f && f.isTexture && (void 0 === r && ((r = new qr(new bo(2, 2), new oo({
                            type: "BackgroundMaterial",
                            uniforms: no(wo.background.uniforms),
                            vertexShader: wo.background.vertexShader,
                            fragmentShader: wo.background.fragmentShader,
                            side: v,
                            depthTest: !1,
                            depthWrite: !1,
                            fog: !1
                        }))).geometry.deleteAttribute("normal"), Object.defineProperty(r.material, "map", {
                            get: function() {
                                return this.uniforms.t2D.value
                            }
                        }), n.update(r)), r.material.uniforms.t2D.value = f, !0 === f.matrixAutoUpdate && f.updateMatrix(), r.material.uniforms.uvTransform.value.copy(f.matrix), c === f && l === f.version && u === e.toneMapping || (r.material.needsUpdate = !0, c = f, l = f.version, u = e.toneMapping), t.unshift(r, r.geometry, r.material, 0, 0, null))
                    }
                }
            }

            function Mo(e, t, n, i) {
                var r, o = i.isWebGL2;
                this.setMode = function(e) {
                    r = e
                }, this.render = function(t, i) {
                    e.drawArrays(r, t, i), n.update(i, r)
                }, this.renderInstances = function(i, a, s, c) {
                    if (0 !== c) {
                        var l, u;
                        if (o) l = e, u = "drawArraysInstanced";
                        else if (u = "drawArraysInstancedANGLE", null === (l = t.get("ANGLE_instanced_arrays"))) return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                        l[u](r, a, s, c), n.update(s, r, c)
                    }
                }
            }

            function To(e, t, n) {
                var i;

                function r(t) {
                    if ("highp" === t) {
                        if (e.getShaderPrecisionFormat(35633, 36338).precision > 0 && e.getShaderPrecisionFormat(35632, 36338).precision > 0) return "highp";
                        t = "mediump"
                    }
                    return "mediump" === t && e.getShaderPrecisionFormat(35633, 36337).precision > 0 && e.getShaderPrecisionFormat(35632, 36337).precision > 0 ? "mediump" : "lowp"
                }
                var o = "undefined" != typeof WebGL2RenderingContext && e instanceof WebGL2RenderingContext || "undefined" != typeof WebGL2ComputeRenderingContext && e instanceof WebGL2ComputeRenderingContext,
                    a = void 0 !== n.precision ? n.precision : "highp",
                    s = r(a);
                s !== a && (console.warn("THREE.WebGLRenderer:", a, "not supported, using", s, "instead."), a = s);
                var c = !0 === n.logarithmicDepthBuffer,
                    l = e.getParameter(34930),
                    u = e.getParameter(35660),
                    h = e.getParameter(3379),
                    d = e.getParameter(34076),
                    p = e.getParameter(34921),
                    f = e.getParameter(36347),
                    m = e.getParameter(36348),
                    v = e.getParameter(36349),
                    g = u > 0,
                    y = o || !!t.get("OES_texture_float");
                return {
                    isWebGL2: o,
                    getMaxAnisotropy: function() {
                        if (void 0 !== i) return i;
                        var n = t.get("EXT_texture_filter_anisotropic");
                        return i = null !== n ? e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
                    },
                    getMaxPrecision: r,
                    precision: a,
                    logarithmicDepthBuffer: c,
                    maxTextures: l,
                    maxVertexTextures: u,
                    maxTextureSize: h,
                    maxCubemapSize: d,
                    maxAttributes: p,
                    maxVertexUniforms: f,
                    maxVaryings: m,
                    maxFragmentUniforms: v,
                    vertexTextures: g,
                    floatFragmentTextures: y,
                    floatVertexTextures: g && y,
                    maxSamples: o ? e.getParameter(36183) : 0
                }
            }

            function So() {
                var e = this,
                    t = null,
                    n = 0,
                    i = !1,
                    r = !1,
                    o = new zi,
                    a = new An,
                    s = {
                        value: null,
                        needsUpdate: !1
                    };

                function c() {
                    s.value !== t && (s.value = t, s.needsUpdate = n > 0), e.numPlanes = n, e.numIntersection = 0
                }

                function l(t, n, i, r) {
                    var c = null !== t ? t.length : 0,
                        l = null;
                    if (0 !== c) {
                        if (l = s.value, !0 !== r || null === l) {
                            var u = i + 4 * c,
                                h = n.matrixWorldInverse;
                            a.getNormalMatrix(h), (null === l || l.length < u) && (l = new Float32Array(u));
                            for (var d = 0, p = i; d !== c; ++d, p += 4) o.copy(t[d]).applyMatrix4(h, a), o.normal.toArray(l, p), l[p + 3] = o.constant
                        }
                        s.value = l, s.needsUpdate = !0
                    }
                    return e.numPlanes = c, l
                }
                this.uniform = s, this.numPlanes = 0, this.numIntersection = 0, this.init = function(e, r, o) {
                    var a = 0 !== e.length || r || 0 !== n || i;
                    return i = r, t = l(e, o, 0), n = e.length, a
                }, this.beginShadows = function() {
                    r = !0, l(null)
                }, this.endShadows = function() {
                    r = !1, c()
                }, this.setState = function(e, o, a, u, h, d) {
                    if (!i || null === e || 0 === e.length || r && !a) r ? l(null) : c();
                    else {
                        var p = r ? 0 : n,
                            f = 4 * p,
                            m = h.clippingState || null;
                        s.value = m, m = l(e, u, f, d);
                        for (var v = 0; v !== f; ++v) m[v] = t[v];
                        h.clippingState = m, this.numIntersection = o ? this.numPlanes : 0, this.numPlanes += p
                    }
                }
            }

            function Eo(e) {
                var t = {};
                return {
                    get: function(n) {
                        if (void 0 !== t[n]) return t[n];
                        var i;
                        switch (n) {
                            case "WEBGL_depth_texture":
                                i = e.getExtension("WEBGL_depth_texture") || e.getExtension("MOZ_WEBGL_depth_texture") || e.getExtension("WEBKIT_WEBGL_depth_texture");
                                break;
                            case "EXT_texture_filter_anisotropic":
                                i = e.getExtension("EXT_texture_filter_anisotropic") || e.getExtension("MOZ_EXT_texture_filter_anisotropic") || e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                                break;
                            case "WEBGL_compressed_texture_s3tc":
                                i = e.getExtension("WEBGL_compressed_texture_s3tc") || e.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                                break;
                            case "WEBGL_compressed_texture_pvrtc":
                                i = e.getExtension("WEBGL_compressed_texture_pvrtc") || e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                                break;
                            default:
                                i = e.getExtension(n)
                        }
                        return null === i && console.warn("THREE.WebGLRenderer: " + n + " extension not supported."), t[n] = i, i
                    }
                }
            }

            function Ao(e, t, n) {
                var i = new WeakMap,
                    r = new WeakMap;

                function o(e) {
                    var a = e.target,
                        s = i.get(a);
                    for (var c in null !== s.index && t.remove(s.index), s.attributes) t.remove(s.attributes[c]);
                    a.removeEventListener("dispose", o), i.delete(a);
                    var l = r.get(s);
                    l && (t.remove(l), r.delete(s)), n.memory.geometries--
                }

                function a(e) {
                    var n = [],
                        i = e.index,
                        o = e.attributes.position,
                        a = 0;
                    if (null !== i) {
                        var s = i.array;
                        a = i.version;
                        for (var c = 0, l = s.length; c < l; c += 3) {
                            var u = s[c + 0],
                                h = s[c + 1],
                                d = s[c + 2];
                            n.push(u, h, h, d, d, u)
                        }
                    } else {
                        s = o.array;
                        a = o.version;
                        for (c = 0, l = s.length / 3 - 1; c < l; c += 3) {
                            u = c + 0, h = c + 1, d = c + 2;
                            n.push(u, h, h, d, d, u)
                        }
                    }
                    var p = new(xr(n) > 65535 ? vr : fr)(n, 1);
                    p.version = a, t.update(p, 34963);
                    var f = r.get(e);
                    f && t.remove(f), r.set(e, p)
                }
                return {
                    get: function(e, t) {
                        var r = i.get(t);
                        return r || (t.addEventListener("dispose", o), t.isBufferGeometry ? r = t : t.isGeometry && (void 0 === t._bufferGeometry && (t._bufferGeometry = (new Pr).setFromObject(e)), r = t._bufferGeometry), i.set(t, r), n.memory.geometries++, r)
                    },
                    update: function(e) {
                        var n = e.index,
                            i = e.attributes;
                        for (var r in null !== n && t.update(n, 34963), i) t.update(i[r], 34962);
                        var o = e.morphAttributes;
                        for (var r in o)
                            for (var a = o[r], s = 0, c = a.length; s < c; s++) t.update(a[s], 34962)
                    },
                    getWireframeAttribute: function(e) {
                        var t = r.get(e);
                        if (t) {
                            var n = e.index;
                            null !== n && t.version < n.version && a(e)
                        } else a(e);
                        return r.get(e)
                    }
                }
            }

            function Po(e, t, n, i) {
                var r, o, a, s = i.isWebGL2;
                this.setMode = function(e) {
                    r = e
                }, this.setIndex = function(e) {
                    o = e.type, a = e.bytesPerElement
                }, this.render = function(t, i) {
                    e.drawElements(r, i, o, t * a), n.update(i, r)
                }, this.renderInstances = function(i, c, l, u) {
                    if (0 !== u) {
                        var h, d;
                        if (s) h = e, d = "drawElementsInstanced";
                        else if (d = "drawElementsInstancedANGLE", null === (h = t.get("ANGLE_instanced_arrays"))) return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                        h[d](r, l, o, c * a, u), n.update(l, r, u)
                    }
                }
            }

            function Lo(e) {
                var t = {
                    frame: 0,
                    calls: 0,
                    triangles: 0,
                    points: 0,
                    lines: 0
                };
                return {
                    memory: {
                        geometries: 0,
                        textures: 0
                    },
                    render: t,
                    programs: null,
                    autoReset: !0,
                    reset: function() {
                        t.frame++, t.calls = 0, t.triangles = 0, t.points = 0, t.lines = 0
                    },
                    update: function(e, n, i) {
                        switch (i = i || 1, t.calls++, n) {
                            case 4:
                                t.triangles += i * (e / 3);
                                break;
                            case 1:
                                t.lines += i * (e / 2);
                                break;
                            case 3:
                                t.lines += i * (e - 1);
                                break;
                            case 2:
                                t.lines += i * e;
                                break;
                            case 0:
                                t.points += i * e;
                                break;
                            default:
                                console.error("THREE.WebGLInfo: Unknown draw mode:", n)
                        }
                    }
                }
            }

            function Co(e, t) {
                return Math.abs(t[1]) - Math.abs(e[1])
            }

            function Ro(e) {
                var t = {},
                    n = new Float32Array(8);
                return {
                    update: function(i, r, o, a) {
                        var s = i.morphTargetInfluences,
                            c = void 0 === s ? 0 : s.length,
                            l = t[r.id];
                        if (void 0 === l) {
                            l = [];
                            for (var u = 0; u < c; u++) l[u] = [u, 0];
                            t[r.id] = l
                        }
                        var h = o.morphTargets && r.morphAttributes.position,
                            d = o.morphNormals && r.morphAttributes.normal;
                        for (u = 0; u < c; u++) {
                            0 !== (f = l[u])[1] && (h && r.deleteAttribute("morphTarget" + u), d && r.deleteAttribute("morphNormal" + u))
                        }
                        for (u = 0; u < c; u++) {
                            (f = l[u])[0] = u, f[1] = s[u]
                        }
                        l.sort(Co);
                        var p = 0;
                        for (u = 0; u < 8; u++) {
                            var f;
                            if (f = l[u]) {
                                var m = f[0],
                                    v = f[1];
                                if (v) {
                                    h && r.setAttribute("morphTarget" + u, h[m]), d && r.setAttribute("morphNormal" + u, d[m]), n[u] = v, p += v;
                                    continue
                                }
                            }
                            n[u] = 0
                        }
                        var g = r.morphTargetsRelative ? 1 : 1 - p;
                        a.getUniforms().setValue(e, "morphTargetBaseInfluence", g), a.getUniforms().setValue(e, "morphTargetInfluences", n)
                    }
                }
            }

            function Oo(e, t, n, i) {
                var r = {};
                return {
                    update: function(e) {
                        var o = i.render.frame,
                            a = e.geometry,
                            s = t.get(e, a);
                        return r[s.id] !== o && (a.isGeometry && s.updateFromObject(e), t.update(s), r[s.id] = o), e.isInstancedMesh && n.update(e.instanceMatrix, 34962), s
                    },
                    dispose: function() {
                        r = {}
                    }
                }
            }

            function Do(e, t, n, i, r, o, a, s, c, l) {
                e = void 0 !== e ? e : [], t = void 0 !== t ? t : ue, a = void 0 !== a ? a : He, Cn.call(this, e, t, n, i, r, o, a, s, c, l), this.flipY = !1
            }

            function Io(e, t, n, i) {
                Cn.call(this, null), this.image = {
                    data: e || null,
                    width: t || 1,
                    height: n || 1,
                    depth: i || 1
                }, this.magFilter = xe, this.minFilter = xe, this.wrapR = ye, this.generateMipmaps = !1, this.flipY = !1, this.needsUpdate = !0
            }

            function jo(e, t, n, i) {
                Cn.call(this, null), this.image = {
                    data: e || null,
                    width: t || 1,
                    height: n || 1,
                    depth: i || 1
                }, this.magFilter = xe, this.minFilter = xe, this.wrapR = ye, this.generateMipmaps = !1, this.flipY = !1, this.needsUpdate = !0
            }
            wo.physical = {
                uniforms: io([wo.standard.uniforms, {
                    transparency: {
                        value: 0
                    },
                    clearcoat: {
                        value: 0
                    },
                    clearcoatRoughness: {
                        value: 0
                    },
                    sheen: {
                        value: new er(0)
                    },
                    clearcoatNormalScale: {
                        value: new En(1, 1)
                    },
                    clearcoatNormalMap: {
                        value: null
                    }
                }]),
                vertexShader: xo.meshphysical_vert,
                fragmentShader: xo.meshphysical_frag
            }, Do.prototype = Object.create(Cn.prototype), Do.prototype.constructor = Do, Do.prototype.isCubeTexture = !0, Object.defineProperty(Do.prototype, "images", {
                get: function() {
                    return this.image
                },
                set: function(e) {
                    this.image = e
                }
            }), Io.prototype = Object.create(Cn.prototype), Io.prototype.constructor = Io, Io.prototype.isDataTexture2DArray = !0, jo.prototype = Object.create(Cn.prototype), jo.prototype.constructor = jo, jo.prototype.isDataTexture3D = !0;
            var ko = new Cn,
                Fo = new Io,
                No = new jo,
                zo = new Do,
                Bo = [],
                Uo = [],
                Vo = new Float32Array(16),
                Ho = new Float32Array(9),
                Go = new Float32Array(4);

            function Wo(e, t, n) {
                var i = e[0];
                if (i <= 0 || i > 0) return e;
                var r = t * n,
                    o = Bo[r];
                if (void 0 === o && (o = new Float32Array(r), Bo[r] = o), 0 !== t) {
                    i.toArray(o, 0);
                    for (var a = 1, s = 0; a !== t; ++a) s += n, e[a].toArray(o, s)
                }
                return o
            }

            function qo(e, t) {
                if (e.length !== t.length) return !1;
                for (var n = 0, i = e.length; n < i; n++)
                    if (e[n] !== t[n]) return !1;
                return !0
            }

            function Yo(e, t) {
                for (var n = 0, i = t.length; n < i; n++) e[n] = t[n]
            }

            function Xo(e, t) {
                var n = Uo[t];
                void 0 === n && (n = new Int32Array(t), Uo[t] = n);
                for (var i = 0; i !== t; ++i) n[i] = e.allocateTextureUnit();
                return n
            }

            function Zo(e, t) {
                var n = this.cache;
                n[0] !== t && (e.uniform1f(this.addr, t), n[0] = t)
            }

            function Jo(e, t) {
                var n = this.cache;
                if (void 0 !== t.x) n[0] === t.x && n[1] === t.y || (e.uniform2f(this.addr, t.x, t.y), n[0] = t.x, n[1] = t.y);
                else {
                    if (qo(n, t)) return;
                    e.uniform2fv(this.addr, t), Yo(n, t)
                }
            }

            function Ko(e, t) {
                var n = this.cache;
                if (void 0 !== t.x) n[0] === t.x && n[1] === t.y && n[2] === t.z || (e.uniform3f(this.addr, t.x, t.y, t.z), n[0] = t.x, n[1] = t.y, n[2] = t.z);
                else if (void 0 !== t.r) n[0] === t.r && n[1] === t.g && n[2] === t.b || (e.uniform3f(this.addr, t.r, t.g, t.b), n[0] = t.r, n[1] = t.g, n[2] = t.b);
                else {
                    if (qo(n, t)) return;
                    e.uniform3fv(this.addr, t), Yo(n, t)
                }
            }

            function Qo(e, t) {
                var n = this.cache;
                if (void 0 !== t.x) n[0] === t.x && n[1] === t.y && n[2] === t.z && n[3] === t.w || (e.uniform4f(this.addr, t.x, t.y, t.z, t.w), n[0] = t.x, n[1] = t.y, n[2] = t.z, n[3] = t.w);
                else {
                    if (qo(n, t)) return;
                    e.uniform4fv(this.addr, t), Yo(n, t)
                }
            }

            function $o(e, t) {
                var n = this.cache,
                    i = t.elements;
                if (void 0 === i) {
                    if (qo(n, t)) return;
                    e.uniformMatrix2fv(this.addr, !1, t), Yo(n, t)
                } else {
                    if (qo(n, i)) return;
                    Go.set(i), e.uniformMatrix2fv(this.addr, !1, Go), Yo(n, i)
                }
            }

            function ea(e, t) {
                var n = this.cache,
                    i = t.elements;
                if (void 0 === i) {
                    if (qo(n, t)) return;
                    e.uniformMatrix3fv(this.addr, !1, t), Yo(n, t)
                } else {
                    if (qo(n, i)) return;
                    Ho.set(i), e.uniformMatrix3fv(this.addr, !1, Ho), Yo(n, i)
                }
            }

            function ta(e, t) {
                var n = this.cache,
                    i = t.elements;
                if (void 0 === i) {
                    if (qo(n, t)) return;
                    e.uniformMatrix4fv(this.addr, !1, t), Yo(n, t)
                } else {
                    if (qo(n, i)) return;
                    Vo.set(i), e.uniformMatrix4fv(this.addr, !1, Vo), Yo(n, i)
                }
            }

            function na(e, t, n) {
                var i = this.cache,
                    r = n.allocateTextureUnit();
                i[0] !== r && (e.uniform1i(this.addr, r), i[0] = r), n.safeSetTexture2D(t || ko, r)
            }

            function ia(e, t, n) {
                var i = this.cache,
                    r = n.allocateTextureUnit();
                i[0] !== r && (e.uniform1i(this.addr, r), i[0] = r), n.setTexture2DArray(t || Fo, r)
            }

            function ra(e, t, n) {
                var i = this.cache,
                    r = n.allocateTextureUnit();
                i[0] !== r && (e.uniform1i(this.addr, r), i[0] = r), n.setTexture3D(t || No, r)
            }

            function oa(e, t, n) {
                var i = this.cache,
                    r = n.allocateTextureUnit();
                i[0] !== r && (e.uniform1i(this.addr, r), i[0] = r), n.safeSetTextureCube(t || zo, r)
            }

            function aa(e, t) {
                var n = this.cache;
                n[0] !== t && (e.uniform1i(this.addr, t), n[0] = t)
            }

            function sa(e, t) {
                var n = this.cache;
                qo(n, t) || (e.uniform2iv(this.addr, t), Yo(n, t))
            }

            function ca(e, t) {
                var n = this.cache;
                qo(n, t) || (e.uniform3iv(this.addr, t), Yo(n, t))
            }

            function la(e, t) {
                var n = this.cache;
                qo(n, t) || (e.uniform4iv(this.addr, t), Yo(n, t))
            }

            function ua(e, t) {
                var n = this.cache;
                n[0] !== t && (e.uniform1ui(this.addr, t), n[0] = t)
            }

            function ha(e, t) {
                e.uniform1fv(this.addr, t)
            }

            function da(e, t) {
                e.uniform1iv(this.addr, t)
            }

            function pa(e, t) {
                e.uniform2iv(this.addr, t)
            }

            function fa(e, t) {
                e.uniform3iv(this.addr, t)
            }

            function ma(e, t) {
                e.uniform4iv(this.addr, t)
            }

            function va(e, t) {
                var n = Wo(t, this.size, 2);
                e.uniform2fv(this.addr, n)
            }

            function ga(e, t) {
                var n = Wo(t, this.size, 3);
                e.uniform3fv(this.addr, n)
            }

            function ya(e, t) {
                var n = Wo(t, this.size, 4);
                e.uniform4fv(this.addr, n)
            }

            function ba(e, t) {
                var n = Wo(t, this.size, 4);
                e.uniformMatrix2fv(this.addr, !1, n)
            }

            function xa(e, t) {
                var n = Wo(t, this.size, 9);
                e.uniformMatrix3fv(this.addr, !1, n)
            }

            function wa(e, t) {
                var n = Wo(t, this.size, 16);
                e.uniformMatrix4fv(this.addr, !1, n)
            }

            function _a(e, t, n) {
                var i = t.length,
                    r = Xo(n, i);
                e.uniform1iv(this.addr, r);
                for (var o = 0; o !== i; ++o) n.safeSetTexture2D(t[o] || ko, r[o])
            }

            function Ma(e, t, n) {
                var i = t.length,
                    r = Xo(n, i);
                e.uniform1iv(this.addr, r);
                for (var o = 0; o !== i; ++o) n.safeSetTextureCube(t[o] || zo, r[o])
            }

            function Ta(e, t, n) {
                this.id = e, this.addr = n, this.cache = [], this.setValue = function(e) {
                    switch (e) {
                        case 5126:
                            return Zo;
                        case 35664:
                            return Jo;
                        case 35665:
                            return Ko;
                        case 35666:
                            return Qo;
                        case 35674:
                            return $o;
                        case 35675:
                            return ea;
                        case 35676:
                            return ta;
                        case 5124:
                        case 35670:
                            return aa;
                        case 35667:
                        case 35671:
                            return sa;
                        case 35668:
                        case 35672:
                            return ca;
                        case 35669:
                        case 35673:
                            return la;
                        case 5125:
                            return ua;
                        case 35678:
                        case 36198:
                        case 36298:
                        case 36306:
                        case 35682:
                            return na;
                        case 35679:
                        case 36299:
                        case 36307:
                            return ra;
                        case 35680:
                        case 36300:
                        case 36308:
                        case 36293:
                            return oa;
                        case 36289:
                        case 36303:
                        case 36311:
                        case 36292:
                            return ia
                    }
                }(t.type)
            }

            function Sa(e, t, n) {
                this.id = e, this.addr = n, this.cache = [], this.size = t.size, this.setValue = function(e) {
                    switch (e) {
                        case 5126:
                            return ha;
                        case 35664:
                            return va;
                        case 35665:
                            return ga;
                        case 35666:
                            return ya;
                        case 35674:
                            return ba;
                        case 35675:
                            return xa;
                        case 35676:
                            return wa;
                        case 5124:
                        case 35670:
                            return da;
                        case 35667:
                        case 35671:
                            return pa;
                        case 35668:
                        case 35672:
                            return fa;
                        case 35669:
                        case 35673:
                            return ma;
                        case 35678:
                        case 36198:
                        case 36298:
                        case 36306:
                        case 35682:
                            return _a;
                        case 35680:
                        case 36300:
                        case 36308:
                        case 36293:
                            return Ma
                    }
                }(t.type)
            }

            function Ea(e) {
                this.id = e, this.seq = [], this.map = {}
            }
            Sa.prototype.updateCache = function(e) {
                var t = this.cache;
                e instanceof Float32Array && t.length !== e.length && (this.cache = new Float32Array(e.length)), Yo(t, e)
            }, Ea.prototype.setValue = function(e, t, n) {
                for (var i = this.seq, r = 0, o = i.length; r !== o; ++r) {
                    var a = i[r];
                    a.setValue(e, t[a.id], n)
                }
            };
            var Aa = /([\w\d_]+)(\])?(\[|\.)?/g;

            function Pa(e, t) {
                e.seq.push(t), e.map[t.id] = t
            }

            function La(e, t, n) {
                var i = e.name,
                    r = i.length;
                for (Aa.lastIndex = 0;;) {
                    var o = Aa.exec(i),
                        a = Aa.lastIndex,
                        s = o[1],
                        c = "]" === o[2],
                        l = o[3];
                    if (c && (s |= 0), void 0 === l || "[" === l && a + 2 === r) {
                        Pa(n, void 0 === l ? new Ta(s, e, t) : new Sa(s, e, t));
                        break
                    }
                    var u = n.map[s];
                    void 0 === u && Pa(n, u = new Ea(s)), n = u
                }
            }

            function Ca(e, t) {
                this.seq = [], this.map = {};
                for (var n = e.getProgramParameter(t, 35718), i = 0; i < n; ++i) {
                    var r = e.getActiveUniform(t, i);
                    La(r, e.getUniformLocation(t, r.name), this)
                }
            }

            function Ra(e, t, n) {
                var i = e.createShader(t);
                return e.shaderSource(i, n), e.compileShader(i), i
            }
            Ca.prototype.setValue = function(e, t, n, i) {
                var r = this.map[t];
                void 0 !== r && r.setValue(e, n, i)
            }, Ca.prototype.setOptional = function(e, t, n) {
                var i = t[n];
                void 0 !== i && this.setValue(e, n, i)
            }, Ca.upload = function(e, t, n, i) {
                for (var r = 0, o = t.length; r !== o; ++r) {
                    var a = t[r],
                        s = n[a.id];
                    !1 !== s.needsUpdate && a.setValue(e, s.value, i)
                }
            }, Ca.seqWithValue = function(e, t) {
                for (var n = [], i = 0, r = e.length; i !== r; ++i) {
                    var o = e[i];
                    o.id in t && n.push(o)
                }
                return n
            };
            var Oa = 0;

            function Da(e) {
                switch (e) {
                    case Ft:
                        return ["Linear", "( value )"];
                    case Nt:
                        return ["sRGB", "( value )"];
                    case Bt:
                        return ["RGBE", "( value )"];
                    case Vt:
                        return ["RGBM", "( value, 7.0 )"];
                    case Ht:
                        return ["RGBM", "( value, 16.0 )"];
                    case Gt:
                        return ["RGBD", "( value, 256.0 )"];
                    case zt:
                        return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
                    case Ut:
                        return ["LogLuv", "( value )"];
                    default:
                        throw new Error("unsupported encoding: " + e)
                }
            }

            function Ia(e, t, n) {
                var i = e.getShaderParameter(t, 35713),
                    r = e.getShaderInfoLog(t).trim();
                return i && "" === r ? "" : "THREE.WebGLShader: gl.getShaderInfoLog() " + n + "\n" + r + function(e) {
                    for (var t = e.split("\n"), n = 0; n < t.length; n++) t[n] = n + 1 + ": " + t[n];
                    return t.join("\n")
                }(e.getShaderSource(t))
            }

            function ja(e, t) {
                var n = Da(t);
                return "vec4 " + e + "( vec4 value ) { return " + n[0] + "ToLinear" + n[1] + "; }"
            }

            function ka(e, t) {
                var n;
                switch (t) {
                    case re:
                        n = "Linear";
                        break;
                    case oe:
                        n = "Reinhard";
                        break;
                    case ae:
                        n = "Uncharted2";
                        break;
                    case se:
                        n = "OptimizedCineon";
                        break;
                    case ce:
                        n = "ACESFilmic";
                        break;
                    default:
                        throw new Error("unsupported toneMapping: " + t)
                }
                return "vec3 " + e + "( vec3 color ) { return " + n + "ToneMapping( color ); }"
            }

            function Fa(e) {
                return "" !== e
            }

            function Na(e, t) {
                return e.replace(/NUM_DIR_LIGHTS/g, t.numDirLights).replace(/NUM_SPOT_LIGHTS/g, t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, t.numPointLights).replace(/NUM_HEMI_LIGHTS/g, t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g, t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g, t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g, t.numPointLightShadows)
            }

            function za(e, t) {
                return e.replace(/NUM_CLIPPING_PLANES/g, t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, t.numClippingPlanes - t.numClipIntersection)
            }
            var Ba = /^[ \t]*#include +<([\w\d./]+)>/gm;

            function Ua(e) {
                return e.replace(Ba, Va)
            }

            function Va(e, t) {
                var n = xo[t];
                if (void 0 === n) throw new Error("Can not resolve #include <" + t + ">");
                return Ua(n)
            }
            var Ha = /#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;

            function Ga(e) {
                return e.replace(Ha, Wa)
            }

            function Wa(e, t, n, i) {
                for (var r = "", o = parseInt(t); o < parseInt(n); o++) r += i.replace(/\[ i \]/g, "[ " + o + " ]").replace(/UNROLLED_LOOP_INDEX/g, o);
                return r
            }

            function qa(e) {
                var t = "precision " + e.precision + " float;\nprecision " + e.precision + " int;";
                return "highp" === e.precision ? t += "\n#define HIGH_PRECISION" : "mediump" === e.precision ? t += "\n#define MEDIUM_PRECISION" : "lowp" === e.precision && (t += "\n#define LOW_PRECISION"), t
            }

            function Ya(e, t, n) {
                var i, r, o, a, s, c = e.getContext(),
                    l = n.defines,
                    u = n.vertexShader,
                    h = n.fragmentShader,
                    d = function(e) {
                        var t = "SHADOWMAP_TYPE_BASIC";
                        return e.shadowMapType === p ? t = "SHADOWMAP_TYPE_PCF" : e.shadowMapType === f ? t = "SHADOWMAP_TYPE_PCF_SOFT" : e.shadowMapType === m && (t = "SHADOWMAP_TYPE_VSM"), t
                    }(n),
                    v = function(e) {
                        var t = "ENVMAP_TYPE_CUBE";
                        if (e.envMap) switch (e.envMapMode) {
                            case ue:
                            case he:
                                t = "ENVMAP_TYPE_CUBE";
                                break;
                            case me:
                            case ve:
                                t = "ENVMAP_TYPE_CUBE_UV";
                                break;
                            case de:
                            case pe:
                                t = "ENVMAP_TYPE_EQUIREC";
                                break;
                            case fe:
                                t = "ENVMAP_TYPE_SPHERE"
                        }
                        return t
                    }(n),
                    g = function(e) {
                        var t = "ENVMAP_MODE_REFLECTION";
                        if (e.envMap) switch (e.envMapMode) {
                            case he:
                            case pe:
                                t = "ENVMAP_MODE_REFRACTION"
                        }
                        return t
                    }(n),
                    y = function(e) {
                        var t = "ENVMAP_BLENDING_NONE";
                        if (e.envMap) switch (e.combine) {
                            case ee:
                                t = "ENVMAP_BLENDING_MULTIPLY";
                                break;
                            case te:
                                t = "ENVMAP_BLENDING_MIX";
                                break;
                            case ne:
                                t = "ENVMAP_BLENDING_ADD"
                        }
                        return t
                    }(n),
                    b = e.gammaFactor > 0 ? e.gammaFactor : 1,
                    x = n.isWebGL2 ? "" : function(e) {
                        return [e.extensionDerivatives || e.envMapCubeUV || e.bumpMap || e.tangentSpaceNormalMap || e.clearcoatNormalMap || e.flatShading || "physical" === e.shaderID ? "#extension GL_OES_standard_derivatives : enable" : "", (e.extensionFragDepth || e.logarithmicDepthBuffer) && e.rendererExtensionFragDepth ? "#extension GL_EXT_frag_depth : enable" : "", e.extensionDrawBuffers && e.rendererExtensionDrawBuffers ? "#extension GL_EXT_draw_buffers : require" : "", (e.extensionShaderTextureLOD || e.envMap) && e.rendererExtensionShaderTextureLod ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(Fa).join("\n")
                    }(n),
                    w = function(e) {
                        var t = [];
                        for (var n in e) {
                            var i = e[n];
                            !1 !== i && t.push("#define " + n + " " + i)
                        }
                        return t.join("\n")
                    }(l),
                    _ = c.createProgram(),
                    M = n.numMultiviewViews;
                if (n.isRawShaderMaterial ? ((i = [w].filter(Fa).join("\n")).length > 0 && (i += "\n"), (r = [x, w].filter(Fa).join("\n")).length > 0 && (r += "\n")) : (i = [qa(n), "#define SHADER_NAME " + n.shaderName, w, n.instancing ? "#define USE_INSTANCING" : "", n.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + b, "#define MAX_BONES " + n.maxBones, n.useFog && n.fog ? "#define USE_FOG" : "", n.useFog && n.fogExp2 ? "#define FOG_EXP2" : "", n.map ? "#define USE_MAP" : "", n.envMap ? "#define USE_ENVMAP" : "", n.envMap ? "#define " + g : "", n.lightMap ? "#define USE_LIGHTMAP" : "", n.aoMap ? "#define USE_AOMAP" : "", n.emissiveMap ? "#define USE_EMISSIVEMAP" : "", n.bumpMap ? "#define USE_BUMPMAP" : "", n.normalMap ? "#define USE_NORMALMAP" : "", n.normalMap && n.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", n.normalMap && n.tangentSpaceNormalMap ? "#define TANGENTSPACE_NORMALMAP" : "", n.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "", n.displacementMap && n.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", n.specularMap ? "#define USE_SPECULARMAP" : "", n.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", n.metalnessMap ? "#define USE_METALNESSMAP" : "", n.alphaMap ? "#define USE_ALPHAMAP" : "", n.vertexTangents ? "#define USE_TANGENT" : "", n.vertexColors ? "#define USE_COLOR" : "", n.vertexUvs ? "#define USE_UV" : "", n.uvsVertexOnly ? "#define UVS_VERTEX_ONLY" : "", n.flatShading ? "#define FLAT_SHADED" : "", n.skinning ? "#define USE_SKINNING" : "", n.useVertexTexture ? "#define BONE_TEXTURE" : "", n.morphTargets ? "#define USE_MORPHTARGETS" : "", n.morphNormals && !1 === n.flatShading ? "#define USE_MORPHNORMALS" : "", n.doubleSided ? "#define DOUBLE_SIDED" : "", n.flipSided ? "#define FLIP_SIDED" : "", n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", n.shadowMapEnabled ? "#define " + d : "", n.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", n.logarithmicDepthBuffer && n.rendererExtensionFragDepth ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "uniform bool isOrthographic;", "#ifdef USE_INSTANCING", " attribute mat4 instanceMatrix;", "#endif", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_TANGENT", "\tattribute vec4 tangent;", "#endif", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(Fa).join("\n"), r = [x, qa(n), "#define SHADER_NAME " + n.shaderName, w, n.alphaTest ? "#define ALPHATEST " + n.alphaTest + (n.alphaTest % 1 ? "" : ".0") : "", "#define GAMMA_FACTOR " + b, n.useFog && n.fog ? "#define USE_FOG" : "", n.useFog && n.fogExp2 ? "#define FOG_EXP2" : "", n.map ? "#define USE_MAP" : "", n.matcap ? "#define USE_MATCAP" : "", n.envMap ? "#define USE_ENVMAP" : "", n.envMap ? "#define " + v : "", n.envMap ? "#define " + g : "", n.envMap ? "#define " + y : "", n.lightMap ? "#define USE_LIGHTMAP" : "", n.aoMap ? "#define USE_AOMAP" : "", n.emissiveMap ? "#define USE_EMISSIVEMAP" : "", n.bumpMap ? "#define USE_BUMPMAP" : "", n.normalMap ? "#define USE_NORMALMAP" : "", n.normalMap && n.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", n.normalMap && n.tangentSpaceNormalMap ? "#define TANGENTSPACE_NORMALMAP" : "", n.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "", n.specularMap ? "#define USE_SPECULARMAP" : "", n.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", n.metalnessMap ? "#define USE_METALNESSMAP" : "", n.alphaMap ? "#define USE_ALPHAMAP" : "", n.sheen ? "#define USE_SHEEN" : "", n.vertexTangents ? "#define USE_TANGENT" : "", n.vertexColors ? "#define USE_COLOR" : "", n.vertexUvs ? "#define USE_UV" : "", n.uvsVertexOnly ? "#define UVS_VERTEX_ONLY" : "", n.gradientMap ? "#define USE_GRADIENTMAP" : "", n.flatShading ? "#define FLAT_SHADED" : "", n.doubleSided ? "#define DOUBLE_SIDED" : "", n.flipSided ? "#define FLIP_SIDED" : "", n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", n.shadowMapEnabled ? "#define " + d : "", n.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", n.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", n.logarithmicDepthBuffer && n.rendererExtensionFragDepth ? "#define USE_LOGDEPTHBUF_EXT" : "", (n.extensionShaderTextureLOD || n.envMap) && n.rendererExtensionShaderTextureLod ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", "uniform bool isOrthographic;", n.toneMapping !== ie ? "#define TONE_MAPPING" : "", n.toneMapping !== ie ? xo.tonemapping_pars_fragment : "", n.toneMapping !== ie ? ka("toneMapping", n.toneMapping) : "", n.dithering ? "#define DITHERING" : "", n.outputEncoding || n.mapEncoding || n.matcapEncoding || n.envMapEncoding || n.emissiveMapEncoding || n.lightMapEncoding ? xo.encodings_pars_fragment : "", n.mapEncoding ? ja("mapTexelToLinear", n.mapEncoding) : "", n.matcapEncoding ? ja("matcapTexelToLinear", n.matcapEncoding) : "", n.envMapEncoding ? ja("envMapTexelToLinear", n.envMapEncoding) : "", n.emissiveMapEncoding ? ja("emissiveMapTexelToLinear", n.emissiveMapEncoding) : "", n.lightMapEncoding ? ja("lightMapTexelToLinear", n.lightMapEncoding) : "", n.outputEncoding ? (o = "linearToOutputTexel", a = n.outputEncoding, s = Da(a), "vec4 " + o + "( vec4 value ) { return LinearTo" + s[0] + s[1] + "; }") : "", n.depthPacking ? "#define DEPTH_PACKING " + n.depthPacking : "", "\n"].filter(Fa).join("\n")), u = za(u = Na(u = Ua(u), n), n), h = za(h = Na(h = Ua(h), n), n), u = Ga(u), h = Ga(h), n.isWebGL2 && !n.isRawShaderMaterial) {
                    var T = !1,
                        S = /^\s*#version\s+300\s+es\s*\n/;
                    n.isShaderMaterial && null !== u.match(S) && null !== h.match(S) && (T = !0, u = u.replace(S, ""), h = h.replace(S, "")), i = ["#version 300 es\n", "#define attribute in", "#define varying out", "#define texture2D texture"].join("\n") + "\n" + i, r = ["#version 300 es\n", "#define varying in", T ? "" : "out highp vec4 pc_fragColor;", T ? "" : "#define gl_FragColor pc_fragColor", "#define gl_FragDepthEXT gl_FragDepth", "#define texture2D texture", "#define textureCube texture", "#define texture2DProj textureProj", "#define texture2DLodEXT textureLod", "#define texture2DProjLodEXT textureProjLod", "#define textureCubeLodEXT textureLod", "#define texture2DGradEXT textureGrad", "#define texture2DProjGradEXT textureProjGrad", "#define textureCubeGradEXT textureGrad"].join("\n") + "\n" + r, M > 0 && (i = (i = i.replace("#version 300 es\n", ["#version 300 es\n", "#extension GL_OVR_multiview2 : require", "layout(num_views = " + M + ") in;", "#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace(["uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;"].join("\n"), ["uniform mat4 modelViewMatrices[" + M + "];", "uniform mat4 projectionMatrices[" + M + "];", "uniform mat4 viewMatrices[" + M + "];", "uniform mat3 normalMatrices[" + M + "];", "#define modelViewMatrix modelViewMatrices[VIEW_ID]", "#define projectionMatrix projectionMatrices[VIEW_ID]", "#define viewMatrix viewMatrices[VIEW_ID]", "#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")), r = (r = r.replace("#version 300 es\n", ["#version 300 es\n", "#extension GL_OVR_multiview2 : require", "#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace("uniform mat4 viewMatrix;", ["uniform mat4 viewMatrices[" + M + "];", "#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))
                }
                var E, A, P = r + h,
                    L = Ra(c, 35633, i + u),
                    C = Ra(c, 35632, P);
                if (c.attachShader(_, L), c.attachShader(_, C), void 0 !== n.index0AttributeName ? c.bindAttribLocation(_, 0, n.index0AttributeName) : !0 === n.morphTargets && c.bindAttribLocation(_, 0, "position"), c.linkProgram(_), e.debug.checkShaderErrors) {
                    var R = c.getProgramInfoLog(_).trim(),
                        O = c.getShaderInfoLog(L).trim(),
                        D = c.getShaderInfoLog(C).trim(),
                        I = !0,
                        j = !0;
                    if (!1 === c.getProgramParameter(_, 35714)) {
                        I = !1;
                        var k = Ia(c, L, "vertex"),
                            F = Ia(c, C, "fragment");
                        console.error("THREE.WebGLProgram: shader error: ", c.getError(), "35715", c.getProgramParameter(_, 35715), "gl.getProgramInfoLog", R, k, F)
                    } else "" !== R ? console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", R) : "" !== O && "" !== D || (j = !1);
                    j && (this.diagnostics = {
                        runnable: I,
                        programLog: R,
                        vertexShader: {
                            log: O,
                            prefix: i
                        },
                        fragmentShader: {
                            log: D,
                            prefix: r
                        }
                    })
                }
                return c.deleteShader(L), c.deleteShader(C), this.getUniforms = function() {
                    return void 0 === E && (E = new Ca(c, _)), E
                }, this.getAttributes = function() {
                    return void 0 === A && (A = function(e, t) {
                        for (var n = {}, i = e.getProgramParameter(t, 35721), r = 0; r < i; r++) {
                            var o = e.getActiveAttrib(t, r).name;
                            n[o] = e.getAttribLocation(t, o)
                        }
                        return n
                    }(c, _)), A
                }, this.destroy = function() {
                    c.deleteProgram(_), this.program = void 0
                }, this.name = n.shaderName, this.id = Oa++, this.cacheKey = t, this.usedTimes = 1, this.program = _, this.vertexShader = L, this.fragmentShader = C, this.numMultiviewViews = M, this
            }

            function Xa(e, t, n) {
                var i = [],
                    r = n.isWebGL2,
                    o = n.logarithmicDepthBuffer,
                    a = n.floatVertexTextures,
                    s = n.precision,
                    c = n.maxVertexUniforms,
                    l = n.vertexTextures,
                    u = {
                        MeshDepthMaterial: "depth",
                        MeshDistanceMaterial: "distanceRGBA",
                        MeshNormalMaterial: "normal",
                        MeshBasicMaterial: "basic",
                        MeshLambertMaterial: "lambert",
                        MeshPhongMaterial: "phong",
                        MeshToonMaterial: "toon",
                        MeshStandardMaterial: "physical",
                        MeshPhysicalMaterial: "physical",
                        MeshMatcapMaterial: "matcap",
                        LineBasicMaterial: "basic",
                        LineDashedMaterial: "dashed",
                        PointsMaterial: "points",
                        ShadowMaterial: "shadow",
                        SpriteMaterial: "sprite"
                    },
                    h = ["precision", "isWebGL2", "supportsVertexTextures", "outputEncoding", "instancing", "numMultiviewViews", "map", "mapEncoding", "matcap", "matcapEncoding", "envMap", "envMapMode", "envMapEncoding", "envMapCubeUV", "lightMap", "lightMapEncoding", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "objectSpaceNormalMap", "tangentSpaceNormalMap", "clearcoatNormalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "gradientMap", "alphaMap", "combine", "vertexColors", "vertexTangents", "vertexUvs", "uvsVertexOnly", "fog", "useFog", "fogExp2", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "numRectAreaLights", "numDirLightShadows", "numPointLightShadows", "numSpotLightShadows", "shadowMapEnabled", "shadowMapType", "toneMapping", "physicallyCorrectLights", "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "numClipIntersection", "depthPacking", "dithering", "sheen"];

                function d(e) {
                    var t;
                    return e ? e.isTexture ? t = e.encoding : e.isWebGLRenderTarget && (console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."), t = e.texture.encoding) : t = Ft, t
                }
                this.getParameters = function(i, h, p, f, m, v, b) {
                    var x = f.fog,
                        w = i.isMeshStandardMaterial ? f.environment : null,
                        _ = i.envMap || w,
                        M = u[i.type],
                        T = b.isSkinnedMesh ? function(e) {
                            var t = e.skeleton.bones;
                            if (a) return 1024;
                            var n = c,
                                i = Math.floor((n - 20) / 4),
                                r = Math.min(i, t.length);
                            return r < t.length ? (console.warn("THREE.WebGLRenderer: Skeleton has " + t.length + " bones. This GPU supports " + r + "."), 0) : r
                        }(b) : 0;
                    null !== i.precision && (s = n.getMaxPrecision(i.precision)) !== i.precision && console.warn("THREE.WebGLProgram.getParameters:", i.precision, "not supported, using", s, "instead.");
                    var S = function(e, t) {
                        var n;
                        if (t) {
                            var i = wo[t];
                            n = {
                                name: e.type,
                                uniforms: ro.clone(i.uniforms),
                                vertexShader: i.vertexShader,
                                fragmentShader: i.fragmentShader
                            }
                        } else n = {
                            name: e.type,
                            uniforms: e.uniforms,
                            vertexShader: e.vertexShader,
                            fragmentShader: e.fragmentShader
                        };
                        return n
                    }(i, M);
                    i.onBeforeCompile(S, e);
                    var E = e.getRenderTarget(),
                        A = E && E.isWebGLMultiviewRenderTarget ? E.numViews : 0;
                    return {
                        isWebGL2: r,
                        shaderID: M,
                        shaderName: S.name,
                        uniforms: S.uniforms,
                        vertexShader: S.vertexShader,
                        fragmentShader: S.fragmentShader,
                        defines: i.defines,
                        isRawShaderMaterial: i.isRawShaderMaterial,
                        isShaderMaterial: i.isShaderMaterial,
                        precision: s,
                        instancing: !0 === b.isInstancedMesh,
                        supportsVertexTextures: l,
                        numMultiviewViews: A,
                        outputEncoding: null !== E ? d(E.texture) : e.outputEncoding,
                        map: !!i.map,
                        mapEncoding: d(i.map),
                        matcap: !!i.matcap,
                        matcapEncoding: d(i.matcap),
                        envMap: !!_,
                        envMapMode: _ && _.mapping,
                        envMapEncoding: d(_),
                        envMapCubeUV: !!_ && (_.mapping === me || _.mapping === ve),
                        lightMap: !!i.lightMap,
                        lightMapEncoding: d(i.lightMap),
                        aoMap: !!i.aoMap,
                        emissiveMap: !!i.emissiveMap,
                        emissiveMapEncoding: d(i.emissiveMap),
                        bumpMap: !!i.bumpMap,
                        normalMap: !!i.normalMap,
                        objectSpaceNormalMap: i.normalMapType === Xt,
                        tangentSpaceNormalMap: i.normalMapType === Yt,
                        clearcoatNormalMap: !!i.clearcoatNormalMap,
                        displacementMap: !!i.displacementMap,
                        roughnessMap: !!i.roughnessMap,
                        metalnessMap: !!i.metalnessMap,
                        specularMap: !!i.specularMap,
                        alphaMap: !!i.alphaMap,
                        gradientMap: !!i.gradientMap,
                        sheen: !!i.sheen,
                        combine: i.combine,
                        vertexTangents: i.normalMap && i.vertexTangents,
                        vertexColors: i.vertexColors,
                        vertexUvs: !!(i.map || i.bumpMap || i.normalMap || i.specularMap || i.alphaMap || i.emissiveMap || i.roughnessMap || i.metalnessMap || i.clearcoatNormalMap || i.displacementMap),
                        uvsVertexOnly: !(i.map || i.bumpMap || i.normalMap || i.specularMap || i.alphaMap || i.emissiveMap || i.roughnessMap || i.metalnessMap || i.clearcoatNormalMap || !i.displacementMap),
                        fog: !!x,
                        useFog: i.fog,
                        fogExp2: x && x.isFogExp2,
                        flatShading: i.flatShading,
                        sizeAttenuation: i.sizeAttenuation,
                        logarithmicDepthBuffer: o,
                        skinning: i.skinning && T > 0,
                        maxBones: T,
                        useVertexTexture: a,
                        morphTargets: i.morphTargets,
                        morphNormals: i.morphNormals,
                        maxMorphTargets: e.maxMorphTargets,
                        maxMorphNormals: e.maxMorphNormals,
                        numDirLights: h.directional.length,
                        numPointLights: h.point.length,
                        numSpotLights: h.spot.length,
                        numRectAreaLights: h.rectArea.length,
                        numHemiLights: h.hemi.length,
                        numDirLightShadows: h.directionalShadowMap.length,
                        numPointLightShadows: h.pointShadowMap.length,
                        numSpotLightShadows: h.spotShadowMap.length,
                        numClippingPlanes: m,
                        numClipIntersection: v,
                        dithering: i.dithering,
                        shadowMapEnabled: e.shadowMap.enabled && p.length > 0,
                        shadowMapType: e.shadowMap.type,
                        toneMapping: i.toneMapped ? e.toneMapping : ie,
                        physicallyCorrectLights: e.physicallyCorrectLights,
                        premultipliedAlpha: i.premultipliedAlpha,
                        alphaTest: i.alphaTest,
                        doubleSided: i.side === y,
                        flipSided: i.side === g,
                        depthPacking: void 0 !== i.depthPacking && i.depthPacking,
                        index0AttributeName: i.index0AttributeName,
                        extensionDerivatives: i.extensions && i.extensions.derivatives,
                        extensionFragDepth: i.extensions && i.extensions.frawbuffers,
                        extensionDrawbuffers: i.extensions && i.extensions.drawbuffers,
                        extensionShaderTextureLOD: i.extensions && i.extensions.shaderTextureLOD,
                        rendererExtensionFragDepth: r || null !== t.get("EXT_frag_depth"),
                        rendererExtensionDrawBuffers: r || null !== t.get("WEBGL_draw_buffers"),
                        rendererExtensionShaderTextureLod: r || null !== t.get("EXT_shader_texture_lod"),
                        onBeforeCompile: i.onBeforeCompile
                    }
                }, this.getProgramCacheKey = function(t) {
                    var n = [];
                    if (t.shaderID ? n.push(t.shaderID) : (n.push(t.fragmentShader), n.push(t.vertexShader)), void 0 !== t.defines)
                        for (var i in t.defines) n.push(i), n.push(t.defines[i]);
                    if (void 0 === t.isRawShaderMaterial) {
                        for (var r = 0; r < h.length; r++) n.push(t[h[r]]);
                        n.push(e.outputEncoding), n.push(e.gammaFactor)
                    }
                    return n.push(t.onBeforeCompile.toString()), n.join()
                }, this.acquireProgram = function(t, n) {
                    for (var r, o = 0, a = i.length; o < a; o++) {
                        var s = i[o];
                        if (s.cacheKey === n) {
                            ++(r = s).usedTimes;
                            break
                        }
                    }
                    return void 0 === r && (r = new Ya(e, n, t), i.push(r)), r
                }, this.releaseProgram = function(e) {
                    if (0 == --e.usedTimes) {
                        var t = i.indexOf(e);
                        i[t] = i[i.length - 1], i.pop(), e.destroy()
                    }
                }, this.programs = i
            }

            function Za() {
                var e = new WeakMap;
                return {
                    get: function(t) {
                        var n = e.get(t);
                        return void 0 === n && (n = {}, e.set(t, n)), n
                    },
                    remove: function(t) {
                        e.delete(t)
                    },
                    update: function(t, n, i) {
                        e.get(t)[n] = i
                    },
                    dispose: function() {
                        e = new WeakMap
                    }
                }
            }

            function Ja(e, t) {
                return e.groupOrder !== t.groupOrder ? e.groupOrder - t.groupOrder : e.renderOrder !== t.renderOrder ? e.renderOrder - t.renderOrder : e.program !== t.program ? e.program.id - t.program.id : e.material.id !== t.material.id ? e.material.id - t.material.id : e.z !== t.z ? e.z - t.z : e.id - t.id
            }

            function Ka(e, t) {
                return e.groupOrder !== t.groupOrder ? e.groupOrder - t.groupOrder : e.renderOrder !== t.renderOrder ? e.renderOrder - t.renderOrder : e.z !== t.z ? t.z - e.z : e.id - t.id
            }

            function Qa() {
                var e = [],
                    t = 0,
                    n = [],
                    i = [],
                    r = {
                        id: -1
                    };

                function o(n, i, o, a, s, c) {
                    var l = e[t];
                    return void 0 === l ? (l = {
                        id: n.id,
                        object: n,
                        geometry: i,
                        material: o,
                        program: o.program || r,
                        groupOrder: a,
                        renderOrder: n.renderOrder,
                        z: s,
                        group: c
                    }, e[t] = l) : (l.id = n.id, l.object = n, l.geometry = i, l.material = o, l.program = o.program || r, l.groupOrder = a, l.renderOrder = n.renderOrder, l.z = s, l.group = c), t++, l
                }
                return {
                    opaque: n,
                    transparent: i,
                    init: function() {
                        t = 0, n.length = 0, i.length = 0
                    },
                    push: function(e, t, r, a, s, c) {
                        var l = o(e, t, r, a, s, c);
                        (!0 === r.transparent ? i : n).push(l)
                    },
                    unshift: function(e, t, r, a, s, c) {
                        var l = o(e, t, r, a, s, c);
                        (!0 === r.transparent ? i : n).unshift(l)
                    },
                    sort: function(e, t) {
                        n.length > 1 && n.sort(e || Ja), i.length > 1 && i.sort(t || Ka)
                    }
                }
            }

            function $a() {
                var e = new WeakMap;

                function t(n) {
                    var i = n.target;
                    i.removeEventListener("dispose", t), e.delete(i)
                }
                return {
                    get: function(n, i) {
                        var r, o = e.get(n);
                        return void 0 === o ? (r = new Qa, e.set(n, new WeakMap), e.get(n).set(i, r), n.addEventListener("dispose", t)) : void 0 === (r = o.get(i)) && (r = new Qa, o.set(i, r)), r
                    },
                    dispose: function() {
                        e = new WeakMap
                    }
                }
            }

            function es() {
                var e = {};
                return {
                    get: function(t) {
                        if (void 0 !== e[t.id]) return e[t.id];
                        var n;
                        switch (t.type) {
                            case "DirectionalLight":
                                n = {
                                    direction: new Fn,
                                    color: new er,
                                    shadow: !1,
                                    shadowBias: 0,
                                    shadowRadius: 1,
                                    shadowMapSize: new En
                                };
                                break;
                            case "SpotLight":
                                n = {
                                    position: new Fn,
                                    direction: new Fn,
                                    color: new er,
                                    distance: 0,
                                    coneCos: 0,
                                    penumbraCos: 0,
                                    decay: 0,
                                    shadow: !1,
                                    shadowBias: 0,
                                    shadowRadius: 1,
                                    shadowMapSize: new En
                                };
                                break;
                            case "PointLight":
                                n = {
                                    position: new Fn,
                                    color: new er,
                                    distance: 0,
                                    decay: 0,
                                    shadow: !1,
                                    shadowBias: 0,
                                    shadowRadius: 1,
                                    shadowMapSize: new En,
                                    shadowCameraNear: 1,
                                    shadowCameraFar: 1e3
                                };
                                break;
                            case "HemisphereLight":
                                n = {
                                    direction: new Fn,
                                    skyColor: new er,
                                    groundColor: new er
                                };
                                break;
                            case "RectAreaLight":
                                n = {
                                    color: new er,
                                    position: new Fn,
                                    halfWidth: new Fn,
                                    halfHeight: new Fn
                                }
                        }
                        return e[t.id] = n, n
                    }
                }
            }
            var ts = 0;

            function ns(e, t) {
                return (t.castShadow ? 1 : 0) - (e.castShadow ? 1 : 0)
            }

            function is() {
                for (var e = new es, t = {
                        version: 0,
                        hash: {
                            directionalLength: -1,
                            pointLength: -1,
                            spotLength: -1,
                            rectAreaLength: -1,
                            hemiLength: -1,
                            numDirectionalShadows: -1,
                            numPointShadows: -1,
                            numSpotShadows: -1
                        },
                        ambient: [0, 0, 0],
                        probe: [],
                        directional: [],
                        directionalShadowMap: [],
                        directionalShadowMatrix: [],
                        spot: [],
                        spotShadowMap: [],
                        spotShadowMatrix: [],
                        rectArea: [],
                        point: [],
                        pointShadowMap: [],
                        pointShadowMatrix: [],
                        hemi: [],
                        numDirectionalShadows: -1,
                        numPointShadows: -1,
                        numSpotShadows: -1
                    }, n = 0; n < 9; n++) t.probe.push(new Fn);
                var i = new Fn,
                    r = new Wn,
                    o = new Wn;
                return {
                    setup: function(n, a, s) {
                        for (var c = 0, l = 0, u = 0, h = 0; h < 9; h++) t.probe[h].set(0, 0, 0);
                        var d = 0,
                            p = 0,
                            f = 0,
                            m = 0,
                            v = 0,
                            g = 0,
                            y = 0,
                            b = 0,
                            x = s.matrixWorldInverse;
                        n.sort(ns), h = 0;
                        for (var w = n.length; h < w; h++) {
                            var _ = n[h],
                                M = _.color,
                                T = _.intensity,
                                S = _.distance,
                                E = _.shadow && _.shadow.map ? _.shadow.map.texture : null;
                            if (_.isAmbientLight) c += M.r * T, l += M.g * T, u += M.b * T;
                            else if (_.isLightProbe)
                                for (var A = 0; A < 9; A++) t.probe[A].addScaledVector(_.sh.coefficients[A], T);
                            else if (_.isDirectionalLight) {
                                if ((L = e.get(_)).color.copy(_.color).multiplyScalar(_.intensity), L.direction.setFromMatrixPosition(_.matrixWorld), i.setFromMatrixPosition(_.target.matrixWorld), L.direction.sub(i), L.direction.transformDirection(x), L.shadow = _.castShadow, _.castShadow) {
                                    var P = _.shadow;
                                    L.shadowBias = P.bias, L.shadowRadius = P.radius, L.shadowMapSize = P.mapSize, t.directionalShadowMap[d] = E, t.directionalShadowMatrix[d] = _.shadow.matrix, g++
                                }
                                t.directional[d] = L, d++
                            } else if (_.isSpotLight) {
                                if ((L = e.get(_)).position.setFromMatrixPosition(_.matrixWorld), L.position.applyMatrix4(x), L.color.copy(M).multiplyScalar(T), L.distance = S, L.direction.setFromMatrixPosition(_.matrixWorld), i.setFromMatrixPosition(_.target.matrixWorld), L.direction.sub(i), L.direction.transformDirection(x), L.coneCos = Math.cos(_.angle), L.penumbraCos = Math.cos(_.angle * (1 - _.penumbra)), L.decay = _.decay, L.shadow = _.castShadow, _.castShadow) {
                                    P = _.shadow;
                                    L.shadowBias = P.bias, L.shadowRadius = P.radius, L.shadowMapSize = P.mapSize, t.spotShadowMap[f] = E, t.spotShadowMatrix[f] = _.shadow.matrix, b++
                                }
                                t.spot[f] = L, f++
                            } else if (_.isRectAreaLight) {
                                (L = e.get(_)).color.copy(M).multiplyScalar(T), L.position.setFromMatrixPosition(_.matrixWorld), L.position.applyMatrix4(x), o.identity(), r.copy(_.matrixWorld), r.premultiply(x), o.extractRotation(r), L.halfWidth.set(.5 * _.width, 0, 0), L.halfHeight.set(0, .5 * _.height, 0), L.halfWidth.applyMatrix4(o), L.halfHeight.applyMatrix4(o), t.rectArea[m] = L, m++
                            } else if (_.isPointLight) {
                                if ((L = e.get(_)).position.setFromMatrixPosition(_.matrixWorld), L.position.applyMatrix4(x), L.color.copy(_.color).multiplyScalar(_.intensity), L.distance = _.distance, L.decay = _.decay, L.shadow = _.castShadow, _.castShadow) {
                                    P = _.shadow;
                                    L.shadowBias = P.bias, L.shadowRadius = P.radius, L.shadowMapSize = P.mapSize, L.shadowCameraNear = P.camera.near, L.shadowCameraFar = P.camera.far, t.pointShadowMap[p] = E, t.pointShadowMatrix[p] = _.shadow.matrix, y++
                                }
                                t.point[p] = L, p++
                            } else if (_.isHemisphereLight) {
                                var L;
                                (L = e.get(_)).direction.setFromMatrixPosition(_.matrixWorld), L.direction.transformDirection(x), L.direction.normalize(), L.skyColor.copy(_.color).multiplyScalar(T), L.groundColor.copy(_.groundColor).multiplyScalar(T), t.hemi[v] = L, v++
                            }
                        }
                        t.ambient[0] = c, t.ambient[1] = l, t.ambient[2] = u;
                        var C = t.hash;
                        C.directionalLength === d && C.pointLength === p && C.spotLength === f && C.rectAreaLength === m && C.hemiLength === v && C.numDirectionalShadows === g && C.numPointShadows === y && C.numSpotShadows === b || (t.directional.length = d, t.spot.length = f, t.rectArea.length = m, t.point.length = p, t.hemi.length = v, t.directionalShadowMap.length = g, t.pointShadowMap.length = y, t.spotShadowMap.length = b, t.directionalShadowMatrix.length = g, t.pointShadowMatrix.length = y, t.spotShadowMatrix.length = b, C.directionalLength = d, C.pointLength = p, C.spotLength = f, C.rectAreaLength = m, C.hemiLength = v, C.numDirectionalShadows = g, C.numPointShadows = y, C.numSpotShadows = b, t.version = ts++)
                    },
                    state: t
                }
            }

            function rs() {
                var e = new is,
                    t = [],
                    n = [];
                return {
                    init: function() {
                        t.length = 0, n.length = 0
                    },
                    state: {
                        lightsArray: t,
                        shadowsArray: n,
                        lights: e
                    },
                    setupLights: function(i) {
                        e.setup(t, n, i)
                    },
                    pushLight: function(e) {
                        t.push(e)
                    },
                    pushShadow: function(e) {
                        n.push(e)
                    }
                }
            }

            function os() {
                var e = new WeakMap;

                function t(n) {
                    var i = n.target;
                    i.removeEventListener("dispose", t), e.delete(i)
                }
                return {
                    get: function(n, i) {
                        var r;
                        return !1 === e.has(n) ? (r = new rs, e.set(n, new WeakMap), e.get(n).set(i, r), n.addEventListener("dispose", t)) : !1 === e.get(n).has(i) ? (r = new rs, e.get(n).set(i, r)) : r = e.get(n).get(i), r
                    },
                    dispose: function() {
                        e = new WeakMap
                    }
                }
            }

            function as(e) {
                ar.call(this), this.type = "MeshDepthMaterial", this.depthPacking = Wt, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.setValues(e)
            }

            function ss(e) {
                ar.call(this), this.type = "MeshDistanceMaterial", this.referencePosition = new Fn, this.nearDistance = 1, this.farDistance = 1e3, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.fog = !1, this.setValues(e)
            }
            as.prototype = Object.create(ar.prototype), as.prototype.constructor = as, as.prototype.isMeshDepthMaterial = !0, as.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.depthPacking = e.depthPacking, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.map = e.map, this.alphaMap = e.alphaMap, this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this
            }, ss.prototype = Object.create(ar.prototype), ss.prototype.constructor = ss, ss.prototype.isMeshDistanceMaterial = !0, ss.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.referencePosition.copy(e.referencePosition), this.nearDistance = e.nearDistance, this.farDistance = e.farDistance, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.map = e.map, this.alphaMap = e.alphaMap, this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this
            };

            function cs(e, t, n) {
                var i = new fo,
                    r = new En,
                    o = new En,
                    a = new Rn,
                    s = [],
                    c = [],
                    l = {},
                    u = {
                        0: g,
                        1: v,
                        2: y
                    },
                    h = new oo({
                        defines: {
                            SAMPLE_RATE: 2 / 8,
                            HALF_SAMPLE_RATE: 1 / 8
                        },
                        uniforms: {
                            shadow_pass: {
                                value: null
                            },
                            resolution: {
                                value: new En
                            },
                            radius: {
                                value: 4
                            }
                        },
                        vertexShader: "void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",
                        fragmentShader: "uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"
                    }),
                    d = h.clone();
                d.defines.HORIZONAL_PASS = 1;
                var f = new Pr;
                f.setAttribute("position", new lr(new Float32Array([-1, -1, .5, 3, -1, .5, -1, 3, .5]), 3));
                var b = new qr(f, h),
                    x = this;

                function w(n, i) {
                    var r = t.update(b);
                    h.uniforms.shadow_pass.value = n.map.texture, h.uniforms.resolution.value = n.mapSize, h.uniforms.radius.value = n.radius, e.setRenderTarget(n.mapPass), e.clear(), e.renderBufferDirect(i, null, r, h, b, null), d.uniforms.shadow_pass.value = n.mapPass.texture, d.uniforms.resolution.value = n.mapSize, d.uniforms.radius.value = n.radius, e.setRenderTarget(n.map), e.clear(), e.renderBufferDirect(i, null, r, d, b, null)
                }

                function _(e, t, n) {
                    var i = e << 0 | t << 1 | n << 2,
                        r = s[i];
                    return void 0 === r && (r = new as({
                        depthPacking: qt,
                        morphTargets: e,
                        skinning: t
                    }), s[i] = r), r
                }

                function M(e, t, n) {
                    var i = e << 0 | t << 1 | n << 2,
                        r = c[i];
                    return void 0 === r && (r = new ss({
                        morphTargets: e,
                        skinning: t
                    }), c[i] = r), r
                }

                function S(t, n, i, r, o, a) {
                    var s = t.geometry,
                        c = null,
                        h = _,
                        d = t.customDepthMaterial;
                    if (!0 === i.isPointLight && (h = M, d = t.customDistanceMaterial), void 0 === d) {
                        var p = !1;
                        !0 === n.morphTargets && (!0 === s.isBufferGeometry ? p = s.morphAttributes && s.morphAttributes.position && s.morphAttributes.position.length > 0 : !0 === s.isGeometry && (p = s.morphTargets && s.morphTargets.length > 0));
                        var f = !1;
                        !0 === t.isSkinnedMesh && (!0 === n.skinning ? f = !0 : console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:", t)), c = h(p, f, !0 === t.isInstancedMesh)
                    } else c = d;
                    if (e.localClippingEnabled && !0 === n.clipShadows && 0 !== n.clippingPlanes.length) {
                        var v = c.uuid,
                            g = n.uuid,
                            y = l[v];
                        void 0 === y && (y = {}, l[v] = y);
                        var b = y[g];
                        void 0 === b && (b = c.clone(), y[g] = b), c = b
                    }
                    return c.visible = n.visible, c.wireframe = n.wireframe, c.side = a === m ? null !== n.shadowSide ? n.shadowSide : n.side : null !== n.shadowSide ? n.shadowSide : u[n.side], c.clipShadows = n.clipShadows, c.clippingPlanes = n.clippingPlanes, c.clipIntersection = n.clipIntersection, c.wireframeLinewidth = n.wireframeLinewidth, c.linewidth = n.linewidth, !0 === i.isPointLight && !0 === c.isMeshDistanceMaterial && (c.referencePosition.setFromMatrixPosition(i.matrixWorld), c.nearDistance = r, c.farDistance = o), c
                }

                function E(n, r, o, a, s) {
                    if (!1 !== n.visible) {
                        if (n.layers.test(r.layers) && (n.isMesh || n.isLine || n.isPoints) && (n.castShadow || n.receiveShadow && s === m) && (!n.frustumCulled || i.intersectsObject(n))) {
                            n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse, n.matrixWorld);
                            var c = t.update(n),
                                l = n.material;
                            if (Array.isArray(l))
                                for (var u = c.groups, h = 0, d = u.length; h < d; h++) {
                                    var p = u[h],
                                        f = l[p.materialIndex];
                                    if (f && f.visible) {
                                        var v = S(n, f, a, o.near, o.far, s);
                                        e.renderBufferDirect(o, null, c, v, n, p)
                                    }
                                } else if (l.visible) {
                                    v = S(n, l, a, o.near, o.far, s);
                                    e.renderBufferDirect(o, null, c, v, n, null)
                                }
                        }
                        for (var g = n.children, y = 0, b = g.length; y < b; y++) E(g[y], r, o, a, s)
                    }
                }
                this.enabled = !1, this.autoUpdate = !0, this.needsUpdate = !1, this.type = p, this.render = function(t, s, c) {
                    if (!1 !== x.enabled && (!1 !== x.autoUpdate || !1 !== x.needsUpdate) && 0 !== t.length) {
                        var l = e.getRenderTarget(),
                            u = e.getActiveCubeFace(),
                            h = e.getActiveMipmapLevel(),
                            d = e.state;
                        d.setBlending(T), d.buffers.color.setClear(1, 1, 1, 1), d.buffers.depth.setTest(!0), d.setScissorTest(!1);
                        for (var p = 0, f = t.length; p < f; p++) {
                            var v = t[p],
                                g = v.shadow;
                            if (void 0 !== g) {
                                r.copy(g.mapSize);
                                var y = g.getFrameExtents();
                                if (r.multiply(y), o.copy(g.mapSize), (r.x > n || r.y > n) && (console.warn("THREE.WebGLShadowMap:", v, "has shadow exceeding max texture size, reducing"), r.x > n && (o.x = Math.floor(n / y.x), r.x = o.x * y.x, g.mapSize.x = o.x), r.y > n && (o.y = Math.floor(n / y.y), r.y = o.y * y.y, g.mapSize.y = o.y)), null === g.map && !g.isPointLightShadow && this.type === m) {
                                    var b = {
                                        minFilter: Se,
                                        magFilter: Se,
                                        format: Ge
                                    };
                                    g.map = new On(r.x, r.y, b), g.map.texture.name = v.name + ".shadowMap", g.mapPass = new On(r.x, r.y, b), g.camera.updateProjectionMatrix()
                                }
                                if (null === g.map) {
                                    b = {
                                        minFilter: xe,
                                        magFilter: xe,
                                        format: Ge
                                    };
                                    g.map = new On(r.x, r.y, b), g.map.texture.name = v.name + ".shadowMap", g.camera.updateProjectionMatrix()
                                }
                                e.setRenderTarget(g.map), e.clear();
                                for (var _ = g.getViewportCount(), M = 0; M < _; M++) {
                                    var S = g.getViewport(M);
                                    a.set(o.x * S.x, o.y * S.y, o.x * S.z, o.y * S.w), d.viewport(a), g.updateMatrices(v, M), i = g.getFrustum(), E(s, c, g.camera, v, this.type)
                                }
                                g.isPointLightShadow || this.type !== m || w(g, c)
                            } else console.warn("THREE.WebGLShadowMap:", v, "has no shadow.")
                        }
                        x.needsUpdate = !1, e.setRenderTarget(l, u, h)
                    }
                }
            }

            function ls(e, t, n) {
                var i = n.isWebGL2;
                var r = new function() {
                        var t = !1,
                            n = new Rn,
                            i = null,
                            r = new Rn(0, 0, 0, 0);
                        return {
                            setMask: function(n) {
                                i === n || t || (e.colorMask(n, n, n, n), i = n)
                            },
                            setLocked: function(e) {
                                t = e
                            },
                            setClear: function(t, i, o, a, s) {
                                !0 === s && (t *= a, i *= a, o *= a), n.set(t, i, o, a), !1 === r.equals(n) && (e.clearColor(t, i, o, a), r.copy(n))
                            },
                            reset: function() {
                                t = !1, i = null, r.set(-1, 0, 0, 0)
                            }
                        }
                    },
                    o = new function() {
                        var t = !1,
                            n = null,
                            i = null,
                            r = null;
                        return {
                            setTest: function(e) {
                                e ? be(2929) : xe(2929)
                            },
                            setMask: function(i) {
                                n === i || t || (e.depthMask(i), n = i)
                            },
                            setFunc: function(t) {
                                if (i !== t) {
                                    if (t) switch (t) {
                                        case q:
                                            e.depthFunc(512);
                                            break;
                                        case Y:
                                            e.depthFunc(519);
                                            break;
                                        case X:
                                            e.depthFunc(513);
                                            break;
                                        case Z:
                                            e.depthFunc(515);
                                            break;
                                        case J:
                                            e.depthFunc(514);
                                            break;
                                        case K:
                                            e.depthFunc(518);
                                            break;
                                        case Q:
                                            e.depthFunc(516);
                                            break;
                                        case $:
                                            e.depthFunc(517);
                                            break;
                                        default:
                                            e.depthFunc(515)
                                    } else e.depthFunc(515);
                                    i = t
                                }
                            },
                            setLocked: function(e) {
                                t = e
                            },
                            setClear: function(t) {
                                r !== t && (e.clearDepth(t), r = t)
                            },
                            reset: function() {
                                t = !1, n = null, i = null, r = null
                            }
                        }
                    },
                    l = new function() {
                        var t = !1,
                            n = null,
                            i = null,
                            r = null,
                            o = null,
                            a = null,
                            s = null,
                            c = null,
                            l = null;
                        return {
                            setTest: function(e) {
                                t || (e ? be(2960) : xe(2960))
                            },
                            setMask: function(i) {
                                n === i || t || (e.stencilMask(i), n = i)
                            },
                            setFunc: function(t, n, a) {
                                i === t && r === n && o === a || (e.stencilFunc(t, n, a), i = t, r = n, o = a)
                            },
                            setOp: function(t, n, i) {
                                a === t && s === n && c === i || (e.stencilOp(t, n, i), a = t, s = n, c = i)
                            },
                            setLocked: function(e) {
                                t = e
                            },
                            setClear: function(t) {
                                l !== t && (e.clearStencil(t), l = t)
                            },
                            reset: function() {
                                t = !1, n = null, i = null, r = null, o = null, a = null, s = null, c = null, l = null
                            }
                        }
                    },
                    u = e.getParameter(34921),
                    h = new Uint8Array(u),
                    d = new Uint8Array(u),
                    p = new Uint8Array(u),
                    f = {},
                    m = null,
                    v = null,
                    b = null,
                    x = null,
                    w = null,
                    _ = null,
                    M = null,
                    ee = null,
                    te = null,
                    ne = !1,
                    ie = null,
                    re = null,
                    oe = null,
                    ae = null,
                    se = null,
                    ce = e.getParameter(35661),
                    le = !1,
                    ue = 0,
                    he = e.getParameter(7938); - 1 !== he.indexOf("WebGL") ? (ue = parseFloat(/^WebGL\ ([0-9])/.exec(he)[1]), le = ue >= 1) : -1 !== he.indexOf("OpenGL ES") && (ue = parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(he)[1]), le = ue >= 2);
                var de = null,
                    pe = {},
                    fe = new Rn,
                    me = new Rn;

                function ve(t, n, i) {
                    var r = new Uint8Array(4),
                        o = e.createTexture();
                    e.bindTexture(t, o), e.texParameteri(t, 10241, 9728), e.texParameteri(t, 10240, 9728);
                    for (var a = 0; a < i; a++) e.texImage2D(n + a, 0, 6408, 1, 1, 0, 6408, 5121, r);
                    return o
                }
                var ge = {};

                function ye(n, r) {
                    (h[n] = 1, 0 === d[n] && (e.enableVertexAttribArray(n), d[n] = 1), p[n] !== r) && ((i ? e : t.get("ANGLE_instanced_arrays"))[i ? "vertexAttribDivisor" : "vertexAttribDivisorANGLE"](n, r), p[n] = r)
                }

                function be(t) {
                    !0 !== f[t] && (e.enable(t), f[t] = !0)
                }

                function xe(t) {
                    !1 !== f[t] && (e.disable(t), f[t] = !1)
                }
                ge[3553] = ve(3553, 3553, 1), ge[34067] = ve(34067, 34069, 6), r.setClear(0, 0, 0, 1), o.setClear(1), l.setClear(0), be(2929), o.setFunc(Z), Se(!1), Ee(s), be(2884), Te(T);
                var we = {
                    [C]: 32774,
                    [R]: 32778,
                    [O]: 32779
                };
                if (i) we[D] = 32775, we[I] = 32776;
                else {
                    var _e = t.get("EXT_blend_minmax");
                    null !== _e && (we[D] = _e.MIN_EXT, we[I] = _e.MAX_EXT)
                }
                var Me = {
                    [j]: 0,
                    [k]: 1,
                    [F]: 768,
                    [z]: 770,
                    [W]: 776,
                    [H]: 774,
                    [U]: 772,
                    [N]: 769,
                    [B]: 771,
                    [G]: 775,
                    [V]: 773
                };

                function Te(t, n, i, r, o, a, s, c) {
                    if (t !== T) {
                        if (v || (be(3042), v = !0), t === L) o = o || n, a = a || i, s = s || r, n === x && o === M || (e.blendEquationSeparate(we[n], we[o]), x = n, M = o), i === w && r === _ && a === ee && s === te || (e.blendFuncSeparate(Me[i], Me[r], Me[a], Me[s]), w = i, _ = r, ee = a, te = s), b = t, ne = null;
                        else if (t !== b || c !== ne) {
                            if (x === C && M === C || (e.blendEquation(32774), x = C, M = C), c) switch (t) {
                                case S:
                                    e.blendFuncSeparate(1, 771, 1, 771);
                                    break;
                                case E:
                                    e.blendFunc(1, 1);
                                    break;
                                case A:
                                    e.blendFuncSeparate(0, 0, 769, 771);
                                    break;
                                case P:
                                    e.blendFuncSeparate(0, 768, 0, 770);
                                    break;
                                default:
                                    console.error("THREE.WebGLState: Invalid blending: ", t)
                            } else switch (t) {
                                case S:
                                    e.blendFuncSeparate(770, 771, 1, 771);
                                    break;
                                case E:
                                    e.blendFunc(770, 1);
                                    break;
                                case A:
                                    e.blendFunc(0, 769);
                                    break;
                                case P:
                                    e.blendFunc(0, 768);
                                    break;
                                default:
                                    console.error("THREE.WebGLState: Invalid blending: ", t)
                            }
                            w = null, _ = null, ee = null, te = null, b = t, ne = c
                        }
                    } else v && (xe(3042), v = !1)
                }

                function Se(t) {
                    ie !== t && (t ? e.frontFace(2304) : e.frontFace(2305), ie = t)
                }

                function Ee(t) {
                    t !== a ? (be(2884), t !== re && (t === s ? e.cullFace(1029) : t === c ? e.cullFace(1028) : e.cullFace(1032))) : xe(2884), re = t
                }

                function Ae(t, n, i) {
                    t ? (be(32823), ae === n && se === i || (e.polygonOffset(n, i), ae = n, se = i)) : xe(32823)
                }

                function Pe(t) {
                    void 0 === t && (t = 33984 + ce - 1), de !== t && (e.activeTexture(t), de = t)
                }
                return {
                    buffers: {
                        color: r,
                        depth: o,
                        stencil: l
                    },
                    initAttributes: function() {
                        for (var e = 0, t = h.length; e < t; e++) h[e] = 0
                    },
                    enableAttribute: function(e) {
                        ye(e, 0)
                    },
                    enableAttributeAndDivisor: ye,
                    disableUnusedAttributes: function() {
                        for (var t = 0, n = d.length; t !== n; ++t) d[t] !== h[t] && (e.disableVertexAttribArray(t), d[t] = 0)
                    },
                    enable: be,
                    disable: xe,
                    useProgram: function(t) {
                        return m !== t && (e.useProgram(t), m = t, !0)
                    },
                    setBlending: Te,
                    setMaterial: function(e, t) {
                        e.side === y ? xe(2884) : be(2884);
                        var n = e.side === g;
                        t && (n = !n), Se(n), e.blending === S && !1 === e.transparent ? Te(T) : Te(e.blending, e.blendEquation, e.blendSrc, e.blendDst, e.blendEquationAlpha, e.blendSrcAlpha, e.blendDstAlpha, e.premultipliedAlpha), o.setFunc(e.depthFunc), o.setTest(e.depthTest), o.setMask(e.depthWrite), r.setMask(e.colorWrite);
                        var i = e.stencilWrite;
                        l.setTest(i), i && (l.setMask(e.stencilWriteMask), l.setFunc(e.stencilFunc, e.stencilRef, e.stencilFuncMask), l.setOp(e.stencilFail, e.stencilZFail, e.stencilZPass)), Ae(e.polygonOffset, e.polygonOffsetFactor, e.polygonOffsetUnits)
                    },
                    setFlipSided: Se,
                    setCullFace: Ee,
                    setLineWidth: function(t) {
                        t !== oe && (le && e.lineWidth(t), oe = t)
                    },
                    setPolygonOffset: Ae,
                    setScissorTest: function(e) {
                        e ? be(3089) : xe(3089)
                    },
                    activeTexture: Pe,
                    bindTexture: function(t, n) {
                        null === de && Pe();
                        var i = pe[de];
                        void 0 === i && (i = {
                            type: void 0,
                            texture: void 0
                        }, pe[de] = i), i.type === t && i.texture === n || (e.bindTexture(t, n || ge[t]), i.type = t, i.texture = n)
                    },
                    unbindTexture: function() {
                        var t = pe[de];
                        void 0 !== t && void 0 !== t.type && (e.bindTexture(t.type, null), t.type = void 0, t.texture = void 0)
                    },
                    compressedTexImage2D: function() {
                        try {
                            e.compressedTexImage2D.apply(e, arguments)
                        } catch (e) {
                            console.error("THREE.WebGLState:", e)
                        }
                    },
                    texImage2D: function() {
                        try {
                            e.texImage2D.apply(e, arguments)
                        } catch (e) {
                            console.error("THREE.WebGLState:", e)
                        }
                    },
                    texImage3D: function() {
                        try {
                            e.texImage3D.apply(e, arguments)
                        } catch (e) {
                            console.error("THREE.WebGLState:", e)
                        }
                    },
                    scissor: function(t) {
                        !1 === fe.equals(t) && (e.scissor(t.x, t.y, t.z, t.w), fe.copy(t))
                    },
                    viewport: function(t) {
                        !1 === me.equals(t) && (e.viewport(t.x, t.y, t.z, t.w), me.copy(t))
                    },
                    reset: function() {
                        for (var t = 0; t < d.length; t++) 1 === d[t] && (e.disableVertexAttribArray(t), d[t] = 0);
                        f = {}, de = null, pe = {}, m = null, b = null, ie = null, re = null, r.reset(), o.reset(), l.reset()
                    }
                }
            }

            function us(e, t, n, i, r, o, a) {
                var s, c = r.isWebGL2,
                    l = r.maxTextures,
                    u = r.maxCubemapSize,
                    h = r.maxTextureSize,
                    d = r.maxSamples,
                    p = new WeakMap,
                    f = !1;
                try {
                    f = "undefined" != typeof OffscreenCanvas && null !== new OffscreenCanvas(1, 1).getContext("2d")
                } catch (e) {}

                function m(e, t) {
                    return f ? new OffscreenCanvas(e, t) : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")
                }

                function v(e, t, n, i) {
                    var r = 1;
                    if ((e.width > i || e.height > i) && (r = i / Math.max(e.width, e.height)), r < 1 || !0 === t) {
                        if ("undefined" != typeof HTMLImageElement && e instanceof HTMLImageElement || "undefined" != typeof HTMLCanvasElement && e instanceof HTMLCanvasElement || "undefined" != typeof ImageBitmap && e instanceof ImageBitmap) {
                            var o = t ? Sn.floorPowerOfTwo : Math.floor,
                                a = o(r * e.width),
                                c = o(r * e.height);
                            void 0 === s && (s = m(a, c));
                            var l = n ? m(a, c) : s;
                            return l.width = a, l.height = c, l.getContext("2d").drawImage(e, 0, 0, a, c), console.warn("THREE.WebGLRenderer: Texture has been resized from (" + e.width + "x" + e.height + ") to (" + a + "x" + c + ")."), l
                        }
                        return "data" in e && console.warn("THREE.WebGLRenderer: Image in DataTexture is too big (" + e.width + "x" + e.height + ")."), e
                    }
                    return e
                }

                function g(e) {
                    return Sn.isPowerOfTwo(e.width) && Sn.isPowerOfTwo(e.height)
                }

                function y(e, t) {
                    return e.generateMipmaps && t && e.minFilter !== xe && e.minFilter !== Se
                }

                function b(t, n, r, o) {
                    e.generateMipmap(t), i.get(n).__maxMipLevel = Math.log(Math.max(r, o)) * Math.LOG2E
                }

                function x(n, i, r) {
                    if (!1 === c) return i;
                    if (null !== n) {
                        if (void 0 !== e[n]) return e[n];
                        console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '" + n + "'")
                    }
                    var o = i;
                    return 6403 === i && (5126 === r && (o = 33326), 5131 === r && (o = 33325), 5121 === r && (o = 33321)), 6407 === i && (5126 === r && (o = 34837), 5131 === r && (o = 34843), 5121 === r && (o = 32849)), 6408 === i && (5126 === r && (o = 34836), 5131 === r && (o = 34842), 5121 === r && (o = 32856)), 33325 === o || 33326 === o || 34842 === o || 34836 === o ? t.get("EXT_color_buffer_float") : 34843 !== o && 34837 !== o || console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."), o
                }

                function w(e) {
                    return e === xe || e === we || e === Me ? 9728 : 9729
                }

                function _(t) {
                    var n = t.target;
                    n.removeEventListener("dispose", _),
                        function(t) {
                            var n = i.get(t);
                            if (void 0 === n.__webglInit) return;
                            e.deleteTexture(n.__webglTexture), i.remove(t)
                        }(n), n.isVideoTexture && p.delete(n), a.memory.textures--
                }

                function M(t) {
                    var n = t.target;
                    n.removeEventListener("dispose", M),
                        function(t) {
                            var n = i.get(t),
                                r = i.get(t.texture);
                            if (!t) return;
                            void 0 !== r.__webglTexture && e.deleteTexture(r.__webglTexture);
                            t.depthTexture && t.depthTexture.dispose();
                            if (t.isWebGLCubeRenderTarget)
                                for (var o = 0; o < 6; o++) e.deleteFramebuffer(n.__webglFramebuffer[o]), n.__webglDepthbuffer && e.deleteRenderbuffer(n.__webglDepthbuffer[o]);
                            else e.deleteFramebuffer(n.__webglFramebuffer), n.__webglDepthbuffer && e.deleteRenderbuffer(n.__webglDepthbuffer);
                            if (t.isWebGLMultiviewRenderTarget) {
                                e.deleteTexture(n.__webglColorTexture), e.deleteTexture(n.__webglDepthStencilTexture), a.memory.textures -= 2;
                                o = 0;
                                for (var s = n.__webglViewFramebuffers.length; o < s; o++) e.deleteFramebuffer(n.__webglViewFramebuffers[o])
                            }
                            i.remove(t.texture), i.remove(t)
                        }(n), a.memory.textures--
                }
                var T = 0;

                function S(e, t) {
                    var r = i.get(e);
                    if (e.isVideoTexture && function(e) {
                            var t = a.render.frame;
                            p.get(e) !== t && (p.set(e, t), e.update())
                        }(e), e.version > 0 && r.__version !== e.version) {
                        var o = e.image;
                        if (void 0 === o) console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");
                        else {
                            if (!1 !== o.complete) return void O(r, e, t);
                            console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")
                        }
                    }
                    n.activeTexture(33984 + t), n.bindTexture(3553, r.__webglTexture)
                }

                function E(t, r) {
                    if (6 === t.image.length) {
                        var a = i.get(t);
                        if (t.version > 0 && a.__version !== t.version) {
                            R(a, t), n.activeTexture(33984 + r), n.bindTexture(34067, a.__webglTexture), e.pixelStorei(37440, t.flipY);
                            for (var s = t && (t.isCompressedTexture || t.image[0].isCompressedTexture), l = t.image[0] && t.image[0].isDataTexture, h = [], d = 0; d < 6; d++) h[d] = s || l ? l ? t.image[d].image : t.image[d] : v(t.image[d], !1, !0, u);
                            var p, f = h[0],
                                m = g(f) || c,
                                w = o.convert(t.format),
                                _ = o.convert(t.type),
                                M = x(t.internalFormat, w, _);
                            if (C(34067, t, m), s) {
                                for (d = 0; d < 6; d++) {
                                    p = h[d].mipmaps;
                                    for (var T = 0; T < p.length; T++) {
                                        var S = p[T];
                                        t.format !== Ge && t.format !== He ? null !== w ? n.compressedTexImage2D(34069 + d, T, M, S.width, S.height, 0, S.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : n.texImage2D(34069 + d, T, M, S.width, S.height, 0, w, _, S.data)
                                    }
                                }
                                a.__maxMipLevel = p.length - 1
                            } else {
                                p = t.mipmaps;
                                for (d = 0; d < 6; d++)
                                    if (l) {
                                        n.texImage2D(34069 + d, 0, M, h[d].width, h[d].height, 0, w, _, h[d].data);
                                        for (T = 0; T < p.length; T++) {
                                            var E = (S = p[T]).image[d].image;
                                            n.texImage2D(34069 + d, T + 1, M, E.width, E.height, 0, w, _, E.data)
                                        }
                                    } else {
                                        n.texImage2D(34069 + d, 0, M, w, _, h[d]);
                                        for (T = 0; T < p.length; T++) {
                                            S = p[T];
                                            n.texImage2D(34069 + d, T + 1, M, w, _, S.image[d])
                                        }
                                    }
                                a.__maxMipLevel = p.length
                            }
                            y(t, m) && b(34067, t, f.width, f.height), a.__version = t.version, t.onUpdate && t.onUpdate(t)
                        } else n.activeTexture(33984 + r), n.bindTexture(34067, a.__webglTexture)
                    }
                }

                function A(e, t) {
                    n.activeTexture(33984 + t), n.bindTexture(34067, i.get(e).__webglTexture)
                }
                var P = {
                        [ge]: 10497,
                        [ye]: 33071,
                        [be]: 33648
                    },
                    L = {
                        [xe]: 9728,
                        [we]: 9984,
                        [Me]: 9986,
                        [Se]: 9729,
                        [Ee]: 9985,
                        [Pe]: 9987
                    };

                function C(n, o, a) {
                    a ? (e.texParameteri(n, 10242, P[o.wrapS]), e.texParameteri(n, 10243, P[o.wrapT]), 32879 !== n && 35866 !== n || e.texParameteri(n, 32882, P[o.wrapR]), e.texParameteri(n, 10240, L[o.magFilter]), e.texParameteri(n, 10241, L[o.minFilter])) : (e.texParameteri(n, 10242, 33071), e.texParameteri(n, 10243, 33071), 32879 !== n && 35866 !== n || e.texParameteri(n, 32882, 33071), o.wrapS === ye && o.wrapT === ye || console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."), e.texParameteri(n, 10240, w(o.magFilter)), e.texParameteri(n, 10241, w(o.minFilter)), o.minFilter !== xe && o.minFilter !== Se && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));
                    var s = t.get("EXT_texture_filter_anisotropic");
                    if (s) {
                        if (o.type === ke && null === t.get("OES_texture_float_linear")) return;
                        if (o.type === Fe && null === (c || t.get("OES_texture_half_float_linear"))) return;
                        (o.anisotropy > 1 || i.get(o).__currentAnisotropy) && (e.texParameterf(n, s.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(o.anisotropy, r.getMaxAnisotropy())), i.get(o).__currentAnisotropy = o.anisotropy)
                    }
                }

                function R(t, n) {
                    void 0 === t.__webglInit && (t.__webglInit = !0, n.addEventListener("dispose", _), t.__webglTexture = e.createTexture(), a.memory.textures++)
                }

                function O(t, i, r) {
                    var a = 3553;
                    i.isDataTexture2DArray && (a = 35866), i.isDataTexture3D && (a = 32879), R(t, i), n.activeTexture(33984 + r), n.bindTexture(a, t.__webglTexture), e.pixelStorei(37440, i.flipY), e.pixelStorei(37441, i.premultiplyAlpha), e.pixelStorei(3317, i.unpackAlignment);
                    var s = function(e) {
                            return !c && (e.wrapS !== ye || e.wrapT !== ye || e.minFilter !== xe && e.minFilter !== Se)
                        }(i) && !1 === g(i.image),
                        l = v(i.image, s, !1, h),
                        u = g(l) || c,
                        d = o.convert(i.format),
                        p = o.convert(i.type),
                        f = x(i.internalFormat, d, p);
                    C(a, i, u);
                    var m, w = i.mipmaps;
                    if (i.isDepthTexture) {
                        if (f = 6402, i.type === ke) {
                            if (!1 === c) throw new Error("Float Depth Texture only supported in WebGL2.0");
                            f = 36012
                        } else c && (f = 33189);
                        i.format === Xe && 6402 === f && i.type !== De && i.type !== je && (console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."), i.type = De, p = o.convert(i.type)), i.format === Ze && (f = 34041, i.type !== Ue && (console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."), i.type = Ue, p = o.convert(i.type))), n.texImage2D(3553, 0, f, l.width, l.height, 0, d, p, null)
                    } else if (i.isDataTexture)
                        if (w.length > 0 && u) {
                            for (var _ = 0, M = w.length; _ < M; _++) m = w[_], n.texImage2D(3553, _, f, m.width, m.height, 0, d, p, m.data);
                            i.generateMipmaps = !1, t.__maxMipLevel = w.length - 1
                        } else n.texImage2D(3553, 0, f, l.width, l.height, 0, d, p, l.data), t.__maxMipLevel = 0;
                    else if (i.isCompressedTexture) {
                        for (_ = 0, M = w.length; _ < M; _++) m = w[_], i.format !== Ge && i.format !== He ? null !== d ? n.compressedTexImage2D(3553, _, f, m.width, m.height, 0, m.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : n.texImage2D(3553, _, f, m.width, m.height, 0, d, p, m.data);
                        t.__maxMipLevel = w.length - 1
                    } else if (i.isDataTexture2DArray) n.texImage3D(35866, 0, f, l.width, l.height, l.depth, 0, d, p, l.data), t.__maxMipLevel = 0;
                    else if (i.isDataTexture3D) n.texImage3D(32879, 0, f, l.width, l.height, l.depth, 0, d, p, l.data), t.__maxMipLevel = 0;
                    else if (w.length > 0 && u) {
                        for (_ = 0, M = w.length; _ < M; _++) m = w[_], n.texImage2D(3553, _, f, d, p, m);
                        i.generateMipmaps = !1, t.__maxMipLevel = w.length - 1
                    } else n.texImage2D(3553, 0, f, d, p, l), t.__maxMipLevel = 0;
                    y(i, u) && b(a, i, l.width, l.height), t.__version = i.version, i.onUpdate && i.onUpdate(i)
                }

                function D(t, r, a, s) {
                    var c = o.convert(r.texture.format),
                        l = o.convert(r.texture.type),
                        u = x(r.texture.internalFormat, c, l);
                    n.texImage2D(s, 0, u, r.width, r.height, 0, c, l, null), e.bindFramebuffer(36160, t), e.framebufferTexture2D(36160, a, s, i.get(r.texture).__webglTexture, 0), e.bindFramebuffer(36160, null)
                }

                function I(t, n, i) {
                    if (e.bindRenderbuffer(36161, t), n.depthBuffer && !n.stencilBuffer) {
                        if (i) {
                            var r = k(n);
                            e.renderbufferStorageMultisample(36161, r, 33189, n.width, n.height)
                        } else e.renderbufferStorage(36161, 33189, n.width, n.height);
                        e.framebufferRenderbuffer(36160, 36096, 36161, t)
                    } else if (n.depthBuffer && n.stencilBuffer) {
                        if (i) {
                            r = k(n);
                            e.renderbufferStorageMultisample(36161, r, 35056, n.width, n.height)
                        } else e.renderbufferStorage(36161, 34041, n.width, n.height);
                        e.framebufferRenderbuffer(36160, 33306, 36161, t)
                    } else {
                        var a = o.convert(n.texture.format),
                            s = o.convert(n.texture.type),
                            c = x(n.texture.internalFormat, a, s);
                        if (i) {
                            r = k(n);
                            e.renderbufferStorageMultisample(36161, r, c, n.width, n.height)
                        } else e.renderbufferStorage(36161, c, n.width, n.height)
                    }
                    e.bindRenderbuffer(36161, null)
                }

                function j(t) {
                    var n = i.get(t),
                        r = !0 === t.isWebGLCubeRenderTarget;
                    if (t.depthTexture) {
                        if (r) throw new Error("target.depthTexture not supported in Cube render targets");
                        ! function(t, n) {
                            if (n && n.isWebGLCubeRenderTarget) throw new Error("Depth Texture with cube render targets is not supported");
                            if (e.bindFramebuffer(36160, t), !n.depthTexture || !n.depthTexture.isDepthTexture) throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                            i.get(n.depthTexture).__webglTexture && n.depthTexture.image.width === n.width && n.depthTexture.image.height === n.height || (n.depthTexture.image.width = n.width, n.depthTexture.image.height = n.height, n.depthTexture.needsUpdate = !0), S(n.depthTexture, 0);
                            var r = i.get(n.depthTexture).__webglTexture;
                            if (n.depthTexture.format === Xe) e.framebufferTexture2D(36160, 36096, 3553, r, 0);
                            else {
                                if (n.depthTexture.format !== Ze) throw new Error("Unknown depthTexture format");
                                e.framebufferTexture2D(36160, 33306, 3553, r, 0)
                            }
                        }(n.__webglFramebuffer, t)
                    } else if (r) {
                        n.__webglDepthbuffer = [];
                        for (var o = 0; o < 6; o++) e.bindFramebuffer(36160, n.__webglFramebuffer[o]), n.__webglDepthbuffer[o] = e.createRenderbuffer(), I(n.__webglDepthbuffer[o], t)
                    } else e.bindFramebuffer(36160, n.__webglFramebuffer), n.__webglDepthbuffer = e.createRenderbuffer(), I(n.__webglDepthbuffer, t);
                    e.bindFramebuffer(36160, null)
                }

                function k(e) {
                    return c && e.isWebGLMultisampleRenderTarget ? Math.min(d, e.samples) : 0
                }
                var F = !1,
                    N = !1;
                this.allocateTextureUnit = function() {
                    var e = T;
                    return e >= l && console.warn("THREE.WebGLTextures: Trying to use " + e + " texture units while this GPU supports only " + l), T += 1, e
                }, this.resetTextureUnits = function() {
                    T = 0
                }, this.setTexture2D = S, this.setTexture2DArray = function(e, t) {
                    var r = i.get(e);
                    e.version > 0 && r.__version !== e.version ? O(r, e, t) : (n.activeTexture(33984 + t), n.bindTexture(35866, r.__webglTexture))
                }, this.setTexture3D = function(e, t) {
                    var r = i.get(e);
                    e.version > 0 && r.__version !== e.version ? O(r, e, t) : (n.activeTexture(33984 + t), n.bindTexture(32879, r.__webglTexture))
                }, this.setTextureCube = E, this.setTextureCubeDynamic = A, this.setupRenderTarget = function(r) {
                    var s = i.get(r),
                        l = i.get(r.texture);
                    r.addEventListener("dispose", M), l.__webglTexture = e.createTexture(), a.memory.textures++;
                    var u = !0 === r.isWebGLCubeRenderTarget,
                        h = !0 === r.isWebGLMultisampleRenderTarget,
                        d = !0 === r.isWebGLMultiviewRenderTarget,
                        p = g(r) || c;
                    if (u) {
                        s.__webglFramebuffer = [];
                        for (var f = 0; f < 6; f++) s.__webglFramebuffer[f] = e.createFramebuffer()
                    } else if (s.__webglFramebuffer = e.createFramebuffer(), h)
                        if (c) {
                            s.__webglMultisampledFramebuffer = e.createFramebuffer(), s.__webglColorRenderbuffer = e.createRenderbuffer(), e.bindRenderbuffer(36161, s.__webglColorRenderbuffer);
                            var m = o.convert(r.texture.format),
                                v = o.convert(r.texture.type),
                                w = x(r.texture.internalFormat, m, v),
                                _ = k(r);
                            e.renderbufferStorageMultisample(36161, _, w, r.width, r.height), e.bindFramebuffer(36160, s.__webglMultisampledFramebuffer), e.framebufferRenderbuffer(36160, 36064, 36161, s.__webglColorRenderbuffer), e.bindRenderbuffer(36161, null), r.depthBuffer && (s.__webglDepthRenderbuffer = e.createRenderbuffer(), I(s.__webglDepthRenderbuffer, r, !0)), e.bindFramebuffer(36160, null)
                        } else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");
                    else if (d) {
                        var T = r.width,
                            S = r.height,
                            E = r.numViews;
                        e.bindFramebuffer(36160, s.__webglFramebuffer);
                        var A = t.get("OVR_multiview2");
                        a.memory.textures += 2;
                        var P = e.createTexture();
                        e.bindTexture(35866, P), e.texParameteri(35866, 10240, 9728), e.texParameteri(35866, 10241, 9728), e.texImage3D(35866, 0, 32856, T, S, E, 0, 6408, 5121, null), A.framebufferTextureMultiviewOVR(36160, 36064, P, 0, 0, E);
                        var L = e.createTexture();
                        e.bindTexture(35866, L), e.texParameteri(35866, 10240, 9728), e.texParameteri(35866, 10241, 9728), e.texImage3D(35866, 0, 35056, T, S, E, 0, 34041, 34042, null), A.framebufferTextureMultiviewOVR(36160, 33306, L, 0, 0, E);
                        var R = new Array(E);
                        for (f = 0; f < E; ++f) R[f] = e.createFramebuffer(), e.bindFramebuffer(36160, R[f]), e.framebufferTextureLayer(36160, 36064, P, 0, f);
                        s.__webglColorTexture = P, s.__webglDepthStencilTexture = L, s.__webglViewFramebuffers = R, e.bindFramebuffer(36160, null), e.bindTexture(35866, null)
                    }
                    if (u) {
                        n.bindTexture(34067, l.__webglTexture), C(34067, r.texture, p);
                        for (f = 0; f < 6; f++) D(s.__webglFramebuffer[f], r, 36064, 34069 + f);
                        y(r.texture, p) && b(34067, r.texture, r.width, r.height), n.bindTexture(34067, null)
                    } else d || (n.bindTexture(3553, l.__webglTexture), C(3553, r.texture, p), D(s.__webglFramebuffer, r, 36064, 3553), y(r.texture, p) && b(3553, r.texture, r.width, r.height), n.bindTexture(3553, null));
                    r.depthBuffer && j(r)
                }, this.updateRenderTargetMipmap = function(e) {
                    var t = e.texture;
                    if (y(t, g(e) || c)) {
                        var r = e.isWebGLCubeRenderTarget ? 34067 : 3553,
                            o = i.get(t).__webglTexture;
                        n.bindTexture(r, o), b(r, t, e.width, e.height), n.bindTexture(r, null)
                    }
                }, this.updateMultisampleRenderTarget = function(t) {
                    if (t.isWebGLMultisampleRenderTarget)
                        if (c) {
                            var n = i.get(t);
                            e.bindFramebuffer(36008, n.__webglMultisampledFramebuffer), e.bindFramebuffer(36009, n.__webglFramebuffer);
                            var r = t.width,
                                o = t.height,
                                a = 16384;
                            t.depthBuffer && (a |= 256), t.stencilBuffer && (a |= 1024), e.blitFramebuffer(0, 0, r, o, 0, 0, r, o, a, 9728)
                        } else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")
                }, this.safeSetTexture2D = function(e, t) {
                    e && e.isWebGLRenderTarget && (!1 === F && (console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."), F = !0), e = e.texture), S(e, t)
                }, this.safeSetTextureCube = function(e, t) {
                    e && e.isWebGLCubeRenderTarget && (!1 === N && (console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."), N = !0), e = e.texture), e && e.isCubeTexture || Array.isArray(e.image) && 6 === e.image.length ? E(e, t) : A(e, t)
                }
            }

            function hs(e, t, n) {
                var i = n.isWebGL2;
                return {
                    convert: function(e) {
                        var n;
                        if (e === Ce) return 5121;
                        if (e === Ne) return 32819;
                        if (e === ze) return 32820;
                        if (e === Be) return 33635;
                        if (e === Re) return 5120;
                        if (e === Oe) return 5122;
                        if (e === De) return 5123;
                        if (e === Ie) return 5124;
                        if (e === je) return 5125;
                        if (e === ke) return 5126;
                        if (e === Fe) return i ? 5131 : null !== (n = t.get("OES_texture_half_float")) ? n.HALF_FLOAT_OES : null;
                        if (e === Ve) return 6406;
                        if (e === He) return 6407;
                        if (e === Ge) return 6408;
                        if (e === We) return 6409;
                        if (e === qe) return 6410;
                        if (e === Xe) return 6402;
                        if (e === Ze) return 34041;
                        if (e === Je) return 6403;
                        if (e === Ke) return 36244;
                        if (e === Qe) return 33319;
                        if (e === $e) return 33320;
                        if (e === et) return 36248;
                        if (e === tt) return 36249;
                        if (e === nt || e === it || e === rt || e === ot) {
                            if (null === (n = t.get("WEBGL_compressed_texture_s3tc"))) return null;
                            if (e === nt) return n.COMPRESSED_RGB_S3TC_DXT1_EXT;
                            if (e === it) return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                            if (e === rt) return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                            if (e === ot) return n.COMPRESSED_RGBA_S3TC_DXT5_EXT
                        }
                        if (e === at || e === st || e === ct || e === lt) {
                            if (null === (n = t.get("WEBGL_compressed_texture_pvrtc"))) return null;
                            if (e === at) return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                            if (e === st) return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                            if (e === ct) return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                            if (e === lt) return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                        }
                        return e === ut ? null !== (n = t.get("WEBGL_compressed_texture_etc1")) ? n.COMPRESSED_RGB_ETC1_WEBGL : null : e === ht || e === dt || e === pt || e === ft || e === mt || e === vt || e === gt || e === yt || e === bt || e === xt || e === wt || e === _t || e === Mt || e === Tt ? null !== (n = t.get("WEBGL_compressed_texture_astc")) ? e : null : e === Ue ? i ? 34042 : null !== (n = t.get("WEBGL_depth_texture")) ? n.UNSIGNED_INT_24_8_WEBGL : null : void 0
                    }
                }
            }

            function ds(e, t, n, i) {
                On.call(this, e, t, i), this.depthBuffer = !1, this.stencilBuffer = !1, this.numViews = n
            }

            function ps(e, t) {
                var n, i, r, o, a, s, c, l = e.extensions,
                    u = e.properties,
                    h = 0;

                function d(e) {
                    return e.isArrayCamera ? e.cameras : (a[0] = e, a)
                }
                this.isAvailable = function() {
                    if (void 0 === c) {
                        var e = l.get("OVR_multiview2");
                        if (c = null !== e && !1 === t.getContextAttributes().antialias) {
                            h = t.getParameter(e.MAX_VIEWS_OVR), n = new ds(0, 0, 2), s = new En, o = [], r = [], a = [];
                            for (var i = 0; i < h; i++) o[i] = new Wn, r[i] = new An
                        }
                    }
                    return c
                }, this.attachCamera = function(t) {
                    !1 !== function(e) {
                        if (void 0 === e.isArrayCamera) return !0;
                        var t = e.cameras;
                        if (t.length > h) return !1;
                        for (var n = 1, i = t.length; n < i; n++)
                            if (t[0].viewport.z !== t[n].viewport.z || t[0].viewport.w !== t[n].viewport.w) return !1;
                        return !0
                    }(t) && (i = e.getRenderTarget(), function(t) {
                        if (i ? s.set(i.width, i.height) : e.getDrawingBufferSize(s), t.isArrayCamera) {
                            var r = t.cameras[0].viewport;
                            n.setSize(r.z, r.w), n.setNumViews(t.cameras.length)
                        } else n.setSize(s.x, s.y), n.setNumViews(2)
                    }(t), e.setRenderTarget(n))
                }, this.detachCamera = function(r) {
                    n === e.getRenderTarget() && (e.setRenderTarget(i), function(e) {
                        var i = n,
                            r = i.numViews,
                            o = u.get(i).__webglViewFramebuffers,
                            a = i.width,
                            c = i.height;
                        if (e.isArrayCamera)
                            for (var l = 0; l < r; l++) {
                                var h = e.cameras[l].viewport,
                                    d = h.x,
                                    p = h.y,
                                    f = d + h.z,
                                    m = p + h.w;
                                t.bindFramebuffer(36008, o[l]), t.blitFramebuffer(0, 0, a, c, d, p, f, m, 16384, 9728)
                            } else t.bindFramebuffer(36008, o[0]), t.blitFramebuffer(0, 0, a, c, 0, 0, s.x, s.y, 16384, 9728)
                    }(r))
                }, this.updateCameraProjectionMatricesUniform = function(e, n) {
                    for (var i = d(e), r = 0; r < i.length; r++) o[r].copy(i[r].projectionMatrix);
                    n.setValue(t, "projectionMatrices", o)
                }, this.updateCameraViewMatricesUniform = function(e, n) {
                    for (var i = d(e), r = 0; r < i.length; r++) o[r].copy(i[r].matrixWorldInverse);
                    n.setValue(t, "viewMatrices", o)
                }, this.updateObjectMatricesUniforms = function(e, n, i) {
                    for (var a = d(n), s = 0; s < a.length; s++) o[s].multiplyMatrices(a[s].matrixWorldInverse, e.matrixWorld), r[s].getNormalMatrix(o[s]);
                    i.setValue(t, "modelViewMatrices", o), i.setValue(t, "normalMatrices", r)
                }
            }

            function fs(e) {
                so.call(this), this.cameras = e || []
            }

            function ms() {
                li.call(this), this.type = "Group"
            }

            function vs(e, t) {
                var n = this,
                    i = null,
                    r = null,
                    o = "local-floor",
                    a = null,
                    s = [],
                    c = new Map,
                    l = new so;
                l.layers.enable(1), l.viewport = new Rn;
                var u = new so;
                u.layers.enable(2), u.viewport = new Rn;
                var h = new fs([l, u]);
                h.layers.enable(1), h.layers.enable(2);
                var d = null,
                    p = null;

                function f(e) {
                    var t = c.get(e.inputSource);
                    t && (t.targetRay && t.targetRay.dispatchEvent({
                        type: e.type
                    }), t.grip && t.grip.dispatchEvent({
                        type: e.type
                    }))
                }

                function m() {
                    c.forEach((function(e, t) {
                        e.targetRay && (e.targetRay.dispatchEvent({
                            type: "disconnected",
                            data: t
                        }), e.targetRay.visible = !1), e.grip && (e.grip.dispatchEvent({
                            type: "disconnected",
                            data: t
                        }), e.grip.visible = !1)
                    })), c.clear(), e.setFramebuffer(null), e.setRenderTarget(e.getRenderTarget()), _.stop(), n.isPresenting = !1, n.dispatchEvent({
                        type: "sessionend"
                    })
                }

                function v(e) {
                    r = e, _.setContext(i), _.start(), n.isPresenting = !0, n.dispatchEvent({
                        type: "sessionstart"
                    })
                }

                function g(e) {
                    for (var t = i.inputSources, n = 0; n < s.length; n++) c.set(t[n], s[n]);
                    for (n = 0; n < e.removed.length; n++) {
                        var r = e.removed[n];
                        (o = c.get(r)) && (o.targetRay && o.targetRay.dispatchEvent({
                            type: "disconnected",
                            data: r
                        }), o.grip && o.grip.dispatchEvent({
                            type: "disconnected",
                            data: r
                        }), c.delete(r))
                    }
                    for (n = 0; n < e.added.length; n++) {
                        var o;
                        r = e.added[n];
                        (o = c.get(r)) && (o.targetRay && o.targetRay.dispatchEvent({
                            type: "connected",
                            data: r
                        }), o.grip && o.grip.dispatchEvent({
                            type: "connected",
                            data: r
                        }))
                    }
                }
                this.enabled = !1, this.isPresenting = !1, this.getController = function(e) {
                    var t = s[e];
                    return void 0 === t && (t = {}, s[e] = t), void 0 === t.targetRay && (t.targetRay = new ms, t.targetRay.matrixAutoUpdate = !1, t.targetRay.visible = !1), t.targetRay
                }, this.getControllerGrip = function(e) {
                    var t = s[e];
                    return void 0 === t && (t = {}, s[e] = t), void 0 === t.grip && (t.grip = new ms, t.grip.matrixAutoUpdate = !1, t.grip.visible = !1), t.grip
                }, this.setFramebufferScaleFactor = function() {}, this.setReferenceSpaceType = function(e) {
                    o = e
                }, this.getReferenceSpace = function() {
                    return r
                }, this.getSession = function() {
                    return i
                }, this.setSession = function(e) {
                    if (null !== (i = e)) {
                        i.addEventListener("select", f), i.addEventListener("selectstart", f), i.addEventListener("selectend", f), i.addEventListener("squeeze", f), i.addEventListener("squeezestart", f), i.addEventListener("squeezeend", f), i.addEventListener("end", m);
                        var n = t.getContextAttributes(),
                            r = {
                                antialias: n.antialias,
                                alpha: n.alpha,
                                depth: n.depth,
                                stencil: n.stencil
                            },
                            a = new XRWebGLLayer(i, t, r);
                        i.updateRenderState({
                            baseLayer: a
                        }), i.requestReferenceSpace(o).then(v), i.addEventListener("inputsourceschange", g)
                    }
                };
                var y = new Fn,
                    b = new Fn;

                function x(e, t) {
                    null === t ? e.matrixWorld.copy(e.matrix) : e.matrixWorld.multiplyMatrices(t.matrixWorld, e.matrix), e.matrixWorldInverse.getInverse(e.matrixWorld)
                }
                this.getCamera = function(e) {
                    h.near = u.near = l.near = e.near, h.far = u.far = l.far = e.far, d === h.near && p === h.far || (i.updateRenderState({
                        depthNear: h.near,
                        depthFar: h.far
                    }), d = h.near, p = h.far);
                    var t = e.parent,
                        n = h.cameras;
                    x(h, t);
                    for (var r = 0; r < n.length; r++) x(n[r], t);
                    e.matrixWorld.copy(h.matrixWorld);
                    for (var o = e.children, a = (r = 0, o.length); r < a; r++) o[r].updateMatrixWorld(!0);
                    return function(e, t, n) {
                        y.setFromMatrixPosition(t.matrixWorld), b.setFromMatrixPosition(n.matrixWorld);
                        var i = y.distanceTo(b),
                            r = t.projectionMatrix.elements,
                            o = n.projectionMatrix.elements,
                            a = r[14] / (r[10] - 1),
                            s = r[14] / (r[10] + 1),
                            c = (r[9] + 1) / r[5],
                            l = (r[9] - 1) / r[5],
                            u = (r[8] - 1) / r[0],
                            h = (o[8] + 1) / o[0],
                            d = a * u,
                            p = a * h,
                            f = i / (-u + h),
                            m = f * -u;
                        t.matrixWorld.decompose(e.position, e.quaternion, e.scale), e.translateX(m), e.translateZ(f), e.matrixWorld.compose(e.position, e.quaternion, e.scale), e.matrixWorldInverse.getInverse(e.matrixWorld);
                        var v = a + f,
                            g = s + f,
                            x = d - m,
                            w = p + (i - m),
                            _ = c * s / g * v,
                            M = l * s / g * v;
                        e.projectionMatrix.makePerspective(x, w, _, M, v, g)
                    }(h, l, u), h
                };
                var w = null;
                var _ = new vo;
                _.setAnimationLoop((function(t, n) {
                    if (null !== (a = n.getViewerPose(r))) {
                        var o = a.views,
                            c = i.renderState.baseLayer;
                        e.setFramebuffer(c.framebuffer);
                        for (var l = 0; l < o.length; l++) {
                            var u = o[l],
                                d = c.getViewport(u),
                                p = h.cameras[l];
                            p.matrix.fromArray(u.transform.matrix), p.projectionMatrix.fromArray(u.projectionMatrix), p.viewport.set(d.x, d.y, d.width, d.height), 0 === l && h.matrix.copy(p.matrix)
                        }
                    }
                    var f = i.inputSources;
                    for (l = 0; l < s.length; l++) {
                        var m = s[l],
                            v = f[l],
                            g = null,
                            y = null;
                        v && (m.targetRay && null !== (g = n.getPose(v.targetRaySpace, r)) && (m.targetRay.matrix.fromArray(g.transform.matrix), m.targetRay.matrix.decompose(m.targetRay.position, m.targetRay.rotation, m.targetRay.scale)), m.grip && v.gripSpace && null !== (y = n.getPose(v.gripSpace, r)) && (m.grip.matrix.fromArray(y.transform.matrix), m.grip.matrix.decompose(m.grip.position, m.grip.rotation, m.grip.scale))), m.targetRay && (m.targetRay.visible = null !== g), m.grip && (m.grip.visible = null !== y)
                    }
                    w && w(t, n)
                })), this.setAnimationLoop = function(e) {
                    w = e
                }, this.dispose = function() {}
            }

            function gs(e) {
                var t = void 0 !== (e = e || {}).canvas ? e.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"),
                    n = void 0 !== e.context ? e.context : null,
                    i = void 0 !== e.alpha && e.alpha,
                    r = void 0 === e.depth || e.depth,
                    o = void 0 === e.stencil || e.stencil,
                    a = void 0 !== e.antialias && e.antialias,
                    s = void 0 === e.premultipliedAlpha || e.premultipliedAlpha,
                    c = void 0 !== e.preserveDrawingBuffer && e.preserveDrawingBuffer,
                    l = void 0 !== e.powerPreference ? e.powerPreference : "default",
                    u = void 0 !== e.failIfMajorPerformanceCaveat && e.failIfMajorPerformanceCaveat,
                    h = null,
                    d = null;
                this.domElement = t, this.debug = {
                    checkShaderErrors: !0
                }, this.autoClear = !0, this.autoClearColor = !0, this.autoClearDepth = !0, this.autoClearStencil = !0, this.sortObjects = !0, this.clippingPlanes = [], this.localClippingEnabled = !1, this.gammaFactor = 2, this.outputEncoding = Ft, this.physicallyCorrectLights = !1, this.toneMapping = re, this.toneMappingExposure = 1, this.toneMappingWhitePoint = 1, this.maxMorphTargets = 8, this.maxMorphNormals = 4;
                var p, f, m, v, y, b, x, w, _, M, T, S, E, A, P, L, C, R, O = this,
                    D = !1,
                    I = null,
                    j = 0,
                    k = 0,
                    F = null,
                    N = null,
                    z = -1,
                    B = {
                        geometry: null,
                        program: null,
                        wireframe: !1
                    },
                    U = null,
                    V = null,
                    H = new Rn,
                    G = new Rn,
                    W = null,
                    q = t.width,
                    Y = t.height,
                    X = 1,
                    Z = null,
                    J = null,
                    K = new Rn(0, 0, q, Y),
                    Q = new Rn(0, 0, q, Y),
                    $ = !1,
                    ee = new fo,
                    te = new So,
                    ne = !1,
                    ie = !1,
                    oe = new Wn,
                    ae = new Fn;

                function se() {
                    return null === F ? X : 1
                }
                try {
                    var ce = {
                        alpha: i,
                        depth: r,
                        stencil: o,
                        antialias: a,
                        premultipliedAlpha: s,
                        preserveDrawingBuffer: c,
                        powerPreference: l,
                        failIfMajorPerformanceCaveat: u,
                        xrCompatible: !0
                    };
                    if (t.addEventListener("webglcontextlost", pe, !1), t.addEventListener("webglcontextrestored", fe, !1), null === (p = n || t.getContext("webgl", ce) || t.getContext("experimental-webgl", ce))) throw null !== t.getContext("webgl") ? new Error("Error creating WebGL context with your selected attributes.") : new Error("Error creating WebGL context.");
                    void 0 === p.getShaderPrecisionFormat && (p.getShaderPrecisionFormat = function() {
                        return {
                            rangeMin: 1,
                            rangeMax: 1,
                            precision: 1
                        }
                    })
                } catch (e) {
                    throw console.error("THREE.WebGLRenderer: " + e.message), e
                }

                function le() {
                    f = new Eo(p), !1 === (m = new To(p, f, e)).isWebGL2 && (f.get("WEBGL_depth_texture"), f.get("OES_texture_float"), f.get("OES_texture_half_float"), f.get("OES_texture_half_float_linear"), f.get("OES_standard_derivatives"), f.get("OES_element_index_uint"), f.get("ANGLE_instanced_arrays")), f.get("OES_texture_float_linear"), R = new hs(p, f, m), (v = new ls(p, f, m)).scissor(G.copy(Q).multiplyScalar(X).floor()), v.viewport(H.copy(K).multiplyScalar(X).floor()), y = new Lo(p), b = new Za, x = new us(p, f, v, b, m, R, y), w = new go(p, m), _ = new Ao(p, w, y), M = new Oo(p, _, w, y), P = new Ro(p), T = new Xa(O, f, m), S = new $a, E = new os, A = new _o(O, v, M, s), L = new Mo(p, f, y, m), C = new Po(p, f, y, m), y.programs = T.programs, O.capabilities = m, O.extensions = f, O.properties = b, O.renderLists = S, O.state = v, O.info = y
                }
                le();
                var ue = new vs(O, p);
                this.xr = ue;
                var he = new ps(O, p),
                    de = new cs(O, M, m.maxTextureSize);

                function pe(e) {
                    e.preventDefault(), console.log("THREE.WebGLRenderer: Context Lost."), D = !0
                }

                function fe() {
                    console.log("THREE.WebGLRenderer: Context Restored."), D = !1, le()
                }

                function me(e) {
                    var t = e.target;
                    t.removeEventListener("dispose", me),
                        function(e) {
                            ve(e), b.remove(e)
                        }(t)
                }

                function ve(e) {
                    var t = b.get(e).program;
                    e.program = void 0, void 0 !== t && T.releaseProgram(t)
                }
                this.shadowMap = de, this.getContext = function() {
                    return p
                }, this.getContextAttributes = function() {
                    return p.getContextAttributes()
                }, this.forceContextLoss = function() {
                    var e = f.get("WEBGL_lose_context");
                    e && e.loseContext()
                }, this.forceContextRestore = function() {
                    var e = f.get("WEBGL_lose_context");
                    e && e.restoreContext()
                }, this.getPixelRatio = function() {
                    return X
                }, this.setPixelRatio = function(e) {
                    void 0 !== e && (X = e, this.setSize(q, Y, !1))
                }, this.getSize = function(e) {
                    return void 0 === e && (console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"), e = new En), e.set(q, Y)
                }, this.setSize = function(e, n, i) {
                    ue.isPresenting ? console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.") : (q = e, Y = n, t.width = Math.floor(e * X), t.height = Math.floor(n * X), !1 !== i && (t.style.width = e + "px", t.style.height = n + "px"), this.setViewport(0, 0, e, n))
                }, this.getDrawingBufferSize = function(e) {
                    return void 0 === e && (console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"), e = new En), e.set(q * X, Y * X).floor()
                }, this.setDrawingBufferSize = function(e, n, i) {
                    q = e, Y = n, X = i, t.width = Math.floor(e * i), t.height = Math.floor(n * i), this.setViewport(0, 0, e, n)
                }, this.getCurrentViewport = function(e) {
                    return void 0 === e && (console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"), e = new Rn), e.copy(H)
                }, this.getViewport = function(e) {
                    return e.copy(K)
                }, this.setViewport = function(e, t, n, i) {
                    e.isVector4 ? K.set(e.x, e.y, e.z, e.w) : K.set(e, t, n, i), v.viewport(H.copy(K).multiplyScalar(X).floor())
                }, this.getScissor = function(e) {
                    return e.copy(Q)
                }, this.setScissor = function(e, t, n, i) {
                    e.isVector4 ? Q.set(e.x, e.y, e.z, e.w) : Q.set(e, t, n, i), v.scissor(G.copy(Q).multiplyScalar(X).floor())
                }, this.getScissorTest = function() {
                    return $
                }, this.setScissorTest = function(e) {
                    v.setScissorTest($ = e)
                }, this.setOpaqueSort = function(e) {
                    Z = e
                }, this.setTransparentSort = function(e) {
                    J = e
                }, this.getClearColor = function() {
                    return A.getClearColor()
                }, this.setClearColor = function() {
                    A.setClearColor.apply(A, arguments)
                }, this.getClearAlpha = function() {
                    return A.getClearAlpha()
                }, this.setClearAlpha = function() {
                    A.setClearAlpha.apply(A, arguments)
                }, this.clear = function(e, t, n) {
                    var i = 0;
                    (void 0 === e || e) && (i |= 16384), (void 0 === t || t) && (i |= 256), (void 0 === n || n) && (i |= 1024), p.clear(i)
                }, this.clearColor = function() {
                    this.clear(!0, !1, !1)
                }, this.clearDepth = function() {
                    this.clear(!1, !0, !1)
                }, this.clearStencil = function() {
                    this.clear(!1, !1, !0)
                }, this.dispose = function() {
                    t.removeEventListener("webglcontextlost", pe, !1), t.removeEventListener("webglcontextrestored", fe, !1), S.dispose(), E.dispose(), b.dispose(), M.dispose(), ue.dispose(), be.stop()
                }, this.renderBufferImmediate = function(e, t) {
                    v.initAttributes();
                    var n = b.get(e);
                    e.hasPositions && !n.position && (n.position = p.createBuffer()), e.hasNormals && !n.normal && (n.normal = p.createBuffer()), e.hasUvs && !n.uv && (n.uv = p.createBuffer()), e.hasColors && !n.color && (n.color = p.createBuffer());
                    var i = t.getAttributes();
                    e.hasPositions && (p.bindBuffer(34962, n.position), p.bufferData(34962, e.positionArray, 35048), v.enableAttribute(i.position), p.vertexAttribPointer(i.position, 3, 5126, !1, 0, 0)), e.hasNormals && (p.bindBuffer(34962, n.normal), p.bufferData(34962, e.normalArray, 35048), v.enableAttribute(i.normal), p.vertexAttribPointer(i.normal, 3, 5126, !1, 0, 0)), e.hasUvs && (p.bindBuffer(34962, n.uv), p.bufferData(34962, e.uvArray, 35048), v.enableAttribute(i.uv), p.vertexAttribPointer(i.uv, 2, 5126, !1, 0, 0)), e.hasColors && (p.bindBuffer(34962, n.color), p.bufferData(34962, e.colorArray, 35048), v.enableAttribute(i.color), p.vertexAttribPointer(i.color, 3, 5126, !1, 0, 0)), v.disableUnusedAttributes(), p.drawArrays(4, 0, e.count), e.count = 0
                };
                var ge = new ui;
                this.renderBufferDirect = function(e, t, n, i, r, o) {
                    null === t && (t = ge);
                    var a = r.isMesh && r.matrixWorld.determinant() < 0,
                        s = Te(e, t, i, r);
                    v.setMaterial(i, a);
                    var c = !1;
                    B.geometry === n.id && B.program === s.id && B.wireframe === (!0 === i.wireframe) || (B.geometry = n.id, B.program = s.id, B.wireframe = !0 === i.wireframe, c = !0), (i.morphTargets || i.morphNormals) && (P.update(r, n, i, s), c = !0);
                    var l = n.index,
                        u = n.attributes.position;
                    if (null === l) {
                        if (void 0 === u || 0 === u.count) return
                    } else if (0 === l.count) return;
                    var h, d = 1;
                    !0 === i.wireframe && (l = _.getWireframeAttribute(n), d = 2);
                    var g = L;
                    null !== l && (h = w.get(l), (g = C).setIndex(h)), c && (! function(e, t, n, i) {
                        if (!1 === m.isWebGL2 && (e.isInstancedMesh || t.isInstancedBufferGeometry) && null === f.get("ANGLE_instanced_arrays")) return;
                        v.initAttributes();
                        var r = t.attributes,
                            o = i.getAttributes(),
                            a = n.defaultAttributeValues;
                        for (var s in o) {
                            var c = o[s];
                            if (c >= 0) {
                                var l = r[s];
                                if (void 0 !== l) {
                                    var u = l.normalized,
                                        h = l.itemSize;
                                    if (void 0 === (M = w.get(l))) continue;
                                    var d = M.buffer,
                                        g = M.type,
                                        y = M.bytesPerElement;
                                    if (l.isInterleavedBufferAttribute) {
                                        var b = l.data,
                                            x = b.stride,
                                            _ = l.offset;
                                        b && b.isInstancedInterleavedBuffer ? (v.enableAttributeAndDivisor(c, b.meshPerAttribute), void 0 === t.maxInstancedCount && (t.maxInstancedCount = b.meshPerAttribute * b.count)) : v.enableAttribute(c), p.bindBuffer(34962, d), p.vertexAttribPointer(c, h, g, u, x * y, _ * y)
                                    } else l.isInstancedBufferAttribute ? (v.enableAttributeAndDivisor(c, l.meshPerAttribute), void 0 === t.maxInstancedCount && (t.maxInstancedCount = l.meshPerAttribute * l.count)) : v.enableAttribute(c), p.bindBuffer(34962, d), p.vertexAttribPointer(c, h, g, u, 0, 0)
                                } else if ("instanceMatrix" === s) {
                                    var M;
                                    if (void 0 === (M = w.get(e.instanceMatrix))) continue;
                                    d = M.buffer, g = M.type;
                                    v.enableAttributeAndDivisor(c + 0, 1), v.enableAttributeAndDivisor(c + 1, 1), v.enableAttributeAndDivisor(c + 2, 1), v.enableAttributeAndDivisor(c + 3, 1), p.bindBuffer(34962, d), p.vertexAttribPointer(c + 0, 4, g, !1, 64, 0), p.vertexAttribPointer(c + 1, 4, g, !1, 64, 16), p.vertexAttribPointer(c + 2, 4, g, !1, 64, 32), p.vertexAttribPointer(c + 3, 4, g, !1, 64, 48)
                                } else if (void 0 !== a) {
                                    var T = a[s];
                                    if (void 0 !== T) switch (T.length) {
                                        case 2:
                                            p.vertexAttrib2fv(c, T);
                                            break;
                                        case 3:
                                            p.vertexAttrib3fv(c, T);
                                            break;
                                        case 4:
                                            p.vertexAttrib4fv(c, T);
                                            break;
                                        default:
                                            p.vertexAttrib1fv(c, T)
                                    }
                                }
                            }
                        }
                        v.disableUnusedAttributes()
                    }(r, n, i, s), null !== l && p.bindBuffer(34963, h.buffer));
                    var y = null !== l ? l.count : u.count,
                        b = n.drawRange.start * d,
                        x = n.drawRange.count * d,
                        M = null !== o ? o.start * d : 0,
                        T = null !== o ? o.count * d : 1 / 0,
                        S = Math.max(b, M),
                        E = Math.min(y, b + x, M + T) - 1,
                        A = Math.max(0, E - S + 1);
                    if (0 !== A) {
                        if (r.isMesh) !0 === i.wireframe ? (v.setLineWidth(i.wireframeLinewidth * se()), g.setMode(1)) : g.setMode(4);
                        else if (r.isLine) {
                            var R = i.linewidth;
                            void 0 === R && (R = 1), v.setLineWidth(R * se()), r.isLineSegments ? g.setMode(1) : r.isLineLoop ? g.setMode(2) : g.setMode(3)
                        } else r.isPoints ? g.setMode(0) : r.isSprite && g.setMode(4);
                        r.isInstancedMesh ? g.renderInstances(n, S, A, r.count) : n.isInstancedBufferGeometry ? g.renderInstances(n, S, A, n.maxInstancedCount) : g.render(S, A)
                    }
                }, this.compile = function(e, t) {
                    (d = E.get(e, t)).init(), e.traverse((function(e) {
                        e.isLight && (d.pushLight(e), e.castShadow && d.pushShadow(e))
                    })), d.setupLights(t);
                    var n = {};
                    e.traverse((function(t) {
                        if (t.material)
                            if (Array.isArray(t.material))
                                for (var i = 0; i < t.material.length; i++) t.material[i].uuid in n == !1 && (Me(t.material[i], e, t), n[t.material[i].uuid] = !0);
                            else t.material.uuid in n == !1 && (Me(t.material, e, t), n[t.material.uuid] = !0)
                    }))
                };
                var ye = null;
                var be = new vo;

                function xe(e, t, n, i) {
                    if (!1 !== e.visible) {
                        if (e.layers.test(t.layers))
                            if (e.isGroup) n = e.renderOrder;
                            else if (e.isLOD) !0 === e.autoUpdate && e.update(t);
                        else if (e.isLight) d.pushLight(e), e.castShadow && d.pushShadow(e);
                        else if (e.isSprite) {
                            if (!e.frustumCulled || ee.intersectsSprite(e)) {
                                i && ae.setFromMatrixPosition(e.matrixWorld).applyMatrix4(oe);
                                var r = M.update(e);
                                (o = e.material).visible && h.push(e, r, o, n, ae.z, null)
                            }
                        } else if (e.isImmediateRenderObject) i && ae.setFromMatrixPosition(e.matrixWorld).applyMatrix4(oe), h.push(e, null, e.material, n, ae.z, null);
                        else if ((e.isMesh || e.isLine || e.isPoints) && (e.isSkinnedMesh && e.skeleton.frame !== y.render.frame && (e.skeleton.update(), e.skeleton.frame = y.render.frame), !e.frustumCulled || ee.intersectsObject(e))) {
                            i && ae.setFromMatrixPosition(e.matrixWorld).applyMatrix4(oe);
                            r = M.update(e);
                            var o = e.material;
                            if (Array.isArray(o))
                                for (var a = r.groups, s = 0, c = a.length; s < c; s++) {
                                    var l = a[s],
                                        u = o[l.materialIndex];
                                    u && u.visible && h.push(e, r, u, n, ae.z, l)
                                } else o.visible && h.push(e, r, o, n, ae.z, null)
                        }
                        var p = e.children;
                        for (s = 0, c = p.length; s < c; s++) xe(p[s], t, n, i)
                    }
                }

                function we(e, t, n, i) {
                    for (var r = 0, o = e.length; r < o; r++) {
                        var a = e[r],
                            s = a.object,
                            c = a.geometry,
                            l = void 0 === i ? a.material : i,
                            u = a.group;
                        if (n.isArrayCamera)
                            if (V = n, ue.enabled && he.isAvailable()) _e(s, t, n, c, l, u);
                            else
                                for (var h = n.cameras, p = 0, f = h.length; p < f; p++) {
                                    var m = h[p];
                                    s.layers.test(m.layers) && (v.viewport(H.copy(m.viewport)), d.setupLights(m), _e(s, t, m, c, l, u))
                                } else V = null, _e(s, t, n, c, l, u)
                    }
                }

                function _e(e, t, n, i, r, o) {
                    if (e.onBeforeRender(O, t, n, i, r, o), d = E.get(t, V || n), e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse, e.matrixWorld), e.normalMatrix.getNormalMatrix(e.modelViewMatrix), e.isImmediateRenderObject) {
                        var a = Te(n, t, r, e);
                        v.setMaterial(r), B.geometry = null, B.program = null, B.wireframe = !1,
                            function(e, t) {
                                e.render((function(e) {
                                    O.renderBufferImmediate(e, t)
                                }))
                            }(e, a)
                    } else O.renderBufferDirect(n, t, i, r, e, o);
                    e.onAfterRender(O, t, n, i, r, o), d = E.get(t, V || n)
                }

                function Me(e, t, n) {
                    var i = b.get(e),
                        r = d.state.lights,
                        o = d.state.shadowsArray,
                        a = r.state.version,
                        s = T.getParameters(e, r.state, o, t, te.numPlanes, te.numIntersection, n),
                        c = T.getProgramCacheKey(s),
                        l = i.program,
                        u = !0;
                    if (void 0 === l) e.addEventListener("dispose", me);
                    else if (l.cacheKey !== c) ve(e);
                    else if (i.lightsStateVersion !== a) i.lightsStateVersion = a, u = !1;
                    else {
                        if (void 0 !== s.shaderID) return;
                        u = !1
                    }
                    u && (l = T.acquireProgram(s, c), i.program = l, i.uniforms = s.uniforms, i.environment = e.isMeshStandardMaterial ? t.environment : null, i.outputEncoding = O.outputEncoding, e.program = l);
                    var h = l.getAttributes();
                    if (e.morphTargets) {
                        e.numSupportedMorphTargets = 0;
                        for (var p = 0; p < O.maxMorphTargets; p++) h["morphTarget" + p] >= 0 && e.numSupportedMorphTargets++
                    }
                    if (e.morphNormals) {
                        e.numSupportedMorphNormals = 0;
                        for (p = 0; p < O.maxMorphNormals; p++) h["morphNormal" + p] >= 0 && e.numSupportedMorphNormals++
                    }
                    var f = i.uniforms;
                    (e.isShaderMaterial || e.isRawShaderMaterial) && !0 !== e.clipping || (i.numClippingPlanes = te.numPlanes, i.numIntersection = te.numIntersection, f.clippingPlanes = te.uniform), i.fog = t.fog, i.needsLights = function(e) {
                        return e.isMeshLambertMaterial || e.isMeshToonMaterial || e.isMeshPhongMaterial || e.isMeshStandardMaterial || e.isShadowMaterial || e.isShaderMaterial && !0 === e.lights
                    }(e), i.lightsStateVersion = a, i.needsLights && (f.ambientLightColor.value = r.state.ambient, f.lightProbe.value = r.state.probe, f.directionalLights.value = r.state.directional, f.spotLights.value = r.state.spot, f.rectAreaLights.value = r.state.rectArea, f.pointLights.value = r.state.point, f.hemisphereLights.value = r.state.hemi, f.directionalShadowMap.value = r.state.directionalShadowMap, f.directionalShadowMatrix.value = r.state.directionalShadowMatrix, f.spotShadowMap.value = r.state.spotShadowMap, f.spotShadowMatrix.value = r.state.spotShadowMatrix, f.pointShadowMap.value = r.state.pointShadowMap, f.pointShadowMatrix.value = r.state.pointShadowMatrix);
                    var m = i.program.getUniforms(),
                        v = Ca.seqWithValue(m.seq, f);
                    i.uniformsList = v
                }

                function Te(e, t, n, i) {
                    x.resetTextureUnits();
                    var r = t.fog,
                        o = n.isMeshStandardMaterial ? t.environment : null,
                        a = b.get(n),
                        s = d.state.lights;
                    if (ne && (ie || e !== U)) {
                        var c = e === U && n.id === z;
                        te.setState(n.clippingPlanes, n.clipIntersection, n.clipShadows, e, a, c)
                    }
                    n.version === a.__version ? void 0 === a.program || n.fog && a.fog !== r || a.environment !== o || a.needsLights && a.lightsStateVersion !== s.state.version ? Me(n, t, i) : void 0 === a.numClippingPlanes || a.numClippingPlanes === te.numPlanes && a.numIntersection === te.numIntersection ? a.outputEncoding !== O.outputEncoding && Me(n, t, i) : Me(n, t, i) : (Me(n, t, i), a.__version = n.version);
                    var l, u, h = !1,
                        f = !1,
                        y = !1,
                        w = a.program,
                        _ = w.getUniforms(),
                        M = a.uniforms;
                    if (v.useProgram(w.program) && (h = !0, f = !0, y = !0), n.id !== z && (z = n.id, f = !0), h || U !== e) {
                        if (w.numMultiviewViews > 0 ? he.updateCameraProjectionMatricesUniform(e, _) : _.setValue(p, "projectionMatrix", e.projectionMatrix), m.logarithmicDepthBuffer && _.setValue(p, "logDepthBufFC", 2 / (Math.log(e.far + 1) / Math.LN2)), U !== e && (U = e, f = !0, y = !0), n.isShaderMaterial || n.isMeshPhongMaterial || n.isMeshToonMaterial || n.isMeshStandardMaterial || n.envMap) {
                            var T = _.map.cameraPosition;
                            void 0 !== T && T.setValue(p, ae.setFromMatrixPosition(e.matrixWorld))
                        }(n.isMeshPhongMaterial || n.isMeshToonMaterial || n.isMeshLambertMaterial || n.isMeshBasicMaterial || n.isMeshStandardMaterial || n.isShaderMaterial) && _.setValue(p, "isOrthographic", !0 === e.isOrthographicCamera), (n.isMeshPhongMaterial || n.isMeshToonMaterial || n.isMeshLambertMaterial || n.isMeshBasicMaterial || n.isMeshStandardMaterial || n.isShaderMaterial || n.skinning) && (w.numMultiviewViews > 0 ? he.updateCameraViewMatricesUniform(e, _) : _.setValue(p, "viewMatrix", e.matrixWorldInverse))
                    }
                    if (n.skinning) {
                        _.setOptional(p, i, "bindMatrix"), _.setOptional(p, i, "bindMatrixInverse");
                        var S = i.skeleton;
                        if (S) {
                            var E = S.bones;
                            if (m.floatVertexTextures) {
                                if (void 0 === S.boneTexture) {
                                    var A = Math.sqrt(4 * E.length);
                                    A = Sn.ceilPowerOfTwo(A), A = Math.max(A, 4);
                                    var P = new Float32Array(A * A * 4);
                                    P.set(S.boneMatrices);
                                    var L = new uo(P, A, A, Ge, ke);
                                    S.boneMatrices = P, S.boneTexture = L, S.boneTextureSize = A
                                }
                                _.setValue(p, "boneTexture", S.boneTexture, x), _.setValue(p, "boneTextureSize", S.boneTextureSize)
                            } else _.setOptional(p, S, "boneMatrices")
                        }
                    }
                    return (f || a.receiveShadow !== i.receiveShadow) && (a.receiveShadow = i.receiveShadow, _.setValue(p, "receiveShadow", i.receiveShadow)), f && (_.setValue(p, "toneMappingExposure", O.toneMappingExposure), _.setValue(p, "toneMappingWhitePoint", O.toneMappingWhitePoint), a.needsLights && (u = y, (l = M).ambientLightColor.needsUpdate = u, l.lightProbe.needsUpdate = u, l.directionalLights.needsUpdate = u, l.pointLights.needsUpdate = u, l.spotLights.needsUpdate = u, l.rectAreaLights.needsUpdate = u, l.hemisphereLights.needsUpdate = u), r && n.fog && function(e, t) {
                        e.fogColor.value.copy(t.color), t.isFog ? (e.fogNear.value = t.near, e.fogFar.value = t.far) : t.isFogExp2 && (e.fogDensity.value = t.density)
                    }(M, r), n.isMeshBasicMaterial ? Se(M, n) : n.isMeshLambertMaterial ? (Se(M, n), function(e, t) {
                        t.emissiveMap && (e.emissiveMap.value = t.emissiveMap)
                    }(M, n)) : n.isMeshToonMaterial ? (Se(M, n), function(e, t) {
                        e.specular.value.copy(t.specular), e.shininess.value = Math.max(t.shininess, 1e-4), t.gradientMap && (e.gradientMap.value = t.gradientMap);
                        t.emissiveMap && (e.emissiveMap.value = t.emissiveMap);
                        t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale, t.side === g && (e.bumpScale.value *= -1));
                        t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale), t.side === g && e.normalScale.value.negate());
                        t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias)
                    }(M, n)) : n.isMeshPhongMaterial ? (Se(M, n), function(e, t) {
                        e.specular.value.copy(t.specular), e.shininess.value = Math.max(t.shininess, 1e-4), t.emissiveMap && (e.emissiveMap.value = t.emissiveMap);
                        t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale, t.side === g && (e.bumpScale.value *= -1));
                        t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale), t.side === g && e.normalScale.value.negate());
                        t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias)
                    }(M, n)) : n.isMeshStandardMaterial ? (Se(M, n, o), n.isMeshPhysicalMaterial ? function(e, t, n) {
                        Ee(e, t, n), e.reflectivity.value = t.reflectivity, e.clearcoat.value = t.clearcoat, e.clearcoatRoughness.value = t.clearcoatRoughness, t.sheen && e.sheen.value.copy(t.sheen);
                        t.clearcoatNormalMap && (e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale), e.clearcoatNormalMap.value = t.clearcoatNormalMap, t.side === g && e.clearcoatNormalScale.value.negate());
                        e.transparency.value = t.transparency
                    }(M, n, o) : Ee(M, n, o)) : n.isMeshMatcapMaterial ? (Se(M, n), function(e, t) {
                        t.matcap && (e.matcap.value = t.matcap);
                        t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale, t.side === g && (e.bumpScale.value *= -1));
                        t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale), t.side === g && e.normalScale.value.negate());
                        t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias)
                    }(M, n)) : n.isMeshDepthMaterial ? (Se(M, n), function(e, t) {
                        t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias)
                    }(M, n)) : n.isMeshDistanceMaterial ? (Se(M, n), function(e, t) {
                        t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias);
                        e.referencePosition.value.copy(t.referencePosition), e.nearDistance.value = t.nearDistance, e.farDistance.value = t.farDistance
                    }(M, n)) : n.isMeshNormalMaterial ? (Se(M, n), function(e, t) {
                        t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale, t.side === g && (e.bumpScale.value *= -1));
                        t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale), t.side === g && e.normalScale.value.negate());
                        t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias)
                    }(M, n)) : n.isLineBasicMaterial ? (function(e, t) {
                        e.diffuse.value.copy(t.color), e.opacity.value = t.opacity
                    }(M, n), n.isLineDashedMaterial && function(e, t) {
                        e.dashSize.value = t.dashSize, e.totalSize.value = t.dashSize + t.gapSize, e.scale.value = t.scale
                    }(M, n)) : n.isPointsMaterial ? function(e, t) {
                        e.diffuse.value.copy(t.color), e.opacity.value = t.opacity, e.size.value = t.size * X, e.scale.value = .5 * Y, t.map && (e.map.value = t.map);
                        t.alphaMap && (e.alphaMap.value = t.alphaMap);
                        var n;
                        t.map ? n = t.map : t.alphaMap && (n = t.alphaMap);
                        void 0 !== n && (!0 === n.matrixAutoUpdate && n.updateMatrix(), e.uvTransform.value.copy(n.matrix))
                    }(M, n) : n.isSpriteMaterial ? function(e, t) {
                        e.diffuse.value.copy(t.color), e.opacity.value = t.opacity, e.rotation.value = t.rotation, t.map && (e.map.value = t.map);
                        t.alphaMap && (e.alphaMap.value = t.alphaMap);
                        var n;
                        t.map ? n = t.map : t.alphaMap && (n = t.alphaMap);
                        void 0 !== n && (!0 === n.matrixAutoUpdate && n.updateMatrix(), e.uvTransform.value.copy(n.matrix))
                    }(M, n) : n.isShadowMaterial && (M.color.value.copy(n.color), M.opacity.value = n.opacity), void 0 !== M.ltc_1 && (M.ltc_1.value = mo.LTC_1), void 0 !== M.ltc_2 && (M.ltc_2.value = mo.LTC_2), Ca.upload(p, a.uniformsList, M, x), n.isShaderMaterial && (n.uniformsNeedUpdate = !1)), n.isShaderMaterial && !0 === n.uniformsNeedUpdate && (Ca.upload(p, a.uniformsList, M, x), n.uniformsNeedUpdate = !1), n.isSpriteMaterial && _.setValue(p, "center", i.center), w.numMultiviewViews > 0 ? he.updateObjectMatricesUniforms(i, e, _) : (_.setValue(p, "modelViewMatrix", i.modelViewMatrix), _.setValue(p, "normalMatrix", i.normalMatrix)), _.setValue(p, "modelMatrix", i.matrixWorld), w
                }

                function Se(e, t, n) {
                    e.opacity.value = t.opacity, t.color && e.diffuse.value.copy(t.color), t.emissive && e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity), t.map && (e.map.value = t.map), t.alphaMap && (e.alphaMap.value = t.alphaMap), t.specularMap && (e.specularMap.value = t.specularMap);
                    var i, r, o = t.envMap || n;
                    o && (e.envMap.value = o, e.flipEnvMap.value = o.isCubeTexture ? -1 : 1, e.reflectivity.value = t.reflectivity, e.refractionRatio.value = t.refractionRatio, e.maxMipLevel.value = b.get(o).__maxMipLevel), t.lightMap && (e.lightMap.value = t.lightMap, e.lightMapIntensity.value = t.lightMapIntensity), t.aoMap && (e.aoMap.value = t.aoMap, e.aoMapIntensity.value = t.aoMapIntensity), t.map ? i = t.map : t.specularMap ? i = t.specularMap : t.displacementMap ? i = t.displacementMap : t.normalMap ? i = t.normalMap : t.bumpMap ? i = t.bumpMap : t.roughnessMap ? i = t.roughnessMap : t.metalnessMap ? i = t.metalnessMap : t.alphaMap ? i = t.alphaMap : t.emissiveMap && (i = t.emissiveMap), void 0 !== i && (i.isWebGLRenderTarget && (i = i.texture), !0 === i.matrixAutoUpdate && i.updateMatrix(), e.uvTransform.value.copy(i.matrix)), t.aoMap ? r = t.aoMap : t.lightMap && (r = t.lightMap), void 0 !== r && (r.isWebGLRenderTarget && (r = r.texture), !0 === r.matrixAutoUpdate && r.updateMatrix(), e.uv2Transform.value.copy(r.matrix))
                }

                function Ee(e, t, n) {
                    e.roughness.value = t.roughness, e.metalness.value = t.metalness, t.roughnessMap && (e.roughnessMap.value = t.roughnessMap), t.metalnessMap && (e.metalnessMap.value = t.metalnessMap), t.emissiveMap && (e.emissiveMap.value = t.emissiveMap), t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale, t.side === g && (e.bumpScale.value *= -1)), t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale), t.side === g && e.normalScale.value.negate()), t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias), (t.envMap || n) && (e.envMapIntensity.value = t.envMapIntensity)
                }
                be.setAnimationLoop((function(e) {
                    ue.isPresenting || ye && ye(e)
                })), "undefined" != typeof window && be.setContext(window), this.setAnimationLoop = function(e) {
                    ye = e, ue.setAnimationLoop(e), be.start()
                }, this.render = function(e, t) {
                    var n, i;
                    if (void 0 !== arguments[2] && (console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."), n = arguments[2]), void 0 !== arguments[3] && (console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."), i = arguments[3]), t && t.isCamera) {
                        if (!D) {
                            B.geometry = null, B.program = null, B.wireframe = !1, z = -1, U = null, !0 === e.autoUpdate && e.updateMatrixWorld(), null === t.parent && t.updateMatrixWorld(), ue.enabled && ue.isPresenting && (t = ue.getCamera(t)), (d = E.get(e, t)).init(), e.onBeforeRender(O, e, t, n || F), oe.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse), ee.setFromProjectionMatrix(oe), ie = this.localClippingEnabled, ne = te.init(this.clippingPlanes, ie, t), (h = S.get(e, t)).init(), xe(e, t, 0, O.sortObjects), !0 === O.sortObjects && h.sort(Z, J), ne && te.beginShadows();
                            var r = d.state.shadowsArray;
                            de.render(r, e, t), d.setupLights(t), ne && te.endShadows(), this.info.autoReset && this.info.reset(), void 0 !== n && this.setRenderTarget(n), ue.enabled && he.isAvailable() && he.attachCamera(t), A.render(h, e, t, i);
                            var o = h.opaque,
                                a = h.transparent;
                            if (e.overrideMaterial) {
                                var s = e.overrideMaterial;
                                o.length && we(o, e, t, s), a.length && we(a, e, t, s)
                            } else o.length && we(o, e, t), a.length && we(a, e, t);
                            e.onAfterRender(O, e, t), null !== F && (x.updateRenderTargetMipmap(F), x.updateMultisampleRenderTarget(F)), v.buffers.depth.setTest(!0), v.buffers.depth.setMask(!0), v.buffers.color.setMask(!0), v.setPolygonOffset(!1), ue.enabled && he.isAvailable() && he.detachCamera(t), h = null, d = null
                        }
                    } else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")
                }, this.setFramebuffer = function(e) {
                    I !== e && null === F && p.bindFramebuffer(36160, e), I = e
                }, this.getActiveCubeFace = function() {
                    return j
                }, this.getActiveMipmapLevel = function() {
                    return k
                }, this.getRenderTarget = function() {
                    return F
                }, this.setRenderTarget = function(e, t, n) {
                    F = e, j = t, k = n, e && void 0 === b.get(e).__webglFramebuffer && x.setupRenderTarget(e);
                    var i = I,
                        r = !1;
                    if (e) {
                        var o = b.get(e).__webglFramebuffer;
                        e.isWebGLCubeRenderTarget ? (i = o[t || 0], r = !0) : i = e.isWebGLMultisampleRenderTarget ? b.get(e).__webglMultisampledFramebuffer : o, H.copy(e.viewport), G.copy(e.scissor), W = e.scissorTest
                    } else H.copy(K).multiplyScalar(X).floor(), G.copy(Q).multiplyScalar(X).floor(), W = $;
                    if (N !== i && (p.bindFramebuffer(36160, i), N = i), v.viewport(H), v.scissor(G), v.setScissorTest(W), r) {
                        var a = b.get(e.texture);
                        p.framebufferTexture2D(36160, 36064, 34069 + (t || 0), a.__webglTexture, n || 0)
                    }
                }, this.readRenderTargetPixels = function(e, t, n, i, r, o, a) {
                    if (e && e.isWebGLRenderTarget) {
                        var s = b.get(e).__webglFramebuffer;
                        if (e.isWebGLCubeRenderTarget && void 0 !== a && (s = s[a]), s) {
                            var c = !1;
                            s !== N && (p.bindFramebuffer(36160, s), c = !0);
                            try {
                                var l = e.texture,
                                    u = l.format,
                                    h = l.type;
                                if (u !== Ge && R.convert(u) !== p.getParameter(35739)) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
                                if (!(h === Ce || R.convert(h) === p.getParameter(35738) || h === ke && (m.isWebGL2 || f.get("OES_texture_float") || f.get("WEBGL_color_buffer_float")) || h === Fe && (m.isWebGL2 ? f.get("EXT_color_buffer_float") : f.get("EXT_color_buffer_half_float")))) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");
                                36053 === p.checkFramebufferStatus(36160) ? t >= 0 && t <= e.width - i && n >= 0 && n <= e.height - r && p.readPixels(t, n, i, r, R.convert(u), R.convert(h), o) : console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")
                            } finally {
                                c && p.bindFramebuffer(36160, N)
                            }
                        }
                    } else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")
                }, this.copyFramebufferToTexture = function(e, t, n) {
                    void 0 === n && (n = 0);
                    var i = Math.pow(2, -n),
                        r = Math.floor(t.image.width * i),
                        o = Math.floor(t.image.height * i),
                        a = R.convert(t.format);
                    x.setTexture2D(t, 0), p.copyTexImage2D(3553, n, a, e.x, e.y, r, o, 0), v.unbindTexture()
                }, this.copyTextureToTexture = function(e, t, n, i) {
                    var r = t.image.width,
                        o = t.image.height,
                        a = R.convert(n.format),
                        s = R.convert(n.type);
                    x.setTexture2D(n, 0), t.isDataTexture ? p.texSubImage2D(3553, i || 0, e.x, e.y, r, o, a, s, t.image.data) : p.texSubImage2D(3553, i || 0, e.x, e.y, a, s, t.image), v.unbindTexture()
                }, this.initTexture = function(e) {
                    x.setTexture2D(e, 0), v.unbindTexture()
                }, "undefined" != typeof __THREE_DEVTOOLS__ && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", {
                    detail: this
                }))
            }

            function ys(e, t) {
                this.name = "", this.color = new er(e), this.density = void 0 !== t ? t : 25e-5
            }

            function bs(e, t, n) {
                this.name = "", this.color = new er(e), this.near = void 0 !== t ? t : 1, this.far = void 0 !== n ? n : 1e3
            }

            function xs(e, t) {
                this.array = e, this.stride = t, this.count = void 0 !== e ? e.length / t : 0, this.usage = dn, this.updateRange = {
                    offset: 0,
                    count: -1
                }, this.version = 0
            }
            ds.prototype = Object.assign(Object.create(On.prototype), {
                constructor: ds,
                isWebGLMultiviewRenderTarget: !0,
                copy: function(e) {
                    return On.prototype.copy.call(this, e), this.numViews = e.numViews, this
                },
                setNumViews: function(e) {
                    return this.numViews !== e && (this.numViews = e, this.dispose()), this
                }
            }), fs.prototype = Object.assign(Object.create(so.prototype), {
                constructor: fs,
                isArrayCamera: !0
            }), ms.prototype = Object.assign(Object.create(li.prototype), {
                constructor: ms,
                isGroup: !0
            }), Object.assign(vs.prototype, wn.prototype), Object.assign(ys.prototype, {
                isFogExp2: !0,
                clone: function() {
                    return new ys(this.color, this.density)
                },
                toJSON: function() {
                    return {
                        type: "FogExp2",
                        color: this.color.getHex(),
                        density: this.density
                    }
                }
            }), Object.assign(bs.prototype, {
                isFog: !0,
                clone: function() {
                    return new bs(this.color, this.near, this.far)
                },
                toJSON: function() {
                    return {
                        type: "Fog",
                        color: this.color.getHex(),
                        near: this.near,
                        far: this.far
                    }
                }
            }), Object.defineProperty(xs.prototype, "needsUpdate", {
                set: function(e) {
                    !0 === e && this.version++
                }
            }), Object.assign(xs.prototype, {
                isInterleavedBuffer: !0,
                onUploadCallback: function() {},
                setUsage: function(e) {
                    return this.usage = e, this
                },
                copy: function(e) {
                    return this.array = new e.array.constructor(e.array), this.count = e.count, this.stride = e.stride, this.usage = e.usage, this
                },
                copyAt: function(e, t, n) {
                    e *= this.stride, n *= t.stride;
                    for (var i = 0, r = this.stride; i < r; i++) this.array[e + i] = t.array[n + i];
                    return this
                },
                set: function(e, t) {
                    return void 0 === t && (t = 0), this.array.set(e, t), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                onUpload: function(e) {
                    return this.onUploadCallback = e, this
                }
            });
            var ws, _s = new Fn;

            function Ms(e, t, n, i) {
                this.data = e, this.itemSize = t, this.offset = n, this.normalized = !0 === i
            }

            function Ts(e) {
                ar.call(this), this.type = "SpriteMaterial", this.color = new er(16777215), this.map = null, this.alphaMap = null, this.rotation = 0, this.sizeAttenuation = !0, this.transparent = !0, this.setValues(e)
            }
            Object.defineProperties(Ms.prototype, {
                count: {
                    get: function() {
                        return this.data.count
                    }
                },
                array: {
                    get: function() {
                        return this.data.array
                    }
                }
            }), Object.assign(Ms.prototype, {
                isInterleavedBufferAttribute: !0,
                applyMatrix4: function(e) {
                    for (var t = 0, n = this.data.count; t < n; t++) _s.x = this.getX(t), _s.y = this.getY(t), _s.z = this.getZ(t), _s.applyMatrix4(e), this.setXYZ(t, _s.x, _s.y, _s.z);
                    return this
                },
                setX: function(e, t) {
                    return this.data.array[e * this.data.stride + this.offset] = t, this
                },
                setY: function(e, t) {
                    return this.data.array[e * this.data.stride + this.offset + 1] = t, this
                },
                setZ: function(e, t) {
                    return this.data.array[e * this.data.stride + this.offset + 2] = t, this
                },
                setW: function(e, t) {
                    return this.data.array[e * this.data.stride + this.offset + 3] = t, this
                },
                getX: function(e) {
                    return this.data.array[e * this.data.stride + this.offset]
                },
                getY: function(e) {
                    return this.data.array[e * this.data.stride + this.offset + 1]
                },
                getZ: function(e) {
                    return this.data.array[e * this.data.stride + this.offset + 2]
                },
                getW: function(e) {
                    return this.data.array[e * this.data.stride + this.offset + 3]
                },
                setXY: function(e, t, n) {
                    return e = e * this.data.stride + this.offset, this.data.array[e + 0] = t, this.data.array[e + 1] = n, this
                },
                setXYZ: function(e, t, n, i) {
                    return e = e * this.data.stride + this.offset, this.data.array[e + 0] = t, this.data.array[e + 1] = n, this.data.array[e + 2] = i, this
                },
                setXYZW: function(e, t, n, i, r) {
                    return e = e * this.data.stride + this.offset, this.data.array[e + 0] = t, this.data.array[e + 1] = n, this.data.array[e + 2] = i, this.data.array[e + 3] = r, this
                }
            }), Ts.prototype = Object.create(ar.prototype), Ts.prototype.constructor = Ts, Ts.prototype.isSpriteMaterial = !0, Ts.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.map = e.map, this.alphaMap = e.alphaMap, this.rotation = e.rotation, this.sizeAttenuation = e.sizeAttenuation, this
            };
            var Ss = new Fn,
                Es = new Fn,
                As = new Fn,
                Ps = new En,
                Ls = new En,
                Cs = new Wn,
                Rs = new Fn,
                Os = new Fn,
                Ds = new Fn,
                Is = new En,
                js = new En,
                ks = new En;

            function Fs(e) {
                if (li.call(this), this.type = "Sprite", void 0 === ws) {
                    ws = new Pr;
                    var t = new xs(new Float32Array([-.5, -.5, 0, 0, 0, .5, -.5, 0, 1, 0, .5, .5, 0, 1, 1, -.5, .5, 0, 0, 1]), 5);
                    ws.setIndex([0, 1, 2, 0, 2, 3]), ws.setAttribute("position", new Ms(t, 3, 0, !1)), ws.setAttribute("uv", new Ms(t, 2, 3, !1))
                }
                this.geometry = ws, this.material = void 0 !== e ? e : new Ts, this.center = new En(.5, .5)
            }

            function Ns(e, t, n, i, r, o) {
                Ps.subVectors(e, n).addScalar(.5).multiply(i), void 0 !== r ? (Ls.x = o * Ps.x - r * Ps.y, Ls.y = r * Ps.x + o * Ps.y) : Ls.copy(Ps), e.copy(t), e.x += Ls.x, e.y += Ls.y, e.applyMatrix4(Cs)
            }
            Fs.prototype = Object.assign(Object.create(li.prototype), {
                constructor: Fs,
                isSprite: !0,
                raycast: function(e, t) {
                    null === e.camera && console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'), Es.setFromMatrixScale(this.matrixWorld), Cs.copy(e.camera.matrixWorld), this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse, this.matrixWorld), As.setFromMatrixPosition(this.modelViewMatrix), e.camera.isPerspectiveCamera && !1 === this.material.sizeAttenuation && Es.multiplyScalar(-As.z);
                    var n, i, r = this.material.rotation;
                    0 !== r && (i = Math.cos(r), n = Math.sin(r));
                    var o = this.center;
                    Ns(Rs.set(-.5, -.5, 0), As, o, Es, n, i), Ns(Os.set(.5, -.5, 0), As, o, Es, n, i), Ns(Ds.set(.5, .5, 0), As, o, Es, n, i), Is.set(0, 0), js.set(1, 0), ks.set(1, 1);
                    var a = e.ray.intersectTriangle(Rs, Os, Ds, !1, Ss);
                    if (null !== a || (Ns(Os.set(-.5, .5, 0), As, o, Es, n, i), js.set(0, 1), null !== (a = e.ray.intersectTriangle(Rs, Ds, Os, !1, Ss)))) {
                        var s = e.ray.origin.distanceTo(Ss);
                        s < e.near || s > e.far || t.push({
                            distance: s,
                            point: Ss.clone(),
                            uv: Ji.getUV(Ss, Rs, Os, Ds, Is, js, ks, new En),
                            face: null,
                            object: this
                        })
                    }
                },
                clone: function() {
                    return new this.constructor(this.material).copy(this)
                },
                copy: function(e) {
                    return li.prototype.copy.call(this, e), void 0 !== e.center && this.center.copy(e.center), this
                }
            });
            var zs = new Fn,
                Bs = new Fn;

            function Us() {
                li.call(this), this.type = "LOD", Object.defineProperties(this, {
                    levels: {
                        enumerable: !0,
                        value: []
                    }
                }), this.autoUpdate = !0
            }

            function Vs(e, t) {
                e && e.isGeometry && console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."), qr.call(this, e, t), this.type = "SkinnedMesh", this.bindMode = "attached", this.bindMatrix = new Wn, this.bindMatrixInverse = new Wn
            }
            Us.prototype = Object.assign(Object.create(li.prototype), {
                constructor: Us,
                isLOD: !0,
                copy: function(e) {
                    li.prototype.copy.call(this, e, !1);
                    for (var t = e.levels, n = 0, i = t.length; n < i; n++) {
                        var r = t[n];
                        this.addLevel(r.object.clone(), r.distance)
                    }
                    return this.autoUpdate = e.autoUpdate, this
                },
                addLevel: function(e, t) {
                    void 0 === t && (t = 0), t = Math.abs(t);
                    for (var n = this.levels, i = 0; i < n.length && !(t < n[i].distance); i++);
                    return n.splice(i, 0, {
                        distance: t,
                        object: e
                    }), this.add(e), this
                },
                getObjectForDistance: function(e) {
                    var t = this.levels;
                    if (t.length > 0) {
                        for (var n = 1, i = t.length; n < i && !(e < t[n].distance); n++);
                        return t[n - 1].object
                    }
                    return null
                },
                raycast: function(e, t) {
                    if (this.levels.length > 0) {
                        zs.setFromMatrixPosition(this.matrixWorld);
                        var n = e.ray.origin.distanceTo(zs);
                        this.getObjectForDistance(n).raycast(e, t)
                    }
                },
                update: function(e) {
                    var t = this.levels;
                    if (t.length > 1) {
                        zs.setFromMatrixPosition(e.matrixWorld), Bs.setFromMatrixPosition(this.matrixWorld);
                        var n = zs.distanceTo(Bs);
                        t[0].object.visible = !0;
                        for (var i = 1, r = t.length; i < r && n >= t[i].distance; i++) t[i - 1].object.visible = !1, t[i].object.visible = !0;
                        for (; i < r; i++) t[i].object.visible = !1
                    }
                },
                toJSON: function(e) {
                    var t = li.prototype.toJSON.call(this, e);
                    !1 === this.autoUpdate && (t.object.autoUpdate = !1), t.object.levels = [];
                    for (var n = this.levels, i = 0, r = n.length; i < r; i++) {
                        var o = n[i];
                        t.object.levels.push({
                            object: o.object.uuid,
                            distance: o.distance
                        })
                    }
                    return t
                }
            }), Vs.prototype = Object.assign(Object.create(qr.prototype), {
                constructor: Vs,
                isSkinnedMesh: !0,
                bind: function(e, t) {
                    this.skeleton = e, void 0 === t && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), t = this.matrixWorld), this.bindMatrix.copy(t), this.bindMatrixInverse.getInverse(t)
                },
                pose: function() {
                    this.skeleton.pose()
                },
                normalizeSkinWeights: function() {
                    for (var e = new Rn, t = this.geometry.attributes.skinWeight, n = 0, i = t.count; n < i; n++) {
                        e.x = t.getX(n), e.y = t.getY(n), e.z = t.getZ(n), e.w = t.getW(n);
                        var r = 1 / e.manhattanLength();
                        r !== 1 / 0 ? e.multiplyScalar(r) : e.set(1, 0, 0, 0), t.setXYZW(n, e.x, e.y, e.z, e.w)
                    }
                },
                updateMatrixWorld: function(e) {
                    qr.prototype.updateMatrixWorld.call(this, e), "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.bindMatrix) : console.warn("THREE.SkinnedMesh: Unrecognized bindMode: " + this.bindMode)
                },
                clone: function() {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            });
            var Hs = new Wn,
                Gs = new Wn;

            function Ws(e, t) {
                if (e = e || [], this.bones = e.slice(0), this.boneMatrices = new Float32Array(16 * this.bones.length), this.frame = -1, void 0 === t) this.calculateInverses();
                else if (this.bones.length === t.length) this.boneInverses = t.slice(0);
                else {
                    console.warn("THREE.Skeleton boneInverses is the wrong length."), this.boneInverses = [];
                    for (var n = 0, i = this.bones.length; n < i; n++) this.boneInverses.push(new Wn)
                }
            }

            function qs() {
                li.call(this), this.type = "Bone"
            }
            Object.assign(Ws.prototype, {
                calculateInverses: function() {
                    this.boneInverses = [];
                    for (var e = 0, t = this.bones.length; e < t; e++) {
                        var n = new Wn;
                        this.bones[e] && n.getInverse(this.bones[e].matrixWorld), this.boneInverses.push(n)
                    }
                },
                pose: function() {
                    var e, t, n;
                    for (t = 0, n = this.bones.length; t < n; t++)(e = this.bones[t]) && e.matrixWorld.getInverse(this.boneInverses[t]);
                    for (t = 0, n = this.bones.length; t < n; t++)(e = this.bones[t]) && (e.parent && e.parent.isBone ? (e.matrix.getInverse(e.parent.matrixWorld), e.matrix.multiply(e.matrixWorld)) : e.matrix.copy(e.matrixWorld), e.matrix.decompose(e.position, e.quaternion, e.scale))
                },
                update: function() {
                    for (var e = this.bones, t = this.boneInverses, n = this.boneMatrices, i = this.boneTexture, r = 0, o = e.length; r < o; r++) {
                        var a = e[r] ? e[r].matrixWorld : Gs;
                        Hs.multiplyMatrices(a, t[r]), Hs.toArray(n, 16 * r)
                    }
                    void 0 !== i && (i.needsUpdate = !0)
                },
                clone: function() {
                    return new Ws(this.bones, this.boneInverses)
                },
                getBoneByName: function(e) {
                    for (var t = 0, n = this.bones.length; t < n; t++) {
                        var i = this.bones[t];
                        if (i.name === e) return i
                    }
                }
            }), qs.prototype = Object.assign(Object.create(li.prototype), {
                constructor: qs,
                isBone: !0
            });
            var Ys = new Wn,
                Xs = new Wn,
                Zs = [],
                Js = new qr;

            function Ks(e, t, n) {
                qr.call(this, e, t), this.instanceMatrix = new lr(new Float32Array(16 * n), 16), this.count = n, this.frustumCulled = !1
            }

            function Qs(e) {
                ar.call(this), this.type = "LineBasicMaterial", this.color = new er(16777215), this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.setValues(e)
            }
            Ks.prototype = Object.assign(Object.create(qr.prototype), {
                constructor: Ks,
                isInstancedMesh: !0,
                getMatrixAt: function(e, t) {
                    t.fromArray(this.instanceMatrix.array, 16 * e)
                },
                raycast: function(e, t) {
                    var n = this.matrixWorld,
                        i = this.count;
                    if (Js.geometry = this.geometry, Js.material = this.material, void 0 !== Js.material)
                        for (var r = 0; r < i; r++) this.getMatrixAt(r, Ys), Xs.multiplyMatrices(n, Ys), Js.matrixWorld = Xs, Js.raycast(e, Zs), Zs.length > 0 && (Zs[0].instanceId = r, Zs[0].object = this, t.push(Zs[0]), Zs.length = 0)
                },
                setMatrixAt: function(e, t) {
                    t.toArray(this.instanceMatrix.array, 16 * e)
                },
                updateMorphTargets: function() {}
            }), Qs.prototype = Object.create(ar.prototype), Qs.prototype.constructor = Qs, Qs.prototype.isLineBasicMaterial = !0, Qs.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.linewidth = e.linewidth, this.linecap = e.linecap, this.linejoin = e.linejoin, this
            };
            var $s = new Fn,
                ec = new Fn,
                tc = new Wn,
                nc = new ji,
                ic = new Ai;

            function rc(e, t, n) {
                1 === n && console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."), li.call(this), this.type = "Line", this.geometry = void 0 !== e ? e : new Pr, this.material = void 0 !== t ? t : new Qs
            }
            rc.prototype = Object.assign(Object.create(li.prototype), {
                constructor: rc,
                isLine: !0,
                computeLineDistances: function() {
                    var e = this.geometry;
                    if (e.isBufferGeometry)
                        if (null === e.index) {
                            for (var t = e.attributes.position, n = [0], i = 1, r = t.count; i < r; i++) $s.fromBufferAttribute(t, i - 1), ec.fromBufferAttribute(t, i), n[i] = n[i - 1], n[i] += $s.distanceTo(ec);
                            e.setAttribute("lineDistance", new gr(n, 1))
                        } else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
                    else if (e.isGeometry) {
                        var o = e.vertices;
                        (n = e.lineDistances)[0] = 0;
                        for (i = 1, r = o.length; i < r; i++) n[i] = n[i - 1], n[i] += o[i - 1].distanceTo(o[i])
                    }
                    return this
                },
                raycast: function(e, t) {
                    var n = e.linePrecision,
                        i = this.geometry,
                        r = this.matrixWorld;
                    if (null === i.boundingSphere && i.computeBoundingSphere(), ic.copy(i.boundingSphere), ic.applyMatrix4(r), ic.radius += n, !1 !== e.ray.intersectsSphere(ic)) {
                        tc.getInverse(r), nc.copy(e.ray).applyMatrix4(tc);
                        var o = n / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                            a = o * o,
                            s = new Fn,
                            c = new Fn,
                            l = new Fn,
                            u = new Fn,
                            h = this && this.isLineSegments ? 2 : 1;
                        if (i.isBufferGeometry) {
                            var d = i.index,
                                p = i.attributes.position.array;
                            if (null !== d)
                                for (var f = d.array, m = 0, v = f.length - 1; m < v; m += h) {
                                    var g = f[m],
                                        y = f[m + 1];
                                    if (s.fromArray(p, 3 * g), c.fromArray(p, 3 * y), !(nc.distanceSqToSegment(s, c, u, l) > a)) u.applyMatrix4(this.matrixWorld), (w = e.ray.origin.distanceTo(u)) < e.near || w > e.far || t.push({
                                        distance: w,
                                        point: l.clone().applyMatrix4(this.matrixWorld),
                                        index: m,
                                        face: null,
                                        faceIndex: null,
                                        object: this
                                    })
                                } else
                                    for (m = 0, v = p.length / 3 - 1; m < v; m += h) {
                                        if (s.fromArray(p, 3 * m), c.fromArray(p, 3 * m + 3), !(nc.distanceSqToSegment(s, c, u, l) > a)) u.applyMatrix4(this.matrixWorld), (w = e.ray.origin.distanceTo(u)) < e.near || w > e.far || t.push({
                                            distance: w,
                                            point: l.clone().applyMatrix4(this.matrixWorld),
                                            index: m,
                                            face: null,
                                            faceIndex: null,
                                            object: this
                                        })
                                    }
                        } else if (i.isGeometry) {
                            var b = i.vertices,
                                x = b.length;
                            for (m = 0; m < x - 1; m += h) {
                                var w;
                                if (!(nc.distanceSqToSegment(b[m], b[m + 1], u, l) > a)) u.applyMatrix4(this.matrixWorld), (w = e.ray.origin.distanceTo(u)) < e.near || w > e.far || t.push({
                                    distance: w,
                                    point: l.clone().applyMatrix4(this.matrixWorld),
                                    index: m,
                                    face: null,
                                    faceIndex: null,
                                    object: this
                                })
                            }
                        }
                    }
                },
                clone: function() {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            });
            var oc = new Fn,
                ac = new Fn;

            function sc(e, t) {
                rc.call(this, e, t), this.type = "LineSegments"
            }

            function cc(e, t) {
                rc.call(this, e, t), this.type = "LineLoop"
            }

            function lc(e) {
                ar.call(this), this.type = "PointsMaterial", this.color = new er(16777215), this.map = null, this.alphaMap = null, this.size = 1, this.sizeAttenuation = !0, this.morphTargets = !1, this.setValues(e)
            }
            sc.prototype = Object.assign(Object.create(rc.prototype), {
                constructor: sc,
                isLineSegments: !0,
                computeLineDistances: function() {
                    var e = this.geometry;
                    if (e.isBufferGeometry)
                        if (null === e.index) {
                            for (var t = e.attributes.position, n = [], i = 0, r = t.count; i < r; i += 2) oc.fromBufferAttribute(t, i), ac.fromBufferAttribute(t, i + 1), n[i] = 0 === i ? 0 : n[i - 1], n[i + 1] = n[i] + oc.distanceTo(ac);
                            e.setAttribute("lineDistance", new gr(n, 1))
                        } else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
                    else if (e.isGeometry) {
                        var o = e.vertices;
                        for (n = e.lineDistances, i = 0, r = o.length; i < r; i += 2) oc.copy(o[i]), ac.copy(o[i + 1]), n[i] = 0 === i ? 0 : n[i - 1], n[i + 1] = n[i] + oc.distanceTo(ac)
                    }
                    return this
                }
            }), cc.prototype = Object.assign(Object.create(rc.prototype), {
                constructor: cc,
                isLineLoop: !0
            }), lc.prototype = Object.create(ar.prototype), lc.prototype.constructor = lc, lc.prototype.isPointsMaterial = !0, lc.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.map = e.map, this.alphaMap = e.alphaMap, this.size = e.size, this.sizeAttenuation = e.sizeAttenuation, this.morphTargets = e.morphTargets, this
            };
            var uc = new Wn,
                hc = new ji,
                dc = new Ai,
                pc = new Fn;

            function fc(e, t) {
                li.call(this), this.type = "Points", this.geometry = void 0 !== e ? e : new Pr, this.material = void 0 !== t ? t : new lc, this.updateMorphTargets()
            }

            function mc(e, t, n, i, r, o, a) {
                var s = hc.distanceSqToPoint(e);
                if (s < n) {
                    var c = new Fn;
                    hc.closestPointToPoint(e, c), c.applyMatrix4(i);
                    var l = r.ray.origin.distanceTo(c);
                    if (l < r.near || l > r.far) return;
                    o.push({
                        distance: l,
                        distanceToRay: Math.sqrt(s),
                        point: c,
                        index: t,
                        face: null,
                        object: a
                    })
                }
            }

            function vc(e, t, n, i, r, o, a, s, c) {
                Cn.call(this, e, t, n, i, r, o, a, s, c), this.format = void 0 !== a ? a : He, this.minFilter = void 0 !== o ? o : Se, this.magFilter = void 0 !== r ? r : Se, this.generateMipmaps = !1
            }

            function gc(e, t, n, i, r, o, a, s, c, l, u, h) {
                Cn.call(this, null, o, a, s, c, l, i, r, u, h), this.image = {
                    width: t,
                    height: n
                }, this.mipmaps = e, this.flipY = !1, this.generateMipmaps = !1
            }

            function yc(e, t, n, i, r, o, a, s, c) {
                Cn.call(this, e, t, n, i, r, o, a, s, c), this.needsUpdate = !0
            }

            function bc(e, t, n, i, r, o, a, s, c, l) {
                if ((l = void 0 !== l ? l : Xe) !== Xe && l !== Ze) throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
                void 0 === n && l === Xe && (n = De), void 0 === n && l === Ze && (n = Ue), Cn.call(this, null, i, r, o, a, s, l, n, c), this.image = {
                    width: e,
                    height: t
                }, this.magFilter = void 0 !== a ? a : xe, this.minFilter = void 0 !== s ? s : xe, this.flipY = !1, this.generateMipmaps = !1
            }

            function xc(e) {
                Pr.call(this), this.type = "WireframeGeometry";
                var t, n, i, r, o, a, s, c, l, u, h = [],
                    d = [0, 0],
                    p = {},
                    f = ["a", "b", "c"];
                if (e && e.isGeometry) {
                    var m = e.faces;
                    for (t = 0, i = m.length; t < i; t++) {
                        var v = m[t];
                        for (n = 0; n < 3; n++) s = v[f[n]], c = v[f[(n + 1) % 3]], d[0] = Math.min(s, c), d[1] = Math.max(s, c), void 0 === p[l = d[0] + "," + d[1]] && (p[l] = {
                            index1: d[0],
                            index2: d[1]
                        })
                    }
                    for (l in p) a = p[l], u = e.vertices[a.index1], h.push(u.x, u.y, u.z), u = e.vertices[a.index2], h.push(u.x, u.y, u.z)
                } else if (e && e.isBufferGeometry) {
                    var g, y, b, x, w, _, M;
                    if (u = new Fn, null !== e.index) {
                        for (g = e.attributes.position, y = e.index, 0 === (b = e.groups).length && (b = [{
                                start: 0,
                                count: y.count,
                                materialIndex: 0
                            }]), r = 0, o = b.length; r < o; ++r)
                            for (t = w = (x = b[r]).start, i = w + x.count; t < i; t += 3)
                                for (n = 0; n < 3; n++) s = y.getX(t + n), c = y.getX(t + (n + 1) % 3), d[0] = Math.min(s, c), d[1] = Math.max(s, c), void 0 === p[l = d[0] + "," + d[1]] && (p[l] = {
                                    index1: d[0],
                                    index2: d[1]
                                });
                        for (l in p) a = p[l], u.fromBufferAttribute(g, a.index1), h.push(u.x, u.y, u.z), u.fromBufferAttribute(g, a.index2), h.push(u.x, u.y, u.z)
                    } else
                        for (t = 0, i = (g = e.attributes.position).count / 3; t < i; t++)
                            for (n = 0; n < 3; n++) _ = 3 * t + n, u.fromBufferAttribute(g, _), h.push(u.x, u.y, u.z), M = 3 * t + (n + 1) % 3, u.fromBufferAttribute(g, M), h.push(u.x, u.y, u.z)
                }
                this.setAttribute("position", new gr(h, 3))
            }

            function wc(e, t, n) {
                $r.call(this), this.type = "ParametricGeometry", this.parameters = {
                    func: e,
                    slices: t,
                    stacks: n
                }, this.fromBufferGeometry(new _c(e, t, n)), this.mergeVertices()
            }

            function _c(e, t, n) {
                Pr.call(this), this.type = "ParametricBufferGeometry", this.parameters = {
                    func: e,
                    slices: t,
                    stacks: n
                };
                var i, r, o = [],
                    a = [],
                    s = [],
                    c = [],
                    l = 1e-5,
                    u = new Fn,
                    h = new Fn,
                    d = new Fn,
                    p = new Fn,
                    f = new Fn;
                e.length < 3 && console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");
                var m = t + 1;
                for (i = 0; i <= n; i++) {
                    var v = i / n;
                    for (r = 0; r <= t; r++) {
                        var g = r / t;
                        e(g, v, h), a.push(h.x, h.y, h.z), g - l >= 0 ? (e(g - l, v, d), p.subVectors(h, d)) : (e(g + l, v, d), p.subVectors(d, h)), v - l >= 0 ? (e(g, v - l, d), f.subVectors(h, d)) : (e(g, v + l, d), f.subVectors(d, h)), u.crossVectors(p, f).normalize(), s.push(u.x, u.y, u.z), c.push(g, v)
                    }
                }
                for (i = 0; i < n; i++)
                    for (r = 0; r < t; r++) {
                        var y = i * m + r,
                            b = i * m + r + 1,
                            x = (i + 1) * m + r + 1,
                            w = (i + 1) * m + r;
                        o.push(y, b, w), o.push(b, x, w)
                    }
                this.setIndex(o), this.setAttribute("position", new gr(a, 3)), this.setAttribute("normal", new gr(s, 3)), this.setAttribute("uv", new gr(c, 2))
            }

            function Mc(e, t, n, i) {
                $r.call(this), this.type = "PolyhedronGeometry", this.parameters = {
                    vertices: e,
                    indices: t,
                    radius: n,
                    detail: i
                }, this.fromBufferGeometry(new Tc(e, t, n, i)), this.mergeVertices()
            }

            function Tc(e, t, n, i) {
                Pr.call(this), this.type = "PolyhedronBufferGeometry", this.parameters = {
                    vertices: e,
                    indices: t,
                    radius: n,
                    detail: i
                }, n = n || 1;
                var r = [],
                    o = [];

                function a(e, t, n, i) {
                    var r, o, a = Math.pow(2, i),
                        c = [];
                    for (r = 0; r <= a; r++) {
                        c[r] = [];
                        var l = e.clone().lerp(n, r / a),
                            u = t.clone().lerp(n, r / a),
                            h = a - r;
                        for (o = 0; o <= h; o++) c[r][o] = 0 === o && r === a ? l : l.clone().lerp(u, o / h)
                    }
                    for (r = 0; r < a; r++)
                        for (o = 0; o < 2 * (a - r) - 1; o++) {
                            var d = Math.floor(o / 2);
                            o % 2 == 0 ? (s(c[r][d + 1]), s(c[r + 1][d]), s(c[r][d])) : (s(c[r][d + 1]), s(c[r + 1][d + 1]), s(c[r + 1][d]))
                        }
                }

                function s(e) {
                    r.push(e.x, e.y, e.z)
                }

                function c(t, n) {
                    var i = 3 * t;
                    n.x = e[i + 0], n.y = e[i + 1], n.z = e[i + 2]
                }

                function l(e, t, n, i) {
                    i < 0 && 1 === e.x && (o[t] = e.x - 1), 0 === n.x && 0 === n.z && (o[t] = i / 2 / Math.PI + .5)
                }

                function u(e) {
                    return Math.atan2(e.z, -e.x)
                }! function(e) {
                    for (var n = new Fn, i = new Fn, r = new Fn, o = 0; o < t.length; o += 3) c(t[o + 0], n), c(t[o + 1], i), c(t[o + 2], r), a(n, i, r, e)
                }(i = i || 0),
                function(e) {
                    for (var t = new Fn, n = 0; n < r.length; n += 3) t.x = r[n + 0], t.y = r[n + 1], t.z = r[n + 2], t.normalize().multiplyScalar(e), r[n + 0] = t.x, r[n + 1] = t.y, r[n + 2] = t.z
                }(n),
                function() {
                    for (var e = new Fn, t = 0; t < r.length; t += 3) {
                        e.x = r[t + 0], e.y = r[t + 1], e.z = r[t + 2];
                        var n = u(e) / 2 / Math.PI + .5,
                            i = (a = e, Math.atan2(-a.y, Math.sqrt(a.x * a.x + a.z * a.z)) / Math.PI + .5);
                        o.push(n, 1 - i)
                    }
                    var a;
                    (function() {
                        for (var e = new Fn, t = new Fn, n = new Fn, i = new Fn, a = new En, s = new En, c = new En, h = 0, d = 0; h < r.length; h += 9, d += 6) {
                            e.set(r[h + 0], r[h + 1], r[h + 2]), t.set(r[h + 3], r[h + 4], r[h + 5]), n.set(r[h + 6], r[h + 7], r[h + 8]), a.set(o[d + 0], o[d + 1]), s.set(o[d + 2], o[d + 3]), c.set(o[d + 4], o[d + 5]), i.copy(e).add(t).add(n).divideScalar(3);
                            var p = u(i);
                            l(a, d + 0, e, p), l(s, d + 2, t, p), l(c, d + 4, n, p)
                        }
                    })(),
                    function() {
                        for (var e = 0; e < o.length; e += 6) {
                            var t = o[e + 0],
                                n = o[e + 2],
                                i = o[e + 4],
                                r = Math.max(t, n, i),
                                a = Math.min(t, n, i);
                            r > .9 && a < .1 && (t < .2 && (o[e + 0] += 1), n < .2 && (o[e + 2] += 1), i < .2 && (o[e + 4] += 1))
                        }
                    }()
                }(), this.setAttribute("position", new gr(r, 3)), this.setAttribute("normal", new gr(r.slice(), 3)), this.setAttribute("uv", new gr(o, 2)), 0 === i ? this.computeVertexNormals() : this.normalizeNormals()
            }

            function Sc(e, t) {
                $r.call(this), this.type = "TetrahedronGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }, this.fromBufferGeometry(new Ec(e, t)), this.mergeVertices()
            }

            function Ec(e, t) {
                Tc.call(this, [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1], [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1], e, t), this.type = "TetrahedronBufferGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }
            }

            function Ac(e, t) {
                $r.call(this), this.type = "OctahedronGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }, this.fromBufferGeometry(new Pc(e, t)), this.mergeVertices()
            }

            function Pc(e, t) {
                Tc.call(this, [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1], [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2], e, t), this.type = "OctahedronBufferGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }
            }

            function Lc(e, t) {
                $r.call(this), this.type = "IcosahedronGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }, this.fromBufferGeometry(new Cc(e, t)), this.mergeVertices()
            }

            function Cc(e, t) {
                var n = (1 + Math.sqrt(5)) / 2,
                    i = [-1, n, 0, 1, n, 0, -1, -n, 0, 1, -n, 0, 0, -1, n, 0, 1, n, 0, -1, -n, 0, 1, -n, n, 0, -1, n, 0, 1, -n, 0, -1, -n, 0, 1];
                Tc.call(this, i, [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1], e, t), this.type = "IcosahedronBufferGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }
            }

            function Rc(e, t) {
                $r.call(this), this.type = "DodecahedronGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }, this.fromBufferGeometry(new Oc(e, t)), this.mergeVertices()
            }

            function Oc(e, t) {
                var n = (1 + Math.sqrt(5)) / 2,
                    i = 1 / n,
                    r = [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -i, -n, 0, -i, n, 0, i, -n, 0, i, n, -i, -n, 0, -i, n, 0, i, -n, 0, i, n, 0, -n, 0, -i, n, 0, -i, -n, 0, i, n, 0, i];
                Tc.call(this, r, [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9], e, t), this.type = "DodecahedronBufferGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }
            }

            function Dc(e, t, n, i, r, o) {
                $r.call(this), this.type = "TubeGeometry", this.parameters = {
                    path: e,
                    tubularSegments: t,
                    radius: n,
                    radialSegments: i,
                    closed: r
                }, void 0 !== o && console.warn("THREE.TubeGeometry: taper has been removed.");
                var a = new Ic(e, t, n, i, r);
                this.tangents = a.tangents, this.normals = a.normals, this.binormals = a.binormals, this.fromBufferGeometry(a), this.mergeVertices()
            }

            function Ic(e, t, n, i, r) {
                Pr.call(this), this.type = "TubeBufferGeometry", this.parameters = {
                    path: e,
                    tubularSegments: t,
                    radius: n,
                    radialSegments: i,
                    closed: r
                }, t = t || 64, n = n || 1, i = i || 8, r = r || !1;
                var o = e.computeFrenetFrames(t, r);
                this.tangents = o.tangents, this.normals = o.normals, this.binormals = o.binormals;
                var a, s, c = new Fn,
                    l = new Fn,
                    u = new En,
                    h = new Fn,
                    d = [],
                    p = [],
                    f = [],
                    m = [];

                function v(r) {
                    h = e.getPointAt(r / t, h);
                    var a = o.normals[r],
                        u = o.binormals[r];
                    for (s = 0; s <= i; s++) {
                        var f = s / i * Math.PI * 2,
                            m = Math.sin(f),
                            v = -Math.cos(f);
                        l.x = v * a.x + m * u.x, l.y = v * a.y + m * u.y, l.z = v * a.z + m * u.z, l.normalize(), p.push(l.x, l.y, l.z), c.x = h.x + n * l.x, c.y = h.y + n * l.y, c.z = h.z + n * l.z, d.push(c.x, c.y, c.z)
                    }
                }! function() {
                    for (a = 0; a < t; a++) v(a);
                    v(!1 === r ? t : 0),
                        function() {
                            for (a = 0; a <= t; a++)
                                for (s = 0; s <= i; s++) u.x = a / t, u.y = s / i, f.push(u.x, u.y)
                        }(),
                        function() {
                            for (s = 1; s <= t; s++)
                                for (a = 1; a <= i; a++) {
                                    var e = (i + 1) * (s - 1) + (a - 1),
                                        n = (i + 1) * s + (a - 1),
                                        r = (i + 1) * s + a,
                                        o = (i + 1) * (s - 1) + a;
                                    m.push(e, n, o), m.push(n, r, o)
                                }
                        }()
                }(), this.setIndex(m), this.setAttribute("position", new gr(d, 3)), this.setAttribute("normal", new gr(p, 3)), this.setAttribute("uv", new gr(f, 2))
            }

            function jc(e, t, n, i, r, o, a) {
                $r.call(this), this.type = "TorusKnotGeometry", this.parameters = {
                    radius: e,
                    tube: t,
                    tubularSegments: n,
                    radialSegments: i,
                    p: r,
                    q: o
                }, void 0 !== a && console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."), this.fromBufferGeometry(new kc(e, t, n, i, r, o)), this.mergeVertices()
            }

            function kc(e, t, n, i, r, o) {
                Pr.call(this), this.type = "TorusKnotBufferGeometry", this.parameters = {
                    radius: e,
                    tube: t,
                    tubularSegments: n,
                    radialSegments: i,
                    p: r,
                    q: o
                }, e = e || 1, t = t || .4, n = Math.floor(n) || 64, i = Math.floor(i) || 8, r = r || 2, o = o || 3;
                var a, s, c = [],
                    l = [],
                    u = [],
                    h = [],
                    d = new Fn,
                    p = new Fn,
                    f = new Fn,
                    m = new Fn,
                    v = new Fn,
                    g = new Fn,
                    y = new Fn;
                for (a = 0; a <= n; ++a) {
                    var b = a / n * r * Math.PI * 2;
                    for (A(b, r, o, e, f), A(b + .01, r, o, e, m), g.subVectors(m, f), y.addVectors(m, f), v.crossVectors(g, y), y.crossVectors(v, g), v.normalize(), y.normalize(), s = 0; s <= i; ++s) {
                        var x = s / i * Math.PI * 2,
                            w = -t * Math.cos(x),
                            _ = t * Math.sin(x);
                        d.x = f.x + (w * y.x + _ * v.x), d.y = f.y + (w * y.y + _ * v.y), d.z = f.z + (w * y.z + _ * v.z), l.push(d.x, d.y, d.z), p.subVectors(d, f).normalize(), u.push(p.x, p.y, p.z), h.push(a / n), h.push(s / i)
                    }
                }
                for (s = 1; s <= n; s++)
                    for (a = 1; a <= i; a++) {
                        var M = (i + 1) * (s - 1) + (a - 1),
                            T = (i + 1) * s + (a - 1),
                            S = (i + 1) * s + a,
                            E = (i + 1) * (s - 1) + a;
                        c.push(M, T, E), c.push(T, S, E)
                    }

                function A(e, t, n, i, r) {
                    var o = Math.cos(e),
                        a = Math.sin(e),
                        s = n / t * e,
                        c = Math.cos(s);
                    r.x = i * (2 + c) * .5 * o, r.y = i * (2 + c) * a * .5, r.z = i * Math.sin(s) * .5
                }
                this.setIndex(c), this.setAttribute("position", new gr(l, 3)), this.setAttribute("normal", new gr(u, 3)), this.setAttribute("uv", new gr(h, 2))
            }

            function Fc(e, t, n, i, r) {
                $r.call(this), this.type = "TorusGeometry", this.parameters = {
                    radius: e,
                    tube: t,
                    radialSegments: n,
                    tubularSegments: i,
                    arc: r
                }, this.fromBufferGeometry(new Nc(e, t, n, i, r)), this.mergeVertices()
            }

            function Nc(e, t, n, i, r) {
                Pr.call(this), this.type = "TorusBufferGeometry", this.parameters = {
                    radius: e,
                    tube: t,
                    radialSegments: n,
                    tubularSegments: i,
                    arc: r
                }, e = e || 1, t = t || .4, n = Math.floor(n) || 8, i = Math.floor(i) || 6, r = r || 2 * Math.PI;
                var o, a, s = [],
                    c = [],
                    l = [],
                    u = [],
                    h = new Fn,
                    d = new Fn,
                    p = new Fn;
                for (o = 0; o <= n; o++)
                    for (a = 0; a <= i; a++) {
                        var f = a / i * r,
                            m = o / n * Math.PI * 2;
                        d.x = (e + t * Math.cos(m)) * Math.cos(f), d.y = (e + t * Math.cos(m)) * Math.sin(f), d.z = t * Math.sin(m), c.push(d.x, d.y, d.z), h.x = e * Math.cos(f), h.y = e * Math.sin(f), p.subVectors(d, h).normalize(), l.push(p.x, p.y, p.z), u.push(a / i), u.push(o / n)
                    }
                for (o = 1; o <= n; o++)
                    for (a = 1; a <= i; a++) {
                        var v = (i + 1) * o + a - 1,
                            g = (i + 1) * (o - 1) + a - 1,
                            y = (i + 1) * (o - 1) + a,
                            b = (i + 1) * o + a;
                        s.push(v, g, b), s.push(g, y, b)
                    }
                this.setIndex(s), this.setAttribute("position", new gr(c, 3)), this.setAttribute("normal", new gr(l, 3)), this.setAttribute("uv", new gr(u, 2))
            }
            fc.prototype = Object.assign(Object.create(li.prototype), {
                constructor: fc,
                isPoints: !0,
                raycast: function(e, t) {
                    var n = this.geometry,
                        i = this.matrixWorld,
                        r = e.params.Points.threshold;
                    if (null === n.boundingSphere && n.computeBoundingSphere(), dc.copy(n.boundingSphere), dc.applyMatrix4(i), dc.radius += r, !1 !== e.ray.intersectsSphere(dc)) {
                        uc.getInverse(i), hc.copy(e.ray).applyMatrix4(uc);
                        var o = r / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                            a = o * o;
                        if (n.isBufferGeometry) {
                            var s = n.index,
                                c = n.attributes.position.array;
                            if (null !== s)
                                for (var l = s.array, u = 0, h = l.length; u < h; u++) {
                                    var d = l[u];
                                    pc.fromArray(c, 3 * d), mc(pc, d, a, i, e, t, this)
                                } else {
                                    u = 0;
                                    for (var p = c.length / 3; u < p; u++) pc.fromArray(c, 3 * u), mc(pc, u, a, i, e, t, this)
                                }
                        } else {
                            var f = n.vertices;
                            for (u = 0, p = f.length; u < p; u++) mc(f[u], u, a, i, e, t, this)
                        }
                    }
                },
                updateMorphTargets: function() {
                    var e, t, n, i = this.geometry;
                    if (i.isBufferGeometry) {
                        var r = i.morphAttributes,
                            o = Object.keys(r);
                        if (o.length > 0) {
                            var a = r[o[0]];
                            if (void 0 !== a)
                                for (this.morphTargetInfluences = [], this.morphTargetDictionary = {}, e = 0, t = a.length; e < t; e++) n = a[e].name || String(e), this.morphTargetInfluences.push(0), this.morphTargetDictionary[n] = e
                        }
                    } else {
                        var s = i.morphTargets;
                        void 0 !== s && s.length > 0 && console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")
                    }
                },
                clone: function() {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), vc.prototype = Object.assign(Object.create(Cn.prototype), {
                constructor: vc,
                isVideoTexture: !0,
                update: function() {
                    var e = this.image;
                    e.readyState >= e.HAVE_CURRENT_DATA && (this.needsUpdate = !0)
                }
            }), gc.prototype = Object.create(Cn.prototype), gc.prototype.constructor = gc, gc.prototype.isCompressedTexture = !0, yc.prototype = Object.create(Cn.prototype), yc.prototype.constructor = yc, yc.prototype.isCanvasTexture = !0, bc.prototype = Object.create(Cn.prototype), bc.prototype.constructor = bc, bc.prototype.isDepthTexture = !0, xc.prototype = Object.create(Pr.prototype), xc.prototype.constructor = xc, wc.prototype = Object.create($r.prototype), wc.prototype.constructor = wc, _c.prototype = Object.create(Pr.prototype), _c.prototype.constructor = _c, Mc.prototype = Object.create($r.prototype), Mc.prototype.constructor = Mc, Tc.prototype = Object.create(Pr.prototype), Tc.prototype.constructor = Tc, Sc.prototype = Object.create($r.prototype), Sc.prototype.constructor = Sc, Ec.prototype = Object.create(Tc.prototype), Ec.prototype.constructor = Ec, Ac.prototype = Object.create($r.prototype), Ac.prototype.constructor = Ac, Pc.prototype = Object.create(Tc.prototype), Pc.prototype.constructor = Pc, Lc.prototype = Object.create($r.prototype), Lc.prototype.constructor = Lc, Cc.prototype = Object.create(Tc.prototype), Cc.prototype.constructor = Cc, Rc.prototype = Object.create($r.prototype), Rc.prototype.constructor = Rc, Oc.prototype = Object.create(Tc.prototype), Oc.prototype.constructor = Oc, Dc.prototype = Object.create($r.prototype), Dc.prototype.constructor = Dc, Ic.prototype = Object.create(Pr.prototype), Ic.prototype.constructor = Ic, Ic.prototype.toJSON = function() {
                var e = Pr.prototype.toJSON.call(this);
                return e.path = this.parameters.path.toJSON(), e
            }, jc.prototype = Object.create($r.prototype), jc.prototype.constructor = jc, kc.prototype = Object.create(Pr.prototype), kc.prototype.constructor = kc, Fc.prototype = Object.create($r.prototype), Fc.prototype.constructor = Fc, Nc.prototype = Object.create(Pr.prototype), Nc.prototype.constructor = Nc;
            var zc = function(e, t, n) {
                n = n || 2;
                var i, r, o, a, s, c, l, u = t && t.length,
                    h = u ? t[0] * n : e.length,
                    d = Bc(e, 0, h, n, !0),
                    p = [];
                if (!d || d.next === d.prev) return p;
                if (u && (d = function(e, t, n, i) {
                        var r, o, a, s, c, l = [];
                        for (r = 0, o = t.length; r < o; r++) a = t[r] * i, s = r < o - 1 ? t[r + 1] * i : e.length, (c = Bc(e, a, s, i, !1)) === c.next && (c.steiner = !0), l.push(Jc(c));
                        for (l.sort(Yc), r = 0; r < l.length; r++) Xc(l[r], n), n = Uc(n, n.next);
                        return n
                    }(e, t, d, n)), e.length > 80 * n) {
                    i = o = e[0], r = a = e[1];
                    for (var f = n; f < h; f += n)(s = e[f]) < i && (i = s), (c = e[f + 1]) < r && (r = c), s > o && (o = s), c > a && (a = c);
                    l = 0 !== (l = Math.max(o - i, a - r)) ? 1 / l : 0
                }
                return Vc(d, p, n, i, r, l), p
            };

            function Bc(e, t, n, i, r) {
                var o, a;
                if (r === function(e, t, n, i) {
                        for (var r = 0, o = t, a = n - i; o < n; o += i) r += (e[a] - e[o]) * (e[o + 1] + e[a + 1]), a = o;
                        return r
                    }(e, t, n, i) > 0)
                    for (o = t; o < n; o += i) a = rl(o, e[o], e[o + 1], a);
                else
                    for (o = n - i; o >= t; o -= i) a = rl(o, e[o], e[o + 1], a);
                return a && el(a, a.next) && (ol(a), a = a.next), a
            }

            function Uc(e, t) {
                if (!e) return e;
                t || (t = e);
                var n, i = e;
                do {
                    if (n = !1, i.steiner || !el(i, i.next) && 0 !== $c(i.prev, i, i.next)) i = i.next;
                    else {
                        if (ol(i), (i = t = i.prev) === i.next) break;
                        n = !0
                    }
                } while (n || i !== t);
                return t
            }

            function Vc(e, t, n, i, r, o, a) {
                if (e) {
                    !a && o && function(e, t, n, i) {
                        var r = e;
                        do {
                            null === r.z && (r.z = Zc(r.x, r.y, t, n, i)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next
                        } while (r !== e);
                        r.prevZ.nextZ = null, r.prevZ = null,
                            function(e) {
                                var t, n, i, r, o, a, s, c, l = 1;
                                do {
                                    for (n = e, e = null, o = null, a = 0; n;) {
                                        for (a++, i = n, s = 0, t = 0; t < l && (s++, i = i.nextZ); t++);
                                        for (c = l; s > 0 || c > 0 && i;) 0 !== s && (0 === c || !i || n.z <= i.z) ? (r = n, n = n.nextZ, s--) : (r = i, i = i.nextZ, c--), o ? o.nextZ = r : e = r, r.prevZ = o, o = r;
                                        n = i
                                    }
                                    o.nextZ = null, l *= 2
                                } while (a > 1)
                            }(r)
                    }(e, i, r, o);
                    for (var s, c, l = e; e.prev !== e.next;)
                        if (s = e.prev, c = e.next, o ? Gc(e, i, r, o) : Hc(e)) t.push(s.i / n), t.push(e.i / n), t.push(c.i / n), ol(e), e = c.next, l = c.next;
                        else if ((e = c) === l) {
                        a ? 1 === a ? Vc(e = Wc(e, t, n), t, n, i, r, o, 2) : 2 === a && qc(e, t, n, i, r, o) : Vc(Uc(e), t, n, i, r, o, 1);
                        break
                    }
                }
            }

            function Hc(e) {
                var t = e.prev,
                    n = e,
                    i = e.next;
                if ($c(t, n, i) >= 0) return !1;
                for (var r = e.next.next; r !== e.prev;) {
                    if (Kc(t.x, t.y, n.x, n.y, i.x, i.y, r.x, r.y) && $c(r.prev, r, r.next) >= 0) return !1;
                    r = r.next
                }
                return !0
            }

            function Gc(e, t, n, i) {
                var r = e.prev,
                    o = e,
                    a = e.next;
                if ($c(r, o, a) >= 0) return !1;
                for (var s = r.x < o.x ? r.x < a.x ? r.x : a.x : o.x < a.x ? o.x : a.x, c = r.y < o.y ? r.y < a.y ? r.y : a.y : o.y < a.y ? o.y : a.y, l = r.x > o.x ? r.x > a.x ? r.x : a.x : o.x > a.x ? o.x : a.x, u = r.y > o.y ? r.y > a.y ? r.y : a.y : o.y > a.y ? o.y : a.y, h = Zc(s, c, t, n, i), d = Zc(l, u, t, n, i), p = e.prevZ, f = e.nextZ; p && p.z >= h && f && f.z <= d;) {
                    if (p !== e.prev && p !== e.next && Kc(r.x, r.y, o.x, o.y, a.x, a.y, p.x, p.y) && $c(p.prev, p, p.next) >= 0) return !1;
                    if (p = p.prevZ, f !== e.prev && f !== e.next && Kc(r.x, r.y, o.x, o.y, a.x, a.y, f.x, f.y) && $c(f.prev, f, f.next) >= 0) return !1;
                    f = f.nextZ
                }
                for (; p && p.z >= h;) {
                    if (p !== e.prev && p !== e.next && Kc(r.x, r.y, o.x, o.y, a.x, a.y, p.x, p.y) && $c(p.prev, p, p.next) >= 0) return !1;
                    p = p.prevZ
                }
                for (; f && f.z <= d;) {
                    if (f !== e.prev && f !== e.next && Kc(r.x, r.y, o.x, o.y, a.x, a.y, f.x, f.y) && $c(f.prev, f, f.next) >= 0) return !1;
                    f = f.nextZ
                }
                return !0
            }

            function Wc(e, t, n) {
                var i = e;
                do {
                    var r = i.prev,
                        o = i.next.next;
                    !el(r, o) && tl(r, i, i.next, o) && nl(r, o) && nl(o, r) && (t.push(r.i / n), t.push(i.i / n), t.push(o.i / n), ol(i), ol(i.next), i = e = o), i = i.next
                } while (i !== e);
                return i
            }

            function qc(e, t, n, i, r, o) {
                var a = e;
                do {
                    for (var s = a.next.next; s !== a.prev;) {
                        if (a.i !== s.i && Qc(a, s)) {
                            var c = il(a, s);
                            return a = Uc(a, a.next), c = Uc(c, c.next), Vc(a, t, n, i, r, o), void Vc(c, t, n, i, r, o)
                        }
                        s = s.next
                    }
                    a = a.next
                } while (a !== e)
            }

            function Yc(e, t) {
                return e.x - t.x
            }

            function Xc(e, t) {
                if (t = function(e, t) {
                        var n, i = t,
                            r = e.x,
                            o = e.y,
                            a = -1 / 0;
                        do {
                            if (o <= i.y && o >= i.next.y && i.next.y !== i.y) {
                                var s = i.x + (o - i.y) * (i.next.x - i.x) / (i.next.y - i.y);
                                if (s <= r && s > a) {
                                    if (a = s, s === r) {
                                        if (o === i.y) return i;
                                        if (o === i.next.y) return i.next
                                    }
                                    n = i.x < i.next.x ? i : i.next
                                }
                            }
                            i = i.next
                        } while (i !== t);
                        if (!n) return null;
                        if (r === a) return n.prev;
                        var c, l = n,
                            u = n.x,
                            h = n.y,
                            d = 1 / 0;
                        i = n.next;
                        for (; i !== l;) r >= i.x && i.x >= u && r !== i.x && Kc(o < h ? r : a, o, u, h, o < h ? a : r, o, i.x, i.y) && ((c = Math.abs(o - i.y) / (r - i.x)) < d || c === d && i.x > n.x) && nl(i, e) && (n = i, d = c), i = i.next;
                        return n
                    }(e, t)) {
                    var n = il(t, e);
                    Uc(n, n.next)
                }
            }

            function Zc(e, t, n, i, r) {
                return (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - n) * r) | e << 8)) | e << 4)) | e << 2)) | e << 1)) | (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - i) * r) | t << 8)) | t << 4)) | t << 2)) | t << 1)) << 1
            }

            function Jc(e) {
                var t = e,
                    n = e;
                do {
                    (t.x < n.x || t.x === n.x && t.y < n.y) && (n = t), t = t.next
                } while (t !== e);
                return n
            }

            function Kc(e, t, n, i, r, o, a, s) {
                return (r - a) * (t - s) - (e - a) * (o - s) >= 0 && (e - a) * (i - s) - (n - a) * (t - s) >= 0 && (n - a) * (o - s) - (r - a) * (i - s) >= 0
            }

            function Qc(e, t) {
                return e.next.i !== t.i && e.prev.i !== t.i && ! function(e, t) {
                    var n = e;
                    do {
                        if (n.i !== e.i && n.next.i !== e.i && n.i !== t.i && n.next.i !== t.i && tl(n, n.next, e, t)) return !0;
                        n = n.next
                    } while (n !== e);
                    return !1
                }(e, t) && nl(e, t) && nl(t, e) && function(e, t) {
                    var n = e,
                        i = !1,
                        r = (e.x + t.x) / 2,
                        o = (e.y + t.y) / 2;
                    do {
                        n.y > o != n.next.y > o && n.next.y !== n.y && r < (n.next.x - n.x) * (o - n.y) / (n.next.y - n.y) + n.x && (i = !i), n = n.next
                    } while (n !== e);
                    return i
                }(e, t)
            }

            function $c(e, t, n) {
                return (t.y - e.y) * (n.x - t.x) - (t.x - e.x) * (n.y - t.y)
            }

            function el(e, t) {
                return e.x === t.x && e.y === t.y
            }

            function tl(e, t, n, i) {
                return !!(el(e, n) && el(t, i) || el(e, i) && el(n, t)) || $c(e, t, n) > 0 != $c(e, t, i) > 0 && $c(n, i, e) > 0 != $c(n, i, t) > 0
            }

            function nl(e, t) {
                return $c(e.prev, e, e.next) < 0 ? $c(e, t, e.next) >= 0 && $c(e, e.prev, t) >= 0 : $c(e, t, e.prev) < 0 || $c(e, e.next, t) < 0
            }

            function il(e, t) {
                var n = new al(e.i, e.x, e.y),
                    i = new al(t.i, t.x, t.y),
                    r = e.next,
                    o = t.prev;
                return e.next = t, t.prev = e, n.next = r, r.prev = n, i.next = n, n.prev = i, o.next = i, i.prev = o, i
            }

            function rl(e, t, n, i) {
                var r = new al(e, t, n);
                return i ? (r.next = i.next, r.prev = i, i.next.prev = r, i.next = r) : (r.prev = r, r.next = r), r
            }

            function ol(e) {
                e.next.prev = e.prev, e.prev.next = e.next, e.prevZ && (e.prevZ.nextZ = e.nextZ), e.nextZ && (e.nextZ.prevZ = e.prevZ)
            }

            function al(e, t, n) {
                this.i = e, this.x = t, this.y = n, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1
            }
            var sl = {
                area: function(e) {
                    for (var t = e.length, n = 0, i = t - 1, r = 0; r < t; i = r++) n += e[i].x * e[r].y - e[r].x * e[i].y;
                    return .5 * n
                },
                isClockWise: function(e) {
                    return sl.area(e) < 0
                },
                triangulateShape: function(e, t) {
                    var n = [],
                        i = [],
                        r = [];
                    cl(e), ll(n, e);
                    var o = e.length;
                    t.forEach(cl);
                    for (var a = 0; a < t.length; a++) i.push(o), o += t[a].length, ll(n, t[a]);
                    var s = zc(n, i);
                    for (a = 0; a < s.length; a += 3) r.push(s.slice(a, a + 3));
                    return r
                }
            };

            function cl(e) {
                var t = e.length;
                t > 2 && e[t - 1].equals(e[0]) && e.pop()
            }

            function ll(e, t) {
                for (var n = 0; n < t.length; n++) e.push(t[n].x), e.push(t[n].y)
            }

            function ul(e, t) {
                $r.call(this), this.type = "ExtrudeGeometry", this.parameters = {
                    shapes: e,
                    options: t
                }, this.fromBufferGeometry(new hl(e, t)), this.mergeVertices()
            }

            function hl(e, t) {
                Pr.call(this), this.type = "ExtrudeBufferGeometry", this.parameters = {
                    shapes: e,
                    options: t
                }, e = Array.isArray(e) ? e : [e];
                for (var n = this, i = [], r = [], o = 0, a = e.length; o < a; o++) {
                    s(e[o])
                }

                function s(e) {
                    var o = [],
                        a = void 0 !== t.curveSegments ? t.curveSegments : 12,
                        s = void 0 !== t.steps ? t.steps : 1,
                        c = void 0 !== t.depth ? t.depth : 100,
                        l = void 0 === t.bevelEnabled || t.bevelEnabled,
                        u = void 0 !== t.bevelThickness ? t.bevelThickness : 6,
                        h = void 0 !== t.bevelSize ? t.bevelSize : u - 2,
                        d = void 0 !== t.bevelOffset ? t.bevelOffset : 0,
                        p = void 0 !== t.bevelSegments ? t.bevelSegments : 3,
                        f = t.extrudePath,
                        m = void 0 !== t.UVGenerator ? t.UVGenerator : dl;
                    void 0 !== t.amount && (console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."), c = t.amount);
                    var v, g, y, b, x, w, _, M, T = !1;
                    f && (v = f.getSpacedPoints(s), T = !0, l = !1, g = f.computeFrenetFrames(s, !1), y = new Fn, b = new Fn, x = new Fn), l || (p = 0, u = 0, h = 0, d = 0);
                    var S = e.extractPoints(a),
                        E = S.shape,
                        A = S.holes;
                    if (!sl.isClockWise(E))
                        for (E = E.reverse(), _ = 0, M = A.length; _ < M; _++) w = A[_], sl.isClockWise(w) && (A[_] = w.reverse());
                    var P = sl.triangulateShape(E, A),
                        L = E;
                    for (_ = 0, M = A.length; _ < M; _++) w = A[_], E = E.concat(w);

                    function C(e, t, n) {
                        return t || console.error("THREE.ExtrudeGeometry: vec does not exist"), t.clone().multiplyScalar(n).add(e)
                    }
                    var R, O, D, I, j, k, F = E.length,
                        N = P.length;

                    function z(e, t, n) {
                        var i, r, o, a = e.x - t.x,
                            s = e.y - t.y,
                            c = n.x - e.x,
                            l = n.y - e.y,
                            u = a * a + s * s,
                            h = a * l - s * c;
                        if (Math.abs(h) > Number.EPSILON) {
                            var d = Math.sqrt(u),
                                p = Math.sqrt(c * c + l * l),
                                f = t.x - s / d,
                                m = t.y + a / d,
                                v = ((n.x - l / p - f) * l - (n.y + c / p - m) * c) / (a * l - s * c),
                                g = (i = f + a * v - e.x) * i + (r = m + s * v - e.y) * r;
                            if (g <= 2) return new En(i, r);
                            o = Math.sqrt(g / 2)
                        } else {
                            var y = !1;
                            a > Number.EPSILON ? c > Number.EPSILON && (y = !0) : a < -Number.EPSILON ? c < -Number.EPSILON && (y = !0) : Math.sign(s) === Math.sign(l) && (y = !0), y ? (i = -s, r = a, o = Math.sqrt(u)) : (i = a, r = s, o = Math.sqrt(u / 2))
                        }
                        return new En(i / o, r / o)
                    }
                    for (var B = [], U = 0, V = L.length, H = V - 1, G = U + 1; U < V; U++, H++, G++) H === V && (H = 0), G === V && (G = 0), B[U] = z(L[U], L[H], L[G]);
                    var W, q, Y = [],
                        X = B.concat();
                    for (_ = 0, M = A.length; _ < M; _++) {
                        for (w = A[_], W = [], U = 0, H = (V = w.length) - 1, G = U + 1; U < V; U++, H++, G++) H === V && (H = 0), G === V && (G = 0), W[U] = z(w[U], w[H], w[G]);
                        Y.push(W), X = X.concat(W)
                    }
                    for (R = 0; R < p; R++) {
                        for (D = R / p, I = u * Math.cos(D * Math.PI / 2), O = h * Math.sin(D * Math.PI / 2) + d, U = 0, V = L.length; U < V; U++) J((j = C(L[U], B[U], O)).x, j.y, -I);
                        for (_ = 0, M = A.length; _ < M; _++)
                            for (w = A[_], W = Y[_], U = 0, V = w.length; U < V; U++) J((j = C(w[U], W[U], O)).x, j.y, -I)
                    }
                    for (O = h + d, U = 0; U < F; U++) j = l ? C(E[U], X[U], O) : E[U], T ? (b.copy(g.normals[0]).multiplyScalar(j.x), y.copy(g.binormals[0]).multiplyScalar(j.y), x.copy(v[0]).add(b).add(y), J(x.x, x.y, x.z)) : J(j.x, j.y, 0);
                    for (q = 1; q <= s; q++)
                        for (U = 0; U < F; U++) j = l ? C(E[U], X[U], O) : E[U], T ? (b.copy(g.normals[q]).multiplyScalar(j.x), y.copy(g.binormals[q]).multiplyScalar(j.y), x.copy(v[q]).add(b).add(y), J(x.x, x.y, x.z)) : J(j.x, j.y, c / s * q);
                    for (R = p - 1; R >= 0; R--) {
                        for (D = R / p, I = u * Math.cos(D * Math.PI / 2), O = h * Math.sin(D * Math.PI / 2) + d, U = 0, V = L.length; U < V; U++) J((j = C(L[U], B[U], O)).x, j.y, c + I);
                        for (_ = 0, M = A.length; _ < M; _++)
                            for (w = A[_], W = Y[_], U = 0, V = w.length; U < V; U++) j = C(w[U], W[U], O), T ? J(j.x, j.y + v[s - 1].y, v[s - 1].x + I) : J(j.x, j.y, c + I)
                    }

                    function Z(e, t) {
                        var n, i;
                        for (U = e.length; --U >= 0;) {
                            n = U, (i = U - 1) < 0 && (i = e.length - 1);
                            var r = 0,
                                o = s + 2 * p;
                            for (r = 0; r < o; r++) {
                                var a = F * r,
                                    c = F * (r + 1);
                                Q(t + n + a, t + i + a, t + i + c, t + n + c)
                            }
                        }
                    }

                    function J(e, t, n) {
                        o.push(e), o.push(t), o.push(n)
                    }

                    function K(e, t, r) {
                        $(e), $(t), $(r);
                        var o = i.length / 3,
                            a = m.generateTopUV(n, i, o - 3, o - 2, o - 1);
                        ee(a[0]), ee(a[1]), ee(a[2])
                    }

                    function Q(e, t, r, o) {
                        $(e), $(t), $(o), $(t), $(r), $(o);
                        var a = i.length / 3,
                            s = m.generateSideWallUV(n, i, a - 6, a - 3, a - 2, a - 1);
                        ee(s[0]), ee(s[1]), ee(s[3]), ee(s[1]), ee(s[2]), ee(s[3])
                    }

                    function $(e) {
                        i.push(o[3 * e + 0]), i.push(o[3 * e + 1]), i.push(o[3 * e + 2])
                    }

                    function ee(e) {
                        r.push(e.x), r.push(e.y)
                    }! function() {
                        var e = i.length / 3;
                        if (l) {
                            var t = 0,
                                r = F * t;
                            for (U = 0; U < N; U++) K((k = P[U])[2] + r, k[1] + r, k[0] + r);
                            for (r = F * (t = s + 2 * p), U = 0; U < N; U++) K((k = P[U])[0] + r, k[1] + r, k[2] + r)
                        } else {
                            for (U = 0; U < N; U++) K((k = P[U])[2], k[1], k[0]);
                            for (U = 0; U < N; U++) K((k = P[U])[0] + F * s, k[1] + F * s, k[2] + F * s)
                        }
                        n.addGroup(e, i.length / 3 - e, 0)
                    }(),
                    function() {
                        var e = i.length / 3,
                            t = 0;
                        for (Z(L, t), t += L.length, _ = 0, M = A.length; _ < M; _++) Z(w = A[_], t), t += w.length;
                        n.addGroup(e, i.length / 3 - e, 1)
                    }()
                }
                this.setAttribute("position", new gr(i, 3)), this.setAttribute("uv", new gr(r, 2)), this.computeVertexNormals()
            }
            ul.prototype = Object.create($r.prototype), ul.prototype.constructor = ul, ul.prototype.toJSON = function() {
                var e = $r.prototype.toJSON.call(this);
                return pl(this.parameters.shapes, this.parameters.options, e)
            }, hl.prototype = Object.create(Pr.prototype), hl.prototype.constructor = hl, hl.prototype.toJSON = function() {
                var e = Pr.prototype.toJSON.call(this);
                return pl(this.parameters.shapes, this.parameters.options, e)
            };
            var dl = {
                generateTopUV: function(e, t, n, i, r) {
                    var o = t[3 * n],
                        a = t[3 * n + 1],
                        s = t[3 * i],
                        c = t[3 * i + 1],
                        l = t[3 * r],
                        u = t[3 * r + 1];
                    return [new En(o, a), new En(s, c), new En(l, u)]
                },
                generateSideWallUV: function(e, t, n, i, r, o) {
                    var a = t[3 * n],
                        s = t[3 * n + 1],
                        c = t[3 * n + 2],
                        l = t[3 * i],
                        u = t[3 * i + 1],
                        h = t[3 * i + 2],
                        d = t[3 * r],
                        p = t[3 * r + 1],
                        f = t[3 * r + 2],
                        m = t[3 * o],
                        v = t[3 * o + 1],
                        g = t[3 * o + 2];
                    return Math.abs(s - u) < .01 ? [new En(a, 1 - c), new En(l, 1 - h), new En(d, 1 - f), new En(m, 1 - g)] : [new En(s, 1 - c), new En(u, 1 - h), new En(p, 1 - f), new En(v, 1 - g)]
                }
            };

            function pl(e, t, n) {
                if (n.shapes = [], Array.isArray(e))
                    for (var i = 0, r = e.length; i < r; i++) {
                        var o = e[i];
                        n.shapes.push(o.uuid)
                    } else n.shapes.push(e.uuid);
                return void 0 !== t.extrudePath && (n.options.extrudePath = t.extrudePath.toJSON()), n
            }

            function fl(e, t) {
                $r.call(this), this.type = "TextGeometry", this.parameters = {
                    text: e,
                    parameters: t
                }, this.fromBufferGeometry(new ml(e, t)), this.mergeVertices()
            }

            function ml(e, t) {
                var n = (t = t || {}).font;
                if (!n || !n.isFont) return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."), new $r;
                var i = n.generateShapes(e, t.size);
                t.depth = void 0 !== t.height ? t.height : 50, void 0 === t.bevelThickness && (t.bevelThickness = 10), void 0 === t.bevelSize && (t.bevelSize = 8), void 0 === t.bevelEnabled && (t.bevelEnabled = !1), hl.call(this, i, t), this.type = "TextBufferGeometry"
            }

            function vl(e, t, n, i, r, o, a) {
                $r.call(this), this.type = "SphereGeometry", this.parameters = {
                    radius: e,
                    widthSegments: t,
                    heightSegments: n,
                    phiStart: i,
                    phiLength: r,
                    thetaStart: o,
                    thetaLength: a
                }, this.fromBufferGeometry(new gl(e, t, n, i, r, o, a)), this.mergeVertices()
            }

            function gl(e, t, n, i, r, o, a) {
                Pr.call(this), this.type = "SphereBufferGeometry", this.parameters = {
                    radius: e,
                    widthSegments: t,
                    heightSegments: n,
                    phiStart: i,
                    phiLength: r,
                    thetaStart: o,
                    thetaLength: a
                }, e = e || 1, t = Math.max(3, Math.floor(t) || 8), n = Math.max(2, Math.floor(n) || 6), i = void 0 !== i ? i : 0, r = void 0 !== r ? r : 2 * Math.PI, o = void 0 !== o ? o : 0, a = void 0 !== a ? a : Math.PI;
                var s, c, l = Math.min(o + a, Math.PI),
                    u = 0,
                    h = [],
                    d = new Fn,
                    p = new Fn,
                    f = [],
                    m = [],
                    v = [],
                    g = [];
                for (c = 0; c <= n; c++) {
                    var y = [],
                        b = c / n,
                        x = 0;
                    for (0 == c && 0 == o ? x = .5 / t : c == n && l == Math.PI && (x = -.5 / t), s = 0; s <= t; s++) {
                        var w = s / t;
                        d.x = -e * Math.cos(i + w * r) * Math.sin(o + b * a), d.y = e * Math.cos(o + b * a), d.z = e * Math.sin(i + w * r) * Math.sin(o + b * a), m.push(d.x, d.y, d.z), p.copy(d).normalize(), v.push(p.x, p.y, p.z), g.push(w + x, 1 - b), y.push(u++)
                    }
                    h.push(y)
                }
                for (c = 0; c < n; c++)
                    for (s = 0; s < t; s++) {
                        var _ = h[c][s + 1],
                            M = h[c][s],
                            T = h[c + 1][s],
                            S = h[c + 1][s + 1];
                        (0 !== c || o > 0) && f.push(_, M, S), (c !== n - 1 || l < Math.PI) && f.push(M, T, S)
                    }
                this.setIndex(f), this.setAttribute("position", new gr(m, 3)), this.setAttribute("normal", new gr(v, 3)), this.setAttribute("uv", new gr(g, 2))
            }

            function yl(e, t, n, i, r, o) {
                $r.call(this), this.type = "RingGeometry", this.parameters = {
                    innerRadius: e,
                    outerRadius: t,
                    thetaSegments: n,
                    phiSegments: i,
                    thetaStart: r,
                    thetaLength: o
                }, this.fromBufferGeometry(new bl(e, t, n, i, r, o)), this.mergeVertices()
            }

            function bl(e, t, n, i, r, o) {
                Pr.call(this), this.type = "RingBufferGeometry", this.parameters = {
                    innerRadius: e,
                    outerRadius: t,
                    thetaSegments: n,
                    phiSegments: i,
                    thetaStart: r,
                    thetaLength: o
                }, e = e || .5, t = t || 1, r = void 0 !== r ? r : 0, o = void 0 !== o ? o : 2 * Math.PI, n = void 0 !== n ? Math.max(3, n) : 8;
                var a, s, c, l = [],
                    u = [],
                    h = [],
                    d = [],
                    p = e,
                    f = (t - e) / (i = void 0 !== i ? Math.max(1, i) : 1),
                    m = new Fn,
                    v = new En;
                for (s = 0; s <= i; s++) {
                    for (c = 0; c <= n; c++) a = r + c / n * o, m.x = p * Math.cos(a), m.y = p * Math.sin(a), u.push(m.x, m.y, m.z), h.push(0, 0, 1), v.x = (m.x / t + 1) / 2, v.y = (m.y / t + 1) / 2, d.push(v.x, v.y);
                    p += f
                }
                for (s = 0; s < i; s++) {
                    var g = s * (n + 1);
                    for (c = 0; c < n; c++) {
                        var y = a = c + g,
                            b = a + n + 1,
                            x = a + n + 2,
                            w = a + 1;
                        l.push(y, b, w), l.push(b, x, w)
                    }
                }
                this.setIndex(l), this.setAttribute("position", new gr(u, 3)), this.setAttribute("normal", new gr(h, 3)), this.setAttribute("uv", new gr(d, 2))
            }

            function xl(e, t, n, i) {
                $r.call(this), this.type = "LatheGeometry", this.parameters = {
                    points: e,
                    segments: t,
                    phiStart: n,
                    phiLength: i
                }, this.fromBufferGeometry(new wl(e, t, n, i)), this.mergeVertices()
            }

            function wl(e, t, n, i) {
                Pr.call(this), this.type = "LatheBufferGeometry", this.parameters = {
                    points: e,
                    segments: t,
                    phiStart: n,
                    phiLength: i
                }, t = Math.floor(t) || 12, n = n || 0, i = i || 2 * Math.PI, i = Sn.clamp(i, 0, 2 * Math.PI);
                var r, o, a, s = [],
                    c = [],
                    l = [],
                    u = 1 / t,
                    h = new Fn,
                    d = new En;
                for (o = 0; o <= t; o++) {
                    var p = n + o * u * i,
                        f = Math.sin(p),
                        m = Math.cos(p);
                    for (a = 0; a <= e.length - 1; a++) h.x = e[a].x * f, h.y = e[a].y, h.z = e[a].x * m, c.push(h.x, h.y, h.z), d.x = o / t, d.y = a / (e.length - 1), l.push(d.x, d.y)
                }
                for (o = 0; o < t; o++)
                    for (a = 0; a < e.length - 1; a++) {
                        var v = r = a + o * e.length,
                            g = r + e.length,
                            y = r + e.length + 1,
                            b = r + 1;
                        s.push(v, g, b), s.push(g, y, b)
                    }
                if (this.setIndex(s), this.setAttribute("position", new gr(c, 3)), this.setAttribute("uv", new gr(l, 2)), this.computeVertexNormals(), i === 2 * Math.PI) {
                    var x = this.attributes.normal.array,
                        w = new Fn,
                        _ = new Fn,
                        M = new Fn;
                    for (r = t * e.length * 3, o = 0, a = 0; o < e.length; o++, a += 3) w.x = x[a + 0], w.y = x[a + 1], w.z = x[a + 2], _.x = x[r + a + 0], _.y = x[r + a + 1], _.z = x[r + a + 2], M.addVectors(w, _).normalize(), x[a + 0] = x[r + a + 0] = M.x, x[a + 1] = x[r + a + 1] = M.y, x[a + 2] = x[r + a + 2] = M.z
                }
            }

            function _l(e, t) {
                $r.call(this), this.type = "ShapeGeometry", "object" == typeof t && (console.warn("THREE.ShapeGeometry: Options parameter has been removed."), t = t.curveSegments), this.parameters = {
                    shapes: e,
                    curveSegments: t
                }, this.fromBufferGeometry(new Ml(e, t)), this.mergeVertices()
            }

            function Ml(e, t) {
                Pr.call(this), this.type = "ShapeBufferGeometry", this.parameters = {
                    shapes: e,
                    curveSegments: t
                }, t = t || 12;
                var n = [],
                    i = [],
                    r = [],
                    o = [],
                    a = 0,
                    s = 0;
                if (!1 === Array.isArray(e)) l(e);
                else
                    for (var c = 0; c < e.length; c++) l(e[c]), this.addGroup(a, s, c), a += s, s = 0;

                function l(e) {
                    var a, c, l, u = i.length / 3,
                        h = e.extractPoints(t),
                        d = h.shape,
                        p = h.holes;
                    for (!1 === sl.isClockWise(d) && (d = d.reverse()), a = 0, c = p.length; a < c; a++) l = p[a], !0 === sl.isClockWise(l) && (p[a] = l.reverse());
                    var f = sl.triangulateShape(d, p);
                    for (a = 0, c = p.length; a < c; a++) l = p[a], d = d.concat(l);
                    for (a = 0, c = d.length; a < c; a++) {
                        var m = d[a];
                        i.push(m.x, m.y, 0), r.push(0, 0, 1), o.push(m.x, m.y)
                    }
                    for (a = 0, c = f.length; a < c; a++) {
                        var v = f[a],
                            g = v[0] + u,
                            y = v[1] + u,
                            b = v[2] + u;
                        n.push(g, y, b), s += 3
                    }
                }
                this.setIndex(n), this.setAttribute("position", new gr(i, 3)), this.setAttribute("normal", new gr(r, 3)), this.setAttribute("uv", new gr(o, 2))
            }

            function Tl(e, t) {
                if (t.shapes = [], Array.isArray(e))
                    for (var n = 0, i = e.length; n < i; n++) {
                        var r = e[n];
                        t.shapes.push(r.uuid)
                    } else t.shapes.push(e.uuid);
                return t
            }

            function Sl(e, t) {
                Pr.call(this), this.type = "EdgesGeometry", this.parameters = {
                    thresholdAngle: t
                }, t = void 0 !== t ? t : 1;
                var n, i, r, o, a = [],
                    s = Math.cos(Sn.DEG2RAD * t),
                    c = [0, 0],
                    l = {},
                    u = ["a", "b", "c"];
                e.isBufferGeometry ? (o = new $r).fromBufferGeometry(e) : o = e.clone(), o.mergeVertices(), o.computeFaceNormals();
                for (var h = o.vertices, d = o.faces, p = 0, f = d.length; p < f; p++)
                    for (var m = d[p], v = 0; v < 3; v++) n = m[u[v]], i = m[u[(v + 1) % 3]], c[0] = Math.min(n, i), c[1] = Math.max(n, i), void 0 === l[r = c[0] + "," + c[1]] ? l[r] = {
                        index1: c[0],
                        index2: c[1],
                        face1: p,
                        face2: void 0
                    } : l[r].face2 = p;
                for (r in l) {
                    var g = l[r];
                    if (void 0 === g.face2 || d[g.face1].normal.dot(d[g.face2].normal) <= s) {
                        var y = h[g.index1];
                        a.push(y.x, y.y, y.z), y = h[g.index2], a.push(y.x, y.y, y.z)
                    }
                }
                this.setAttribute("position", new gr(a, 3))
            }

            function El(e, t, n, i, r, o, a, s) {
                $r.call(this), this.type = "CylinderGeometry", this.parameters = {
                    radiusTop: e,
                    radiusBottom: t,
                    height: n,
                    radialSegments: i,
                    heightSegments: r,
                    openEnded: o,
                    thetaStart: a,
                    thetaLength: s
                }, this.fromBufferGeometry(new Al(e, t, n, i, r, o, a, s)), this.mergeVertices()
            }

            function Al(e, t, n, i, r, o, a, s) {
                Pr.call(this), this.type = "CylinderBufferGeometry", this.parameters = {
                    radiusTop: e,
                    radiusBottom: t,
                    height: n,
                    radialSegments: i,
                    heightSegments: r,
                    openEnded: o,
                    thetaStart: a,
                    thetaLength: s
                };
                var c = this;
                e = void 0 !== e ? e : 1, t = void 0 !== t ? t : 1, n = n || 1, i = Math.floor(i) || 8, r = Math.floor(r) || 1, o = void 0 !== o && o, a = void 0 !== a ? a : 0, s = void 0 !== s ? s : 2 * Math.PI;
                var l = [],
                    u = [],
                    h = [],
                    d = [],
                    p = 0,
                    f = [],
                    m = n / 2,
                    v = 0;

                function g(n) {
                    var r, o, f, g = new En,
                        y = new Fn,
                        b = 0,
                        x = !0 === n ? e : t,
                        w = !0 === n ? 1 : -1;
                    for (o = p, r = 1; r <= i; r++) u.push(0, m * w, 0), h.push(0, w, 0), d.push(.5, .5), p++;
                    for (f = p, r = 0; r <= i; r++) {
                        var _ = r / i * s + a,
                            M = Math.cos(_),
                            T = Math.sin(_);
                        y.x = x * T, y.y = m * w, y.z = x * M, u.push(y.x, y.y, y.z), h.push(0, w, 0), g.x = .5 * M + .5, g.y = .5 * T * w + .5, d.push(g.x, g.y), p++
                    }
                    for (r = 0; r < i; r++) {
                        var S = o + r,
                            E = f + r;
                        !0 === n ? l.push(E, E + 1, S) : l.push(E + 1, E, S), b += 3
                    }
                    c.addGroup(v, b, !0 === n ? 1 : 2), v += b
                }! function() {
                    var o, g, y = new Fn,
                        b = new Fn,
                        x = 0,
                        w = (t - e) / n;
                    for (g = 0; g <= r; g++) {
                        var _ = [],
                            M = g / r,
                            T = M * (t - e) + e;
                        for (o = 0; o <= i; o++) {
                            var S = o / i,
                                E = S * s + a,
                                A = Math.sin(E),
                                P = Math.cos(E);
                            b.x = T * A, b.y = -M * n + m, b.z = T * P, u.push(b.x, b.y, b.z), y.set(A, w, P).normalize(), h.push(y.x, y.y, y.z), d.push(S, 1 - M), _.push(p++)
                        }
                        f.push(_)
                    }
                    for (o = 0; o < i; o++)
                        for (g = 0; g < r; g++) {
                            var L = f[g][o],
                                C = f[g + 1][o],
                                R = f[g + 1][o + 1],
                                O = f[g][o + 1];
                            l.push(L, C, O), l.push(C, R, O), x += 6
                        }
                    c.addGroup(v, x, 0), v += x
                }(), !1 === o && (e > 0 && g(!0), t > 0 && g(!1)), this.setIndex(l), this.setAttribute("position", new gr(u, 3)), this.setAttribute("normal", new gr(h, 3)), this.setAttribute("uv", new gr(d, 2))
            }

            function Pl(e, t, n, i, r, o, a) {
                El.call(this, 0, e, t, n, i, r, o, a), this.type = "ConeGeometry", this.parameters = {
                    radius: e,
                    height: t,
                    radialSegments: n,
                    heightSegments: i,
                    openEnded: r,
                    thetaStart: o,
                    thetaLength: a
                }
            }

            function Ll(e, t, n, i, r, o, a) {
                Al.call(this, 0, e, t, n, i, r, o, a), this.type = "ConeBufferGeometry", this.parameters = {
                    radius: e,
                    height: t,
                    radialSegments: n,
                    heightSegments: i,
                    openEnded: r,
                    thetaStart: o,
                    thetaLength: a
                }
            }

            function Cl(e, t, n, i) {
                $r.call(this), this.type = "CircleGeometry", this.parameters = {
                    radius: e,
                    segments: t,
                    thetaStart: n,
                    thetaLength: i
                }, this.fromBufferGeometry(new Rl(e, t, n, i)), this.mergeVertices()
            }

            function Rl(e, t, n, i) {
                Pr.call(this), this.type = "CircleBufferGeometry", this.parameters = {
                    radius: e,
                    segments: t,
                    thetaStart: n,
                    thetaLength: i
                }, e = e || 1, t = void 0 !== t ? Math.max(3, t) : 8, n = void 0 !== n ? n : 0, i = void 0 !== i ? i : 2 * Math.PI;
                var r, o, a = [],
                    s = [],
                    c = [],
                    l = [],
                    u = new Fn,
                    h = new En;
                for (s.push(0, 0, 0), c.push(0, 0, 1), l.push(.5, .5), o = 0, r = 3; o <= t; o++, r += 3) {
                    var d = n + o / t * i;
                    u.x = e * Math.cos(d), u.y = e * Math.sin(d), s.push(u.x, u.y, u.z), c.push(0, 0, 1), h.x = (s[r] / e + 1) / 2, h.y = (s[r + 1] / e + 1) / 2, l.push(h.x, h.y)
                }
                for (r = 1; r <= t; r++) a.push(r, r + 1, 0);
                this.setIndex(a), this.setAttribute("position", new gr(s, 3)), this.setAttribute("normal", new gr(c, 3)), this.setAttribute("uv", new gr(l, 2))
            }
            fl.prototype = Object.create($r.prototype), fl.prototype.constructor = fl, ml.prototype = Object.create(hl.prototype), ml.prototype.constructor = ml, vl.prototype = Object.create($r.prototype), vl.prototype.constructor = vl, gl.prototype = Object.create(Pr.prototype), gl.prototype.constructor = gl, yl.prototype = Object.create($r.prototype), yl.prototype.constructor = yl, bl.prototype = Object.create(Pr.prototype), bl.prototype.constructor = bl, xl.prototype = Object.create($r.prototype), xl.prototype.constructor = xl, wl.prototype = Object.create(Pr.prototype), wl.prototype.constructor = wl, _l.prototype = Object.create($r.prototype), _l.prototype.constructor = _l, _l.prototype.toJSON = function() {
                var e = $r.prototype.toJSON.call(this);
                return Tl(this.parameters.shapes, e)
            }, Ml.prototype = Object.create(Pr.prototype), Ml.prototype.constructor = Ml, Ml.prototype.toJSON = function() {
                var e = Pr.prototype.toJSON.call(this);
                return Tl(this.parameters.shapes, e)
            }, Sl.prototype = Object.create(Pr.prototype), Sl.prototype.constructor = Sl, El.prototype = Object.create($r.prototype), El.prototype.constructor = El, Al.prototype = Object.create(Pr.prototype), Al.prototype.constructor = Al, Pl.prototype = Object.create(El.prototype), Pl.prototype.constructor = Pl, Ll.prototype = Object.create(Al.prototype), Ll.prototype.constructor = Ll, Cl.prototype = Object.create($r.prototype), Cl.prototype.constructor = Cl, Rl.prototype = Object.create(Pr.prototype), Rl.prototype.constructor = Rl;
            var Ol = Object.freeze({
                __proto__: null,
                WireframeGeometry: xc,
                ParametricGeometry: wc,
                ParametricBufferGeometry: _c,
                TetrahedronGeometry: Sc,
                TetrahedronBufferGeometry: Ec,
                OctahedronGeometry: Ac,
                OctahedronBufferGeometry: Pc,
                IcosahedronGeometry: Lc,
                IcosahedronBufferGeometry: Cc,
                DodecahedronGeometry: Rc,
                DodecahedronBufferGeometry: Oc,
                PolyhedronGeometry: Mc,
                PolyhedronBufferGeometry: Tc,
                TubeGeometry: Dc,
                TubeBufferGeometry: Ic,
                TorusKnotGeometry: jc,
                TorusKnotBufferGeometry: kc,
                TorusGeometry: Fc,
                TorusBufferGeometry: Nc,
                TextGeometry: fl,
                TextBufferGeometry: ml,
                SphereGeometry: vl,
                SphereBufferGeometry: gl,
                RingGeometry: yl,
                RingBufferGeometry: bl,
                PlaneGeometry: yo,
                PlaneBufferGeometry: bo,
                LatheGeometry: xl,
                LatheBufferGeometry: wl,
                ShapeGeometry: _l,
                ShapeBufferGeometry: Ml,
                ExtrudeGeometry: ul,
                ExtrudeBufferGeometry: hl,
                EdgesGeometry: Sl,
                ConeGeometry: Pl,
                ConeBufferGeometry: Ll,
                CylinderGeometry: El,
                CylinderBufferGeometry: Al,
                CircleGeometry: Cl,
                CircleBufferGeometry: Rl,
                BoxGeometry: eo,
                BoxBufferGeometry: to
            });

            function Dl(e) {
                ar.call(this), this.type = "ShadowMaterial", this.color = new er(0), this.transparent = !0, this.setValues(e)
            }

            function Il(e) {
                oo.call(this, e), this.type = "RawShaderMaterial"
            }

            function jl(e) {
                ar.call(this), this.defines = {
                    STANDARD: ""
                }, this.type = "MeshStandardMaterial", this.color = new er(16777215), this.roughness = 1, this.metalness = 0, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new er(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Yt, this.normalScale = new En(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapIntensity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
            }

            function kl(e) {
                jl.call(this), this.defines = {
                    STANDARD: "",
                    PHYSICAL: ""
                }, this.type = "MeshPhysicalMaterial", this.reflectivity = .5, this.clearcoat = 0, this.clearcoatRoughness = 0, this.sheen = null, this.clearcoatNormalScale = new En(1, 1), this.clearcoatNormalMap = null, this.transparency = 0, this.setValues(e)
            }

            function Fl(e) {
                ar.call(this), this.type = "MeshPhongMaterial", this.color = new er(16777215), this.specular = new er(1118481), this.shininess = 30, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new er(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Yt, this.normalScale = new En(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = ee, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
            }

            function Nl(e) {
                ar.call(this), this.defines = {
                    TOON: ""
                }, this.type = "MeshToonMaterial", this.color = new er(16777215), this.specular = new er(1118481), this.shininess = 30, this.map = null, this.gradientMap = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new er(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Yt, this.normalScale = new En(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
            }

            function zl(e) {
                ar.call(this), this.type = "MeshNormalMaterial", this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Yt, this.normalScale = new En(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
            }

            function Bl(e) {
                ar.call(this), this.type = "MeshLambertMaterial", this.color = new er(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new er(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = ee, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
            }

            function Ul(e) {
                ar.call(this), this.defines = {
                    MATCAP: ""
                }, this.type = "MeshMatcapMaterial", this.color = new er(16777215), this.matcap = null, this.map = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Yt, this.normalScale = new En(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.alphaMap = null, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
            }

            function Vl(e) {
                Qs.call(this), this.type = "LineDashedMaterial", this.scale = 1, this.dashSize = 3, this.gapSize = 1, this.setValues(e)
            }
            Dl.prototype = Object.create(ar.prototype), Dl.prototype.constructor = Dl, Dl.prototype.isShadowMaterial = !0, Dl.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this
            }, Il.prototype = Object.create(oo.prototype), Il.prototype.constructor = Il, Il.prototype.isRawShaderMaterial = !0, jl.prototype = Object.create(ar.prototype), jl.prototype.constructor = jl, jl.prototype.isMeshStandardMaterial = !0, jl.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.defines = {
                    STANDARD: ""
                }, this.color.copy(e.color), this.roughness = e.roughness, this.metalness = e.metalness, this.map = e.map, this.lightMap = e.lightMap, this.lightMapIntensity = e.lightMapIntensity, this.aoMap = e.aoMap, this.aoMapIntensity = e.aoMapIntensity, this.emissive.copy(e.emissive), this.emissiveMap = e.emissiveMap, this.emissiveIntensity = e.emissiveIntensity, this.bumpMap = e.bumpMap, this.bumpScale = e.bumpScale, this.normalMap = e.normalMap, this.normalMapType = e.normalMapType, this.normalScale.copy(e.normalScale), this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.roughnessMap = e.roughnessMap, this.metalnessMap = e.metalnessMap, this.alphaMap = e.alphaMap, this.envMap = e.envMap, this.envMapIntensity = e.envMapIntensity, this.refractionRatio = e.refractionRatio, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.wireframeLinecap = e.wireframeLinecap, this.wireframeLinejoin = e.wireframeLinejoin, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this
            }, kl.prototype = Object.create(jl.prototype), kl.prototype.constructor = kl, kl.prototype.isMeshPhysicalMaterial = !0, kl.prototype.copy = function(e) {
                return jl.prototype.copy.call(this, e), this.defines = {
                    STANDARD: "",
                    PHYSICAL: ""
                }, this.reflectivity = e.reflectivity, this.clearcoat = e.clearcoat, this.clearcoatRoughness = e.clearcoatRoughness, e.sheen ? this.sheen = (this.sheen || new er).copy(e.sheen) : this.sheen = null, this.clearcoatNormalMap = e.clearcoatNormalMap, this.clearcoatNormalScale.copy(e.clearcoatNormalScale), this.transparency = e.transparency, this
            }, Fl.prototype = Object.create(ar.prototype), Fl.prototype.constructor = Fl, Fl.prototype.isMeshPhongMaterial = !0, Fl.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.specular.copy(e.specular), this.shininess = e.shininess, this.map = e.map, this.lightMap = e.lightMap, this.lightMapIntensity = e.lightMapIntensity, this.aoMap = e.aoMap, this.aoMapIntensity = e.aoMapIntensity, this.emissive.copy(e.emissive), this.emissiveMap = e.emissiveMap, this.emissiveIntensity = e.emissiveIntensity, this.bumpMap = e.bumpMap, this.bumpScale = e.bumpScale, this.normalMap = e.normalMap, this.normalMapType = e.normalMapType, this.normalScale.copy(e.normalScale), this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.specularMap = e.specularMap, this.alphaMap = e.alphaMap, this.envMap = e.envMap, this.combine = e.combine, this.reflectivity = e.reflectivity, this.refractionRatio = e.refractionRatio, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.wireframeLinecap = e.wireframeLinecap, this.wireframeLinejoin = e.wireframeLinejoin, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this
            }, Nl.prototype = Object.create(ar.prototype), Nl.prototype.constructor = Nl, Nl.prototype.isMeshToonMaterial = !0, Nl.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.specular.copy(e.specular), this.shininess = e.shininess, this.map = e.map, this.gradientMap = e.gradientMap, this.lightMap = e.lightMap, this.lightMapIntensity = e.lightMapIntensity, this.aoMap = e.aoMap, this.aoMapIntensity = e.aoMapIntensity, this.emissive.copy(e.emissive), this.emissiveMap = e.emissiveMap, this.emissiveIntensity = e.emissiveIntensity, this.bumpMap = e.bumpMap, this.bumpScale = e.bumpScale, this.normalMap = e.normalMap, this.normalMapType = e.normalMapType, this.normalScale.copy(e.normalScale), this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.specularMap = e.specularMap, this.alphaMap = e.alphaMap, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.wireframeLinecap = e.wireframeLinecap, this.wireframeLinejoin = e.wireframeLinejoin, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this
            }, zl.prototype = Object.create(ar.prototype), zl.prototype.constructor = zl, zl.prototype.isMeshNormalMaterial = !0, zl.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.bumpMap = e.bumpMap, this.bumpScale = e.bumpScale, this.normalMap = e.normalMap, this.normalMapType = e.normalMapType, this.normalScale.copy(e.normalScale), this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this
            }, Bl.prototype = Object.create(ar.prototype), Bl.prototype.constructor = Bl, Bl.prototype.isMeshLambertMaterial = !0, Bl.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.map = e.map, this.lightMap = e.lightMap, this.lightMapIntensity = e.lightMapIntensity, this.aoMap = e.aoMap, this.aoMapIntensity = e.aoMapIntensity, this.emissive.copy(e.emissive), this.emissiveMap = e.emissiveMap, this.emissiveIntensity = e.emissiveIntensity, this.specularMap = e.specularMap, this.alphaMap = e.alphaMap, this.envMap = e.envMap, this.combine = e.combine, this.reflectivity = e.reflectivity, this.refractionRatio = e.refractionRatio, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.wireframeLinecap = e.wireframeLinecap, this.wireframeLinejoin = e.wireframeLinejoin, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this
            }, Ul.prototype = Object.create(ar.prototype), Ul.prototype.constructor = Ul, Ul.prototype.isMeshMatcapMaterial = !0, Ul.prototype.copy = function(e) {
                return ar.prototype.copy.call(this, e), this.defines = {
                    MATCAP: ""
                }, this.color.copy(e.color), this.matcap = e.matcap, this.map = e.map, this.bumpMap = e.bumpMap, this.bumpScale = e.bumpScale, this.normalMap = e.normalMap, this.normalMapType = e.normalMapType, this.normalScale.copy(e.normalScale), this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.alphaMap = e.alphaMap, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this
            }, Vl.prototype = Object.create(Qs.prototype), Vl.prototype.constructor = Vl, Vl.prototype.isLineDashedMaterial = !0, Vl.prototype.copy = function(e) {
                return Qs.prototype.copy.call(this, e), this.scale = e.scale, this.dashSize = e.dashSize, this.gapSize = e.gapSize, this
            };
            var Hl = Object.freeze({
                    __proto__: null,
                    ShadowMaterial: Dl,
                    SpriteMaterial: Ts,
                    RawShaderMaterial: Il,
                    ShaderMaterial: oo,
                    PointsMaterial: lc,
                    MeshPhysicalMaterial: kl,
                    MeshStandardMaterial: jl,
                    MeshPhongMaterial: Fl,
                    MeshToonMaterial: Nl,
                    MeshNormalMaterial: zl,
                    MeshLambertMaterial: Bl,
                    MeshDepthMaterial: as,
                    MeshDistanceMaterial: ss,
                    MeshBasicMaterial: sr,
                    MeshMatcapMaterial: Ul,
                    LineDashedMaterial: Vl,
                    LineBasicMaterial: Qs,
                    Material: ar
                }),
                Gl = {
                    arraySlice: function(e, t, n) {
                        return Gl.isTypedArray(e) ? new e.constructor(e.subarray(t, void 0 !== n ? n : e.length)) : e.slice(t, n)
                    },
                    convertArray: function(e, t, n) {
                        return !e || !n && e.constructor === t ? e : "number" == typeof t.BYTES_PER_ELEMENT ? new t(e) : Array.prototype.slice.call(e)
                    },
                    isTypedArray: function(e) {
                        return ArrayBuffer.isView(e) && !(e instanceof DataView)
                    },
                    getKeyframeOrder: function(e) {
                        for (var t = e.length, n = new Array(t), i = 0; i !== t; ++i) n[i] = i;
                        return n.sort((function(t, n) {
                            return e[t] - e[n]
                        })), n
                    },
                    sortedArray: function(e, t, n) {
                        for (var i = e.length, r = new e.constructor(i), o = 0, a = 0; a !== i; ++o)
                            for (var s = n[o] * t, c = 0; c !== t; ++c) r[a++] = e[s + c];
                        return r
                    },
                    flattenJSON: function(e, t, n, i) {
                        for (var r = 1, o = e[0]; void 0 !== o && void 0 === o[i];) o = e[r++];
                        if (void 0 !== o) {
                            var a = o[i];
                            if (void 0 !== a)
                                if (Array.isArray(a))
                                    do {
                                        void 0 !== (a = o[i]) && (t.push(o.time), n.push.apply(n, a)), o = e[r++]
                                    } while (void 0 !== o);
                                else if (void 0 !== a.toArray)
                                do {
                                    void 0 !== (a = o[i]) && (t.push(o.time), a.toArray(n, n.length)), o = e[r++]
                                } while (void 0 !== o);
                            else
                                do {
                                    void 0 !== (a = o[i]) && (t.push(o.time), n.push(a)), o = e[r++]
                                } while (void 0 !== o)
                        }
                    },
                    subclip: function(e, t, n, i, r) {
                        r = r || 30;
                        var o = e.clone();
                        o.name = t;
                        for (var a = [], s = 0; s < o.tracks.length; ++s) {
                            for (var c = o.tracks[s], l = c.getValueSize(), u = [], h = [], d = 0; d < c.times.length; ++d) {
                                var p = c.times[d] * r;
                                if (!(p < n || p >= i)) {
                                    u.push(c.times[d]);
                                    for (var f = 0; f < l; ++f) h.push(c.values[d * l + f])
                                }
                            }
                            0 !== u.length && (c.times = Gl.convertArray(u, c.times.constructor), c.values = Gl.convertArray(h, c.values.constructor), a.push(c))
                        }
                        o.tracks = a;
                        var m = 1 / 0;
                        for (s = 0; s < o.tracks.length; ++s) m > o.tracks[s].times[0] && (m = o.tracks[s].times[0]);
                        for (s = 0; s < o.tracks.length; ++s) o.tracks[s].shift(-1 * m);
                        return o.resetDuration(), o
                    }
                };

            function Wl(e, t, n, i) {
                this.parameterPositions = e, this._cachedIndex = 0, this.resultBuffer = void 0 !== i ? i : new t.constructor(n), this.sampleValues = t, this.valueSize = n
            }

            function ql(e, t, n, i) {
                Wl.call(this, e, t, n, i), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0
            }

            function Yl(e, t, n, i) {
                Wl.call(this, e, t, n, i)
            }

            function Xl(e, t, n, i) {
                Wl.call(this, e, t, n, i)
            }

            function Zl(e, t, n, i) {
                if (void 0 === e) throw new Error("THREE.KeyframeTrack: track name is undefined");
                if (void 0 === t || 0 === t.length) throw new Error("THREE.KeyframeTrack: no keyframes in track named " + e);
                this.name = e, this.times = Gl.convertArray(t, this.TimeBufferType), this.values = Gl.convertArray(n, this.ValueBufferType), this.setInterpolation(i || this.DefaultInterpolation)
            }

            function Jl(e, t, n) {
                Zl.call(this, e, t, n)
            }

            function Kl(e, t, n, i) {
                Zl.call(this, e, t, n, i)
            }

            function Ql(e, t, n, i) {
                Zl.call(this, e, t, n, i)
            }

            function $l(e, t, n, i) {
                Wl.call(this, e, t, n, i)
            }

            function eu(e, t, n, i) {
                Zl.call(this, e, t, n, i)
            }

            function tu(e, t, n, i) {
                Zl.call(this, e, t, n, i)
            }

            function nu(e, t, n, i) {
                Zl.call(this, e, t, n, i)
            }

            function iu(e, t, n) {
                this.name = e, this.tracks = n, this.duration = void 0 !== t ? t : -1, this.uuid = Sn.generateUUID(), this.duration < 0 && this.resetDuration()
            }

            function ru(e) {
                if (void 0 === e.type) throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");
                var t = function(e) {
                    switch (e.toLowerCase()) {
                        case "scalar":
                        case "double":
                        case "float":
                        case "number":
                        case "integer":
                            return Ql;
                        case "vector":
                        case "vector2":
                        case "vector3":
                        case "vector4":
                            return nu;
                        case "color":
                            return Kl;
                        case "quaternion":
                            return eu;
                        case "bool":
                        case "boolean":
                            return Jl;
                        case "string":
                            return tu
                    }
                    throw new Error("THREE.KeyframeTrack: Unsupported typeName: " + e)
                }(e.type);
                if (void 0 === e.times) {
                    var n = [],
                        i = [];
                    Gl.flattenJSON(e.keys, n, i, "value"), e.times = n, e.values = i
                }
                return void 0 !== t.parse ? t.parse(e) : new t(e.name, e.times, e.values, e.interpolation)
            }
            Object.assign(Wl.prototype, {
                    evaluate: function(e) {
                        var t = this.parameterPositions,
                            n = this._cachedIndex,
                            i = t[n],
                            r = t[n - 1];
                        e: {
                            t: {
                                var o;n: {
                                    i: if (!(e < i)) {
                                        for (var a = n + 2;;) {
                                            if (void 0 === i) {
                                                if (e < r) break i;
                                                return n = t.length, this._cachedIndex = n, this.afterEnd_(n - 1, e, r)
                                            }
                                            if (n === a) break;
                                            if (r = i, e < (i = t[++n])) break t
                                        }
                                        o = t.length;
                                        break n
                                    }if (e >= r) break e;
                                    var s = t[1];e < s && (n = 2, r = s);
                                    for (a = n - 2;;) {
                                        if (void 0 === r) return this._cachedIndex = 0, this.beforeStart_(0, e, i);
                                        if (n === a) break;
                                        if (i = r, e >= (r = t[--n - 1])) break t
                                    }
                                    o = n,
                                    n = 0
                                }
                                for (; n < o;) {
                                    var c = n + o >>> 1;
                                    e < t[c] ? o = c : n = c + 1
                                }
                                if (i = t[n], void 0 === (r = t[n - 1])) return this._cachedIndex = 0, this.beforeStart_(0, e, i);
                                if (void 0 === i) return n = t.length, this._cachedIndex = n, this.afterEnd_(n - 1, r, e)
                            }
                            this._cachedIndex = n,
                            this.intervalChanged_(n, r, i)
                        }
                        return this.interpolate_(n, r, e, i)
                    },
                    settings: null,
                    DefaultSettings_: {},
                    getSettings_: function() {
                        return this.settings || this.DefaultSettings_
                    },
                    copySampleValue_: function(e) {
                        for (var t = this.resultBuffer, n = this.sampleValues, i = this.valueSize, r = e * i, o = 0; o !== i; ++o) t[o] = n[r + o];
                        return t
                    },
                    interpolate_: function() {
                        throw new Error("call to abstract method")
                    },
                    intervalChanged_: function() {}
                }),
                //!\ DECLARE ALIAS AFTER assign prototype !
                Object.assign(Wl.prototype, {
                    beforeStart_: Wl.prototype.copySampleValue_,
                    afterEnd_: Wl.prototype.copySampleValue_
                }), ql.prototype = Object.assign(Object.create(Wl.prototype), {
                    constructor: ql,
                    DefaultSettings_: {
                        endingStart: Rt,
                        endingEnd: Rt
                    },
                    intervalChanged_: function(e, t, n) {
                        var i = this.parameterPositions,
                            r = e - 2,
                            o = e + 1,
                            a = i[r],
                            s = i[o];
                        if (void 0 === a) switch (this.getSettings_().endingStart) {
                            case Ot:
                                r = e, a = 2 * t - n;
                                break;
                            case Dt:
                                a = t + i[r = i.length - 2] - i[r + 1];
                                break;
                            default:
                                r = e, a = n
                        }
                        if (void 0 === s) switch (this.getSettings_().endingEnd) {
                            case Ot:
                                o = e, s = 2 * n - t;
                                break;
                            case Dt:
                                o = 1, s = n + i[1] - i[0];
                                break;
                            default:
                                o = e - 1, s = t
                        }
                        var c = .5 * (n - t),
                            l = this.valueSize;
                        this._weightPrev = c / (t - a), this._weightNext = c / (s - n), this._offsetPrev = r * l, this._offsetNext = o * l
                    },
                    interpolate_: function(e, t, n, i) {
                        for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = e * a, c = s - a, l = this._offsetPrev, u = this._offsetNext, h = this._weightPrev, d = this._weightNext, p = (n - t) / (i - t), f = p * p, m = f * p, v = -h * m + 2 * h * f - h * p, g = (1 + h) * m + (-1.5 - 2 * h) * f + (-.5 + h) * p + 1, y = (-1 - d) * m + (1.5 + d) * f + .5 * p, b = d * m - d * f, x = 0; x !== a; ++x) r[x] = v * o[l + x] + g * o[c + x] + y * o[s + x] + b * o[u + x];
                        return r
                    }
                }), Yl.prototype = Object.assign(Object.create(Wl.prototype), {
                    constructor: Yl,
                    interpolate_: function(e, t, n, i) {
                        for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = e * a, c = s - a, l = (n - t) / (i - t), u = 1 - l, h = 0; h !== a; ++h) r[h] = o[c + h] * u + o[s + h] * l;
                        return r
                    }
                }), Xl.prototype = Object.assign(Object.create(Wl.prototype), {
                    constructor: Xl,
                    interpolate_: function(e) {
                        return this.copySampleValue_(e - 1)
                    }
                }), Object.assign(Zl, {
                    toJSON: function(e) {
                        var t, n = e.constructor;
                        if (void 0 !== n.toJSON) t = n.toJSON(e);
                        else {
                            t = {
                                name: e.name,
                                times: Gl.convertArray(e.times, Array),
                                values: Gl.convertArray(e.values, Array)
                            };
                            var i = e.getInterpolation();
                            i !== e.DefaultInterpolation && (t.interpolation = i)
                        }
                        return t.type = e.ValueTypeName, t
                    }
                }), Object.assign(Zl.prototype, {
                    constructor: Zl,
                    TimeBufferType: Float32Array,
                    ValueBufferType: Float32Array,
                    DefaultInterpolation: Lt,
                    InterpolantFactoryMethodDiscrete: function(e) {
                        return new Xl(this.times, this.values, this.getValueSize(), e)
                    },
                    InterpolantFactoryMethodLinear: function(e) {
                        return new Yl(this.times, this.values, this.getValueSize(), e)
                    },
                    InterpolantFactoryMethodSmooth: function(e) {
                        return new ql(this.times, this.values, this.getValueSize(), e)
                    },
                    setInterpolation: function(e) {
                        var t;
                        switch (e) {
                            case Pt:
                                t = this.InterpolantFactoryMethodDiscrete;
                                break;
                            case Lt:
                                t = this.InterpolantFactoryMethodLinear;
                                break;
                            case Ct:
                                t = this.InterpolantFactoryMethodSmooth
                        }
                        if (void 0 === t) {
                            var n = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
                            if (void 0 === this.createInterpolant) {
                                if (e === this.DefaultInterpolation) throw new Error(n);
                                this.setInterpolation(this.DefaultInterpolation)
                            }
                            return console.warn("THREE.KeyframeTrack:", n), this
                        }
                        return this.createInterpolant = t, this
                    },
                    getInterpolation: function() {
                        switch (this.createInterpolant) {
                            case this.InterpolantFactoryMethodDiscrete:
                                return Pt;
                            case this.InterpolantFactoryMethodLinear:
                                return Lt;
                            case this.InterpolantFactoryMethodSmooth:
                                return Ct
                        }
                    },
                    getValueSize: function() {
                        return this.values.length / this.times.length
                    },
                    shift: function(e) {
                        if (0 !== e)
                            for (var t = this.times, n = 0, i = t.length; n !== i; ++n) t[n] += e;
                        return this
                    },
                    scale: function(e) {
                        if (1 !== e)
                            for (var t = this.times, n = 0, i = t.length; n !== i; ++n) t[n] *= e;
                        return this
                    },
                    trim: function(e, t) {
                        for (var n = this.times, i = n.length, r = 0, o = i - 1; r !== i && n[r] < e;) ++r;
                        for (; - 1 !== o && n[o] > t;) --o;
                        if (++o, 0 !== r || o !== i) {
                            r >= o && (r = (o = Math.max(o, 1)) - 1);
                            var a = this.getValueSize();
                            this.times = Gl.arraySlice(n, r, o), this.values = Gl.arraySlice(this.values, r * a, o * a)
                        }
                        return this
                    },
                    validate: function() {
                        var e = !0,
                            t = this.getValueSize();
                        t - Math.floor(t) != 0 && (console.error("THREE.KeyframeTrack: Invalid value size in track.", this), e = !1);
                        var n = this.times,
                            i = this.values,
                            r = n.length;
                        0 === r && (console.error("THREE.KeyframeTrack: Track is empty.", this), e = !1);
                        for (var o = null, a = 0; a !== r; a++) {
                            var s = n[a];
                            if ("number" == typeof s && isNaN(s)) {
                                console.error("THREE.KeyframeTrack: Time is not a valid number.", this, a, s), e = !1;
                                break
                            }
                            if (null !== o && o > s) {
                                console.error("THREE.KeyframeTrack: Out of order keys.", this, a, s, o), e = !1;
                                break
                            }
                            o = s
                        }
                        if (void 0 !== i && Gl.isTypedArray(i)) {
                            a = 0;
                            for (var c = i.length; a !== c; ++a) {
                                var l = i[a];
                                if (isNaN(l)) {
                                    console.error("THREE.KeyframeTrack: Value is not a valid number.", this, a, l), e = !1;
                                    break
                                }
                            }
                        }
                        return e
                    },
                    optimize: function() {
                        for (var e = Gl.arraySlice(this.times), t = Gl.arraySlice(this.values), n = this.getValueSize(), i = this.getInterpolation() === Ct, r = 1, o = e.length - 1, a = 1; a < o; ++a) {
                            var s = !1,
                                c = e[a];
                            if (c !== e[a + 1] && (1 !== a || c !== c[0]))
                                if (i) s = !0;
                                else
                                    for (var l = a * n, u = l - n, h = l + n, d = 0; d !== n; ++d) {
                                        var p = t[l + d];
                                        if (p !== t[u + d] || p !== t[h + d]) {
                                            s = !0;
                                            break
                                        }
                                    }
                            if (s) {
                                if (a !== r) {
                                    e[r] = e[a];
                                    var f = a * n,
                                        m = r * n;
                                    for (d = 0; d !== n; ++d) t[m + d] = t[f + d]
                                }++r
                            }
                        }
                        if (o > 0) {
                            e[r] = e[o];
                            for (f = o * n, m = r * n, d = 0; d !== n; ++d) t[m + d] = t[f + d];
                            ++r
                        }
                        return r !== e.length ? (this.times = Gl.arraySlice(e, 0, r), this.values = Gl.arraySlice(t, 0, r * n)) : (this.times = e, this.values = t), this
                    },
                    clone: function() {
                        var e = Gl.arraySlice(this.times, 0),
                            t = Gl.arraySlice(this.values, 0),
                            n = new(0, this.constructor)(this.name, e, t);
                        return n.createInterpolant = this.createInterpolant, n
                    }
                }), Jl.prototype = Object.assign(Object.create(Zl.prototype), {
                    constructor: Jl,
                    ValueTypeName: "bool",
                    ValueBufferType: Array,
                    DefaultInterpolation: Pt,
                    InterpolantFactoryMethodLinear: void 0,
                    InterpolantFactoryMethodSmooth: void 0
                }), Kl.prototype = Object.assign(Object.create(Zl.prototype), {
                    constructor: Kl,
                    ValueTypeName: "color"
                }), Ql.prototype = Object.assign(Object.create(Zl.prototype), {
                    constructor: Ql,
                    ValueTypeName: "number"
                }), $l.prototype = Object.assign(Object.create(Wl.prototype), {
                    constructor: $l,
                    interpolate_: function(e, t, n, i) {
                        for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = e * a, c = (n - t) / (i - t), l = s + a; s !== l; s += 4) In.slerpFlat(r, 0, o, s - a, o, s, c);
                        return r
                    }
                }), eu.prototype = Object.assign(Object.create(Zl.prototype), {
                    constructor: eu,
                    ValueTypeName: "quaternion",
                    DefaultInterpolation: Lt,
                    InterpolantFactoryMethodLinear: function(e) {
                        return new $l(this.times, this.values, this.getValueSize(), e)
                    },
                    InterpolantFactoryMethodSmooth: void 0
                }), tu.prototype = Object.assign(Object.create(Zl.prototype), {
                    constructor: tu,
                    ValueTypeName: "string",
                    ValueBufferType: Array,
                    DefaultInterpolation: Pt,
                    InterpolantFactoryMethodLinear: void 0,
                    InterpolantFactoryMethodSmooth: void 0
                }), nu.prototype = Object.assign(Object.create(Zl.prototype), {
                    constructor: nu,
                    ValueTypeName: "vector"
                }), Object.assign(iu, {
                    parse: function(e) {
                        for (var t = [], n = e.tracks, i = 1 / (e.fps || 1), r = 0, o = n.length; r !== o; ++r) t.push(ru(n[r]).scale(i));
                        return new iu(e.name, e.duration, t)
                    },
                    toJSON: function(e) {
                        for (var t = [], n = e.tracks, i = {
                                name: e.name,
                                duration: e.duration,
                                tracks: t,
                                uuid: e.uuid
                            }, r = 0, o = n.length; r !== o; ++r) t.push(Zl.toJSON(n[r]));
                        return i
                    },
                    CreateFromMorphTargetSequence: function(e, t, n, i) {
                        for (var r = t.length, o = [], a = 0; a < r; a++) {
                            var s = [],
                                c = [];
                            s.push((a + r - 1) % r, a, (a + 1) % r), c.push(0, 1, 0);
                            var l = Gl.getKeyframeOrder(s);
                            s = Gl.sortedArray(s, 1, l), c = Gl.sortedArray(c, 1, l), i || 0 !== s[0] || (s.push(r), c.push(c[0])), o.push(new Ql(".morphTargetInfluences[" + t[a].name + "]", s, c).scale(1 / n))
                        }
                        return new iu(e, -1, o)
                    },
                    findByName: function(e, t) {
                        var n = e;
                        if (!Array.isArray(e)) {
                            var i = e;
                            n = i.geometry && i.geometry.animations || i.animations
                        }
                        for (var r = 0; r < n.length; r++)
                            if (n[r].name === t) return n[r];
                        return null
                    },
                    CreateClipsFromMorphTargetSequences: function(e, t, n) {
                        for (var i = {}, r = /^([\w-]*?)([\d]+)$/, o = 0, a = e.length; o < a; o++) {
                            var s = e[o],
                                c = s.name.match(r);
                            if (c && c.length > 1) {
                                var l = i[h = c[1]];
                                l || (i[h] = l = []), l.push(s)
                            }
                        }
                        var u = [];
                        for (var h in i) u.push(iu.CreateFromMorphTargetSequence(h, i[h], t, n));
                        return u
                    },
                    parseAnimation: function(e, t) {
                        if (!e) return console.error("THREE.AnimationClip: No animation in JSONLoader data."), null;
                        for (var n = function(e, t, n, i, r) {
                                if (0 !== n.length) {
                                    var o = [],
                                        a = [];
                                    Gl.flattenJSON(n, o, a, i), 0 !== o.length && r.push(new e(t, o, a))
                                }
                            }, i = [], r = e.name || "default", o = e.length || -1, a = e.fps || 30, s = e.hierarchy || [], c = 0; c < s.length; c++) {
                            var l = s[c].keys;
                            if (l && 0 !== l.length)
                                if (l[0].morphTargets) {
                                    for (var u = {}, h = 0; h < l.length; h++)
                                        if (l[h].morphTargets)
                                            for (var d = 0; d < l[h].morphTargets.length; d++) u[l[h].morphTargets[d]] = -1;
                                    for (var p in u) {
                                        var f = [],
                                            m = [];
                                        for (d = 0; d !== l[h].morphTargets.length; ++d) {
                                            var v = l[h];
                                            f.push(v.time), m.push(v.morphTarget === p ? 1 : 0)
                                        }
                                        i.push(new Ql(".morphTargetInfluence[" + p + "]", f, m))
                                    }
                                    o = u.length * (a || 1)
                                } else {
                                    var g = ".bones[" + t[c].name + "]";
                                    n(nu, g + ".position", l, "pos", i), n(eu, g + ".quaternion", l, "rot", i), n(nu, g + ".scale", l, "scl", i)
                                }
                        }
                        return 0 === i.length ? null : new iu(r, o, i)
                    }
                }), Object.assign(iu.prototype, {
                    resetDuration: function() {
                        for (var e = 0, t = 0, n = this.tracks.length; t !== n; ++t) {
                            var i = this.tracks[t];
                            e = Math.max(e, i.times[i.times.length - 1])
                        }
                        return this.duration = e, this
                    },
                    trim: function() {
                        for (var e = 0; e < this.tracks.length; e++) this.tracks[e].trim(0, this.duration);
                        return this
                    },
                    validate: function() {
                        for (var e = !0, t = 0; t < this.tracks.length; t++) e = e && this.tracks[t].validate();
                        return e
                    },
                    optimize: function() {
                        for (var e = 0; e < this.tracks.length; e++) this.tracks[e].optimize();
                        return this
                    },
                    clone: function() {
                        for (var e = [], t = 0; t < this.tracks.length; t++) e.push(this.tracks[t].clone());
                        return new iu(this.name, this.duration, e)
                    }
                });
            var ou = {
                enabled: !1,
                files: {},
                add: function(e, t) {
                    !1 !== this.enabled && (this.files[e] = t)
                },
                get: function(e) {
                    if (!1 !== this.enabled) return this.files[e]
                },
                remove: function(e) {
                    delete this.files[e]
                },
                clear: function() {
                    this.files = {}
                }
            };

            function au(e, t, n) {
                var i = this,
                    r = !1,
                    o = 0,
                    a = 0,
                    s = void 0,
                    c = [];
                this.onStart = void 0, this.onLoad = e, this.onProgress = t, this.onError = n, this.itemStart = function(e) {
                    a++, !1 === r && void 0 !== i.onStart && i.onStart(e, o, a), r = !0
                }, this.itemEnd = function(e) {
                    o++, void 0 !== i.onProgress && i.onProgress(e, o, a), o === a && (r = !1, void 0 !== i.onLoad && i.onLoad())
                }, this.itemError = function(e) {
                    void 0 !== i.onError && i.onError(e)
                }, this.resolveURL = function(e) {
                    return s ? s(e) : e
                }, this.setURLModifier = function(e) {
                    return s = e, this
                }, this.addHandler = function(e, t) {
                    return c.push(e, t), this
                }, this.removeHandler = function(e) {
                    var t = c.indexOf(e);
                    return -1 !== t && c.splice(t, 2), this
                }, this.getHandler = function(e) {
                    for (var t = 0, n = c.length; t < n; t += 2) {
                        var i = c[t],
                            r = c[t + 1];
                        if (i.global && (i.lastIndex = 0), i.test(e)) return r
                    }
                    return null
                }
            }
            var su = new au;

            function cu(e) {
                this.manager = void 0 !== e ? e : su, this.crossOrigin = "anonymous", this.path = "", this.resourcePath = ""
            }
            Object.assign(cu.prototype, {
                load: function() {},
                parse: function() {},
                setCrossOrigin: function(e) {
                    return this.crossOrigin = e, this
                },
                setPath: function(e) {
                    return this.path = e, this
                },
                setResourcePath: function(e) {
                    return this.resourcePath = e, this
                }
            });
            var lu = {};

            function uu(e) {
                cu.call(this, e)
            }

            function hu(e) {
                cu.call(this, e)
            }

            function du(e) {
                cu.call(this, e)
            }

            function pu(e) {
                cu.call(this, e)
            }

            function fu(e) {
                cu.call(this, e)
            }

            function mu(e) {
                cu.call(this, e)
            }

            function vu(e) {
                cu.call(this, e)
            }

            function gu() {
                this.type = "Curve", this.arcLengthDivisions = 200
            }

            function yu(e, t, n, i, r, o, a, s) {
                gu.call(this), this.type = "EllipseCurve", this.aX = e || 0, this.aY = t || 0, this.xRadius = n || 1, this.yRadius = i || 1, this.aStartAngle = r || 0, this.aEndAngle = o || 2 * Math.PI, this.aClockwise = a || !1, this.aRotation = s || 0
            }

            function bu(e, t, n, i, r, o) {
                yu.call(this, e, t, n, n, i, r, o), this.type = "ArcCurve"
            }

            function xu() {
                var e = 0,
                    t = 0,
                    n = 0,
                    i = 0;

                function r(r, o, a, s) {
                    e = r, t = a, n = -3 * r + 3 * o - 2 * a - s, i = 2 * r - 2 * o + a + s
                }
                return {
                    initCatmullRom: function(e, t, n, i, o) {
                        r(t, n, o * (n - e), o * (i - t))
                    },
                    initNonuniformCatmullRom: function(e, t, n, i, o, a, s) {
                        var c = (t - e) / o - (n - e) / (o + a) + (n - t) / a,
                            l = (n - t) / a - (i - t) / (a + s) + (i - n) / s;
                        r(t, n, c *= a, l *= a)
                    },
                    calc: function(r) {
                        var o = r * r;
                        return e + t * r + n * o + i * (o * r)
                    }
                }
            }
            uu.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: uu,
                load: function(e, t, n, i) {
                    void 0 === e && (e = ""), void 0 !== this.path && (e = this.path + e), e = this.manager.resolveURL(e);
                    var r = this,
                        o = ou.get(e);
                    if (void 0 !== o) return r.manager.itemStart(e), setTimeout((function() {
                        t && t(o), r.manager.itemEnd(e)
                    }), 0), o;
                    if (void 0 === lu[e]) {
                        var a = e.match(/^data:(.*?)(;base64)?,(.*)$/);
                        if (a) {
                            var s = a[1],
                                c = !!a[2],
                                l = a[3];
                            l = decodeURIComponent(l), c && (l = atob(l));
                            try {
                                var u, h = (this.responseType || "").toLowerCase();
                                switch (h) {
                                    case "arraybuffer":
                                    case "blob":
                                        for (var d = new Uint8Array(l.length), p = 0; p < l.length; p++) d[p] = l.charCodeAt(p);
                                        u = "blob" === h ? new Blob([d.buffer], {
                                            type: s
                                        }) : d.buffer;
                                        break;
                                    case "document":
                                        var f = new DOMParser;
                                        u = f.parseFromString(l, s);
                                        break;
                                    case "json":
                                        u = JSON.parse(l);
                                        break;
                                    default:
                                        u = l
                                }
                                setTimeout((function() {
                                    t && t(u), r.manager.itemEnd(e)
                                }), 0)
                            } catch (t) {
                                setTimeout((function() {
                                    i && i(t), r.manager.itemError(e), r.manager.itemEnd(e)
                                }), 0)
                            }
                        } else {
                            lu[e] = [], lu[e].push({
                                onLoad: t,
                                onProgress: n,
                                onError: i
                            });
                            var m = new XMLHttpRequest;
                            for (var v in m.open("GET", e, !0), m.addEventListener("load", (function(t) {
                                    var n = this.response,
                                        i = lu[e];
                                    if (delete lu[e], 200 === this.status || 0 === this.status) {
                                        0 === this.status && console.warn("THREE.FileLoader: HTTP Status 0 received."), ou.add(e, n);
                                        for (var o = 0, a = i.length; o < a; o++) {
                                            (s = i[o]).onLoad && s.onLoad(n)
                                        }
                                        r.manager.itemEnd(e)
                                    } else {
                                        for (o = 0, a = i.length; o < a; o++) {
                                            var s;
                                            (s = i[o]).onError && s.onError(t)
                                        }
                                        r.manager.itemError(e), r.manager.itemEnd(e)
                                    }
                                }), !1), m.addEventListener("progress", (function(t) {
                                    for (var n = lu[e], i = 0, r = n.length; i < r; i++) {
                                        var o = n[i];
                                        o.onProgress && o.onProgress(t)
                                    }
                                }), !1), m.addEventListener("error", (function(t) {
                                    var n = lu[e];
                                    delete lu[e];
                                    for (var i = 0, o = n.length; i < o; i++) {
                                        var a = n[i];
                                        a.onError && a.onError(t)
                                    }
                                    r.manager.itemError(e), r.manager.itemEnd(e)
                                }), !1), m.addEventListener("abort", (function(t) {
                                    var n = lu[e];
                                    delete lu[e];
                                    for (var i = 0, o = n.length; i < o; i++) {
                                        var a = n[i];
                                        a.onError && a.onError(t)
                                    }
                                    r.manager.itemError(e), r.manager.itemEnd(e)
                                }), !1), void 0 !== this.responseType && (m.responseType = this.responseType), void 0 !== this.withCredentials && (m.withCredentials = this.withCredentials), m.overrideMimeType && m.overrideMimeType(void 0 !== this.mimeType ? this.mimeType : "text/plain"), this.requestHeader) m.setRequestHeader(v, this.requestHeader[v]);
                            m.send(null)
                        }
                        return r.manager.itemStart(e), m
                    }
                    lu[e].push({
                        onLoad: t,
                        onProgress: n,
                        onError: i
                    })
                },
                setResponseType: function(e) {
                    return this.responseType = e, this
                },
                setWithCredentials: function(e) {
                    return this.withCredentials = e, this
                },
                setMimeType: function(e) {
                    return this.mimeType = e, this
                },
                setRequestHeader: function(e) {
                    return this.requestHeader = e, this
                }
            }), hu.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: hu,
                load: function(e, t, n, i) {
                    var r = this,
                        o = new uu(r.manager);
                    o.setPath(r.path), o.load(e, (function(e) {
                        t(r.parse(JSON.parse(e)))
                    }), n, i)
                },
                parse: function(e) {
                    for (var t = [], n = 0; n < e.length; n++) {
                        var i = iu.parse(e[n]);
                        t.push(i)
                    }
                    return t
                }
            }), du.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: du,
                load: function(e, t, n, i) {
                    var r = this,
                        o = [],
                        a = new gc;
                    a.image = o;
                    var s = new uu(this.manager);

                    function c(c) {
                        s.load(e[c], (function(e) {
                            var n = r.parse(e, !0);
                            o[c] = {
                                width: n.width,
                                height: n.height,
                                format: n.format,
                                mipmaps: n.mipmaps
                            }, 6 === (l += 1) && (1 === n.mipmapCount && (a.minFilter = Se), a.format = n.format, a.needsUpdate = !0, t && t(a))
                        }), n, i)
                    }
                    if (s.setPath(this.path), s.setResponseType("arraybuffer"), Array.isArray(e))
                        for (var l = 0, u = 0, h = e.length; u < h; ++u) c(u);
                    else s.load(e, (function(e) {
                        var n = r.parse(e, !0);
                        if (n.isCubemap)
                            for (var i = n.mipmaps.length / n.mipmapCount, s = 0; s < i; s++) {
                                o[s] = {
                                    mipmaps: []
                                };
                                for (var c = 0; c < n.mipmapCount; c++) o[s].mipmaps.push(n.mipmaps[s * n.mipmapCount + c]), o[s].format = n.format, o[s].width = n.width, o[s].height = n.height
                            } else a.image.width = n.width, a.image.height = n.height, a.mipmaps = n.mipmaps;
                        1 === n.mipmapCount && (a.minFilter = Se), a.format = n.format, a.needsUpdate = !0, t && t(a)
                    }), n, i);
                    return a
                }
            }), pu.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: pu,
                load: function(e, t, n, i) {
                    var r = this,
                        o = new uo,
                        a = new uu(this.manager);
                    return a.setResponseType("arraybuffer"), a.setPath(this.path), a.load(e, (function(e) {
                        var n = r.parse(e);
                        n && (void 0 !== n.image ? o.image = n.image : void 0 !== n.data && (o.image.width = n.width, o.image.height = n.height, o.image.data = n.data), o.wrapS = void 0 !== n.wrapS ? n.wrapS : ye, o.wrapT = void 0 !== n.wrapT ? n.wrapT : ye, o.magFilter = void 0 !== n.magFilter ? n.magFilter : Se, o.minFilter = void 0 !== n.minFilter ? n.minFilter : Se, o.anisotropy = void 0 !== n.anisotropy ? n.anisotropy : 1, void 0 !== n.format && (o.format = n.format), void 0 !== n.type && (o.type = n.type), void 0 !== n.mipmaps && (o.mipmaps = n.mipmaps, o.minFilter = Pe), 1 === n.mipmapCount && (o.minFilter = Se), o.needsUpdate = !0, t && t(o, n))
                    }), n, i), o
                }
            }), fu.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: fu,
                load: function(e, t, n, i) {
                    void 0 !== this.path && (e = this.path + e), e = this.manager.resolveURL(e);
                    var r = this,
                        o = ou.get(e);
                    if (void 0 !== o) return r.manager.itemStart(e), setTimeout((function() {
                        t && t(o), r.manager.itemEnd(e)
                    }), 0), o;
                    var a = document.createElementNS("http://www.w3.org/1999/xhtml", "img");

                    function s() {
                        a.removeEventListener("load", s, !1), a.removeEventListener("error", c, !1), ou.add(e, this), t && t(this), r.manager.itemEnd(e)
                    }

                    function c(t) {
                        a.removeEventListener("load", s, !1), a.removeEventListener("error", c, !1), i && i(t), r.manager.itemError(e), r.manager.itemEnd(e)
                    }
                    return a.addEventListener("load", s, !1), a.addEventListener("error", c, !1), "data:" !== e.substr(0, 5) && void 0 !== this.crossOrigin && (a.crossOrigin = this.crossOrigin), r.manager.itemStart(e), a.src = e, a
                }
            }), mu.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: mu,
                load: function(e, t, n, i) {
                    var r = new Do,
                        o = new fu(this.manager);
                    o.setCrossOrigin(this.crossOrigin), o.setPath(this.path);
                    var a = 0;

                    function s(n) {
                        o.load(e[n], (function(e) {
                            r.images[n] = e, 6 === ++a && (r.needsUpdate = !0, t && t(r))
                        }), void 0, i)
                    }
                    for (var c = 0; c < e.length; ++c) s(c);
                    return r
                }
            }), vu.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: vu,
                load: function(e, t, n, i) {
                    var r = new Cn,
                        o = new fu(this.manager);
                    return o.setCrossOrigin(this.crossOrigin), o.setPath(this.path), o.load(e, (function(n) {
                        r.image = n;
                        var i = e.search(/\.jpe?g($|\?)/i) > 0 || 0 === e.search(/^data\:image\/jpeg/);
                        r.format = i ? He : Ge, r.needsUpdate = !0, void 0 !== t && t(r)
                    }), n, i), r
                }
            }), Object.assign(gu.prototype, {
                getPoint: function() {
                    return console.warn("THREE.Curve: .getPoint() not implemented."), null
                },
                getPointAt: function(e, t) {
                    var n = this.getUtoTmapping(e);
                    return this.getPoint(n, t)
                },
                getPoints: function(e) {
                    void 0 === e && (e = 5);
                    for (var t = [], n = 0; n <= e; n++) t.push(this.getPoint(n / e));
                    return t
                },
                getSpacedPoints: function(e) {
                    void 0 === e && (e = 5);
                    for (var t = [], n = 0; n <= e; n++) t.push(this.getPointAt(n / e));
                    return t
                },
                getLength: function() {
                    var e = this.getLengths();
                    return e[e.length - 1]
                },
                getLengths: function(e) {
                    if (void 0 === e && (e = this.arcLengthDivisions), this.cacheArcLengths && this.cacheArcLengths.length === e + 1 && !this.needsUpdate) return this.cacheArcLengths;
                    this.needsUpdate = !1;
                    var t, n, i = [],
                        r = this.getPoint(0),
                        o = 0;
                    for (i.push(0), n = 1; n <= e; n++) o += (t = this.getPoint(n / e)).distanceTo(r), i.push(o), r = t;
                    return this.cacheArcLengths = i, i
                },
                updateArcLengths: function() {
                    this.needsUpdate = !0, this.getLengths()
                },
                getUtoTmapping: function(e, t) {
                    var n, i = this.getLengths(),
                        r = 0,
                        o = i.length;
                    n = t || e * i[o - 1];
                    for (var a, s = 0, c = o - 1; s <= c;)
                        if ((a = i[r = Math.floor(s + (c - s) / 2)] - n) < 0) s = r + 1;
                        else {
                            if (!(a > 0)) {
                                c = r;
                                break
                            }
                            c = r - 1
                        }
                    if (i[r = c] === n) return r / (o - 1);
                    var l = i[r];
                    return (r + (n - l) / (i[r + 1] - l)) / (o - 1)
                },
                getTangent: function(e) {
                    var t = e - 1e-4,
                        n = e + 1e-4;
                    t < 0 && (t = 0), n > 1 && (n = 1);
                    var i = this.getPoint(t);
                    return this.getPoint(n).clone().sub(i).normalize()
                },
                getTangentAt: function(e) {
                    var t = this.getUtoTmapping(e);
                    return this.getTangent(t)
                },
                computeFrenetFrames: function(e, t) {
                    var n, i, r, o = new Fn,
                        a = [],
                        s = [],
                        c = [],
                        l = new Fn,
                        u = new Wn;
                    for (n = 0; n <= e; n++) i = n / e, a[n] = this.getTangentAt(i), a[n].normalize();
                    s[0] = new Fn, c[0] = new Fn;
                    var h = Number.MAX_VALUE,
                        d = Math.abs(a[0].x),
                        p = Math.abs(a[0].y),
                        f = Math.abs(a[0].z);
                    for (d <= h && (h = d, o.set(1, 0, 0)), p <= h && (h = p, o.set(0, 1, 0)), f <= h && o.set(0, 0, 1), l.crossVectors(a[0], o).normalize(), s[0].crossVectors(a[0], l), c[0].crossVectors(a[0], s[0]), n = 1; n <= e; n++) s[n] = s[n - 1].clone(), c[n] = c[n - 1].clone(), l.crossVectors(a[n - 1], a[n]), l.length() > Number.EPSILON && (l.normalize(), r = Math.acos(Sn.clamp(a[n - 1].dot(a[n]), -1, 1)), s[n].applyMatrix4(u.makeRotationAxis(l, r))), c[n].crossVectors(a[n], s[n]);
                    if (!0 === t)
                        for (r = Math.acos(Sn.clamp(s[0].dot(s[e]), -1, 1)), r /= e, a[0].dot(l.crossVectors(s[0], s[e])) > 0 && (r = -r), n = 1; n <= e; n++) s[n].applyMatrix4(u.makeRotationAxis(a[n], r * n)), c[n].crossVectors(a[n], s[n]);
                    return {
                        tangents: a,
                        normals: s,
                        binormals: c
                    }
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    return this.arcLengthDivisions = e.arcLengthDivisions, this
                },
                toJSON: function() {
                    var e = {
                        metadata: {
                            version: 4.5,
                            type: "Curve",
                            generator: "Curve.toJSON"
                        }
                    };
                    return e.arcLengthDivisions = this.arcLengthDivisions, e.type = this.type, e
                },
                fromJSON: function(e) {
                    return this.arcLengthDivisions = e.arcLengthDivisions, this
                }
            }), yu.prototype = Object.create(gu.prototype), yu.prototype.constructor = yu, yu.prototype.isEllipseCurve = !0, yu.prototype.getPoint = function(e, t) {
                for (var n = t || new En, i = 2 * Math.PI, r = this.aEndAngle - this.aStartAngle, o = Math.abs(r) < Number.EPSILON; r < 0;) r += i;
                for (; r > i;) r -= i;
                r < Number.EPSILON && (r = o ? 0 : i), !0 !== this.aClockwise || o || (r === i ? r = -i : r -= i);
                var a = this.aStartAngle + e * r,
                    s = this.aX + this.xRadius * Math.cos(a),
                    c = this.aY + this.yRadius * Math.sin(a);
                if (0 !== this.aRotation) {
                    var l = Math.cos(this.aRotation),
                        u = Math.sin(this.aRotation),
                        h = s - this.aX,
                        d = c - this.aY;
                    s = h * l - d * u + this.aX, c = h * u + d * l + this.aY
                }
                return n.set(s, c)
            }, yu.prototype.copy = function(e) {
                return gu.prototype.copy.call(this, e), this.aX = e.aX, this.aY = e.aY, this.xRadius = e.xRadius, this.yRadius = e.yRadius, this.aStartAngle = e.aStartAngle, this.aEndAngle = e.aEndAngle, this.aClockwise = e.aClockwise, this.aRotation = e.aRotation, this
            }, yu.prototype.toJSON = function() {
                var e = gu.prototype.toJSON.call(this);
                return e.aX = this.aX, e.aY = this.aY, e.xRadius = this.xRadius, e.yRadius = this.yRadius, e.aStartAngle = this.aStartAngle, e.aEndAngle = this.aEndAngle, e.aClockwise = this.aClockwise, e.aRotation = this.aRotation, e
            }, yu.prototype.fromJSON = function(e) {
                return gu.prototype.fromJSON.call(this, e), this.aX = e.aX, this.aY = e.aY, this.xRadius = e.xRadius, this.yRadius = e.yRadius, this.aStartAngle = e.aStartAngle, this.aEndAngle = e.aEndAngle, this.aClockwise = e.aClockwise, this.aRotation = e.aRotation, this
            }, bu.prototype = Object.create(yu.prototype), bu.prototype.constructor = bu, bu.prototype.isArcCurve = !0;
            var wu = new Fn,
                _u = new xu,
                Mu = new xu,
                Tu = new xu;

            function Su(e, t, n, i) {
                gu.call(this), this.type = "CatmullRomCurve3", this.points = e || [], this.closed = t || !1, this.curveType = n || "centripetal", this.tension = i || .5
            }

            function Eu(e, t, n, i, r) {
                var o = .5 * (i - t),
                    a = .5 * (r - n),
                    s = e * e;
                return (2 * n - 2 * i + o + a) * (e * s) + (-3 * n + 3 * i - 2 * o - a) * s + o * e + n
            }

            function Au(e, t, n, i) {
                return function(e, t) {
                    var n = 1 - e;
                    return n * n * t
                }(e, t) + function(e, t) {
                    return 2 * (1 - e) * e * t
                }(e, n) + function(e, t) {
                    return e * e * t
                }(e, i)
            }

            function Pu(e, t, n, i, r) {
                return function(e, t) {
                    var n = 1 - e;
                    return n * n * n * t
                }(e, t) + function(e, t) {
                    var n = 1 - e;
                    return 3 * n * n * e * t
                }(e, n) + function(e, t) {
                    return 3 * (1 - e) * e * e * t
                }(e, i) + function(e, t) {
                    return e * e * e * t
                }(e, r)
            }

            function Lu(e, t, n, i) {
                gu.call(this), this.type = "CubicBezierCurve", this.v0 = e || new En, this.v1 = t || new En, this.v2 = n || new En, this.v3 = i || new En
            }

            function Cu(e, t, n, i) {
                gu.call(this), this.type = "CubicBezierCurve3", this.v0 = e || new Fn, this.v1 = t || new Fn, this.v2 = n || new Fn, this.v3 = i || new Fn
            }

            function Ru(e, t) {
                gu.call(this), this.type = "LineCurve", this.v1 = e || new En, this.v2 = t || new En
            }

            function Ou(e, t) {
                gu.call(this), this.type = "LineCurve3", this.v1 = e || new Fn, this.v2 = t || new Fn
            }

            function Du(e, t, n) {
                gu.call(this), this.type = "QuadraticBezierCurve", this.v0 = e || new En, this.v1 = t || new En, this.v2 = n || new En
            }

            function Iu(e, t, n) {
                gu.call(this), this.type = "QuadraticBezierCurve3", this.v0 = e || new Fn, this.v1 = t || new Fn, this.v2 = n || new Fn
            }

            function ju(e) {
                gu.call(this), this.type = "SplineCurve", this.points = e || []
            }
            Su.prototype = Object.create(gu.prototype), Su.prototype.constructor = Su, Su.prototype.isCatmullRomCurve3 = !0, Su.prototype.getPoint = function(e, t) {
                var n, i, r, o, a = t || new Fn,
                    s = this.points,
                    c = s.length,
                    l = (c - (this.closed ? 0 : 1)) * e,
                    u = Math.floor(l),
                    h = l - u;
                if (this.closed ? u += u > 0 ? 0 : (Math.floor(Math.abs(u) / c) + 1) * c : 0 === h && u === c - 1 && (u = c - 2, h = 1), this.closed || u > 0 ? n = s[(u - 1) % c] : (wu.subVectors(s[0], s[1]).add(s[0]), n = wu), i = s[u % c], r = s[(u + 1) % c], this.closed || u + 2 < c ? o = s[(u + 2) % c] : (wu.subVectors(s[c - 1], s[c - 2]).add(s[c - 1]), o = wu), "centripetal" === this.curveType || "chordal" === this.curveType) {
                    var d = "chordal" === this.curveType ? .5 : .25,
                        p = Math.pow(n.distanceToSquared(i), d),
                        f = Math.pow(i.distanceToSquared(r), d),
                        m = Math.pow(r.distanceToSquared(o), d);
                    f < 1e-4 && (f = 1), p < 1e-4 && (p = f), m < 1e-4 && (m = f), _u.initNonuniformCatmullRom(n.x, i.x, r.x, o.x, p, f, m), Mu.initNonuniformCatmullRom(n.y, i.y, r.y, o.y, p, f, m), Tu.initNonuniformCatmullRom(n.z, i.z, r.z, o.z, p, f, m)
                } else "catmullrom" === this.curveType && (_u.initCatmullRom(n.x, i.x, r.x, o.x, this.tension), Mu.initCatmullRom(n.y, i.y, r.y, o.y, this.tension), Tu.initCatmullRom(n.z, i.z, r.z, o.z, this.tension));
                return a.set(_u.calc(h), Mu.calc(h), Tu.calc(h)), a
            }, Su.prototype.copy = function(e) {
                gu.prototype.copy.call(this, e), this.points = [];
                for (var t = 0, n = e.points.length; t < n; t++) {
                    var i = e.points[t];
                    this.points.push(i.clone())
                }
                return this.closed = e.closed, this.curveType = e.curveType, this.tension = e.tension, this
            }, Su.prototype.toJSON = function() {
                var e = gu.prototype.toJSON.call(this);
                e.points = [];
                for (var t = 0, n = this.points.length; t < n; t++) {
                    var i = this.points[t];
                    e.points.push(i.toArray())
                }
                return e.closed = this.closed, e.curveType = this.curveType, e.tension = this.tension, e
            }, Su.prototype.fromJSON = function(e) {
                gu.prototype.fromJSON.call(this, e), this.points = [];
                for (var t = 0, n = e.points.length; t < n; t++) {
                    var i = e.points[t];
                    this.points.push((new Fn).fromArray(i))
                }
                return this.closed = e.closed, this.curveType = e.curveType, this.tension = e.tension, this
            }, Lu.prototype = Object.create(gu.prototype), Lu.prototype.constructor = Lu, Lu.prototype.isCubicBezierCurve = !0, Lu.prototype.getPoint = function(e, t) {
                var n = t || new En,
                    i = this.v0,
                    r = this.v1,
                    o = this.v2,
                    a = this.v3;
                return n.set(Pu(e, i.x, r.x, o.x, a.x), Pu(e, i.y, r.y, o.y, a.y)), n
            }, Lu.prototype.copy = function(e) {
                return gu.prototype.copy.call(this, e), this.v0.copy(e.v0), this.v1.copy(e.v1), this.v2.copy(e.v2), this.v3.copy(e.v3), this
            }, Lu.prototype.toJSON = function() {
                var e = gu.prototype.toJSON.call(this);
                return e.v0 = this.v0.toArray(), e.v1 = this.v1.toArray(), e.v2 = this.v2.toArray(), e.v3 = this.v3.toArray(), e
            }, Lu.prototype.fromJSON = function(e) {
                return gu.prototype.fromJSON.call(this, e), this.v0.fromArray(e.v0), this.v1.fromArray(e.v1), this.v2.fromArray(e.v2), this.v3.fromArray(e.v3), this
            }, Cu.prototype = Object.create(gu.prototype), Cu.prototype.constructor = Cu, Cu.prototype.isCubicBezierCurve3 = !0, Cu.prototype.getPoint = function(e, t) {
                var n = t || new Fn,
                    i = this.v0,
                    r = this.v1,
                    o = this.v2,
                    a = this.v3;
                return n.set(Pu(e, i.x, r.x, o.x, a.x), Pu(e, i.y, r.y, o.y, a.y), Pu(e, i.z, r.z, o.z, a.z)), n
            }, Cu.prototype.copy = function(e) {
                return gu.prototype.copy.call(this, e), this.v0.copy(e.v0), this.v1.copy(e.v1), this.v2.copy(e.v2), this.v3.copy(e.v3), this
            }, Cu.prototype.toJSON = function() {
                var e = gu.prototype.toJSON.call(this);
                return e.v0 = this.v0.toArray(), e.v1 = this.v1.toArray(), e.v2 = this.v2.toArray(), e.v3 = this.v3.toArray(), e
            }, Cu.prototype.fromJSON = function(e) {
                return gu.prototype.fromJSON.call(this, e), this.v0.fromArray(e.v0), this.v1.fromArray(e.v1), this.v2.fromArray(e.v2), this.v3.fromArray(e.v3), this
            }, Ru.prototype = Object.create(gu.prototype), Ru.prototype.constructor = Ru, Ru.prototype.isLineCurve = !0, Ru.prototype.getPoint = function(e, t) {
                var n = t || new En;
                return 1 === e ? n.copy(this.v2) : (n.copy(this.v2).sub(this.v1), n.multiplyScalar(e).add(this.v1)), n
            }, Ru.prototype.getPointAt = function(e, t) {
                return this.getPoint(e, t)
            }, Ru.prototype.getTangent = function() {
                return this.v2.clone().sub(this.v1).normalize()
            }, Ru.prototype.copy = function(e) {
                return gu.prototype.copy.call(this, e), this.v1.copy(e.v1), this.v2.copy(e.v2), this
            }, Ru.prototype.toJSON = function() {
                var e = gu.prototype.toJSON.call(this);
                return e.v1 = this.v1.toArray(), e.v2 = this.v2.toArray(), e
            }, Ru.prototype.fromJSON = function(e) {
                return gu.prototype.fromJSON.call(this, e), this.v1.fromArray(e.v1), this.v2.fromArray(e.v2), this
            }, Ou.prototype = Object.create(gu.prototype), Ou.prototype.constructor = Ou, Ou.prototype.isLineCurve3 = !0, Ou.prototype.getPoint = function(e, t) {
                var n = t || new Fn;
                return 1 === e ? n.copy(this.v2) : (n.copy(this.v2).sub(this.v1), n.multiplyScalar(e).add(this.v1)), n
            }, Ou.prototype.getPointAt = function(e, t) {
                return this.getPoint(e, t)
            }, Ou.prototype.copy = function(e) {
                return gu.prototype.copy.call(this, e), this.v1.copy(e.v1), this.v2.copy(e.v2), this
            }, Ou.prototype.toJSON = function() {
                var e = gu.prototype.toJSON.call(this);
                return e.v1 = this.v1.toArray(), e.v2 = this.v2.toArray(), e
            }, Ou.prototype.fromJSON = function(e) {
                return gu.prototype.fromJSON.call(this, e), this.v1.fromArray(e.v1), this.v2.fromArray(e.v2), this
            }, Du.prototype = Object.create(gu.prototype), Du.prototype.constructor = Du, Du.prototype.isQuadraticBezierCurve = !0, Du.prototype.getPoint = function(e, t) {
                var n = t || new En,
                    i = this.v0,
                    r = this.v1,
                    o = this.v2;
                return n.set(Au(e, i.x, r.x, o.x), Au(e, i.y, r.y, o.y)), n
            }, Du.prototype.copy = function(e) {
                return gu.prototype.copy.call(this, e), this.v0.copy(e.v0), this.v1.copy(e.v1), this.v2.copy(e.v2), this
            }, Du.prototype.toJSON = function() {
                var e = gu.prototype.toJSON.call(this);
                return e.v0 = this.v0.toArray(), e.v1 = this.v1.toArray(), e.v2 = this.v2.toArray(), e
            }, Du.prototype.fromJSON = function(e) {
                return gu.prototype.fromJSON.call(this, e), this.v0.fromArray(e.v0), this.v1.fromArray(e.v1), this.v2.fromArray(e.v2), this
            }, Iu.prototype = Object.create(gu.prototype), Iu.prototype.constructor = Iu, Iu.prototype.isQuadraticBezierCurve3 = !0, Iu.prototype.getPoint = function(e, t) {
                var n = t || new Fn,
                    i = this.v0,
                    r = this.v1,
                    o = this.v2;
                return n.set(Au(e, i.x, r.x, o.x), Au(e, i.y, r.y, o.y), Au(e, i.z, r.z, o.z)), n
            }, Iu.prototype.copy = function(e) {
                return gu.prototype.copy.call(this, e), this.v0.copy(e.v0), this.v1.copy(e.v1), this.v2.copy(e.v2), this
            }, Iu.prototype.toJSON = function() {
                var e = gu.prototype.toJSON.call(this);
                return e.v0 = this.v0.toArray(), e.v1 = this.v1.toArray(), e.v2 = this.v2.toArray(), e
            }, Iu.prototype.fromJSON = function(e) {
                return gu.prototype.fromJSON.call(this, e), this.v0.fromArray(e.v0), this.v1.fromArray(e.v1), this.v2.fromArray(e.v2), this
            }, ju.prototype = Object.create(gu.prototype), ju.prototype.constructor = ju, ju.prototype.isSplineCurve = !0, ju.prototype.getPoint = function(e, t) {
                var n = t || new En,
                    i = this.points,
                    r = (i.length - 1) * e,
                    o = Math.floor(r),
                    a = r - o,
                    s = i[0 === o ? o : o - 1],
                    c = i[o],
                    l = i[o > i.length - 2 ? i.length - 1 : o + 1],
                    u = i[o > i.length - 3 ? i.length - 1 : o + 2];
                return n.set(Eu(a, s.x, c.x, l.x, u.x), Eu(a, s.y, c.y, l.y, u.y)), n
            }, ju.prototype.copy = function(e) {
                gu.prototype.copy.call(this, e), this.points = [];
                for (var t = 0, n = e.points.length; t < n; t++) {
                    var i = e.points[t];
                    this.points.push(i.clone())
                }
                return this
            }, ju.prototype.toJSON = function() {
                var e = gu.prototype.toJSON.call(this);
                e.points = [];
                for (var t = 0, n = this.points.length; t < n; t++) {
                    var i = this.points[t];
                    e.points.push(i.toArray())
                }
                return e
            }, ju.prototype.fromJSON = function(e) {
                gu.prototype.fromJSON.call(this, e), this.points = [];
                for (var t = 0, n = e.points.length; t < n; t++) {
                    var i = e.points[t];
                    this.points.push((new En).fromArray(i))
                }
                return this
            };
            var ku = Object.freeze({
                __proto__: null,
                ArcCurve: bu,
                CatmullRomCurve3: Su,
                CubicBezierCurve: Lu,
                CubicBezierCurve3: Cu,
                EllipseCurve: yu,
                LineCurve: Ru,
                LineCurve3: Ou,
                QuadraticBezierCurve: Du,
                QuadraticBezierCurve3: Iu,
                SplineCurve: ju
            });

            function Fu() {
                gu.call(this), this.type = "CurvePath", this.curves = [], this.autoClose = !1
            }

            function Nu(e) {
                Fu.call(this), this.type = "Path", this.currentPoint = new En, e && this.setFromPoints(e)
            }

            function zu(e) {
                Nu.call(this, e), this.uuid = Sn.generateUUID(), this.type = "Shape", this.holes = []
            }

            function Bu(e, t) {
                li.call(this), this.type = "Light", this.color = new er(e), this.intensity = void 0 !== t ? t : 1, this.receiveShadow = void 0
            }

            function Uu(e, t, n) {
                Bu.call(this, e, n), this.type = "HemisphereLight", this.castShadow = void 0, this.position.copy(li.DefaultUp), this.updateMatrix(), this.groundColor = new er(t)
            }

            function Vu(e) {
                this.camera = e, this.bias = 0, this.radius = 1, this.mapSize = new En(512, 512), this.map = null, this.mapPass = null, this.matrix = new Wn, this._frustum = new fo, this._frameExtents = new En(1, 1), this._viewportCount = 1, this._viewports = [new Rn(0, 0, 1, 1)]
            }

            function Hu() {
                Vu.call(this, new so(50, 1, .5, 500))
            }

            function Gu(e, t, n, i, r, o) {
                Bu.call(this, e, t), this.type = "SpotLight", this.position.copy(li.DefaultUp), this.updateMatrix(), this.target = new li, Object.defineProperty(this, "power", {
                    get: function() {
                        return this.intensity * Math.PI
                    },
                    set: function(e) {
                        this.intensity = e / Math.PI
                    }
                }), this.distance = void 0 !== n ? n : 0, this.angle = void 0 !== i ? i : Math.PI / 3, this.penumbra = void 0 !== r ? r : 0, this.decay = void 0 !== o ? o : 1, this.shadow = new Hu
            }

            function Wu() {
                Vu.call(this, new so(90, 1, .5, 500)), this._frameExtents = new En(4, 2), this._viewportCount = 6, this._viewports = [new Rn(2, 1, 1, 1), new Rn(0, 1, 1, 1), new Rn(3, 1, 1, 1), new Rn(1, 1, 1, 1), new Rn(3, 0, 1, 1), new Rn(1, 0, 1, 1)], this._cubeDirections = [new Fn(1, 0, 0), new Fn(-1, 0, 0), new Fn(0, 0, 1), new Fn(0, 0, -1), new Fn(0, 1, 0), new Fn(0, -1, 0)], this._cubeUps = [new Fn(0, 1, 0), new Fn(0, 1, 0), new Fn(0, 1, 0), new Fn(0, 1, 0), new Fn(0, 0, 1), new Fn(0, 0, -1)]
            }

            function qu(e, t, n, i) {
                Bu.call(this, e, t), this.type = "PointLight", Object.defineProperty(this, "power", {
                    get: function() {
                        return 4 * this.intensity * Math.PI
                    },
                    set: function(e) {
                        this.intensity = e / (4 * Math.PI)
                    }
                }), this.distance = void 0 !== n ? n : 0, this.decay = void 0 !== i ? i : 1, this.shadow = new Wu
            }

            function Yu(e, t, n, i, r, o) {
                ao.call(this), this.type = "OrthographicCamera", this.zoom = 1, this.view = null, this.left = void 0 !== e ? e : -1, this.right = void 0 !== t ? t : 1, this.top = void 0 !== n ? n : 1, this.bottom = void 0 !== i ? i : -1, this.near = void 0 !== r ? r : .1, this.far = void 0 !== o ? o : 2e3, this.updateProjectionMatrix()
            }

            function Xu() {
                Vu.call(this, new Yu(-5, 5, 5, -5, .5, 500))
            }

            function Zu(e, t) {
                Bu.call(this, e, t), this.type = "DirectionalLight", this.position.copy(li.DefaultUp), this.updateMatrix(), this.target = new li, this.shadow = new Xu
            }

            function Ju(e, t) {
                Bu.call(this, e, t), this.type = "AmbientLight", this.castShadow = void 0
            }

            function Ku(e, t, n, i) {
                Bu.call(this, e, t), this.type = "RectAreaLight", this.width = void 0 !== n ? n : 10, this.height = void 0 !== i ? i : 10
            }

            function Qu(e) {
                cu.call(this, e), this.textures = {}
            }
            Fu.prototype = Object.assign(Object.create(gu.prototype), {
                constructor: Fu,
                add: function(e) {
                    this.curves.push(e)
                },
                closePath: function() {
                    var e = this.curves[0].getPoint(0),
                        t = this.curves[this.curves.length - 1].getPoint(1);
                    e.equals(t) || this.curves.push(new Ru(t, e))
                },
                getPoint: function(e) {
                    for (var t = e * this.getLength(), n = this.getCurveLengths(), i = 0; i < n.length;) {
                        if (n[i] >= t) {
                            var r = n[i] - t,
                                o = this.curves[i],
                                a = o.getLength(),
                                s = 0 === a ? 0 : 1 - r / a;
                            return o.getPointAt(s)
                        }
                        i++
                    }
                    return null
                },
                getLength: function() {
                    var e = this.getCurveLengths();
                    return e[e.length - 1]
                },
                updateArcLengths: function() {
                    this.needsUpdate = !0, this.cacheLengths = null, this.getCurveLengths()
                },
                getCurveLengths: function() {
                    if (this.cacheLengths && this.cacheLengths.length === this.curves.length) return this.cacheLengths;
                    for (var e = [], t = 0, n = 0, i = this.curves.length; n < i; n++) t += this.curves[n].getLength(), e.push(t);
                    return this.cacheLengths = e, e
                },
                getSpacedPoints: function(e) {
                    void 0 === e && (e = 40);
                    for (var t = [], n = 0; n <= e; n++) t.push(this.getPoint(n / e));
                    return this.autoClose && t.push(t[0]), t
                },
                getPoints: function(e) {
                    e = e || 12;
                    for (var t, n = [], i = 0, r = this.curves; i < r.length; i++)
                        for (var o = r[i], a = o && o.isEllipseCurve ? 2 * e : o && (o.isLineCurve || o.isLineCurve3) ? 1 : o && o.isSplineCurve ? e * o.points.length : e, s = o.getPoints(a), c = 0; c < s.length; c++) {
                            var l = s[c];
                            t && t.equals(l) || (n.push(l), t = l)
                        }
                    return this.autoClose && n.length > 1 && !n[n.length - 1].equals(n[0]) && n.push(n[0]), n
                },
                copy: function(e) {
                    gu.prototype.copy.call(this, e), this.curves = [];
                    for (var t = 0, n = e.curves.length; t < n; t++) {
                        var i = e.curves[t];
                        this.curves.push(i.clone())
                    }
                    return this.autoClose = e.autoClose, this
                },
                toJSON: function() {
                    var e = gu.prototype.toJSON.call(this);
                    e.autoClose = this.autoClose, e.curves = [];
                    for (var t = 0, n = this.curves.length; t < n; t++) {
                        var i = this.curves[t];
                        e.curves.push(i.toJSON())
                    }
                    return e
                },
                fromJSON: function(e) {
                    gu.prototype.fromJSON.call(this, e), this.autoClose = e.autoClose, this.curves = [];
                    for (var t = 0, n = e.curves.length; t < n; t++) {
                        var i = e.curves[t];
                        this.curves.push((new ku[i.type]).fromJSON(i))
                    }
                    return this
                }
            }), Nu.prototype = Object.assign(Object.create(Fu.prototype), {
                constructor: Nu,
                setFromPoints: function(e) {
                    this.moveTo(e[0].x, e[0].y);
                    for (var t = 1, n = e.length; t < n; t++) this.lineTo(e[t].x, e[t].y);
                    return this
                },
                moveTo: function(e, t) {
                    return this.currentPoint.set(e, t), this
                },
                lineTo: function(e, t) {
                    var n = new Ru(this.currentPoint.clone(), new En(e, t));
                    return this.curves.push(n), this.currentPoint.set(e, t), this
                },
                quadraticCurveTo: function(e, t, n, i) {
                    var r = new Du(this.currentPoint.clone(), new En(e, t), new En(n, i));
                    return this.curves.push(r), this.currentPoint.set(n, i), this
                },
                bezierCurveTo: function(e, t, n, i, r, o) {
                    var a = new Lu(this.currentPoint.clone(), new En(e, t), new En(n, i), new En(r, o));
                    return this.curves.push(a), this.currentPoint.set(r, o), this
                },
                splineThru: function(e) {
                    var t = new ju([this.currentPoint.clone()].concat(e));
                    return this.curves.push(t), this.currentPoint.copy(e[e.length - 1]), this
                },
                arc: function(e, t, n, i, r, o) {
                    var a = this.currentPoint.x,
                        s = this.currentPoint.y;
                    return this.absarc(e + a, t + s, n, i, r, o), this
                },
                absarc: function(e, t, n, i, r, o) {
                    return this.absellipse(e, t, n, n, i, r, o), this
                },
                ellipse: function(e, t, n, i, r, o, a, s) {
                    var c = this.currentPoint.x,
                        l = this.currentPoint.y;
                    return this.absellipse(e + c, t + l, n, i, r, o, a, s), this
                },
                absellipse: function(e, t, n, i, r, o, a, s) {
                    var c = new yu(e, t, n, i, r, o, a, s);
                    if (this.curves.length > 0) {
                        var l = c.getPoint(0);
                        l.equals(this.currentPoint) || this.lineTo(l.x, l.y)
                    }
                    this.curves.push(c);
                    var u = c.getPoint(1);
                    return this.currentPoint.copy(u), this
                },
                copy: function(e) {
                    return Fu.prototype.copy.call(this, e), this.currentPoint.copy(e.currentPoint), this
                },
                toJSON: function() {
                    var e = Fu.prototype.toJSON.call(this);
                    return e.currentPoint = this.currentPoint.toArray(), e
                },
                fromJSON: function(e) {
                    return Fu.prototype.fromJSON.call(this, e), this.currentPoint.fromArray(e.currentPoint), this
                }
            }), zu.prototype = Object.assign(Object.create(Nu.prototype), {
                constructor: zu,
                getPointsHoles: function(e) {
                    for (var t = [], n = 0, i = this.holes.length; n < i; n++) t[n] = this.holes[n].getPoints(e);
                    return t
                },
                extractPoints: function(e) {
                    return {
                        shape: this.getPoints(e),
                        holes: this.getPointsHoles(e)
                    }
                },
                copy: function(e) {
                    Nu.prototype.copy.call(this, e), this.holes = [];
                    for (var t = 0, n = e.holes.length; t < n; t++) {
                        var i = e.holes[t];
                        this.holes.push(i.clone())
                    }
                    return this
                },
                toJSON: function() {
                    var e = Nu.prototype.toJSON.call(this);
                    e.uuid = this.uuid, e.holes = [];
                    for (var t = 0, n = this.holes.length; t < n; t++) {
                        var i = this.holes[t];
                        e.holes.push(i.toJSON())
                    }
                    return e
                },
                fromJSON: function(e) {
                    Nu.prototype.fromJSON.call(this, e), this.uuid = e.uuid, this.holes = [];
                    for (var t = 0, n = e.holes.length; t < n; t++) {
                        var i = e.holes[t];
                        this.holes.push((new Nu).fromJSON(i))
                    }
                    return this
                }
            }), Bu.prototype = Object.assign(Object.create(li.prototype), {
                constructor: Bu,
                isLight: !0,
                copy: function(e) {
                    return li.prototype.copy.call(this, e), this.color.copy(e.color), this.intensity = e.intensity, this
                },
                toJSON: function(e) {
                    var t = li.prototype.toJSON.call(this, e);
                    return t.object.color = this.color.getHex(), t.object.intensity = this.intensity, void 0 !== this.groundColor && (t.object.groundColor = this.groundColor.getHex()), void 0 !== this.distance && (t.object.distance = this.distance), void 0 !== this.angle && (t.object.angle = this.angle), void 0 !== this.decay && (t.object.decay = this.decay), void 0 !== this.penumbra && (t.object.penumbra = this.penumbra), void 0 !== this.shadow && (t.object.shadow = this.shadow.toJSON()), t
                }
            }), Uu.prototype = Object.assign(Object.create(Bu.prototype), {
                constructor: Uu,
                isHemisphereLight: !0,
                copy: function(e) {
                    return Bu.prototype.copy.call(this, e), this.groundColor.copy(e.groundColor), this
                }
            }), Object.assign(Vu.prototype, {
                _projScreenMatrix: new Wn,
                _lightPositionWorld: new Fn,
                _lookTarget: new Fn,
                getViewportCount: function() {
                    return this._viewportCount
                },
                getFrustum: function() {
                    return this._frustum
                },
                updateMatrices: function(e) {
                    var t = this.camera,
                        n = this.matrix,
                        i = this._projScreenMatrix,
                        r = this._lookTarget,
                        o = this._lightPositionWorld;
                    o.setFromMatrixPosition(e.matrixWorld), t.position.copy(o), r.setFromMatrixPosition(e.target.matrixWorld), t.lookAt(r), t.updateMatrixWorld(), i.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse), this._frustum.setFromProjectionMatrix(i), n.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1), n.multiply(t.projectionMatrix), n.multiply(t.matrixWorldInverse)
                },
                getViewport: function(e) {
                    return this._viewports[e]
                },
                getFrameExtents: function() {
                    return this._frameExtents
                },
                copy: function(e) {
                    return this.camera = e.camera.clone(), this.bias = e.bias, this.radius = e.radius, this.mapSize.copy(e.mapSize), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                toJSON: function() {
                    var e = {};
                    return 0 !== this.bias && (e.bias = this.bias), 1 !== this.radius && (e.radius = this.radius), 512 === this.mapSize.x && 512 === this.mapSize.y || (e.mapSize = this.mapSize.toArray()), e.camera = this.camera.toJSON(!1).object, delete e.camera.matrix, e
                }
            }), Hu.prototype = Object.assign(Object.create(Vu.prototype), {
                constructor: Hu,
                isSpotLightShadow: !0,
                updateMatrices: function(e) {
                    var t = this.camera,
                        n = 2 * Sn.RAD2DEG * e.angle,
                        i = this.mapSize.width / this.mapSize.height,
                        r = e.distance || t.far;
                    n === t.fov && i === t.aspect && r === t.far || (t.fov = n, t.aspect = i, t.far = r, t.updateProjectionMatrix()), Vu.prototype.updateMatrices.call(this, e)
                }
            }), Gu.prototype = Object.assign(Object.create(Bu.prototype), {
                constructor: Gu,
                isSpotLight: !0,
                copy: function(e) {
                    return Bu.prototype.copy.call(this, e), this.distance = e.distance, this.angle = e.angle, this.penumbra = e.penumbra, this.decay = e.decay, this.target = e.target.clone(), this.shadow = e.shadow.clone(), this
                }
            }), Wu.prototype = Object.assign(Object.create(Vu.prototype), {
                constructor: Wu,
                isPointLightShadow: !0,
                updateMatrices: function(e, t) {
                    void 0 === t && (t = 0);
                    var n = this.camera,
                        i = this.matrix,
                        r = this._lightPositionWorld,
                        o = this._lookTarget,
                        a = this._projScreenMatrix;
                    r.setFromMatrixPosition(e.matrixWorld), n.position.copy(r), o.copy(n.position), o.add(this._cubeDirections[t]), n.up.copy(this._cubeUps[t]), n.lookAt(o), n.updateMatrixWorld(), i.makeTranslation(-r.x, -r.y, -r.z), a.multiplyMatrices(n.projectionMatrix, n.matrixWorldInverse), this._frustum.setFromProjectionMatrix(a)
                }
            }), qu.prototype = Object.assign(Object.create(Bu.prototype), {
                constructor: qu,
                isPointLight: !0,
                copy: function(e) {
                    return Bu.prototype.copy.call(this, e), this.distance = e.distance, this.decay = e.decay, this.shadow = e.shadow.clone(), this
                }
            }), Yu.prototype = Object.assign(Object.create(ao.prototype), {
                constructor: Yu,
                isOrthographicCamera: !0,
                copy: function(e, t) {
                    return ao.prototype.copy.call(this, e, t), this.left = e.left, this.right = e.right, this.top = e.top, this.bottom = e.bottom, this.near = e.near, this.far = e.far, this.zoom = e.zoom, this.view = null === e.view ? null : Object.assign({}, e.view), this
                },
                setViewOffset: function(e, t, n, i, r, o) {
                    null === this.view && (this.view = {
                        enabled: !0,
                        fullWidth: 1,
                        fullHeight: 1,
                        offsetX: 0,
                        offsetY: 0,
                        width: 1,
                        height: 1
                    }), this.view.enabled = !0, this.view.fullWidth = e, this.view.fullHeight = t, this.view.offsetX = n, this.view.offsetY = i, this.view.width = r, this.view.height = o, this.updateProjectionMatrix()
                },
                clearViewOffset: function() {
                    null !== this.view && (this.view.enabled = !1), this.updateProjectionMatrix()
                },
                updateProjectionMatrix: function() {
                    var e = (this.right - this.left) / (2 * this.zoom),
                        t = (this.top - this.bottom) / (2 * this.zoom),
                        n = (this.right + this.left) / 2,
                        i = (this.top + this.bottom) / 2,
                        r = n - e,
                        o = n + e,
                        a = i + t,
                        s = i - t;
                    if (null !== this.view && this.view.enabled) {
                        var c = (this.right - this.left) / this.view.fullWidth / this.zoom,
                            l = (this.top - this.bottom) / this.view.fullHeight / this.zoom;
                        o = (r += c * this.view.offsetX) + c * this.view.width, s = (a -= l * this.view.offsetY) - l * this.view.height
                    }
                    this.projectionMatrix.makeOrthographic(r, o, a, s, this.near, this.far), this.projectionMatrixInverse.getInverse(this.projectionMatrix)
                },
                toJSON: function(e) {
                    var t = li.prototype.toJSON.call(this, e);
                    return t.object.zoom = this.zoom, t.object.left = this.left, t.object.right = this.right, t.object.top = this.top, t.object.bottom = this.bottom, t.object.near = this.near, t.object.far = this.far, null !== this.view && (t.object.view = Object.assign({}, this.view)), t
                }
            }), Xu.prototype = Object.assign(Object.create(Vu.prototype), {
                constructor: Xu,
                isDirectionalLightShadow: !0,
                updateMatrices: function(e) {
                    Vu.prototype.updateMatrices.call(this, e)
                }
            }), Zu.prototype = Object.assign(Object.create(Bu.prototype), {
                constructor: Zu,
                isDirectionalLight: !0,
                copy: function(e) {
                    return Bu.prototype.copy.call(this, e), this.target = e.target.clone(), this.shadow = e.shadow.clone(), this
                }
            }), Ju.prototype = Object.assign(Object.create(Bu.prototype), {
                constructor: Ju,
                isAmbientLight: !0
            }), Ku.prototype = Object.assign(Object.create(Bu.prototype), {
                constructor: Ku,
                isRectAreaLight: !0,
                copy: function(e) {
                    return Bu.prototype.copy.call(this, e), this.width = e.width, this.height = e.height, this
                },
                toJSON: function(e) {
                    var t = Bu.prototype.toJSON.call(this, e);
                    return t.object.width = this.width, t.object.height = this.height, t
                }
            }), Qu.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: Qu,
                load: function(e, t, n, i) {
                    var r = this,
                        o = new uu(r.manager);
                    o.setPath(r.path), o.load(e, (function(e) {
                        t(r.parse(JSON.parse(e)))
                    }), n, i)
                },
                parse: function(e) {
                    var t = this.textures;

                    function n(e) {
                        return void 0 === t[e] && console.warn("THREE.MaterialLoader: Undefined texture", e), t[e]
                    }
                    var i = new Hl[e.type];
                    if (void 0 !== e.uuid && (i.uuid = e.uuid), void 0 !== e.name && (i.name = e.name), void 0 !== e.color && i.color.setHex(e.color), void 0 !== e.roughness && (i.roughness = e.roughness), void 0 !== e.metalness && (i.metalness = e.metalness), void 0 !== e.sheen && (i.sheen = (new er).setHex(e.sheen)), void 0 !== e.emissive && i.emissive.setHex(e.emissive), void 0 !== e.specular && i.specular.setHex(e.specular), void 0 !== e.shininess && (i.shininess = e.shininess), void 0 !== e.clearcoat && (i.clearcoat = e.clearcoat), void 0 !== e.clearcoatRoughness && (i.clearcoatRoughness = e.clearcoatRoughness), void 0 !== e.vertexColors && (i.vertexColors = e.vertexColors), void 0 !== e.fog && (i.fog = e.fog), void 0 !== e.flatShading && (i.flatShading = e.flatShading), void 0 !== e.blending && (i.blending = e.blending), void 0 !== e.combine && (i.combine = e.combine), void 0 !== e.side && (i.side = e.side), void 0 !== e.opacity && (i.opacity = e.opacity), void 0 !== e.transparent && (i.transparent = e.transparent), void 0 !== e.alphaTest && (i.alphaTest = e.alphaTest), void 0 !== e.depthTest && (i.depthTest = e.depthTest), void 0 !== e.depthWrite && (i.depthWrite = e.depthWrite), void 0 !== e.colorWrite && (i.colorWrite = e.colorWrite), void 0 !== e.stencilWrite && (i.stencilWrite = e.stencilWrite), void 0 !== e.stencilWriteMask && (i.stencilWriteMask = e.stencilWriteMask), void 0 !== e.stencilFunc && (i.stencilFunc = e.stencilFunc), void 0 !== e.stencilRef && (i.stencilRef = e.stencilRef), void 0 !== e.stencilFuncMask && (i.stencilFuncMask = e.stencilFuncMask), void 0 !== e.stencilFail && (i.stencilFail = e.stencilFail), void 0 !== e.stencilZFail && (i.stencilZFail = e.stencilZFail), void 0 !== e.stencilZPass && (i.stencilZPass = e.stencilZPass), void 0 !== e.wireframe && (i.wireframe = e.wireframe), void 0 !== e.wireframeLinewidth && (i.wireframeLinewidth = e.wireframeLinewidth), void 0 !== e.wireframeLinecap && (i.wireframeLinecap = e.wireframeLinecap), void 0 !== e.wireframeLinejoin && (i.wireframeLinejoin = e.wireframeLinejoin), void 0 !== e.rotation && (i.rotation = e.rotation), 1 !== e.linewidth && (i.linewidth = e.linewidth), void 0 !== e.dashSize && (i.dashSize = e.dashSize), void 0 !== e.gapSize && (i.gapSize = e.gapSize), void 0 !== e.scale && (i.scale = e.scale), void 0 !== e.polygonOffset && (i.polygonOffset = e.polygonOffset), void 0 !== e.polygonOffsetFactor && (i.polygonOffsetFactor = e.polygonOffsetFactor), void 0 !== e.polygonOffsetUnits && (i.polygonOffsetUnits = e.polygonOffsetUnits), void 0 !== e.skinning && (i.skinning = e.skinning), void 0 !== e.morphTargets && (i.morphTargets = e.morphTargets), void 0 !== e.morphNormals && (i.morphNormals = e.morphNormals), void 0 !== e.dithering && (i.dithering = e.dithering), void 0 !== e.visible && (i.visible = e.visible), void 0 !== e.toneMapped && (i.toneMapped = e.toneMapped), void 0 !== e.userData && (i.userData = e.userData), void 0 !== e.uniforms)
                        for (var r in e.uniforms) {
                            var o = e.uniforms[r];
                            switch (i.uniforms[r] = {}, o.type) {
                                case "t":
                                    i.uniforms[r].value = n(o.value);
                                    break;
                                case "c":
                                    i.uniforms[r].value = (new er).setHex(o.value);
                                    break;
                                case "v2":
                                    i.uniforms[r].value = (new En).fromArray(o.value);
                                    break;
                                case "v3":
                                    i.uniforms[r].value = (new Fn).fromArray(o.value);
                                    break;
                                case "v4":
                                    i.uniforms[r].value = (new Rn).fromArray(o.value);
                                    break;
                                case "m3":
                                    i.uniforms[r].value = (new An).fromArray(o.value);
                                case "m4":
                                    i.uniforms[r].value = (new Wn).fromArray(o.value);
                                    break;
                                default:
                                    i.uniforms[r].value = o.value
                            }
                        }
                    if (void 0 !== e.defines && (i.defines = e.defines), void 0 !== e.vertexShader && (i.vertexShader = e.vertexShader), void 0 !== e.fragmentShader && (i.fragmentShader = e.fragmentShader), void 0 !== e.extensions)
                        for (var a in e.extensions) i.extensions[a] = e.extensions[a];
                    if (void 0 !== e.shading && (i.flatShading = 1 === e.shading), void 0 !== e.size && (i.size = e.size), void 0 !== e.sizeAttenuation && (i.sizeAttenuation = e.sizeAttenuation), void 0 !== e.map && (i.map = n(e.map)), void 0 !== e.matcap && (i.matcap = n(e.matcap)), void 0 !== e.alphaMap && (i.alphaMap = n(e.alphaMap), i.transparent = !0), void 0 !== e.bumpMap && (i.bumpMap = n(e.bumpMap)), void 0 !== e.bumpScale && (i.bumpScale = e.bumpScale), void 0 !== e.normalMap && (i.normalMap = n(e.normalMap)), void 0 !== e.normalMapType && (i.normalMapType = e.normalMapType), void 0 !== e.normalScale) {
                        var s = e.normalScale;
                        !1 === Array.isArray(s) && (s = [s, s]), i.normalScale = (new En).fromArray(s)
                    }
                    return void 0 !== e.displacementMap && (i.displacementMap = n(e.displacementMap)), void 0 !== e.displacementScale && (i.displacementScale = e.displacementScale), void 0 !== e.displacementBias && (i.displacementBias = e.displacementBias), void 0 !== e.roughnessMap && (i.roughnessMap = n(e.roughnessMap)), void 0 !== e.metalnessMap && (i.metalnessMap = n(e.metalnessMap)), void 0 !== e.emissiveMap && (i.emissiveMap = n(e.emissiveMap)), void 0 !== e.emissiveIntensity && (i.emissiveIntensity = e.emissiveIntensity), void 0 !== e.specularMap && (i.specularMap = n(e.specularMap)), void 0 !== e.envMap && (i.envMap = n(e.envMap)), void 0 !== e.envMapIntensity && (i.envMapIntensity = e.envMapIntensity), void 0 !== e.reflectivity && (i.reflectivity = e.reflectivity), void 0 !== e.refractionRatio && (i.refractionRatio = e.refractionRatio), void 0 !== e.lightMap && (i.lightMap = n(e.lightMap)), void 0 !== e.lightMapIntensity && (i.lightMapIntensity = e.lightMapIntensity), void 0 !== e.aoMap && (i.aoMap = n(e.aoMap)), void 0 !== e.aoMapIntensity && (i.aoMapIntensity = e.aoMapIntensity), void 0 !== e.gradientMap && (i.gradientMap = n(e.gradientMap)), void 0 !== e.clearcoatNormalMap && (i.clearcoatNormalMap = n(e.clearcoatNormalMap)), void 0 !== e.clearcoatNormalScale && (i.clearcoatNormalScale = (new En).fromArray(e.clearcoatNormalScale)), i
                },
                setTextures: function(e) {
                    return this.textures = e, this
                }
            });
            var $u = {
                decodeText: function(e) {
                    if ("undefined" != typeof TextDecoder) return (new TextDecoder).decode(e);
                    for (var t = "", n = 0, i = e.length; n < i; n++) t += String.fromCharCode(e[n]);
                    try {
                        return decodeURIComponent(escape(t))
                    } catch (e) {
                        return t
                    }
                },
                extractUrlBase: function(e) {
                    var t = e.lastIndexOf("/");
                    return -1 === t ? "./" : e.substr(0, t + 1)
                }
            };

            function eh() {
                Pr.call(this), this.type = "InstancedBufferGeometry", this.maxInstancedCount = void 0
            }

            function th(e, t, n, i) {
                "number" == typeof n && (i = n, n = !1, console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")), lr.call(this, e, t, n), this.meshPerAttribute = i || 1
            }

            function nh(e) {
                cu.call(this, e)
            }
            eh.prototype = Object.assign(Object.create(Pr.prototype), {
                constructor: eh,
                isInstancedBufferGeometry: !0,
                copy: function(e) {
                    return Pr.prototype.copy.call(this, e), this.maxInstancedCount = e.maxInstancedCount, this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                toJSON: function() {
                    var e = Pr.prototype.toJSON.call(this);
                    return e.maxInstancedCount = this.maxInstancedCount, e.isInstancedBufferGeometry = !0, e
                }
            }), th.prototype = Object.assign(Object.create(lr.prototype), {
                constructor: th,
                isInstancedBufferAttribute: !0,
                copy: function(e) {
                    return lr.prototype.copy.call(this, e), this.meshPerAttribute = e.meshPerAttribute, this
                },
                toJSON: function() {
                    var e = lr.prototype.toJSON.call(this);
                    return e.meshPerAttribute = this.meshPerAttribute, e.isInstancedBufferAttribute = !0, e
                }
            }), nh.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: nh,
                load: function(e, t, n, i) {
                    var r = this,
                        o = new uu(r.manager);
                    o.setPath(r.path), o.load(e, (function(e) {
                        t(r.parse(JSON.parse(e)))
                    }), n, i)
                },
                parse: function(e) {
                    var t = e.isInstancedBufferGeometry ? new eh : new Pr,
                        n = e.data.index;
                    if (void 0 !== n) {
                        var i = new ih[n.type](n.array);
                        t.setIndex(new lr(i, 1))
                    }
                    var r = e.data.attributes;
                    for (var o in r) {
                        var a = r[o],
                            s = (i = new ih[a.type](a.array), new(a.isInstancedBufferAttribute ? th : lr)(i, a.itemSize, a.normalized));
                        void 0 !== a.name && (s.name = a.name), t.setAttribute(o, s)
                    }
                    var c = e.data.morphAttributes;
                    if (c)
                        for (var o in c) {
                            for (var l = c[o], u = [], h = 0, d = l.length; h < d; h++) {
                                a = l[h], s = new lr(i = new ih[a.type](a.array), a.itemSize, a.normalized);
                                void 0 !== a.name && (s.name = a.name), u.push(s)
                            }
                            t.morphAttributes[o] = u
                        }
                    e.data.morphTargetsRelative && (t.morphTargetsRelative = !0);
                    var p = e.data.groups || e.data.drawcalls || e.data.offsets;
                    if (void 0 !== p) {
                        h = 0;
                        for (var f = p.length; h !== f; ++h) {
                            var m = p[h];
                            t.addGroup(m.start, m.count, m.materialIndex)
                        }
                    }
                    var v = e.data.boundingSphere;
                    if (void 0 !== v) {
                        var g = new Fn;
                        void 0 !== v.center && g.fromArray(v.center), t.boundingSphere = new Ai(g, v.radius)
                    }
                    return e.name && (t.name = e.name), e.userData && (t.userData = e.userData), t
                }
            });
            var ih = {
                Int8Array: Int8Array,
                Uint8Array: Uint8Array,
                Uint8ClampedArray: "undefined" != typeof Uint8ClampedArray ? Uint8ClampedArray : Uint8Array,
                Int16Array: Int16Array,
                Uint16Array: Uint16Array,
                Int32Array: Int32Array,
                Uint32Array: Uint32Array,
                Float32Array: Float32Array,
                Float64Array: Float64Array
            };

            function rh(e) {
                cu.call(this, e)
            }
            rh.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: rh,
                load: function(e, t, n, i) {
                    var r = this,
                        o = "" === this.path ? $u.extractUrlBase(e) : this.path;
                    this.resourcePath = this.resourcePath || o;
                    var a = new uu(r.manager);
                    a.setPath(this.path), a.load(e, (function(n) {
                        var o = null;
                        try {
                            o = JSON.parse(n)
                        } catch (t) {
                            return void 0 !== i && i(t), void console.error("THREE:ObjectLoader: Can't parse " + e + ".", t.message)
                        }
                        var a = o.metadata;
                        void 0 !== a && void 0 !== a.type && "geometry" !== a.type.toLowerCase() ? r.parse(o, t) : console.error("THREE.ObjectLoader: Can't load " + e)
                    }), n, i)
                },
                parse: function(e, t) {
                    var n = this.parseShape(e.shapes),
                        i = this.parseGeometries(e.geometries, n),
                        r = this.parseImages(e.images, (function() {
                            void 0 !== t && t(s)
                        })),
                        o = this.parseTextures(e.textures, r),
                        a = this.parseMaterials(e.materials, o),
                        s = this.parseObject(e.object, i, a);
                    return e.animations && (s.animations = this.parseAnimations(e.animations)), void 0 !== e.images && 0 !== e.images.length || void 0 !== t && t(s), s
                },
                parseShape: function(e) {
                    var t = {};
                    if (void 0 !== e)
                        for (var n = 0, i = e.length; n < i; n++) {
                            var r = (new zu).fromJSON(e[n]);
                            t[r.uuid] = r
                        }
                    return t
                },
                parseGeometries: function(t, n) {
                    var i = {};
                    if (void 0 !== t)
                        for (var r = new nh, o = 0, a = t.length; o < a; o++) {
                            var s, c = t[o];
                            switch (c.type) {
                                case "PlaneGeometry":
                                case "PlaneBufferGeometry":
                                    s = new Ol[c.type](c.width, c.height, c.widthSegments, c.heightSegments);
                                    break;
                                case "BoxGeometry":
                                case "BoxBufferGeometry":
                                case "CubeGeometry":
                                    s = new Ol[c.type](c.width, c.height, c.depth, c.widthSegments, c.heightSegments, c.depthSegments);
                                    break;
                                case "CircleGeometry":
                                case "CircleBufferGeometry":
                                    s = new Ol[c.type](c.radius, c.segments, c.thetaStart, c.thetaLength);
                                    break;
                                case "CylinderGeometry":
                                case "CylinderBufferGeometry":
                                    s = new Ol[c.type](c.radiusTop, c.radiusBottom, c.height, c.radialSegments, c.heightSegments, c.openEnded, c.thetaStart, c.thetaLength);
                                    break;
                                case "ConeGeometry":
                                case "ConeBufferGeometry":
                                    s = new Ol[c.type](c.radius, c.height, c.radialSegments, c.heightSegments, c.openEnded, c.thetaStart, c.thetaLength);
                                    break;
                                case "SphereGeometry":
                                case "SphereBufferGeometry":
                                    s = new Ol[c.type](c.radius, c.widthSegments, c.heightSegments, c.phiStart, c.phiLength, c.thetaStart, c.thetaLength);
                                    break;
                                case "DodecahedronGeometry":
                                case "DodecahedronBufferGeometry":
                                case "IcosahedronGeometry":
                                case "IcosahedronBufferGeometry":
                                case "OctahedronGeometry":
                                case "OctahedronBufferGeometry":
                                case "TetrahedronGeometry":
                                case "TetrahedronBufferGeometry":
                                    s = new Ol[c.type](c.radius, c.detail);
                                    break;
                                case "RingGeometry":
                                case "RingBufferGeometry":
                                    s = new Ol[c.type](c.innerRadius, c.outerRadius, c.thetaSegments, c.phiSegments, c.thetaStart, c.thetaLength);
                                    break;
                                case "TorusGeometry":
                                case "TorusBufferGeometry":
                                    s = new Ol[c.type](c.radius, c.tube, c.radialSegments, c.tubularSegments, c.arc);
                                    break;
                                case "TorusKnotGeometry":
                                case "TorusKnotBufferGeometry":
                                    s = new Ol[c.type](c.radius, c.tube, c.tubularSegments, c.radialSegments, c.p, c.q);
                                    break;
                                case "TubeGeometry":
                                case "TubeBufferGeometry":
                                    s = new Ol[c.type]((new ku[c.path.type]).fromJSON(c.path), c.tubularSegments, c.radius, c.radialSegments, c.closed);
                                    break;
                                case "LatheGeometry":
                                case "LatheBufferGeometry":
                                    s = new Ol[c.type](c.points, c.segments, c.phiStart, c.phiLength);
                                    break;
                                case "PolyhedronGeometry":
                                case "PolyhedronBufferGeometry":
                                    s = new Ol[c.type](c.vertices, c.indices, c.radius, c.details);
                                    break;
                                case "ShapeGeometry":
                                case "ShapeBufferGeometry":
                                    for (var l = [], u = 0, h = c.shapes.length; u < h; u++) {
                                        var d = n[c.shapes[u]];
                                        l.push(d)
                                    }
                                    s = new Ol[c.type](l, c.curveSegments);
                                    break;
                                case "ExtrudeGeometry":
                                case "ExtrudeBufferGeometry":
                                    for (l = [], u = 0, h = c.shapes.length; u < h; u++) {
                                        d = n[c.shapes[u]];
                                        l.push(d)
                                    }
                                    var p = c.options.extrudePath;
                                    void 0 !== p && (c.options.extrudePath = (new ku[p.type]).fromJSON(p)), s = new Ol[c.type](l, c.options);
                                    break;
                                case "BufferGeometry":
                                case "InstancedBufferGeometry":
                                    s = r.parse(c);
                                    break;
                                case "Geometry":
                                    if ("THREE" in window && "LegacyJSONLoader" in e) s = (new e.LegacyJSONLoader).parse(c, this.resourcePath).geometry;
                                    else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');
                                    break;
                                default:
                                    console.warn('THREE.ObjectLoader: Unsupported geometry type "' + c.type + '"');
                                    continue
                            }
                            s.uuid = c.uuid, void 0 !== c.name && (s.name = c.name), !0 === s.isBufferGeometry && void 0 !== c.userData && (s.userData = c.userData), i[c.uuid] = s
                        }
                    return i
                },
                parseMaterials: function(e, t) {
                    var n = {},
                        i = {};
                    if (void 0 !== e) {
                        var r = new Qu;
                        r.setTextures(t);
                        for (var o = 0, a = e.length; o < a; o++) {
                            var s = e[o];
                            if ("MultiMaterial" === s.type) {
                                for (var c = [], l = 0; l < s.materials.length; l++) {
                                    var u = s.materials[l];
                                    void 0 === n[u.uuid] && (n[u.uuid] = r.parse(u)), c.push(n[u.uuid])
                                }
                                i[s.uuid] = c
                            } else void 0 === n[s.uuid] && (n[s.uuid] = r.parse(s)), i[s.uuid] = n[s.uuid]
                        }
                    }
                    return i
                },
                parseAnimations: function(e) {
                    for (var t = [], n = 0; n < e.length; n++) {
                        var i = e[n],
                            r = iu.parse(i);
                        void 0 !== i.uuid && (r.uuid = i.uuid), t.push(r)
                    }
                    return t
                },
                parseImages: function(e, t) {
                    var n = this,
                        i = {};

                    function r(e) {
                        return n.manager.itemStart(e), o.load(e, (function() {
                            n.manager.itemEnd(e)
                        }), void 0, (function() {
                            n.manager.itemError(e), n.manager.itemEnd(e)
                        }))
                    }
                    if (void 0 !== e && e.length > 0) {
                        var o = new fu(new au(t));
                        o.setCrossOrigin(this.crossOrigin);
                        for (var a = 0, s = e.length; a < s; a++) {
                            var c = e[a],
                                l = c.url;
                            if (Array.isArray(l)) {
                                i[c.uuid] = [];
                                for (var u = 0, h = l.length; u < h; u++) {
                                    var d = l[u],
                                        p = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(d) ? d : n.resourcePath + d;
                                    i[c.uuid].push(r(p))
                                }
                            } else {
                                p = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url) ? c.url : n.resourcePath + c.url;
                                i[c.uuid] = r(p)
                            }
                        }
                    }
                    return i
                },
                parseTextures: function(e, t) {
                    function n(e, t) {
                        return "number" == typeof e ? e : (console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.", e), t[e])
                    }
                    var i = {};
                    if (void 0 !== e)
                        for (var r = 0, o = e.length; r < o; r++) {
                            var a, s = e[r];
                            void 0 === s.image && console.warn('THREE.ObjectLoader: No "image" specified for', s.uuid), void 0 === t[s.image] && console.warn("THREE.ObjectLoader: Undefined image", s.image), (a = Array.isArray(t[s.image]) ? new Do(t[s.image]) : new Cn(t[s.image])).needsUpdate = !0, a.uuid = s.uuid, void 0 !== s.name && (a.name = s.name), void 0 !== s.mapping && (a.mapping = n(s.mapping, ah)), void 0 !== s.offset && a.offset.fromArray(s.offset), void 0 !== s.repeat && a.repeat.fromArray(s.repeat), void 0 !== s.center && a.center.fromArray(s.center), void 0 !== s.rotation && (a.rotation = s.rotation), void 0 !== s.wrap && (a.wrapS = n(s.wrap[0], sh), a.wrapT = n(s.wrap[1], sh)), void 0 !== s.format && (a.format = s.format), void 0 !== s.type && (a.type = s.type), void 0 !== s.encoding && (a.encoding = s.encoding), void 0 !== s.minFilter && (a.minFilter = n(s.minFilter, ch)), void 0 !== s.magFilter && (a.magFilter = n(s.magFilter, ch)), void 0 !== s.anisotropy && (a.anisotropy = s.anisotropy), void 0 !== s.flipY && (a.flipY = s.flipY), void 0 !== s.premultiplyAlpha && (a.premultiplyAlpha = s.premultiplyAlpha), void 0 !== s.unpackAlignment && (a.unpackAlignment = s.unpackAlignment), i[s.uuid] = a
                        }
                    return i
                },
                parseObject: function(e, t, n) {
                    var i;

                    function r(e) {
                        return void 0 === t[e] && console.warn("THREE.ObjectLoader: Undefined geometry", e), t[e]
                    }

                    function o(e) {
                        if (void 0 !== e) {
                            if (Array.isArray(e)) {
                                for (var t = [], i = 0, r = e.length; i < r; i++) {
                                    var o = e[i];
                                    void 0 === n[o] && console.warn("THREE.ObjectLoader: Undefined material", o), t.push(n[o])
                                }
                                return t
                            }
                            return void 0 === n[e] && console.warn("THREE.ObjectLoader: Undefined material", e), n[e]
                        }
                    }
                    switch (e.type) {
                        case "Scene":
                            i = new ui, void 0 !== e.background && Number.isInteger(e.background) && (i.background = new er(e.background)), void 0 !== e.fog && ("Fog" === e.fog.type ? i.fog = new bs(e.fog.color, e.fog.near, e.fog.far) : "FogExp2" === e.fog.type && (i.fog = new ys(e.fog.color, e.fog.density)));
                            break;
                        case "PerspectiveCamera":
                            i = new so(e.fov, e.aspect, e.near, e.far), void 0 !== e.focus && (i.focus = e.focus), void 0 !== e.zoom && (i.zoom = e.zoom), void 0 !== e.filmGauge && (i.filmGauge = e.filmGauge), void 0 !== e.filmOffset && (i.filmOffset = e.filmOffset), void 0 !== e.view && (i.view = Object.assign({}, e.view));
                            break;
                        case "OrthographicCamera":
                            i = new Yu(e.left, e.right, e.top, e.bottom, e.near, e.far), void 0 !== e.zoom && (i.zoom = e.zoom), void 0 !== e.view && (i.view = Object.assign({}, e.view));
                            break;
                        case "AmbientLight":
                            i = new Ju(e.color, e.intensity);
                            break;
                        case "DirectionalLight":
                            i = new Zu(e.color, e.intensity);
                            break;
                        case "PointLight":
                            i = new qu(e.color, e.intensity, e.distance, e.decay);
                            break;
                        case "RectAreaLight":
                            i = new Ku(e.color, e.intensity, e.width, e.height);
                            break;
                        case "SpotLight":
                            i = new Gu(e.color, e.intensity, e.distance, e.angle, e.penumbra, e.decay);
                            break;
                        case "HemisphereLight":
                            i = new Uu(e.color, e.groundColor, e.intensity);
                            break;
                        case "SkinnedMesh":
                            console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");
                        case "Mesh":
                            var a = r(e.geometry),
                                s = o(e.material);
                            i = a.bones && a.bones.length > 0 ? new Vs(a, s) : new qr(a, s);
                            break;
                        case "InstancedMesh":
                            a = r(e.geometry), s = o(e.material);
                            var c = e.count,
                                l = e.instanceMatrix;
                            (i = new Ks(a, s, c)).instanceMatrix = new lr(new Float32Array(l.array), 16);
                            break;
                        case "LOD":
                            i = new Us;
                            break;
                        case "Line":
                            i = new rc(r(e.geometry), o(e.material), e.mode);
                            break;
                        case "LineLoop":
                            i = new cc(r(e.geometry), o(e.material));
                            break;
                        case "LineSegments":
                            i = new sc(r(e.geometry), o(e.material));
                            break;
                        case "PointCloud":
                        case "Points":
                            i = new fc(r(e.geometry), o(e.material));
                            break;
                        case "Sprite":
                            i = new Fs(o(e.material));
                            break;
                        case "Group":
                            i = new ms;
                            break;
                        default:
                            i = new li
                    }
                    if (i.uuid = e.uuid, void 0 !== e.name && (i.name = e.name), void 0 !== e.matrix ? (i.matrix.fromArray(e.matrix), void 0 !== e.matrixAutoUpdate && (i.matrixAutoUpdate = e.matrixAutoUpdate), i.matrixAutoUpdate && i.matrix.decompose(i.position, i.quaternion, i.scale)) : (void 0 !== e.position && i.position.fromArray(e.position), void 0 !== e.rotation && i.rotation.fromArray(e.rotation), void 0 !== e.quaternion && i.quaternion.fromArray(e.quaternion), void 0 !== e.scale && i.scale.fromArray(e.scale)), void 0 !== e.castShadow && (i.castShadow = e.castShadow), void 0 !== e.receiveShadow && (i.receiveShadow = e.receiveShadow), e.shadow && (void 0 !== e.shadow.bias && (i.shadow.bias = e.shadow.bias), void 0 !== e.shadow.radius && (i.shadow.radius = e.shadow.radius), void 0 !== e.shadow.mapSize && i.shadow.mapSize.fromArray(e.shadow.mapSize), void 0 !== e.shadow.camera && (i.shadow.camera = this.parseObject(e.shadow.camera))), void 0 !== e.visible && (i.visible = e.visible), void 0 !== e.frustumCulled && (i.frustumCulled = e.frustumCulled), void 0 !== e.renderOrder && (i.renderOrder = e.renderOrder), void 0 !== e.userData && (i.userData = e.userData), void 0 !== e.layers && (i.layers.mask = e.layers), void 0 !== e.children)
                        for (var u = e.children, h = 0; h < u.length; h++) i.add(this.parseObject(u[h], t, n));
                    if ("LOD" === e.type) {
                        void 0 !== e.autoUpdate && (i.autoUpdate = e.autoUpdate);
                        for (var d = e.levels, p = 0; p < d.length; p++) {
                            var f = d[p],
                                m = i.getObjectByProperty("uuid", f.object);
                            void 0 !== m && i.addLevel(m, f.distance)
                        }
                    }
                    return i
                }
            });
            var oh, ah = {
                    UVMapping: le,
                    CubeReflectionMapping: ue,
                    CubeRefractionMapping: he,
                    EquirectangularReflectionMapping: de,
                    EquirectangularRefractionMapping: pe,
                    SphericalReflectionMapping: fe,
                    CubeUVReflectionMapping: me,
                    CubeUVRefractionMapping: ve
                },
                sh = {
                    RepeatWrapping: ge,
                    ClampToEdgeWrapping: ye,
                    MirroredRepeatWrapping: be
                },
                ch = {
                    NearestFilter: xe,
                    NearestMipmapNearestFilter: we,
                    NearestMipmapLinearFilter: Me,
                    LinearFilter: Se,
                    LinearMipmapNearestFilter: Ee,
                    LinearMipmapLinearFilter: Pe
                };

            function lh(e) {
                "undefined" == typeof createImageBitmap && console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."), "undefined" == typeof fetch && console.warn("THREE.ImageBitmapLoader: fetch() not supported."), cu.call(this, e), this.options = void 0
            }

            function uh() {
                this.type = "ShapePath", this.color = new er, this.subPaths = [], this.currentPath = null
            }

            function hh(e) {
                this.type = "Font", this.data = e
            }

            function dh(e, t, n, i, r) {
                var o = r.glyphs[e] || r.glyphs["?"];
                if (o) {
                    var a, s, c, l, u, h, d, p, f = new uh;
                    if (o.o)
                        for (var m = o._cachedOutline || (o._cachedOutline = o.o.split(" ")), v = 0, g = m.length; v < g;) {
                            switch (m[v++]) {
                                case "m":
                                    a = m[v++] * t + n, s = m[v++] * t + i, f.moveTo(a, s);
                                    break;
                                case "l":
                                    a = m[v++] * t + n, s = m[v++] * t + i, f.lineTo(a, s);
                                    break;
                                case "q":
                                    c = m[v++] * t + n, l = m[v++] * t + i, u = m[v++] * t + n, h = m[v++] * t + i, f.quadraticCurveTo(u, h, c, l);
                                    break;
                                case "b":
                                    c = m[v++] * t + n, l = m[v++] * t + i, u = m[v++] * t + n, h = m[v++] * t + i, d = m[v++] * t + n, p = m[v++] * t + i, f.bezierCurveTo(u, h, d, p, c, l)
                            }
                        }
                    return {
                        offsetX: o.ha * t,
                        path: f
                    }
                }
                console.error('THREE.Font: character "' + e + '" does not exists in font family ' + r.familyName + ".")
            }

            function ph(e) {
                cu.call(this, e)
            }
            lh.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: lh,
                setOptions: function(e) {
                    return this.options = e, this
                },
                load: function(e, t, n, i) {
                    void 0 === e && (e = ""), void 0 !== this.path && (e = this.path + e), e = this.manager.resolveURL(e);
                    var r = this,
                        o = ou.get(e);
                    if (void 0 !== o) return r.manager.itemStart(e), setTimeout((function() {
                        t && t(o), r.manager.itemEnd(e)
                    }), 0), o;
                    fetch(e).then((function(e) {
                        return e.blob()
                    })).then((function(e) {
                        return void 0 === r.options ? createImageBitmap(e) : createImageBitmap(e, r.options)
                    })).then((function(n) {
                        ou.add(e, n), t && t(n), r.manager.itemEnd(e)
                    })).catch((function(t) {
                        i && i(t), r.manager.itemError(e), r.manager.itemEnd(e)
                    })), r.manager.itemStart(e)
                }
            }), Object.assign(uh.prototype, {
                moveTo: function(e, t) {
                    return this.currentPath = new Nu, this.subPaths.push(this.currentPath), this.currentPath.moveTo(e, t), this
                },
                lineTo: function(e, t) {
                    return this.currentPath.lineTo(e, t), this
                },
                quadraticCurveTo: function(e, t, n, i) {
                    return this.currentPath.quadraticCurveTo(e, t, n, i), this
                },
                bezierCurveTo: function(e, t, n, i, r, o) {
                    return this.currentPath.bezierCurveTo(e, t, n, i, r, o), this
                },
                splineThru: function(e) {
                    return this.currentPath.splineThru(e), this
                },
                toShapes: function(e, t) {
                    function n(e) {
                        for (var t = [], n = 0, i = e.length; n < i; n++) {
                            var r = e[n],
                                o = new zu;
                            o.curves = r.curves, t.push(o)
                        }
                        return t
                    }

                    function i(e, t) {
                        for (var n = t.length, i = !1, r = n - 1, o = 0; o < n; r = o++) {
                            var a = t[r],
                                s = t[o],
                                c = s.x - a.x,
                                l = s.y - a.y;
                            if (Math.abs(l) > Number.EPSILON) {
                                if (l < 0 && (a = t[o], c = -c, s = t[r], l = -l), e.y < a.y || e.y > s.y) continue;
                                if (e.y === a.y) {
                                    if (e.x === a.x) return !0
                                } else {
                                    var u = l * (e.x - a.x) - c * (e.y - a.y);
                                    if (0 === u) return !0;
                                    if (u < 0) continue;
                                    i = !i
                                }
                            } else {
                                if (e.y !== a.y) continue;
                                if (s.x <= e.x && e.x <= a.x || a.x <= e.x && e.x <= s.x) return !0
                            }
                        }
                        return i
                    }
                    var r = sl.isClockWise,
                        o = this.subPaths;
                    if (0 === o.length) return [];
                    if (!0 === t) return n(o);
                    var a, s, c, l = [];
                    if (1 === o.length) return s = o[0], (c = new zu).curves = s.curves, l.push(c), l;
                    var u = !r(o[0].getPoints());
                    u = e ? !u : u;
                    var h, d, p = [],
                        f = [],
                        m = [],
                        v = 0;
                    f[v] = void 0, m[v] = [];
                    for (var g = 0, y = o.length; g < y; g++) a = r(h = (s = o[g]).getPoints()), (a = e ? !a : a) ? (!u && f[v] && v++, f[v] = {
                        s: new zu,
                        p: h
                    }, f[v].s.curves = s.curves, u && v++, m[v] = []) : m[v].push({
                        h: s,
                        p: h[0]
                    });
                    if (!f[0]) return n(o);
                    if (f.length > 1) {
                        for (var b = !1, x = [], w = 0, _ = f.length; w < _; w++) p[w] = [];
                        for (w = 0, _ = f.length; w < _; w++)
                            for (var M = m[w], T = 0; T < M.length; T++) {
                                for (var S = M[T], E = !0, A = 0; A < f.length; A++) i(S.p, f[A].p) && (w !== A && x.push({
                                    froms: w,
                                    tos: A,
                                    hole: T
                                }), E ? (E = !1, p[A].push(S)) : b = !0);
                                E && p[w].push(S)
                            }
                        x.length > 0 && (b || (m = p))
                    }
                    g = 0;
                    for (var P = f.length; g < P; g++) {
                        c = f[g].s, l.push(c);
                        for (var L = 0, C = (d = m[g]).length; L < C; L++) c.holes.push(d[L].h)
                    }
                    return l
                }
            }), Object.assign(hh.prototype, {
                isFont: !0,
                generateShapes: function(e, t) {
                    void 0 === t && (t = 100);
                    for (var n = [], i = function(e, t, n) {
                            for (var i = Array.from ? Array.from(e) : String(e).split(""), r = t / n.resolution, o = (n.boundingBox.yMax - n.boundingBox.yMin + n.underlineThickness) * r, a = [], s = 0, c = 0, l = 0; l < i.length; l++) {
                                var u = i[l];
                                if ("\n" === u) s = 0, c -= o;
                                else {
                                    var h = dh(u, r, s, c, n);
                                    s += h.offsetX, a.push(h.path)
                                }
                            }
                            return a
                        }(e, t, this.data), r = 0, o = i.length; r < o; r++) Array.prototype.push.apply(n, i[r].toShapes());
                    return n
                }
            }), ph.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: ph,
                load: function(e, t, n, i) {
                    var r = this,
                        o = new uu(this.manager);
                    o.setPath(this.path), o.load(e, (function(e) {
                        var n;
                        try {
                            n = JSON.parse(e)
                        } catch (t) {
                            console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."), n = JSON.parse(e.substring(65, e.length - 2))
                        }
                        var i = r.parse(n);
                        t && t(i)
                    }), n, i)
                },
                parse: function(e) {
                    return new hh(e)
                }
            });
            var fh = {
                getContext: function() {
                    return void 0 === oh && (oh = new(window.AudioContext || window.webkitAudioContext)), oh
                },
                setContext: function(e) {
                    oh = e
                }
            };

            function mh(e) {
                cu.call(this, e)
            }

            function vh() {
                this.coefficients = [];
                for (var e = 0; e < 9; e++) this.coefficients.push(new Fn)
            }

            function gh(e, t) {
                Bu.call(this, void 0, t), this.sh = void 0 !== e ? e : new vh
            }

            function yh(e, t, n) {
                gh.call(this, void 0, n);
                var i = (new er).set(e),
                    r = (new er).set(t),
                    o = new Fn(i.r, i.g, i.b),
                    a = new Fn(r.r, r.g, r.b),
                    s = Math.sqrt(Math.PI),
                    c = s * Math.sqrt(.75);
                this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s), this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)
            }

            function bh(e, t) {
                gh.call(this, void 0, t);
                var n = (new er).set(e);
                this.sh.coefficients[0].set(n.r, n.g, n.b).multiplyScalar(2 * Math.sqrt(Math.PI))
            }
            mh.prototype = Object.assign(Object.create(cu.prototype), {
                constructor: mh,
                load: function(e, t, n, i) {
                    var r = new uu(this.manager);
                    r.setResponseType("arraybuffer"), r.setPath(this.path), r.load(e, (function(e) {
                        var n = e.slice(0);
                        fh.getContext().decodeAudioData(n, (function(e) {
                            t(e)
                        }))
                    }), n, i)
                }
            }), Object.assign(vh.prototype, {
                isSphericalHarmonics3: !0,
                set: function(e) {
                    for (var t = 0; t < 9; t++) this.coefficients[t].copy(e[t]);
                    return this
                },
                zero: function() {
                    for (var e = 0; e < 9; e++) this.coefficients[e].set(0, 0, 0);
                    return this
                },
                getAt: function(e, t) {
                    var n = e.x,
                        i = e.y,
                        r = e.z,
                        o = this.coefficients;
                    return t.copy(o[0]).multiplyScalar(.282095), t.addScale(o[1], .488603 * i), t.addScale(o[2], .488603 * r), t.addScale(o[3], .488603 * n), t.addScale(o[4], n * i * 1.092548), t.addScale(o[5], i * r * 1.092548), t.addScale(o[6], .315392 * (3 * r * r - 1)), t.addScale(o[7], n * r * 1.092548), t.addScale(o[8], .546274 * (n * n - i * i)), t
                },
                getIrradianceAt: function(e, t) {
                    var n = e.x,
                        i = e.y,
                        r = e.z,
                        o = this.coefficients;
                    return t.copy(o[0]).multiplyScalar(.886227), t.addScale(o[1], 1.023328 * i), t.addScale(o[2], 1.023328 * r), t.addScale(o[3], 1.023328 * n), t.addScale(o[4], .858086 * n * i), t.addScale(o[5], .858086 * i * r), t.addScale(o[6], .743125 * r * r - .247708), t.addScale(o[7], .858086 * n * r), t.addScale(o[8], .429043 * (n * n - i * i)), t
                },
                add: function(e) {
                    for (var t = 0; t < 9; t++) this.coefficients[t].add(e.coefficients[t]);
                    return this
                },
                scale: function(e) {
                    for (var t = 0; t < 9; t++) this.coefficients[t].multiplyScalar(e);
                    return this
                },
                lerp: function(e, t) {
                    for (var n = 0; n < 9; n++) this.coefficients[n].lerp(e.coefficients[n], t);
                    return this
                },
                equals: function(e) {
                    for (var t = 0; t < 9; t++)
                        if (!this.coefficients[t].equals(e.coefficients[t])) return !1;
                    return !0
                },
                copy: function(e) {
                    return this.set(e.coefficients)
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                fromArray: function(e, t) {
                    void 0 === t && (t = 0);
                    for (var n = this.coefficients, i = 0; i < 9; i++) n[i].fromArray(e, t + 3 * i);
                    return this
                },
                toArray: function(e, t) {
                    void 0 === e && (e = []), void 0 === t && (t = 0);
                    for (var n = this.coefficients, i = 0; i < 9; i++) n[i].toArray(e, t + 3 * i);
                    return e
                }
            }), Object.assign(vh, {
                getBasisAt: function(e, t) {
                    var n = e.x,
                        i = e.y,
                        r = e.z;
                    t[0] = .282095, t[1] = .488603 * i, t[2] = .488603 * r, t[3] = .488603 * n, t[4] = 1.092548 * n * i, t[5] = 1.092548 * i * r, t[6] = .315392 * (3 * r * r - 1), t[7] = 1.092548 * n * r, t[8] = .546274 * (n * n - i * i)
                }
            }), gh.prototype = Object.assign(Object.create(Bu.prototype), {
                constructor: gh,
                isLightProbe: !0,
                copy: function(e) {
                    return Bu.prototype.copy.call(this, e), this.sh.copy(e.sh), this.intensity = e.intensity, this
                },
                toJSON: function(e) {
                    return Bu.prototype.toJSON.call(this, e)
                }
            }), yh.prototype = Object.assign(Object.create(gh.prototype), {
                constructor: yh,
                isHemisphereLightProbe: !0,
                copy: function(e) {
                    return gh.prototype.copy.call(this, e), this
                },
                toJSON: function(e) {
                    return gh.prototype.toJSON.call(this, e)
                }
            }), bh.prototype = Object.assign(Object.create(gh.prototype), {
                constructor: bh,
                isAmbientLightProbe: !0,
                copy: function(e) {
                    return gh.prototype.copy.call(this, e), this
                },
                toJSON: function(e) {
                    return gh.prototype.toJSON.call(this, e)
                }
            });
            var xh = new Wn,
                wh = new Wn;

            function _h() {
                this.type = "StereoCamera", this.aspect = 1, this.eyeSep = .064, this.cameraL = new so, this.cameraL.layers.enable(1), this.cameraL.matrixAutoUpdate = !1, this.cameraR = new so, this.cameraR.layers.enable(2), this.cameraR.matrixAutoUpdate = !1, this._cache = {
                    focus: null,
                    fov: null,
                    aspect: null,
                    near: null,
                    far: null,
                    zoom: null,
                    eyeSep: null
                }
            }

            function Mh(e) {
                this.autoStart = void 0 === e || e, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = !1
            }
            Object.assign(_h.prototype, {
                update: function(e) {
                    var t = this._cache;
                    if (t.focus !== e.focus || t.fov !== e.fov || t.aspect !== e.aspect * this.aspect || t.near !== e.near || t.far !== e.far || t.zoom !== e.zoom || t.eyeSep !== this.eyeSep) {
                        t.focus = e.focus, t.fov = e.fov, t.aspect = e.aspect * this.aspect, t.near = e.near, t.far = e.far, t.zoom = e.zoom, t.eyeSep = this.eyeSep;
                        var n, i, r = e.projectionMatrix.clone(),
                            o = t.eyeSep / 2,
                            a = o * t.near / t.focus,
                            s = t.near * Math.tan(Sn.DEG2RAD * t.fov * .5) / t.zoom;
                        wh.elements[12] = -o, xh.elements[12] = o, n = -s * t.aspect + a, i = s * t.aspect + a, r.elements[0] = 2 * t.near / (i - n), r.elements[8] = (i + n) / (i - n), this.cameraL.projectionMatrix.copy(r), n = -s * t.aspect - a, i = s * t.aspect - a, r.elements[0] = 2 * t.near / (i - n), r.elements[8] = (i + n) / (i - n), this.cameraR.projectionMatrix.copy(r)
                    }
                    this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(wh), this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(xh)
                }
            }), Object.assign(Mh.prototype, {
                start: function() {
                    this.startTime = ("undefined" == typeof performance ? Date : performance).now(), this.oldTime = this.startTime, this.elapsedTime = 0, this.running = !0
                },
                stop: function() {
                    this.getElapsedTime(), this.running = !1, this.autoStart = !1
                },
                getElapsedTime: function() {
                    return this.getDelta(), this.elapsedTime
                },
                getDelta: function() {
                    var e = 0;
                    if (this.autoStart && !this.running) return this.start(), 0;
                    if (this.running) {
                        var t = ("undefined" == typeof performance ? Date : performance).now();
                        e = (t - this.oldTime) / 1e3, this.oldTime = t, this.elapsedTime += e
                    }
                    return e
                }
            });
            var Th = new Fn,
                Sh = new In,
                Eh = new Fn,
                Ah = new Fn;

            function Ph() {
                li.call(this), this.type = "AudioListener", this.context = fh.getContext(), this.gain = this.context.createGain(), this.gain.connect(this.context.destination), this.filter = null, this.timeDelta = 0, this._clock = new Mh
            }

            function Lh(e) {
                li.call(this), this.type = "Audio", this.listener = e, this.context = e.context, this.gain = this.context.createGain(), this.gain.connect(e.getInput()), this.autoplay = !1, this.buffer = null, this.detune = 0, this.loop = !1, this.loopStart = 0, this.loopEnd = 0, this.offset = 0, this.duration = void 0, this.playbackRate = 1, this.isPlaying = !1, this.hasPlaybackControl = !0, this.sourceType = "empty", this._startedAt = 0, this._pausedAt = 0, this.filters = []
            }
            Ph.prototype = Object.assign(Object.create(li.prototype), {
                constructor: Ph,
                getInput: function() {
                    return this.gain
                },
                removeFilter: function() {
                    return null !== this.filter && (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination), this.gain.connect(this.context.destination), this.filter = null), this
                },
                getFilter: function() {
                    return this.filter
                },
                setFilter: function(e) {
                    return null !== this.filter ? (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination), this.filter = e, this.gain.connect(this.filter), this.filter.connect(this.context.destination), this
                },
                getMasterVolume: function() {
                    return this.gain.gain.value
                },
                setMasterVolume: function(e) {
                    return this.gain.gain.setTargetAtTime(e, this.context.currentTime, .01), this
                },
                updateMatrixWorld: function(e) {
                    li.prototype.updateMatrixWorld.call(this, e);
                    var t = this.context.listener,
                        n = this.up;
                    if (this.timeDelta = this._clock.getDelta(), this.matrixWorld.decompose(Th, Sh, Eh), Ah.set(0, 0, -1).applyQuaternion(Sh), t.positionX) {
                        var i = this.context.currentTime + this.timeDelta;
                        t.positionX.linearRampToValueAtTime(Th.x, i), t.positionY.linearRampToValueAtTime(Th.y, i), t.positionZ.linearRampToValueAtTime(Th.z, i), t.forwardX.linearRampToValueAtTime(Ah.x, i), t.forwardY.linearRampToValueAtTime(Ah.y, i), t.forwardZ.linearRampToValueAtTime(Ah.z, i), t.upX.linearRampToValueAtTime(n.x, i), t.upY.linearRampToValueAtTime(n.y, i), t.upZ.linearRampToValueAtTime(n.z, i)
                    } else t.setPosition(Th.x, Th.y, Th.z), t.setOrientation(Ah.x, Ah.y, Ah.z, n.x, n.y, n.z)
                }
            }), Lh.prototype = Object.assign(Object.create(li.prototype), {
                constructor: Lh,
                getOutput: function() {
                    return this.gain
                },
                setNodeSource: function(e) {
                    return this.hasPlaybackControl = !1, this.sourceType = "audioNode", this.source = e, this.connect(), this
                },
                setMediaElementSource: function(e) {
                    return this.hasPlaybackControl = !1, this.sourceType = "mediaNode", this.source = this.context.createMediaElementSource(e), this.connect(), this
                },
                setMediaStreamSource: function(e) {
                    return this.hasPlaybackControl = !1, this.sourceType = "mediaStreamNode", this.source = this.context.createMediaStreamSource(e), this.connect(), this
                },
                setBuffer: function(e) {
                    return this.buffer = e, this.sourceType = "buffer", this.autoplay && this.play(), this
                },
                play: function(e) {
                    if (void 0 === e && (e = 0), !0 !== this.isPlaying) {
                        if (!1 !== this.hasPlaybackControl) {
                            this._startedAt = this.context.currentTime + e;
                            var t = this.context.createBufferSource();
                            return t.buffer = this.buffer, t.loop = this.loop, t.loopStart = this.loopStart, t.loopEnd = this.loopEnd, t.onended = this.onEnded.bind(this), t.start(this._startedAt, this._pausedAt + this.offset, this.duration), this.isPlaying = !0, this.source = t, this.setDetune(this.detune), this.setPlaybackRate(this.playbackRate), this.connect()
                        }
                        console.warn("THREE.Audio: this Audio has no playback control.")
                    } else console.warn("THREE.Audio: Audio is already playing.")
                },
                pause: function() {
                    if (!1 !== this.hasPlaybackControl) return !0 === this.isPlaying && (this._pausedAt = (this.context.currentTime - this._startedAt) * this.playbackRate, this.source.stop(), this.source.onended = null, this.isPlaying = !1), this;
                    console.warn("THREE.Audio: this Audio has no playback control.")
                },
                stop: function() {
                    if (!1 !== this.hasPlaybackControl) return this._pausedAt = 0, this.source.stop(), this.source.onended = null, this.isPlaying = !1, this;
                    console.warn("THREE.Audio: this Audio has no playback control.")
                },
                connect: function() {
                    if (this.filters.length > 0) {
                        this.source.connect(this.filters[0]);
                        for (var e = 1, t = this.filters.length; e < t; e++) this.filters[e - 1].connect(this.filters[e]);
                        this.filters[this.filters.length - 1].connect(this.getOutput())
                    } else this.source.connect(this.getOutput());
                    return this
                },
                disconnect: function() {
                    if (this.filters.length > 0) {
                        this.source.disconnect(this.filters[0]);
                        for (var e = 1, t = this.filters.length; e < t; e++) this.filters[e - 1].disconnect(this.filters[e]);
                        this.filters[this.filters.length - 1].disconnect(this.getOutput())
                    } else this.source.disconnect(this.getOutput());
                    return this
                },
                getFilters: function() {
                    return this.filters
                },
                setFilters: function(e) {
                    return e || (e = []), !0 === this.isPlaying ? (this.disconnect(), this.filters = e, this.connect()) : this.filters = e, this
                },
                setDetune: function(e) {
                    if (this.detune = e, void 0 !== this.source.detune) return !0 === this.isPlaying && this.source.detune.setTargetAtTime(this.detune, this.context.currentTime, .01), this
                },
                getDetune: function() {
                    return this.detune
                },
                getFilter: function() {
                    return this.getFilters()[0]
                },
                setFilter: function(e) {
                    return this.setFilters(e ? [e] : [])
                },
                setPlaybackRate: function(e) {
                    if (!1 !== this.hasPlaybackControl) return this.playbackRate = e, !0 === this.isPlaying && this.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, .01), this;
                    console.warn("THREE.Audio: this Audio has no playback control.")
                },
                getPlaybackRate: function() {
                    return this.playbackRate
                },
                onEnded: function() {
                    this.isPlaying = !1
                },
                getLoop: function() {
                    return !1 === this.hasPlaybackControl ? (console.warn("THREE.Audio: this Audio has no playback control."), !1) : this.loop
                },
                setLoop: function(e) {
                    if (!1 !== this.hasPlaybackControl) return this.loop = e, !0 === this.isPlaying && (this.source.loop = this.loop), this;
                    console.warn("THREE.Audio: this Audio has no playback control.")
                },
                setLoopStart: function(e) {
                    return this.loopStart = e, this
                },
                setLoopEnd: function(e) {
                    return this.loopEnd = e, this
                },
                getVolume: function() {
                    return this.gain.gain.value
                },
                setVolume: function(e) {
                    return this.gain.gain.setTargetAtTime(e, this.context.currentTime, .01), this
                }
            });
            var Ch = new Fn,
                Rh = new In,
                Oh = new Fn,
                Dh = new Fn;

            function Ih(e) {
                Lh.call(this, e), this.panner = this.context.createPanner(), this.panner.panningModel = "HRTF", this.panner.connect(this.gain)
            }

            function jh(e, t) {
                this.analyser = e.context.createAnalyser(), this.analyser.fftSize = void 0 !== t ? t : 2048, this.data = new Uint8Array(this.analyser.frequencyBinCount), e.getOutput().connect(this.analyser)
            }

            function kh(e, t, n) {
                this.binding = e, this.valueSize = n;
                var i, r = Float64Array;
                switch (t) {
                    case "quaternion":
                        i = this._slerp;
                        break;
                    case "string":
                    case "bool":
                        r = Array, i = this._select;
                        break;
                    default:
                        i = this._lerp
                }
                this.buffer = new r(4 * n), this._mixBufferRegion = i, this.cumulativeWeight = 0, this.useCount = 0, this.referenceCount = 0
            }
            Ih.prototype = Object.assign(Object.create(Lh.prototype), {
                constructor: Ih,
                getOutput: function() {
                    return this.panner
                },
                getRefDistance: function() {
                    return this.panner.refDistance
                },
                setRefDistance: function(e) {
                    return this.panner.refDistance = e, this
                },
                getRolloffFactor: function() {
                    return this.panner.rolloffFactor
                },
                setRolloffFactor: function(e) {
                    return this.panner.rolloffFactor = e, this
                },
                getDistanceModel: function() {
                    return this.panner.distanceModel
                },
                setDistanceModel: function(e) {
                    return this.panner.distanceModel = e, this
                },
                getMaxDistance: function() {
                    return this.panner.maxDistance
                },
                setMaxDistance: function(e) {
                    return this.panner.maxDistance = e, this
                },
                setDirectionalCone: function(e, t, n) {
                    return this.panner.coneInnerAngle = e, this.panner.coneOuterAngle = t, this.panner.coneOuterGain = n, this
                },
                updateMatrixWorld: function(e) {
                    if (li.prototype.updateMatrixWorld.call(this, e), !0 !== this.hasPlaybackControl || !1 !== this.isPlaying) {
                        this.matrixWorld.decompose(Ch, Rh, Oh), Dh.set(0, 0, 1).applyQuaternion(Rh);
                        var t = this.panner;
                        if (t.positionX) {
                            var n = this.context.currentTime + this.listener.timeDelta;
                            t.positionX.linearRampToValueAtTime(Ch.x, n), t.positionY.linearRampToValueAtTime(Ch.y, n), t.positionZ.linearRampToValueAtTime(Ch.z, n), t.orientationX.linearRampToValueAtTime(Dh.x, n), t.orientationY.linearRampToValueAtTime(Dh.y, n), t.orientationZ.linearRampToValueAtTime(Dh.z, n)
                        } else t.setPosition(Ch.x, Ch.y, Ch.z), t.setOrientation(Dh.x, Dh.y, Dh.z)
                    }
                }
            }), Object.assign(jh.prototype, {
                getFrequencyData: function() {
                    return this.analyser.getByteFrequencyData(this.data), this.data
                },
                getAverageFrequency: function() {
                    for (var e = 0, t = this.getFrequencyData(), n = 0; n < t.length; n++) e += t[n];
                    return e / t.length
                }
            }), Object.assign(kh.prototype, {
                accumulate: function(e, t) {
                    var n = this.buffer,
                        i = this.valueSize,
                        r = e * i + i,
                        o = this.cumulativeWeight;
                    if (0 === o) {
                        for (var a = 0; a !== i; ++a) n[r + a] = n[a];
                        o = t
                    } else {
                        var s = t / (o += t);
                        this._mixBufferRegion(n, r, 0, s, i)
                    }
                    this.cumulativeWeight = o
                },
                apply: function(e) {
                    var t = this.valueSize,
                        n = this.buffer,
                        i = e * t + t,
                        r = this.cumulativeWeight,
                        o = this.binding;
                    if (this.cumulativeWeight = 0, r < 1) {
                        var a = 3 * t;
                        this._mixBufferRegion(n, i, a, 1 - r, t)
                    }
                    for (var s = t, c = t + t; s !== c; ++s)
                        if (n[s] !== n[s + t]) {
                            o.setValue(n, i);
                            break
                        }
                },
                saveOriginalState: function() {
                    var e = this.binding,
                        t = this.buffer,
                        n = this.valueSize,
                        i = 3 * n;
                    e.getValue(t, i);
                    for (var r = n, o = i; r !== o; ++r) t[r] = t[i + r % n];
                    this.cumulativeWeight = 0
                },
                restoreOriginalState: function() {
                    var e = 3 * this.valueSize;
                    this.binding.setValue(this.buffer, e)
                },
                _select: function(e, t, n, i, r) {
                    if (i >= .5)
                        for (var o = 0; o !== r; ++o) e[t + o] = e[n + o]
                },
                _slerp: function(e, t, n, i) {
                    In.slerpFlat(e, t, e, t, e, n, i)
                },
                _lerp: function(e, t, n, i, r) {
                    for (var o = 1 - i, a = 0; a !== r; ++a) {
                        var s = t + a;
                        e[s] = e[s] * o + e[n + a] * i
                    }
                }
            });
            var Fh = new RegExp("[\\[\\]\\.:\\/]", "g"),
                Nh = "[^" + "\\[\\]\\.:\\/".replace("\\.", "") + "]",
                zh = /((?:WC+[\/:])*)/.source.replace("WC", "[^\\[\\]\\.:\\/]"),
                Bh = /(WCOD+)?/.source.replace("WCOD", Nh),
                Uh = /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC", "[^\\[\\]\\.:\\/]"),
                Vh = /\.(WC+)(?:\[(.+)\])?/.source.replace("WC", "[^\\[\\]\\.:\\/]"),
                Hh = new RegExp("^" + zh + Bh + Uh + Vh + "$"),
                Gh = ["material", "materials", "bones"];

            function Wh(e, t, n) {
                var i = n || qh.parseTrackName(t);
                this._targetGroup = e, this._bindings = e.subscribe_(t, i)
            }

            function qh(e, t, n) {
                this.path = t, this.parsedPath = n || qh.parseTrackName(t), this.node = qh.findNode(e, this.parsedPath.nodeName) || e, this.rootNode = e
            }

            function Yh() {
                this.uuid = Sn.generateUUID(), this._objects = Array.prototype.slice.call(arguments), this.nCachedObjects_ = 0;
                var e = {};
                this._indicesByUUID = e;
                for (var t = 0, n = arguments.length; t !== n; ++t) e[arguments[t].uuid] = t;
                this._paths = [], this._parsedPaths = [], this._bindings = [], this._bindingsIndicesByPath = {};
                var i = this;
                this.stats = {
                    objects: {
                        get total() {
                            return i._objects.length
                        },
                        get inUse() {
                            return this.total - i.nCachedObjects_
                        }
                    },
                    get bindingsPerObject() {
                        return i._bindings.length
                    }
                }
            }

            function Xh(e, t, n) {
                this._mixer = e, this._clip = t, this._localRoot = n || null;
                for (var i = t.tracks, r = i.length, o = new Array(r), a = {
                        endingStart: Rt,
                        endingEnd: Rt
                    }, s = 0; s !== r; ++s) {
                    var c = i[s].createInterpolant(null);
                    o[s] = c, c.settings = a
                }
                this._interpolantSettings = a, this._interpolants = o, this._propertyBindings = new Array(r), this._cacheIndex = null, this._byClipCacheIndex = null, this._timeScaleInterpolant = null, this._weightInterpolant = null, this.loop = Et, this._loopCount = -1, this._startTime = null, this.time = 0, this.timeScale = 1, this._effectiveTimeScale = 1, this.weight = 1, this._effectiveWeight = 1, this.repetitions = 1 / 0, this.paused = !1, this.enabled = !0, this.clampWhenFinished = !1, this.zeroSlopeAtStart = !0, this.zeroSlopeAtEnd = !0
            }

            function Zh(e) {
                this._root = e, this._initMemoryManager(), this._accuIndex = 0, this.time = 0, this.timeScale = 1
            }

            function Jh(e) {
                "string" == typeof e && (console.warn("THREE.Uniform: Type parameter is no longer needed."), e = arguments[1]), this.value = e
            }

            function Kh(e, t, n) {
                xs.call(this, e, t), this.meshPerAttribute = n || 1
            }

            function Qh(e, t, n, i) {
                this.ray = new ji(e, t), this.near = n || 0, this.far = i || 1 / 0, this.camera = null, this.params = {
                    Mesh: {},
                    Line: {},
                    LOD: {},
                    Points: {
                        threshold: 1
                    },
                    Sprite: {}
                }, Object.defineProperties(this.params, {
                    PointCloud: {
                        get: function() {
                            return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."), this.Points
                        }
                    }
                })
            }

            function $h(e, t) {
                return e.distance - t.distance
            }

            function ed(e, t, n, i) {
                if (!1 !== e.visible && (e.raycast(t, n), !0 === i))
                    for (var r = e.children, o = 0, a = r.length; o < a; o++) ed(r[o], t, n, !0)
            }

            function td(e, t, n) {
                return this.radius = void 0 !== e ? e : 1, this.phi = void 0 !== t ? t : 0, this.theta = void 0 !== n ? n : 0, this
            }

            function nd(e, t, n) {
                return this.radius = void 0 !== e ? e : 1, this.theta = void 0 !== t ? t : 0, this.y = void 0 !== n ? n : 0, this
            }
            Object.assign(Wh.prototype, {
                    getValue: function(e, t) {
                        this.bind();
                        var n = this._targetGroup.nCachedObjects_,
                            i = this._bindings[n];
                        void 0 !== i && i.getValue(e, t)
                    },
                    setValue: function(e, t) {
                        for (var n = this._bindings, i = this._targetGroup.nCachedObjects_, r = n.length; i !== r; ++i) n[i].setValue(e, t)
                    },
                    bind: function() {
                        for (var e = this._bindings, t = this._targetGroup.nCachedObjects_, n = e.length; t !== n; ++t) e[t].bind()
                    },
                    unbind: function() {
                        for (var e = this._bindings, t = this._targetGroup.nCachedObjects_, n = e.length; t !== n; ++t) e[t].unbind()
                    }
                }), Object.assign(qh, {
                    Composite: Wh,
                    create: function(e, t, n) {
                        return e && e.isAnimationObjectGroup ? new qh.Composite(e, t, n) : new qh(e, t, n)
                    },
                    sanitizeNodeName: function(e) {
                        return e.replace(/\s/g, "_").replace(Fh, "")
                    },
                    parseTrackName: function(e) {
                        var t = Hh.exec(e);
                        if (!t) throw new Error("PropertyBinding: Cannot parse trackName: " + e);
                        var n = {
                                nodeName: t[2],
                                objectName: t[3],
                                objectIndex: t[4],
                                propertyName: t[5],
                                propertyIndex: t[6]
                            },
                            i = n.nodeName && n.nodeName.lastIndexOf(".");
                        if (void 0 !== i && -1 !== i) {
                            var r = n.nodeName.substring(i + 1); - 1 !== Gh.indexOf(r) && (n.nodeName = n.nodeName.substring(0, i), n.objectName = r)
                        }
                        if (null === n.propertyName || 0 === n.propertyName.length) throw new Error("PropertyBinding: can not parse propertyName from trackName: " + e);
                        return n
                    },
                    findNode: function(e, t) {
                        if (!t || "" === t || "root" === t || "." === t || -1 === t || t === e.name || t === e.uuid) return e;
                        if (e.skeleton) {
                            var n = e.skeleton.getBoneByName(t);
                            if (void 0 !== n) return n
                        }
                        if (e.children) {
                            var i = function(e) {
                                    for (var n = 0; n < e.length; n++) {
                                        var r = e[n];
                                        if (r.name === t || r.uuid === t) return r;
                                        var o = i(r.children);
                                        if (o) return o
                                    }
                                    return null
                                },
                                r = i(e.children);
                            if (r) return r
                        }
                        return null
                    }
                }), Object.assign(qh.prototype, {
                    _getValue_unavailable: function() {},
                    _setValue_unavailable: function() {},
                    BindingType: {
                        Direct: 0,
                        EntireArray: 1,
                        ArrayElement: 2,
                        HasFromToArray: 3
                    },
                    Versioning: {
                        None: 0,
                        NeedsUpdate: 1,
                        MatrixWorldNeedsUpdate: 2
                    },
                    GetterByBindingType: [function(e, t) {
                        e[t] = this.node[this.propertyName]
                    }, function(e, t) {
                        for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i) e[t++] = n[i]
                    }, function(e, t) {
                        e[t] = this.resolvedProperty[this.propertyIndex]
                    }, function(e, t) {
                        this.resolvedProperty.toArray(e, t)
                    }],
                    SetterByBindingTypeAndVersioning: [
                        [function(e, t) {
                            this.targetObject[this.propertyName] = e[t]
                        }, function(e, t) {
                            this.targetObject[this.propertyName] = e[t], this.targetObject.needsUpdate = !0
                        }, function(e, t) {
                            this.targetObject[this.propertyName] = e[t], this.targetObject.matrixWorldNeedsUpdate = !0
                        }],
                        [function(e, t) {
                            for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i) n[i] = e[t++]
                        }, function(e, t) {
                            for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i) n[i] = e[t++];
                            this.targetObject.needsUpdate = !0
                        }, function(e, t) {
                            for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i) n[i] = e[t++];
                            this.targetObject.matrixWorldNeedsUpdate = !0
                        }],
                        [function(e, t) {
                            this.resolvedProperty[this.propertyIndex] = e[t]
                        }, function(e, t) {
                            this.resolvedProperty[this.propertyIndex] = e[t], this.targetObject.needsUpdate = !0
                        }, function(e, t) {
                            this.resolvedProperty[this.propertyIndex] = e[t], this.targetObject.matrixWorldNeedsUpdate = !0
                        }],
                        [function(e, t) {
                            this.resolvedProperty.fromArray(e, t)
                        }, function(e, t) {
                            this.resolvedProperty.fromArray(e, t), this.targetObject.needsUpdate = !0
                        }, function(e, t) {
                            this.resolvedProperty.fromArray(e, t), this.targetObject.matrixWorldNeedsUpdate = !0
                        }]
                    ],
                    getValue: function(e, t) {
                        this.bind(), this.getValue(e, t)
                    },
                    setValue: function(e, t) {
                        this.bind(), this.setValue(e, t)
                    },
                    bind: function() {
                        var e = this.node,
                            t = this.parsedPath,
                            n = t.objectName,
                            i = t.propertyName,
                            r = t.propertyIndex;
                        if (e || (e = qh.findNode(this.rootNode, t.nodeName) || this.rootNode, this.node = e), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, e) {
                            if (n) {
                                var o = t.objectIndex;
                                switch (n) {
                                    case "materials":
                                        if (!e.material) return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
                                        if (!e.material.materials) return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.", this);
                                        e = e.material.materials;
                                        break;
                                    case "bones":
                                        if (!e.skeleton) return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.", this);
                                        e = e.skeleton.bones;
                                        for (var a = 0; a < e.length; a++)
                                            if (e[a].name === o) {
                                                o = a;
                                                break
                                            }
                                        break;
                                    default:
                                        if (void 0 === e[n]) return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.", this);
                                        e = e[n]
                                }
                                if (void 0 !== o) {
                                    if (void 0 === e[o]) return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.", this, e);
                                    e = e[o]
                                }
                            }
                            var s = e[i];
                            if (void 0 !== s) {
                                var c = this.Versioning.None;
                                this.targetObject = e, void 0 !== e.needsUpdate ? c = this.Versioning.NeedsUpdate : void 0 !== e.matrixWorldNeedsUpdate && (c = this.Versioning.MatrixWorldNeedsUpdate);
                                var l = this.BindingType.Direct;
                                if (void 0 !== r) {
                                    if ("morphTargetInfluences" === i) {
                                        if (!e.geometry) return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.", this);
                                        if (e.geometry.isBufferGeometry) {
                                            if (!e.geometry.morphAttributes) return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.", this);
                                            for (a = 0; a < this.node.geometry.morphAttributes.position.length; a++)
                                                if (e.geometry.morphAttributes.position[a].name === r) {
                                                    r = a;
                                                    break
                                                }
                                        } else {
                                            if (!e.geometry.morphTargets) return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.", this);
                                            for (a = 0; a < this.node.geometry.morphTargets.length; a++)
                                                if (e.geometry.morphTargets[a].name === r) {
                                                    r = a;
                                                    break
                                                }
                                        }
                                    }
                                    l = this.BindingType.ArrayElement, this.resolvedProperty = s, this.propertyIndex = r
                                } else void 0 !== s.fromArray && void 0 !== s.toArray ? (l = this.BindingType.HasFromToArray, this.resolvedProperty = s) : Array.isArray(s) ? (l = this.BindingType.EntireArray, this.resolvedProperty = s) : this.propertyName = i;
                                this.getValue = this.GetterByBindingType[l], this.setValue = this.SetterByBindingTypeAndVersioning[l][c]
                            } else {
                                var u = t.nodeName;
                                console.error("THREE.PropertyBinding: Trying to update property for track: " + u + "." + i + " but it wasn't found.", e)
                            }
                        } else console.error("THREE.PropertyBinding: Trying to update node for track: " + this.path + " but it wasn't found.")
                    },
                    unbind: function() {
                        this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound
                    }
                }),
                //!\ DECLARE ALIAS AFTER assign prototype !
                Object.assign(qh.prototype, {
                    _getValue_unbound: qh.prototype.getValue,
                    _setValue_unbound: qh.prototype.setValue
                }), Object.assign(Yh.prototype, {
                    isAnimationObjectGroup: !0,
                    add: function() {
                        for (var e = this._objects, t = e.length, n = this.nCachedObjects_, i = this._indicesByUUID, r = this._paths, o = this._parsedPaths, a = this._bindings, s = a.length, c = void 0, l = 0, u = arguments.length; l !== u; ++l) {
                            var h = arguments[l],
                                d = h.uuid,
                                p = i[d];
                            if (void 0 === p) {
                                p = t++, i[d] = p, e.push(h);
                                for (var f = 0, m = s; f !== m; ++f) a[f].push(new qh(h, r[f], o[f]))
                            } else if (p < n) {
                                c = e[p];
                                var v = --n,
                                    g = e[v];
                                i[g.uuid] = p, e[p] = g, i[d] = v, e[v] = h;
                                for (f = 0, m = s; f !== m; ++f) {
                                    var y = a[f],
                                        b = y[v],
                                        x = y[p];
                                    y[p] = b, void 0 === x && (x = new qh(h, r[f], o[f])), y[v] = x
                                }
                            } else e[p] !== c && console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")
                        }
                        this.nCachedObjects_ = n
                    },
                    remove: function() {
                        for (var e = this._objects, t = this.nCachedObjects_, n = this._indicesByUUID, i = this._bindings, r = i.length, o = 0, a = arguments.length; o !== a; ++o) {
                            var s = arguments[o],
                                c = s.uuid,
                                l = n[c];
                            if (void 0 !== l && l >= t) {
                                var u = t++,
                                    h = e[u];
                                n[h.uuid] = l, e[l] = h, n[c] = u, e[u] = s;
                                for (var d = 0, p = r; d !== p; ++d) {
                                    var f = i[d],
                                        m = f[u],
                                        v = f[l];
                                    f[l] = m, f[u] = v
                                }
                            }
                        }
                        this.nCachedObjects_ = t
                    },
                    uncache: function() {
                        for (var e = this._objects, t = e.length, n = this.nCachedObjects_, i = this._indicesByUUID, r = this._bindings, o = r.length, a = 0, s = arguments.length; a !== s; ++a) {
                            var c = arguments[a],
                                l = c.uuid,
                                u = i[l];
                            if (void 0 !== u)
                                if (delete i[l], u < n) {
                                    var h = --n,
                                        d = e[h],
                                        p = e[y = --t];
                                    i[d.uuid] = u, e[u] = d, i[p.uuid] = h, e[h] = p, e.pop();
                                    for (var f = 0, m = o; f !== m; ++f) {
                                        var v = (b = r[f])[h],
                                            g = b[y];
                                        b[u] = v, b[h] = g, b.pop()
                                    }
                                } else {
                                    var y;
                                    i[(p = e[y = --t]).uuid] = u, e[u] = p, e.pop();
                                    for (f = 0, m = o; f !== m; ++f) {
                                        var b;
                                        (b = r[f])[u] = b[y], b.pop()
                                    }
                                }
                        }
                        this.nCachedObjects_ = n
                    },
                    subscribe_: function(e, t) {
                        var n = this._bindingsIndicesByPath,
                            i = n[e],
                            r = this._bindings;
                        if (void 0 !== i) return r[i];
                        var o = this._paths,
                            a = this._parsedPaths,
                            s = this._objects,
                            c = s.length,
                            l = this.nCachedObjects_,
                            u = new Array(c);
                        i = r.length, n[e] = i, o.push(e), a.push(t), r.push(u);
                        for (var h = l, d = s.length; h !== d; ++h) {
                            var p = s[h];
                            u[h] = new qh(p, e, t)
                        }
                        return u
                    },
                    unsubscribe_: function(e) {
                        var t = this._bindingsIndicesByPath,
                            n = t[e];
                        if (void 0 !== n) {
                            var i = this._paths,
                                r = this._parsedPaths,
                                o = this._bindings,
                                a = o.length - 1,
                                s = o[a];
                            t[e[a]] = n, o[n] = s, o.pop(), r[n] = r[a], r.pop(), i[n] = i[a], i.pop()
                        }
                    }
                }), Object.assign(Xh.prototype, {
                    play: function() {
                        return this._mixer._activateAction(this), this
                    },
                    stop: function() {
                        return this._mixer._deactivateAction(this), this.reset()
                    },
                    reset: function() {
                        return this.paused = !1, this.enabled = !0, this.time = 0, this._loopCount = -1, this._startTime = null, this.stopFading().stopWarping()
                    },
                    isRunning: function() {
                        return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this)
                    },
                    isScheduled: function() {
                        return this._mixer._isActiveAction(this)
                    },
                    startAt: function(e) {
                        return this._startTime = e, this
                    },
                    setLoop: function(e, t) {
                        return this.loop = e, this.repetitions = t, this
                    },
                    setEffectiveWeight: function(e) {
                        return this.weight = e, this._effectiveWeight = this.enabled ? e : 0, this.stopFading()
                    },
                    getEffectiveWeight: function() {
                        return this._effectiveWeight
                    },
                    fadeIn: function(e) {
                        return this._scheduleFading(e, 0, 1)
                    },
                    fadeOut: function(e) {
                        return this._scheduleFading(e, 1, 0)
                    },
                    crossFadeFrom: function(e, t, n) {
                        if (e.fadeOut(t), this.fadeIn(t), n) {
                            var i = this._clip.duration,
                                r = e._clip.duration,
                                o = r / i,
                                a = i / r;
                            e.warp(1, o, t), this.warp(a, 1, t)
                        }
                        return this
                    },
                    crossFadeTo: function(e, t, n) {
                        return e.crossFadeFrom(this, t, n)
                    },
                    stopFading: function() {
                        var e = this._weightInterpolant;
                        return null !== e && (this._weightInterpolant = null, this._mixer._takeBackControlInterpolant(e)), this
                    },
                    setEffectiveTimeScale: function(e) {
                        return this.timeScale = e, this._effectiveTimeScale = this.paused ? 0 : e, this.stopWarping()
                    },
                    getEffectiveTimeScale: function() {
                        return this._effectiveTimeScale
                    },
                    setDuration: function(e) {
                        return this.timeScale = this._clip.duration / e, this.stopWarping()
                    },
                    syncWith: function(e) {
                        return this.time = e.time, this.timeScale = e.timeScale, this.stopWarping()
                    },
                    halt: function(e) {
                        return this.warp(this._effectiveTimeScale, 0, e)
                    },
                    warp: function(e, t, n) {
                        var i = this._mixer,
                            r = i.time,
                            o = this._timeScaleInterpolant,
                            a = this.timeScale;
                        null === o && (o = i._lendControlInterpolant(), this._timeScaleInterpolant = o);
                        var s = o.parameterPositions,
                            c = o.sampleValues;
                        return s[0] = r, s[1] = r + n, c[0] = e / a, c[1] = t / a, this
                    },
                    stopWarping: function() {
                        var e = this._timeScaleInterpolant;
                        return null !== e && (this._timeScaleInterpolant = null, this._mixer._takeBackControlInterpolant(e)), this
                    },
                    getMixer: function() {
                        return this._mixer
                    },
                    getClip: function() {
                        return this._clip
                    },
                    getRoot: function() {
                        return this._localRoot || this._mixer._root
                    },
                    _update: function(e, t, n, i) {
                        if (this.enabled) {
                            var r = this._startTime;
                            if (null !== r) {
                                var o = (e - r) * n;
                                if (o < 0 || 0 === n) return;
                                this._startTime = null, t = n * o
                            }
                            t *= this._updateTimeScale(e);
                            var a = this._updateTime(t),
                                s = this._updateWeight(e);
                            if (s > 0)
                                for (var c = this._interpolants, l = this._propertyBindings, u = 0, h = c.length; u !== h; ++u) c[u].evaluate(a), l[u].accumulate(i, s)
                        } else this._updateWeight(e)
                    },
                    _updateWeight: function(e) {
                        var t = 0;
                        if (this.enabled) {
                            t = this.weight;
                            var n = this._weightInterpolant;
                            if (null !== n) {
                                var i = n.evaluate(e)[0];
                                t *= i, e > n.parameterPositions[1] && (this.stopFading(), 0 === i && (this.enabled = !1))
                            }
                        }
                        return this._effectiveWeight = t, t
                    },
                    _updateTimeScale: function(e) {
                        var t = 0;
                        if (!this.paused) {
                            t = this.timeScale;
                            var n = this._timeScaleInterpolant;
                            if (null !== n) t *= n.evaluate(e)[0], e > n.parameterPositions[1] && (this.stopWarping(), 0 === t ? this.paused = !0 : this.timeScale = t)
                        }
                        return this._effectiveTimeScale = t, t
                    },
                    _updateTime: function(e) {
                        var t = this.time + e,
                            n = this._clip.duration,
                            i = this.loop,
                            r = this._loopCount,
                            o = i === At;
                        if (0 === e) return -1 === r ? t : o && 1 == (1 & r) ? n - t : t;
                        if (i === St) {
                            -1 === r && (this._loopCount = 0, this._setEndings(!0, !0, !1));
                            e: {
                                if (t >= n) t = n;
                                else {
                                    if (!(t < 0)) {
                                        this.time = t;
                                        break e
                                    }
                                    t = 0
                                }
                                this.clampWhenFinished ? this.paused = !0 : this.enabled = !1,
                                this.time = t,
                                this._mixer.dispatchEvent({
                                    type: "finished",
                                    action: this,
                                    direction: e < 0 ? -1 : 1
                                })
                            }
                        } else {
                            if (-1 === r && (e >= 0 ? (r = 0, this._setEndings(!0, 0 === this.repetitions, o)) : this._setEndings(0 === this.repetitions, !0, o)), t >= n || t < 0) {
                                var a = Math.floor(t / n);
                                t -= n * a, r += Math.abs(a);
                                var s = this.repetitions - r;
                                if (s <= 0) this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, t = e > 0 ? n : 0, this.time = t, this._mixer.dispatchEvent({
                                    type: "finished",
                                    action: this,
                                    direction: e > 0 ? 1 : -1
                                });
                                else {
                                    if (1 === s) {
                                        var c = e < 0;
                                        this._setEndings(c, !c, o)
                                    } else this._setEndings(!1, !1, o);
                                    this._loopCount = r, this.time = t, this._mixer.dispatchEvent({
                                        type: "loop",
                                        action: this,
                                        loopDelta: a
                                    })
                                }
                            } else this.time = t;
                            if (o && 1 == (1 & r)) return n - t
                        }
                        return t
                    },
                    _setEndings: function(e, t, n) {
                        var i = this._interpolantSettings;
                        n ? (i.endingStart = Ot, i.endingEnd = Ot) : (i.endingStart = e ? this.zeroSlopeAtStart ? Ot : Rt : Dt, i.endingEnd = t ? this.zeroSlopeAtEnd ? Ot : Rt : Dt)
                    },
                    _scheduleFading: function(e, t, n) {
                        var i = this._mixer,
                            r = i.time,
                            o = this._weightInterpolant;
                        null === o && (o = i._lendControlInterpolant(), this._weightInterpolant = o);
                        var a = o.parameterPositions,
                            s = o.sampleValues;
                        return a[0] = r, s[0] = t, a[1] = r + e, s[1] = n, this
                    }
                }), Zh.prototype = Object.assign(Object.create(wn.prototype), {
                    constructor: Zh,
                    _bindAction: function(e, t) {
                        var n = e._localRoot || this._root,
                            i = e._clip.tracks,
                            r = i.length,
                            o = e._propertyBindings,
                            a = e._interpolants,
                            s = n.uuid,
                            c = this._bindingsByRootAndName,
                            l = c[s];
                        void 0 === l && (l = {}, c[s] = l);
                        for (var u = 0; u !== r; ++u) {
                            var h = i[u],
                                d = h.name,
                                p = l[d];
                            if (void 0 !== p) o[u] = p;
                            else {
                                if (void 0 !== (p = o[u])) {
                                    null === p._cacheIndex && (++p.referenceCount, this._addInactiveBinding(p, s, d));
                                    continue
                                }
                                var f = t && t._propertyBindings[u].binding.parsedPath;
                                ++(p = new kh(qh.create(n, d, f), h.ValueTypeName, h.getValueSize())).referenceCount, this._addInactiveBinding(p, s, d), o[u] = p
                            }
                            a[u].resultBuffer = p.buffer
                        }
                    },
                    _activateAction: function(e) {
                        if (!this._isActiveAction(e)) {
                            if (null === e._cacheIndex) {
                                var t = (e._localRoot || this._root).uuid,
                                    n = e._clip.uuid,
                                    i = this._actionsByClip[n];
                                this._bindAction(e, i && i.knownActions[0]), this._addInactiveAction(e, n, t)
                            }
                            for (var r = e._propertyBindings, o = 0, a = r.length; o !== a; ++o) {
                                var s = r[o];
                                0 == s.useCount++ && (this._lendBinding(s), s.saveOriginalState())
                            }
                            this._lendAction(e)
                        }
                    },
                    _deactivateAction: function(e) {
                        if (this._isActiveAction(e)) {
                            for (var t = e._propertyBindings, n = 0, i = t.length; n !== i; ++n) {
                                var r = t[n];
                                0 == --r.useCount && (r.restoreOriginalState(), this._takeBackBinding(r))
                            }
                            this._takeBackAction(e)
                        }
                    },
                    _initMemoryManager: function() {
                        this._actions = [], this._nActiveActions = 0, this._actionsByClip = {}, this._bindings = [], this._nActiveBindings = 0, this._bindingsByRootAndName = {}, this._controlInterpolants = [], this._nActiveControlInterpolants = 0;
                        var e = this;
                        this.stats = {
                            actions: {
                                get total() {
                                    return e._actions.length
                                },
                                get inUse() {
                                    return e._nActiveActions
                                }
                            },
                            bindings: {
                                get total() {
                                    return e._bindings.length
                                },
                                get inUse() {
                                    return e._nActiveBindings
                                }
                            },
                            controlInterpolants: {
                                get total() {
                                    return e._controlInterpolants.length
                                },
                                get inUse() {
                                    return e._nActiveControlInterpolants
                                }
                            }
                        }
                    },
                    _isActiveAction: function(e) {
                        var t = e._cacheIndex;
                        return null !== t && t < this._nActiveActions
                    },
                    _addInactiveAction: function(e, t, n) {
                        var i = this._actions,
                            r = this._actionsByClip,
                            o = r[t];
                        if (void 0 === o) o = {
                            knownActions: [e],
                            actionByRoot: {}
                        }, e._byClipCacheIndex = 0, r[t] = o;
                        else {
                            var a = o.knownActions;
                            e._byClipCacheIndex = a.length, a.push(e)
                        }
                        e._cacheIndex = i.length, i.push(e), o.actionByRoot[n] = e
                    },
                    _removeInactiveAction: function(e) {
                        var t = this._actions,
                            n = t[t.length - 1],
                            i = e._cacheIndex;
                        n._cacheIndex = i, t[i] = n, t.pop(), e._cacheIndex = null;
                        var r = e._clip.uuid,
                            o = this._actionsByClip,
                            a = o[r],
                            s = a.knownActions,
                            c = s[s.length - 1],
                            l = e._byClipCacheIndex;
                        c._byClipCacheIndex = l, s[l] = c, s.pop(), e._byClipCacheIndex = null, delete a.actionByRoot[(e._localRoot || this._root).uuid], 0 === s.length && delete o[r], this._removeInactiveBindingsForAction(e)
                    },
                    _removeInactiveBindingsForAction: function(e) {
                        for (var t = e._propertyBindings, n = 0, i = t.length; n !== i; ++n) {
                            var r = t[n];
                            0 == --r.referenceCount && this._removeInactiveBinding(r)
                        }
                    },
                    _lendAction: function(e) {
                        var t = this._actions,
                            n = e._cacheIndex,
                            i = this._nActiveActions++,
                            r = t[i];
                        e._cacheIndex = i, t[i] = e, r._cacheIndex = n, t[n] = r
                    },
                    _takeBackAction: function(e) {
                        var t = this._actions,
                            n = e._cacheIndex,
                            i = --this._nActiveActions,
                            r = t[i];
                        e._cacheIndex = i, t[i] = e, r._cacheIndex = n, t[n] = r
                    },
                    _addInactiveBinding: function(e, t, n) {
                        var i = this._bindingsByRootAndName,
                            r = i[t],
                            o = this._bindings;
                        void 0 === r && (r = {}, i[t] = r), r[n] = e, e._cacheIndex = o.length, o.push(e)
                    },
                    _removeInactiveBinding: function(e) {
                        var t = this._bindings,
                            n = e.binding,
                            i = n.rootNode.uuid,
                            r = n.path,
                            o = this._bindingsByRootAndName,
                            a = o[i],
                            s = t[t.length - 1],
                            c = e._cacheIndex;
                        s._cacheIndex = c, t[c] = s, t.pop(), delete a[r], 0 === Object.keys(a).length && delete o[i]
                    },
                    _lendBinding: function(e) {
                        var t = this._bindings,
                            n = e._cacheIndex,
                            i = this._nActiveBindings++,
                            r = t[i];
                        e._cacheIndex = i, t[i] = e, r._cacheIndex = n, t[n] = r
                    },
                    _takeBackBinding: function(e) {
                        var t = this._bindings,
                            n = e._cacheIndex,
                            i = --this._nActiveBindings,
                            r = t[i];
                        e._cacheIndex = i, t[i] = e, r._cacheIndex = n, t[n] = r
                    },
                    _lendControlInterpolant: function() {
                        var e = this._controlInterpolants,
                            t = this._nActiveControlInterpolants++,
                            n = e[t];
                        return void 0 === n && ((n = new Yl(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer)).__cacheIndex = t, e[t] = n), n
                    },
                    _takeBackControlInterpolant: function(e) {
                        var t = this._controlInterpolants,
                            n = e.__cacheIndex,
                            i = --this._nActiveControlInterpolants,
                            r = t[i];
                        e.__cacheIndex = i, t[i] = e, r.__cacheIndex = n, t[n] = r
                    },
                    _controlInterpolantsResultBuffer: new Float32Array(1),
                    clipAction: function(e, t) {
                        var n = t || this._root,
                            i = n.uuid,
                            r = "string" == typeof e ? iu.findByName(n, e) : e,
                            o = null !== r ? r.uuid : e,
                            a = this._actionsByClip[o],
                            s = null;
                        if (void 0 !== a) {
                            var c = a.actionByRoot[i];
                            if (void 0 !== c) return c;
                            s = a.knownActions[0], null === r && (r = s._clip)
                        }
                        if (null === r) return null;
                        var l = new Xh(this, r, t);
                        return this._bindAction(l, s), this._addInactiveAction(l, o, i), l
                    },
                    existingAction: function(e, t) {
                        var n = t || this._root,
                            i = n.uuid,
                            r = "string" == typeof e ? iu.findByName(n, e) : e,
                            o = r ? r.uuid : e,
                            a = this._actionsByClip[o];
                        return void 0 !== a && a.actionByRoot[i] || null
                    },
                    stopAllAction: function() {
                        var e = this._actions,
                            t = this._nActiveActions,
                            n = this._bindings,
                            i = this._nActiveBindings;
                        this._nActiveActions = 0, this._nActiveBindings = 0;
                        for (var r = 0; r !== t; ++r) e[r].reset();
                        for (r = 0; r !== i; ++r) n[r].useCount = 0;
                        return this
                    },
                    update: function(e) {
                        e *= this.timeScale;
                        for (var t = this._actions, n = this._nActiveActions, i = this.time += e, r = Math.sign(e), o = this._accuIndex ^= 1, a = 0; a !== n; ++a) {
                            t[a]._update(i, e, r, o)
                        }
                        var s = this._bindings,
                            c = this._nActiveBindings;
                        for (a = 0; a !== c; ++a) s[a].apply(o);
                        return this
                    },
                    setTime: function(e) {
                        this.time = 0;
                        for (var t = 0; t < this._actions.length; t++) this._actions[t].time = 0;
                        return this.update(e)
                    },
                    getRoot: function() {
                        return this._root
                    },
                    uncacheClip: function(e) {
                        var t = this._actions,
                            n = e.uuid,
                            i = this._actionsByClip,
                            r = i[n];
                        if (void 0 !== r) {
                            for (var o = r.knownActions, a = 0, s = o.length; a !== s; ++a) {
                                var c = o[a];
                                this._deactivateAction(c);
                                var l = c._cacheIndex,
                                    u = t[t.length - 1];
                                c._cacheIndex = null, c._byClipCacheIndex = null, u._cacheIndex = l, t[l] = u, t.pop(), this._removeInactiveBindingsForAction(c)
                            }
                            delete i[n]
                        }
                    },
                    uncacheRoot: function(e) {
                        var t = e.uuid,
                            n = this._actionsByClip;
                        for (var i in n) {
                            var r = n[i].actionByRoot[t];
                            void 0 !== r && (this._deactivateAction(r), this._removeInactiveAction(r))
                        }
                        var o = this._bindingsByRootAndName[t];
                        if (void 0 !== o)
                            for (var a in o) {
                                var s = o[a];
                                s.restoreOriginalState(), this._removeInactiveBinding(s)
                            }
                    },
                    uncacheAction: function(e, t) {
                        var n = this.existingAction(e, t);
                        null !== n && (this._deactivateAction(n), this._removeInactiveAction(n))
                    }
                }), Jh.prototype.clone = function() {
                    return new Jh(void 0 === this.value.clone ? this.value : this.value.clone())
                }, Kh.prototype = Object.assign(Object.create(xs.prototype), {
                    constructor: Kh,
                    isInstancedInterleavedBuffer: !0,
                    copy: function(e) {
                        return xs.prototype.copy.call(this, e), this.meshPerAttribute = e.meshPerAttribute, this
                    }
                }), Object.assign(Qh.prototype, {
                    linePrecision: 1,
                    set: function(e, t) {
                        this.ray.set(e, t)
                    },
                    setFromCamera: function(e, t) {
                        t && t.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(t.matrixWorld), this.ray.direction.set(e.x, e.y, .5).unproject(t).sub(this.ray.origin).normalize(), this.camera = t) : t && t.isOrthographicCamera ? (this.ray.origin.set(e.x, e.y, (t.near + t.far) / (t.near - t.far)).unproject(t), this.ray.direction.set(0, 0, -1).transformDirection(t.matrixWorld), this.camera = t) : console.error("THREE.Raycaster: Unsupported camera type.")
                    },
                    intersectObject: function(e, t, n) {
                        var i = n || [];
                        return ed(e, this, i, t), i.sort($h), i
                    },
                    intersectObjects: function(e, t, n) {
                        var i = n || [];
                        if (!1 === Array.isArray(e)) return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."), i;
                        for (var r = 0, o = e.length; r < o; r++) ed(e[r], this, i, t);
                        return i.sort($h), i
                    }
                }), Object.assign(td.prototype, {
                    set: function(e, t, n) {
                        return this.radius = e, this.phi = t, this.theta = n, this
                    },
                    clone: function() {
                        return (new this.constructor).copy(this)
                    },
                    copy: function(e) {
                        return this.radius = e.radius, this.phi = e.phi, this.theta = e.theta, this
                    },
                    makeSafe: function() {
                        return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)), this
                    },
                    setFromVector3: function(e) {
                        return this.setFromCartesianCoords(e.x, e.y, e.z)
                    },
                    setFromCartesianCoords: function(e, t, n) {
                        return this.radius = Math.sqrt(e * e + t * t + n * n), 0 === this.radius ? (this.theta = 0, this.phi = 0) : (this.theta = Math.atan2(e, n), this.phi = Math.acos(Sn.clamp(t / this.radius, -1, 1))), this
                    }
                }), Object.assign(nd.prototype, {
                    set: function(e, t, n) {
                        return this.radius = e, this.theta = t, this.y = n, this
                    },
                    clone: function() {
                        return (new this.constructor).copy(this)
                    },
                    copy: function(e) {
                        return this.radius = e.radius, this.theta = e.theta, this.y = e.y, this
                    },
                    setFromVector3: function(e) {
                        return this.setFromCartesianCoords(e.x, e.y, e.z)
                    },
                    setFromCartesianCoords: function(e, t, n) {
                        return this.radius = Math.sqrt(e * e + n * n), this.theta = Math.atan2(e, n), this.y = t, this
                    }
                });
            var id = new En;

            function rd(e, t) {
                this.min = void 0 !== e ? e : new En(1 / 0, 1 / 0), this.max = void 0 !== t ? t : new En(-1 / 0, -1 / 0)
            }
            Object.assign(rd.prototype, {
                set: function(e, t) {
                    return this.min.copy(e), this.max.copy(t), this
                },
                setFromPoints: function(e) {
                    this.makeEmpty();
                    for (var t = 0, n = e.length; t < n; t++) this.expandByPoint(e[t]);
                    return this
                },
                setFromCenterAndSize: function(e, t) {
                    var n = id.copy(t).multiplyScalar(.5);
                    return this.min.copy(e).sub(n), this.max.copy(e).add(n), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    return this.min.copy(e.min), this.max.copy(e.max), this
                },
                makeEmpty: function() {
                    return this.min.x = this.min.y = 1 / 0, this.max.x = this.max.y = -1 / 0, this
                },
                isEmpty: function() {
                    return this.max.x < this.min.x || this.max.y < this.min.y
                },
                getCenter: function(e) {
                    return void 0 === e && (console.warn("THREE.Box2: .getCenter() target is now required"), e = new En), this.isEmpty() ? e.set(0, 0) : e.addVectors(this.min, this.max).multiplyScalar(.5)
                },
                getSize: function(e) {
                    return void 0 === e && (console.warn("THREE.Box2: .getSize() target is now required"), e = new En), this.isEmpty() ? e.set(0, 0) : e.subVectors(this.max, this.min)
                },
                expandByPoint: function(e) {
                    return this.min.min(e), this.max.max(e), this
                },
                expandByVector: function(e) {
                    return this.min.sub(e), this.max.add(e), this
                },
                expandByScalar: function(e) {
                    return this.min.addScalar(-e), this.max.addScalar(e), this
                },
                containsPoint: function(e) {
                    return !(e.x < this.min.x || e.x > this.max.x || e.y < this.min.y || e.y > this.max.y)
                },
                containsBox: function(e) {
                    return this.min.x <= e.min.x && e.max.x <= this.max.x && this.min.y <= e.min.y && e.max.y <= this.max.y
                },
                getParameter: function(e, t) {
                    return void 0 === t && (console.warn("THREE.Box2: .getParameter() target is now required"), t = new En), t.set((e.x - this.min.x) / (this.max.x - this.min.x), (e.y - this.min.y) / (this.max.y - this.min.y))
                },
                intersectsBox: function(e) {
                    return !(e.max.x < this.min.x || e.min.x > this.max.x || e.max.y < this.min.y || e.min.y > this.max.y)
                },
                clampPoint: function(e, t) {
                    return void 0 === t && (console.warn("THREE.Box2: .clampPoint() target is now required"), t = new En), t.copy(e).clamp(this.min, this.max)
                },
                distanceToPoint: function(e) {
                    return id.copy(e).clamp(this.min, this.max).sub(e).length()
                },
                intersect: function(e) {
                    return this.min.max(e.min), this.max.min(e.max), this
                },
                union: function(e) {
                    return this.min.min(e.min), this.max.max(e.max), this
                },
                translate: function(e) {
                    return this.min.add(e), this.max.add(e), this
                },
                equals: function(e) {
                    return e.min.equals(this.min) && e.max.equals(this.max)
                }
            });
            var od = new Fn,
                ad = new Fn;

            function sd(e, t) {
                this.start = void 0 !== e ? e : new Fn, this.end = void 0 !== t ? t : new Fn
            }

            function cd(e) {
                li.call(this), this.material = e, this.render = function() {}
            }
            Object.assign(sd.prototype, {
                set: function(e, t) {
                    return this.start.copy(e), this.end.copy(t), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(e) {
                    return this.start.copy(e.start), this.end.copy(e.end), this
                },
                getCenter: function(e) {
                    return void 0 === e && (console.warn("THREE.Line3: .getCenter() target is now required"), e = new Fn), e.addVectors(this.start, this.end).multiplyScalar(.5)
                },
                delta: function(e) {
                    return void 0 === e && (console.warn("THREE.Line3: .delta() target is now required"), e = new Fn), e.subVectors(this.end, this.start)
                },
                distanceSq: function() {
                    return this.start.distanceToSquared(this.end)
                },
                distance: function() {
                    return this.start.distanceTo(this.end)
                },
                at: function(e, t) {
                    return void 0 === t && (console.warn("THREE.Line3: .at() target is now required"), t = new Fn), this.delta(t).multiplyScalar(e).add(this.start)
                },
                closestPointToPointParameter: function(e, t) {
                    od.subVectors(e, this.start), ad.subVectors(this.end, this.start);
                    var n = ad.dot(ad),
                        i = ad.dot(od) / n;
                    return t && (i = Sn.clamp(i, 0, 1)), i
                },
                closestPointToPoint: function(e, t, n) {
                    var i = this.closestPointToPointParameter(e, t);
                    return void 0 === n && (console.warn("THREE.Line3: .closestPointToPoint() target is now required"), n = new Fn), this.delta(n).multiplyScalar(i).add(this.start)
                },
                applyMatrix4: function(e) {
                    return this.start.applyMatrix4(e), this.end.applyMatrix4(e), this
                },
                equals: function(e) {
                    return e.start.equals(this.start) && e.end.equals(this.end)
                }
            }), cd.prototype = Object.create(li.prototype), cd.prototype.constructor = cd, cd.prototype.isImmediateRenderObject = !0;
            var ld = new Fn;

            function ud(e, t) {
                li.call(this), this.light = e, this.light.updateMatrixWorld(), this.matrix = e.matrixWorld, this.matrixAutoUpdate = !1, this.color = t;
                for (var n = new Pr, i = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], r = 0, o = 1; r < 32; r++, o++) {
                    var a = r / 32 * Math.PI * 2,
                        s = o / 32 * Math.PI * 2;
                    i.push(Math.cos(a), Math.sin(a), 1, Math.cos(s), Math.sin(s), 1)
                }
                n.setAttribute("position", new gr(i, 3));
                var c = new Qs({
                    fog: !1
                });
                this.cone = new sc(n, c), this.add(this.cone), this.update()
            }
            ud.prototype = Object.create(li.prototype), ud.prototype.constructor = ud, ud.prototype.dispose = function() {
                this.cone.geometry.dispose(), this.cone.material.dispose()
            }, ud.prototype.update = function() {
                this.light.updateMatrixWorld();
                var e = this.light.distance ? this.light.distance : 1e3,
                    t = e * Math.tan(this.light.angle);
                this.cone.scale.set(t, t, e), ld.setFromMatrixPosition(this.light.target.matrixWorld), this.cone.lookAt(ld), void 0 !== this.color ? this.cone.material.color.set(this.color) : this.cone.material.color.copy(this.light.color)
            };
            var hd = new Fn,
                dd = new Wn,
                pd = new Wn;

            function fd(e) {
                for (var t = function e(t) {
                        var n = [];
                        t && t.isBone && n.push(t);
                        for (var i = 0; i < t.children.length; i++) n.push.apply(n, e(t.children[i]));
                        return n
                    }(e), n = new Pr, i = [], r = [], o = new er(0, 0, 1), a = new er(0, 1, 0), s = 0; s < t.length; s++) {
                    var c = t[s];
                    c.parent && c.parent.isBone && (i.push(0, 0, 0), i.push(0, 0, 0), r.push(o.r, o.g, o.b), r.push(a.r, a.g, a.b))
                }
                n.setAttribute("position", new gr(i, 3)), n.setAttribute("color", new gr(r, 3));
                var l = new Qs({
                    vertexColors: M,
                    depthTest: !1,
                    depthWrite: !1,
                    transparent: !0
                });
                sc.call(this, n, l), this.root = e, this.bones = t, this.matrix = e.matrixWorld, this.matrixAutoUpdate = !1
            }

            function md(e, t, n) {
                this.light = e, this.light.updateMatrixWorld(), this.color = n;
                var i = new gl(t, 4, 2),
                    r = new sr({
                        wireframe: !0,
                        fog: !1
                    });
                qr.call(this, i, r), this.matrix = this.light.matrixWorld, this.matrixAutoUpdate = !1, this.update()
            }
            fd.prototype = Object.create(sc.prototype), fd.prototype.constructor = fd, fd.prototype.updateMatrixWorld = function(e) {
                var t = this.bones,
                    n = this.geometry,
                    i = n.getAttribute("position");
                pd.getInverse(this.root.matrixWorld);
                for (var r = 0, o = 0; r < t.length; r++) {
                    var a = t[r];
                    a.parent && a.parent.isBone && (dd.multiplyMatrices(pd, a.matrixWorld), hd.setFromMatrixPosition(dd), i.setXYZ(o, hd.x, hd.y, hd.z), dd.multiplyMatrices(pd, a.parent.matrixWorld), hd.setFromMatrixPosition(dd), i.setXYZ(o + 1, hd.x, hd.y, hd.z), o += 2)
                }
                n.getAttribute("position").needsUpdate = !0, li.prototype.updateMatrixWorld.call(this, e)
            }, md.prototype = Object.create(qr.prototype), md.prototype.constructor = md, md.prototype.dispose = function() {
                this.geometry.dispose(), this.material.dispose()
            }, md.prototype.update = function() {
                void 0 !== this.color ? this.material.color.set(this.color) : this.material.color.copy(this.light.color)
            };
            var vd = new Fn,
                gd = new er,
                yd = new er;

            function bd(e, t, n) {
                li.call(this), this.light = e, this.light.updateMatrixWorld(), this.matrix = e.matrixWorld, this.matrixAutoUpdate = !1, this.color = n;
                var i = new Pc(t);
                i.rotateY(.5 * Math.PI), this.material = new sr({
                    wireframe: !0,
                    fog: !1
                }), void 0 === this.color && (this.material.vertexColors = M);
                var r = i.getAttribute("position"),
                    o = new Float32Array(3 * r.count);
                i.setAttribute("color", new lr(o, 3)), this.add(new qr(i, this.material)), this.update()
            }

            function xd(e, t, n, i) {
                e = e || 10, t = t || 10, n = new er(void 0 !== n ? n : 4473924), i = new er(void 0 !== i ? i : 8947848);
                for (var r = t / 2, o = e / t, a = e / 2, s = [], c = [], l = 0, u = 0, h = -a; l <= t; l++, h += o) {
                    s.push(-a, 0, h, a, 0, h), s.push(h, 0, -a, h, 0, a);
                    var d = l === r ? n : i;
                    d.toArray(c, u), u += 3, d.toArray(c, u), u += 3, d.toArray(c, u), u += 3, d.toArray(c, u), u += 3
                }
                var p = new Pr;
                p.setAttribute("position", new gr(s, 3)), p.setAttribute("color", new gr(c, 3));
                var f = new Qs({
                    vertexColors: M
                });
                sc.call(this, p, f)
            }

            function wd(e, t, n, i, r, o) {
                e = e || 10, t = t || 16, n = n || 8, i = i || 64, r = new er(void 0 !== r ? r : 4473924), o = new er(void 0 !== o ? o : 8947848);
                var a, s, c, l, u, h, d, p = [],
                    f = [];
                for (l = 0; l <= t; l++) c = l / t * (2 * Math.PI), a = Math.sin(c) * e, s = Math.cos(c) * e, p.push(0, 0, 0), p.push(a, 0, s), d = 1 & l ? r : o, f.push(d.r, d.g, d.b), f.push(d.r, d.g, d.b);
                for (l = 0; l <= n; l++)
                    for (d = 1 & l ? r : o, h = e - e / n * l, u = 0; u < i; u++) c = u / i * (2 * Math.PI), a = Math.sin(c) * h, s = Math.cos(c) * h, p.push(a, 0, s), f.push(d.r, d.g, d.b), c = (u + 1) / i * (2 * Math.PI), a = Math.sin(c) * h, s = Math.cos(c) * h, p.push(a, 0, s), f.push(d.r, d.g, d.b);
                var m = new Pr;
                m.setAttribute("position", new gr(p, 3)), m.setAttribute("color", new gr(f, 3));
                var v = new Qs({
                    vertexColors: M
                });
                sc.call(this, m, v)
            }
            bd.prototype = Object.create(li.prototype), bd.prototype.constructor = bd, bd.prototype.dispose = function() {
                this.children[0].geometry.dispose(), this.children[0].material.dispose()
            }, bd.prototype.update = function() {
                var e = this.children[0];
                if (void 0 !== this.color) this.material.color.set(this.color);
                else {
                    var t = e.geometry.getAttribute("color");
                    gd.copy(this.light.color), yd.copy(this.light.groundColor);
                    for (var n = 0, i = t.count; n < i; n++) {
                        var r = n < i / 2 ? gd : yd;
                        t.setXYZ(n, r.r, r.g, r.b)
                    }
                    t.needsUpdate = !0
                }
                e.lookAt(vd.setFromMatrixPosition(this.light.matrixWorld).negate())
            }, xd.prototype = Object.assign(Object.create(sc.prototype), {
                constructor: xd,
                copy: function(e) {
                    return sc.prototype.copy.call(this, e), this.geometry.copy(e.geometry), this.material.copy(e.material), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                }
            }), wd.prototype = Object.create(sc.prototype), wd.prototype.constructor = wd;
            var _d = new Fn,
                Md = new Fn,
                Td = new Fn;

            function Sd(e, t, n) {
                li.call(this), this.light = e, this.light.updateMatrixWorld(), this.matrix = e.matrixWorld, this.matrixAutoUpdate = !1, this.color = n, void 0 === t && (t = 1);
                var i = new Pr;
                i.setAttribute("position", new gr([-t, t, 0, t, t, 0, t, -t, 0, -t, -t, 0, -t, t, 0], 3));
                var r = new Qs({
                    fog: !1
                });
                this.lightPlane = new rc(i, r), this.add(this.lightPlane), (i = new Pr).setAttribute("position", new gr([0, 0, 0, 0, 0, 1], 3)), this.targetLine = new rc(i, r), this.add(this.targetLine), this.update()
            }
            Sd.prototype = Object.create(li.prototype), Sd.prototype.constructor = Sd, Sd.prototype.dispose = function() {
                this.lightPlane.geometry.dispose(), this.lightPlane.material.dispose(), this.targetLine.geometry.dispose(), this.targetLine.material.dispose()
            }, Sd.prototype.update = function() {
                _d.setFromMatrixPosition(this.light.matrixWorld), Md.setFromMatrixPosition(this.light.target.matrixWorld), Td.subVectors(Md, _d), this.lightPlane.lookAt(Md), void 0 !== this.color ? (this.lightPlane.material.color.set(this.color), this.targetLine.material.color.set(this.color)) : (this.lightPlane.material.color.copy(this.light.color), this.targetLine.material.color.copy(this.light.color)), this.targetLine.lookAt(Md), this.targetLine.scale.z = Td.length()
            };
            var Ed = new Fn,
                Ad = new ao;

            function Pd(e) {
                var t = new Pr,
                    n = new Qs({
                        color: 16777215,
                        vertexColors: _
                    }),
                    i = [],
                    r = [],
                    o = {},
                    a = new er(16755200),
                    s = new er(16711680),
                    c = new er(43775),
                    l = new er(16777215),
                    u = new er(3355443);

                function h(e, t, n) {
                    d(e, n), d(t, n)
                }

                function d(e, t) {
                    i.push(0, 0, 0), r.push(t.r, t.g, t.b), void 0 === o[e] && (o[e] = []), o[e].push(i.length / 3 - 1)
                }
                h("n1", "n2", a), h("n2", "n4", a), h("n4", "n3", a), h("n3", "n1", a), h("f1", "f2", a), h("f2", "f4", a), h("f4", "f3", a), h("f3", "f1", a), h("n1", "f1", a), h("n2", "f2", a), h("n3", "f3", a), h("n4", "f4", a), h("p", "n1", s), h("p", "n2", s), h("p", "n3", s), h("p", "n4", s), h("u1", "u2", c), h("u2", "u3", c), h("u3", "u1", c), h("c", "t", l), h("p", "c", u), h("cn1", "cn2", u), h("cn3", "cn4", u), h("cf1", "cf2", u), h("cf3", "cf4", u), t.setAttribute("position", new gr(i, 3)), t.setAttribute("color", new gr(r, 3)), sc.call(this, t, n), this.camera = e, this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix(), this.matrix = e.matrixWorld, this.matrixAutoUpdate = !1, this.pointMap = o, this.update()
            }

            function Ld(e, t, n, i, r, o, a) {
                Ed.set(r, o, a).unproject(i);
                var s = t[e];
                if (void 0 !== s)
                    for (var c = n.getAttribute("position"), l = 0, u = s.length; l < u; l++) c.setXYZ(s[l], Ed.x, Ed.y, Ed.z)
            }
            Pd.prototype = Object.create(sc.prototype), Pd.prototype.constructor = Pd, Pd.prototype.update = function() {
                var e = this.geometry,
                    t = this.pointMap;
                Ad.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse), Ld("c", t, e, Ad, 0, 0, -1), Ld("t", t, e, Ad, 0, 0, 1), Ld("n1", t, e, Ad, -1, -1, -1), Ld("n2", t, e, Ad, 1, -1, -1), Ld("n3", t, e, Ad, -1, 1, -1), Ld("n4", t, e, Ad, 1, 1, -1), Ld("f1", t, e, Ad, -1, -1, 1), Ld("f2", t, e, Ad, 1, -1, 1), Ld("f3", t, e, Ad, -1, 1, 1), Ld("f4", t, e, Ad, 1, 1, 1), Ld("u1", t, e, Ad, .7, 1.1, -1), Ld("u2", t, e, Ad, -.7, 1.1, -1), Ld("u3", t, e, Ad, 0, 2, -1), Ld("cf1", t, e, Ad, -1, 0, 1), Ld("cf2", t, e, Ad, 1, 0, 1), Ld("cf3", t, e, Ad, 0, -1, 1), Ld("cf4", t, e, Ad, 0, 1, 1), Ld("cn1", t, e, Ad, -1, 0, -1), Ld("cn2", t, e, Ad, 1, 0, -1), Ld("cn3", t, e, Ad, 0, -1, -1), Ld("cn4", t, e, Ad, 0, 1, -1), e.getAttribute("position").needsUpdate = !0
            };
            var Cd = new Ti;

            function Rd(e, t) {
                this.object = e, void 0 === t && (t = 16776960);
                var n = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
                    i = new Float32Array(24),
                    r = new Pr;
                r.setIndex(new lr(n, 1)), r.setAttribute("position", new lr(i, 3)), sc.call(this, r, new Qs({
                    color: t
                })), this.matrixAutoUpdate = !1, this.update()
            }

            function Od(e, t) {
                this.type = "Box3Helper", this.box = e, t = t || 16776960;
                var n = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
                    i = new Pr;
                i.setIndex(new lr(n, 1)), i.setAttribute("position", new gr([1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1], 3)), sc.call(this, i, new Qs({
                    color: t
                })), this.geometry.computeBoundingSphere()
            }

            function Dd(e, t, n) {
                this.type = "PlaneHelper", this.plane = e, this.size = void 0 === t ? 1 : t;
                var i = void 0 !== n ? n : 16776960,
                    r = new Pr;
                r.setAttribute("position", new gr([1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0], 3)), r.computeBoundingSphere(), rc.call(this, r, new Qs({
                    color: i
                }));
                var o = new Pr;
                o.setAttribute("position", new gr([1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1], 3)), o.computeBoundingSphere(), this.add(new qr(o, new sr({
                    color: i,
                    opacity: .2,
                    transparent: !0,
                    depthWrite: !1
                })))
            }
            Rd.prototype = Object.create(sc.prototype), Rd.prototype.constructor = Rd, Rd.prototype.update = function(e) {
                if (void 0 !== e && console.warn("THREE.BoxHelper: .update() has no longer arguments."), void 0 !== this.object && Cd.setFromObject(this.object), !Cd.isEmpty()) {
                    var t = Cd.min,
                        n = Cd.max,
                        i = this.geometry.attributes.position,
                        r = i.array;
                    r[0] = n.x, r[1] = n.y, r[2] = n.z, r[3] = t.x, r[4] = n.y, r[5] = n.z, r[6] = t.x, r[7] = t.y, r[8] = n.z, r[9] = n.x, r[10] = t.y, r[11] = n.z, r[12] = n.x, r[13] = n.y, r[14] = t.z, r[15] = t.x, r[16] = n.y, r[17] = t.z, r[18] = t.x, r[19] = t.y, r[20] = t.z, r[21] = n.x, r[22] = t.y, r[23] = t.z, i.needsUpdate = !0, this.geometry.computeBoundingSphere()
                }
            }, Rd.prototype.setFromObject = function(e) {
                return this.object = e, this.update(), this
            }, Rd.prototype.copy = function(e) {
                return sc.prototype.copy.call(this, e), this.object = e.object, this
            }, Rd.prototype.clone = function() {
                return (new this.constructor).copy(this)
            }, Od.prototype = Object.create(sc.prototype), Od.prototype.constructor = Od, Od.prototype.updateMatrixWorld = function(e) {
                var t = this.box;
                t.isEmpty() || (t.getCenter(this.position), t.getSize(this.scale), this.scale.multiplyScalar(.5), li.prototype.updateMatrixWorld.call(this, e))
            }, Dd.prototype = Object.create(rc.prototype), Dd.prototype.constructor = Dd, Dd.prototype.updateMatrixWorld = function(e) {
                var t = -this.plane.constant;
                Math.abs(t) < 1e-8 && (t = 1e-8), this.scale.set(.5 * this.size, .5 * this.size, t), this.children[0].material.side = t < 0 ? g : v, this.lookAt(this.plane.normal), li.prototype.updateMatrixWorld.call(this, e)
            };
            var Id, jd, kd = new Fn;

            function Fd(e, t, n, i, r, o) {
                li.call(this), void 0 === e && (e = new Fn(0, 0, 1)), void 0 === t && (t = new Fn(0, 0, 0)), void 0 === n && (n = 1), void 0 === i && (i = 16776960), void 0 === r && (r = .2 * n), void 0 === o && (o = .2 * r), void 0 === Id && ((Id = new Pr).setAttribute("position", new gr([0, 0, 0, 0, 1, 0], 3)), (jd = new Al(0, .5, 1, 5, 1)).translate(0, -.5, 0)), this.position.copy(t), this.line = new rc(Id, new Qs({
                    color: i
                })), this.line.matrixAutoUpdate = !1, this.add(this.line), this.cone = new qr(jd, new sr({
                    color: i
                })), this.cone.matrixAutoUpdate = !1, this.add(this.cone), this.setDirection(e), this.setLength(n, r, o)
            }

            function Nd(e) {
                var t = [0, 0, 0, e = e || 1, 0, 0, 0, 0, 0, 0, e, 0, 0, 0, 0, 0, 0, e],
                    n = new Pr;
                n.setAttribute("position", new gr(t, 3)), n.setAttribute("color", new gr([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1], 3));
                var i = new Qs({
                    vertexColors: M
                });
                sc.call(this, n, i)
            }
            Fd.prototype = Object.create(li.prototype), Fd.prototype.constructor = Fd, Fd.prototype.setDirection = function(e) {
                if (e.y > .99999) this.quaternion.set(0, 0, 0, 1);
                else if (e.y < -.99999) this.quaternion.set(1, 0, 0, 0);
                else {
                    kd.set(e.z, 0, -e.x).normalize();
                    var t = Math.acos(e.y);
                    this.quaternion.setFromAxisAngle(kd, t)
                }
            }, Fd.prototype.setLength = function(e, t, n) {
                void 0 === t && (t = .2 * e), void 0 === n && (n = .2 * t), this.line.scale.set(1, Math.max(1e-4, e - t), 1), this.line.updateMatrix(), this.cone.scale.set(n, t, n), this.cone.position.y = e, this.cone.updateMatrix()
            }, Fd.prototype.setColor = function(e) {
                this.line.material.color.set(e), this.cone.material.color.set(e)
            }, Fd.prototype.copy = function(e) {
                return li.prototype.copy.call(this, e, !1), this.line.copy(e.line), this.cone.copy(e.cone), this
            }, Fd.prototype.clone = function() {
                return (new this.constructor).copy(this)
            }, Nd.prototype = Object.create(sc.prototype), Nd.prototype.constructor = Nd;
            var zd, Bd, Ud, Vd, Hd = Math.pow(2, 8),
                Gd = [.125, .215, .35, .446, .526, .582],
                Wd = 5 + Gd.length,
                qd = {
                    [Ft]: 0,
                    [Nt]: 1,
                    [Bt]: 2,
                    [Vt]: 3,
                    [Ht]: 4,
                    [Gt]: 5,
                    [zt]: 6
                },
                Yd = new Yu,
                Xd = (zd = 20, Bd = new Float32Array(zd), Ud = new Fn(0, 1, 0), (Vd = new Il({
                    defines: {
                        n: zd
                    },
                    uniforms: {
                        envMap: {
                            value: null
                        },
                        samples: {
                            value: 1
                        },
                        weights: {
                            value: Bd
                        },
                        latitudinal: {
                            value: !1
                        },
                        dTheta: {
                            value: 0
                        },
                        mipInt: {
                            value: 0
                        },
                        poleAxis: {
                            value: Ud
                        },
                        inputEncoding: {
                            value: qd[Ft]
                        },
                        outputEncoding: {
                            value: qd[Ft]
                        }
                    },
                    vertexShader: gp(),
                    fragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n${yp()}\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tfor (int i = 0; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfor (int dir = -1; dir < 2; dir += 2) {\n\t\t\tif (i == 0 && dir == 1)\n\t\t\t\tcontinue;\n\t\t\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\t\t\tif (all(equal(axis, vec3(0.0))))\n\t\t\t\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\n\t\t\taxis = normalize(axis);\n\t\t\tfloat theta = dTheta * float(dir * i);\n\t\t\tfloat cosTheta = cos(theta);\n\t\t\t// Rodrigues' axis-angle rotation\n\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t\t\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\t\t\tgl_FragColor.rgb +=\n\t\t\t\t\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\n\t\t}\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,
                    blending: T,
                    depthTest: !1,
                    depthWrite: !1
                })).type = "SphericalGaussianBlur", Vd),
                Zd = null,
                Jd = null,
                {
                    _lodPlanes: Kd,
                    _sizeLods: Qd,
                    _sigmas: $d
                } = function() {
                    for (var e = [], t = [], n = [], i = 8, r = 0; r < Wd; r++) {
                        var o = Math.pow(2, i);
                        t.push(o);
                        var a = 1 / o;
                        r > 4 ? a = Gd[r - 8 + 4 - 1] : 0 == r && (a = 0), n.push(a);
                        for (var s = 1 / (o - 1), c = -s / 2, l = 1 + s / 2, u = [c, c, l, c, l, l, c, c, l, l, c, l], h = new Float32Array(108), d = new Float32Array(72), p = new Float32Array(36), f = 0; f < 6; f++) {
                            var m = f % 3 * 2 / 3 - 1,
                                v = f > 2 ? 0 : -1,
                                g = [m, v, 0, m + 2 / 3, v, 0, m + 2 / 3, v + 1, 0, m, v, 0, m + 2 / 3, v + 1, 0, m, v + 1, 0];
                            h.set(g, 18 * f), d.set(u, 12 * f);
                            var y = [f, f, f, f, f, f];
                            p.set(y, 6 * f)
                        }
                        var b = new Pr;
                        b.setAttribute("position", new lr(h, 3)), b.setAttribute("uv", new lr(d, 2)), b.setAttribute("faceIndex", new lr(p, 1)), e.push(b), i > 4 && i--
                    }
                    return {
                        _lodPlanes: e,
                        _sizeLods: t,
                        _sigmas: n
                    }
                }(),
                ep = null,
                tp = null,
                np = null,
                ip = (1 + Math.sqrt(5)) / 2,
                rp = 1 / ip,
                op = [new Fn(1, 1, 1), new Fn(-1, 1, 1), new Fn(1, 1, -1), new Fn(-1, 1, -1), new Fn(0, ip, rp), new Fn(0, ip, -rp), new Fn(rp, 0, ip), new Fn(-rp, 0, ip), new Fn(ip, rp, 0), new Fn(-ip, rp, 0)];

            function ap(e) {
                tp = e, lp(Xd)
            }

            function sp(e) {
                var t = {
                        magFilter: xe,
                        minFilter: xe,
                        generateMipmaps: !1,
                        type: e ? e.type : Ce,
                        format: e ? e.format : Ye,
                        encoding: e ? e.encoding : Bt,
                        depthBuffer: !1,
                        stencilBuffer: !1
                    },
                    n = up(t);
                return n.depthBuffer = !e, ep = up(t), n
            }

            function cp(e) {
                ep.dispose(), tp.setRenderTarget(np), e.scissorTest = !1, e.setSize(e.width, e.height)
            }

            function lp(e) {
                var t = new ui;
                t.add(new qr(Kd[0], e)), tp.compile(t, Yd)
            }

            function up(e) {
                var t = new On(3 * Hd, 3 * Hd, e);
                return t.texture.mapping = me, t.texture.name = "PMREM.cubeUv", t.scissorTest = !0, t
            }

            function hp(e, t, n, i, r) {
                e.viewport.set(t, n, i, r), e.scissor.set(t, n, i, r)
            }

            function dp(e) {
                var t = tp.autoClear;
                tp.autoClear = !1;
                for (var n = 1; n < Wd; n++) {
                    pp(e, n - 1, n, Math.sqrt($d[n] * $d[n] - $d[n - 1] * $d[n - 1]), op[(n - 1) % op.length])
                }
                tp.autoClear = t
            }

            function pp(e, t, n, i, r) {
                fp(e, ep, t, n, i, "latitudinal", r), fp(ep, e, n, n, i, "longitudinal", r)
            }

            function fp(e, t, n, i, r, o, a) {
                "latitudinal" !== o && "longitudinal" !== o && console.error("blur direction must be either latitudinal or longitudinal!");
                var s = new ui;
                s.add(new qr(Kd[i], Xd));
                var c = Xd.uniforms,
                    l = Qd[n] - 1,
                    u = isFinite(r) ? Math.PI / (2 * l) : 2 * Math.PI / 39,
                    h = r / u,
                    d = isFinite(r) ? 1 + Math.floor(3 * h) : 20;
                d > 20 && console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${d} samples when the maximum is set to 20`);
                for (var p = [], f = 0, m = 0; m < 20; ++m) {
                    var v = m / h,
                        g = Math.exp(-v * v / 2);
                    p.push(g), 0 == m ? f += g : m < d && (f += 2 * g)
                }
                for (m = 0; m < p.length; m++) p[m] = p[m] / f;
                c.envMap.value = e.texture, c.samples.value = d, c.weights.value = p, c.latitudinal.value = "latitudinal" === o, a && (c.poleAxis.value = a), c.dTheta.value = u, c.mipInt.value = 8 - n, c.inputEncoding.value = qd[e.texture.encoding], c.outputEncoding.value = qd[e.texture.encoding];
                var y = Qd[i];
                hp(t, v = 3 * Math.max(0, Hd - 2 * y), (0 === i ? 0 : 2 * Hd) + 2 * y * (i > 4 ? i - 8 + 4 : 0), 3 * y, 2 * y), tp.setRenderTarget(t), tp.render(s, Yd)
            }

            function mp() {
                var e = new Il({
                    uniforms: {
                        envMap: {
                            value: null
                        },
                        texelSize: {
                            value: new En(1, 1)
                        },
                        inputEncoding: {
                            value: qd[Ft]
                        },
                        outputEncoding: {
                            value: qd[Ft]
                        }
                    },
                    vertexShader: gp(),
                    fragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n${yp()}\n\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,
                    blending: T,
                    depthTest: !1,
                    depthWrite: !1
                });
                return e.type = "EquirectangularToCubeUV", e
            }

            function vp() {
                var e = new Il({
                    uniforms: {
                        envMap: {
                            value: null
                        },
                        inputEncoding: {
                            value: qd[Ft]
                        },
                        outputEncoding: {
                            value: qd[Ft]
                        }
                    },
                    vertexShader: gp(),
                    fragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n${yp()}\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,
                    blending: T,
                    depthTest: !1,
                    depthWrite: !1
                });
                return e.type = "CubemapToCubeUV", e
            }

            function gp() {
                return "\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t"
            }

            function yp() {
                return "\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t"
            }

            function bp(e, t, n, i, r, o, a) {
                return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."), new rr(e, t, n, r, o, a)
            }
            ap.prototype = {
                constructor: ap,
                fromScene: function(e, t = 0, n = .1, i = 100) {
                    np = tp.getRenderTarget();
                    var r = sp();
                    return function(e, t, n, i) {
                        var r = new so(90, 1, t, n),
                            o = [1, 1, 1, 1, -1, 1],
                            a = [1, 1, -1, -1, -1, 1],
                            s = tp.outputEncoding,
                            c = tp.toneMapping,
                            l = tp.toneMappingExposure,
                            u = tp.getClearColor(),
                            h = tp.getClearAlpha();
                        tp.toneMapping = re, tp.toneMappingExposure = 1, tp.outputEncoding = Ft, e.scale.z *= -1;
                        var d = e.background;
                        if (d && d.isColor) {
                            d.convertSRGBToLinear();
                            var p = Math.max(d.r, d.g, d.b),
                                f = Math.min(Math.max(Math.ceil(Math.log2(p)), -128), 127);
                            d = d.multiplyScalar(Math.pow(2, -f));
                            var m = (f + 128) / 255;
                            tp.setClearColor(d, m), e.background = null
                        }
                        for (var v = 0; v < 6; v++) {
                            var g = v % 3;
                            0 == g ? (r.up.set(0, o[v], 0), r.lookAt(a[v], 0, 0)) : 1 == g ? (r.up.set(0, 0, o[v]), r.lookAt(0, a[v], 0)) : (r.up.set(0, o[v], 0), r.lookAt(0, 0, a[v])), hp(i, g * Hd, v > 2 ? Hd : 0, Hd, Hd), tp.setRenderTarget(i), tp.render(e, r)
                        }
                        tp.toneMapping = c, tp.toneMappingExposure = l, tp.outputEncoding = s, tp.setClearColor(u, h), e.scale.z *= -1
                    }(e, n, i, r), t > 0 && pp(r, 0, 0, t), dp(r), cp(r), r
                },
                fromEquirectangular: function(e) {
                    return e.magFilter = xe, e.minFilter = xe, e.generateMipmaps = !1, this.fromCubemap(e)
                },
                fromCubemap: function(e) {
                    np = tp.getRenderTarget();
                    var t = sp(e);
                    return function(e, t) {
                        var n = new ui;
                        e.isCubeTexture ? null == Jd && (Jd = vp()) : null == Zd && (Zd = mp());
                        var i = e.isCubeTexture ? Jd : Zd;
                        n.add(new qr(Kd[0], i));
                        var r = i.uniforms;
                        r.envMap.value = e, e.isCubeTexture || r.texelSize.value.set(1 / e.image.width, 1 / e.image.height);
                        r.inputEncoding.value = qd[e.encoding], r.outputEncoding.value = qd[e.encoding], hp(t, 0, 0, 3 * Hd, 2 * Hd), tp.setRenderTarget(t), tp.render(n, Yd)
                    }(e, t), dp(t), cp(t), t
                },
                compileCubemapShader: function() {
                    null == Jd && lp(Jd = vp())
                },
                compileEquirectangularShader: function() {
                    null == Zd && lp(Zd = mp())
                },
                dispose: function() {
                    Xd.dispose(), null != Jd && Jd.dispose(), null != Zd && Zd.dispose();
                    for (var e = 0; e < Kd.length; e++) Kd[e].dispose()
                }
            };
            var xp = 0,
                wp = 1;

            function _p(e) {
                return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."), e
            }

            function Mp(e) {
                return void 0 === e && (e = []), console.warn("THREE.MultiMaterial has been removed. Use an Array instead."), e.isMultiMaterial = !0, e.materials = e, e.clone = function() {
                    return e.slice()
                }, e
            }

            function Tp(e, t) {
                return console.warn("THREE.PointCloud has been renamed to THREE.Points."), new fc(e, t)
            }

            function Sp(e) {
                return console.warn("THREE.Particle has been renamed to THREE.Sprite."), new Fs(e)
            }

            function Ep(e, t) {
                return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."), new fc(e, t)
            }

            function Ap(e) {
                return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."), new lc(e)
            }

            function Pp(e) {
                return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."), new lc(e)
            }

            function Lp(e) {
                return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."), new lc(e)
            }

            function Cp(e, t, n) {
                return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."), new Fn(e, t, n)
            }

            function Rp(e, t) {
                return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."), new lr(e, t).setUsage(pn)
            }

            function Op(e, t) {
                return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."), new ur(e, t)
            }

            function Dp(e, t) {
                return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."), new hr(e, t)
            }

            function Ip(e, t) {
                return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."), new dr(e, t)
            }

            function jp(e, t) {
                return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."), new pr(e, t)
            }

            function kp(e, t) {
                return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."), new fr(e, t)
            }

            function Fp(e, t) {
                return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."), new mr(e, t)
            }

            function Np(e, t) {
                return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."), new vr(e, t)
            }

            function zp(e, t) {
                return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."), new gr(e, t)
            }

            function Bp(e, t) {
                return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."), new yr(e, t)
            }

            function Up(e) {
                console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."), Su.call(this, e), this.type = "catmullrom", this.closed = !0
            }

            function Vp(e) {
                console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."), Su.call(this, e), this.type = "catmullrom"
            }

            function Hp(e) {
                console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."), Su.call(this, e), this.type = "catmullrom"
            }

            function Gp(e) {
                return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."), new Nd(e)
            }

            function Wp(e, t) {
                return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."), new Rd(e, t)
            }

            function qp(e, t) {
                return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."), new sc(new Sl(e.geometry), new Qs({
                    color: void 0 !== t ? t : 16777215
                }))
            }

            function Yp(e, t) {
                return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."), new sc(new xc(e.geometry), new Qs({
                    color: void 0 !== t ? t : 16777215
                }))
            }

            function Xp(e) {
                return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."), new uu(e)
            }

            function Zp(e) {
                return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."), new pu(e)
            }

            function Jp(e, t, n) {
                return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."), new lo(e, n)
            }
            gu.create = function(e, t) {
                return console.log("THREE.Curve.create() has been deprecated"), e.prototype = Object.create(gu.prototype), e.prototype.constructor = e, e.prototype.getPoint = t, e
            }, Object.assign(Fu.prototype, {
                createPointsGeometry: function(e) {
                    console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
                    var t = this.getPoints(e);
                    return this.createGeometry(t)
                },
                createSpacedPointsGeometry: function(e) {
                    console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
                    var t = this.getSpacedPoints(e);
                    return this.createGeometry(t)
                },
                createGeometry: function(e) {
                    console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
                    for (var t = new $r, n = 0, i = e.length; n < i; n++) {
                        var r = e[n];
                        t.vertices.push(new Fn(r.x, r.y, r.z || 0))
                    }
                    return t
                }
            }), Object.assign(Nu.prototype, {
                fromPoints: function(e) {
                    return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."), this.setFromPoints(e)
                }
            }), Up.prototype = Object.create(Su.prototype), Vp.prototype = Object.create(Su.prototype), Hp.prototype = Object.create(Su.prototype), Object.assign(Hp.prototype, {
                initFromArray: function() {
                    console.error("THREE.Spline: .initFromArray() has been removed.")
                },
                getControlPointsArray: function() {
                    console.error("THREE.Spline: .getControlPointsArray() has been removed.")
                },
                reparametrizeByArcLength: function() {
                    console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")
                }
            }), xd.prototype.setColors = function() {
                console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")
            }, fd.prototype.update = function() {
                console.error("THREE.SkeletonHelper: update() no longer needs to be called.")
            }, Object.assign(cu.prototype, {
                extractUrlBase: function(e) {
                    return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."), $u.extractUrlBase(e)
                }
            }), cu.Handlers = {
                add: function() {
                    console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")
                },
                get: function() {
                    console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")
                }
            }, Object.assign(rh.prototype, {
                setTexturePath: function(e) {
                    return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."), this.setResourcePath(e)
                }
            }), Object.assign(rd.prototype, {
                center: function(e) {
                    return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."), this.getCenter(e)
                },
                empty: function() {
                    return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."), this.isEmpty()
                },
                isIntersectionBox: function(e) {
                    return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(e)
                },
                size: function(e) {
                    return console.warn("THREE.Box2: .size() has been renamed to .getSize()."), this.getSize(e)
                }
            }), Object.assign(Ti.prototype, {
                center: function(e) {
                    return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."), this.getCenter(e)
                },
                empty: function() {
                    return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."), this.isEmpty()
                },
                isIntersectionBox: function(e) {
                    return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(e)
                },
                isIntersectionSphere: function(e) {
                    return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."), this.intersectsSphere(e)
                },
                size: function(e) {
                    return console.warn("THREE.Box3: .size() has been renamed to .getSize()."), this.getSize(e)
                }
            }), fo.prototype.setFromMatrix = function(e) {
                return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."), this.setFromProjectionMatrix(e)
            }, sd.prototype.center = function(e) {
                return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."), this.getCenter(e)
            }, Object.assign(Sn, {
                random16: function() {
                    return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."), Math.random()
                },
                nearestPowerOfTwo: function(e) {
                    return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."), Sn.floorPowerOfTwo(e)
                },
                nextPowerOfTwo: function(e) {
                    return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."), Sn.ceilPowerOfTwo(e)
                }
            }), Object.assign(An.prototype, {
                flattenToArrayOffset: function(e, t) {
                    return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."), this.toArray(e, t)
                },
                multiplyVector3: function(e) {
                    return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."), e.applyMatrix3(this)
                },
                multiplyVector3Array: function() {
                    console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")
                },
                applyToBufferAttribute: function(e) {
                    return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."), e.applyMatrix3(this)
                },
                applyToVector3Array: function() {
                    console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")
                }
            }), Object.assign(Wn.prototype, {
                extractPosition: function(e) {
                    return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."), this.copyPosition(e)
                },
                flattenToArrayOffset: function(e, t) {
                    return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."), this.toArray(e, t)
                },
                getPosition: function() {
                    return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."), (new Fn).setFromMatrixColumn(this, 3)
                },
                setRotationFromQuaternion: function(e) {
                    return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."), this.makeRotationFromQuaternion(e)
                },
                multiplyToArray: function() {
                    console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")
                },
                multiplyVector3: function(e) {
                    return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."), e.applyMatrix4(this)
                },
                multiplyVector4: function(e) {
                    return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."), e.applyMatrix4(this)
                },
                multiplyVector3Array: function() {
                    console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")
                },
                rotateAxis: function(e) {
                    console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."), e.transformDirection(this)
                },
                crossVector: function(e) {
                    return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."), e.applyMatrix4(this)
                },
                translate: function() {
                    console.error("THREE.Matrix4: .translate() has been removed.")
                },
                rotateX: function() {
                    console.error("THREE.Matrix4: .rotateX() has been removed.")
                },
                rotateY: function() {
                    console.error("THREE.Matrix4: .rotateY() has been removed.")
                },
                rotateZ: function() {
                    console.error("THREE.Matrix4: .rotateZ() has been removed.")
                },
                rotateByAxis: function() {
                    console.error("THREE.Matrix4: .rotateByAxis() has been removed.")
                },
                applyToBufferAttribute: function(e) {
                    return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."), e.applyMatrix4(this)
                },
                applyToVector3Array: function() {
                    console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")
                },
                makeFrustum: function(e, t, n, i, r, o) {
                    return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."), this.makePerspective(e, t, i, n, r, o)
                }
            }), zi.prototype.isIntersectionLine = function(e) {
                return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."), this.intersectsLine(e)
            }, In.prototype.multiplyVector3 = function(e) {
                return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."), e.applyQuaternion(this)
            }, Object.assign(ji.prototype, {
                isIntersectionBox: function(e) {
                    return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(e)
                },
                isIntersectionPlane: function(e) {
                    return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."), this.intersectsPlane(e)
                },
                isIntersectionSphere: function(e) {
                    return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."), this.intersectsSphere(e)
                }
            }), Object.assign(Ji.prototype, {
                area: function() {
                    return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."), this.getArea()
                },
                barycoordFromPoint: function(e, t) {
                    return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."), this.getBarycoord(e, t)
                },
                midpoint: function(e) {
                    return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."), this.getMidpoint(e)
                },
                normal: function(e) {
                    return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."), this.getNormal(e)
                },
                plane: function(e) {
                    return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."), this.getPlane(e)
                }
            }), Object.assign(Ji, {
                barycoordFromPoint: function(e, t, n, i, r) {
                    return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."), Ji.getBarycoord(e, t, n, i, r)
                },
                normal: function(e, t, n, i) {
                    return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."), Ji.getNormal(e, t, n, i)
                }
            }), Object.assign(zu.prototype, {
                extractAllPoints: function(e) {
                    return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."), this.extractPoints(e)
                },
                extrude: function(e) {
                    return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."), new ul(this, e)
                },
                makeGeometry: function(e) {
                    return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."), new _l(this, e)
                }
            }), Object.assign(En.prototype, {
                fromAttribute: function(e, t, n) {
                    return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."), this.fromBufferAttribute(e, t, n)
                },
                distanceToManhattan: function(e) {
                    return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."), this.manhattanDistanceTo(e)
                },
                lengthManhattan: function() {
                    return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."), this.manhattanLength()
                }
            }), Object.assign(Fn.prototype, {
                setEulerFromRotationMatrix: function() {
                    console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")
                },
                setEulerFromQuaternion: function() {
                    console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")
                },
                getPositionFromMatrix: function(e) {
                    return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."), this.setFromMatrixPosition(e)
                },
                getScaleFromMatrix: function(e) {
                    return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."), this.setFromMatrixScale(e)
                },
                getColumnFromMatrix: function(e, t) {
                    return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."), this.setFromMatrixColumn(t, e)
                },
                applyProjection: function(e) {
                    return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."), this.applyMatrix4(e)
                },
                fromAttribute: function(e, t, n) {
                    return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."), this.fromBufferAttribute(e, t, n)
                },
                distanceToManhattan: function(e) {
                    return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."), this.manhattanDistanceTo(e)
                },
                lengthManhattan: function() {
                    return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."), this.manhattanLength()
                }
            }), Object.assign(Rn.prototype, {
                fromAttribute: function(e, t, n) {
                    return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."), this.fromBufferAttribute(e, t, n)
                },
                lengthManhattan: function() {
                    return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."), this.manhattanLength()
                }
            }), Object.assign($r.prototype, {
                computeTangents: function() {
                    console.error("THREE.Geometry: .computeTangents() has been removed.")
                },
                computeLineDistances: function() {
                    console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")
                },
                applyMatrix: function(e) {
                    return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."), this.applyMatrix4(e)
                }
            }), Object.assign(li.prototype, {
                getChildByName: function(e) {
                    return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."), this.getObjectByName(e)
                },
                renderDepth: function() {
                    console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")
                },
                translate: function(e, t) {
                    return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."), this.translateOnAxis(t, e)
                },
                getWorldRotation: function() {
                    console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")
                },
                applyMatrix: function(e) {
                    return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."), this.applyMatrix4(e)
                }
            }), Object.defineProperties(li.prototype, {
                eulerOrder: {
                    get: function() {
                        return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."), this.rotation.order
                    },
                    set: function(e) {
                        console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."), this.rotation.order = e
                    }
                },
                useQuaternion: {
                    get: function() {
                        console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
                    },
                    set: function() {
                        console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
                    }
                }
            }), Object.assign(qr.prototype, {
                setDrawMode: function() {
                    console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")
                }
            }), Object.defineProperties(qr.prototype, {
                drawMode: {
                    get: function() {
                        return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."), It
                    },
                    set: function() {
                        console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")
                    }
                }
            }), Object.defineProperties(Us.prototype, {
                objects: {
                    get: function() {
                        return console.warn("THREE.LOD: .objects has been renamed to .levels."), this.levels
                    }
                }
            }), Object.defineProperty(Ws.prototype, "useVertexTexture", {
                get: function() {
                    console.warn("THREE.Skeleton: useVertexTexture has been removed.")
                },
                set: function() {
                    console.warn("THREE.Skeleton: useVertexTexture has been removed.")
                }
            }), Vs.prototype.initBones = function() {
                console.error("THREE.SkinnedMesh: initBones() has been removed.")
            }, Object.defineProperty(gu.prototype, "__arcLengthDivisions", {
                get: function() {
                    return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."), this.arcLengthDivisions
                },
                set: function(e) {
                    console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."), this.arcLengthDivisions = e
                }
            }), so.prototype.setLens = function(e, t) {
                console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."), void 0 !== t && (this.filmGauge = t), this.setFocalLength(e)
            }, Object.defineProperties(Bu.prototype, {
                onlyShadow: {
                    set: function() {
                        console.warn("THREE.Light: .onlyShadow has been removed.")
                    }
                },
                shadowCameraFov: {
                    set: function(e) {
                        console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."), this.shadow.camera.fov = e
                    }
                },
                shadowCameraLeft: {
                    set: function(e) {
                        console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."), this.shadow.camera.left = e
                    }
                },
                shadowCameraRight: {
                    set: function(e) {
                        console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."), this.shadow.camera.right = e
                    }
                },
                shadowCameraTop: {
                    set: function(e) {
                        console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."), this.shadow.camera.top = e
                    }
                },
                shadowCameraBottom: {
                    set: function(e) {
                        console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."), this.shadow.camera.bottom = e
                    }
                },
                shadowCameraNear: {
                    set: function(e) {
                        console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."), this.shadow.camera.near = e
                    }
                },
                shadowCameraFar: {
                    set: function(e) {
                        console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."), this.shadow.camera.far = e
                    }
                },
                shadowCameraVisible: {
                    set: function() {
                        console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")
                    }
                },
                shadowBias: {
                    set: function(e) {
                        console.warn("THREE.Light: .shadowBias is now .shadow.bias."), this.shadow.bias = e
                    }
                },
                shadowDarkness: {
                    set: function() {
                        console.warn("THREE.Light: .shadowDarkness has been removed.")
                    }
                },
                shadowMapWidth: {
                    set: function(e) {
                        console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."), this.shadow.mapSize.width = e
                    }
                },
                shadowMapHeight: {
                    set: function(e) {
                        console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."), this.shadow.mapSize.height = e
                    }
                }
            }), Object.defineProperties(lr.prototype, {
                length: {
                    get: function() {
                        return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."), this.array.length
                    }
                },
                dynamic: {
                    get: function() {
                        return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."), this.usage === pn
                    },
                    set: function() {
                        console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."), this.setUsage(pn)
                    }
                }
            }), Object.assign(lr.prototype, {
                setDynamic: function(e) {
                    return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."), this.setUsage(!0 === e ? pn : dn), this
                },
                copyIndicesArray: function() {
                    console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")
                },
                setArray: function() {
                    console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")
                }
            }), Object.assign(Pr.prototype, {
                addIndex: function(e) {
                    console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."), this.setIndex(e)
                },
                addAttribute: function(e, t) {
                    return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."), t && t.isBufferAttribute || t && t.isInterleavedBufferAttribute ? "index" === e ? (console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."), this.setIndex(t), this) : this.setAttribute(e, t) : (console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."), this.setAttribute(e, new lr(arguments[1], arguments[2])))
                },
                addDrawCall: function(e, t, n) {
                    void 0 !== n && console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."), console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."), this.addGroup(e, t)
                },
                clearDrawCalls: function() {
                    console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."), this.clearGroups()
                },
                computeTangents: function() {
                    console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")
                },
                computeOffsets: function() {
                    console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")
                },
                removeAttribute: function(e) {
                    return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."), this.deleteAttribute(e)
                },
                applyMatrix: function(e) {
                    return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."), this.applyMatrix4(e)
                }
            }), Object.defineProperties(Pr.prototype, {
                drawcalls: {
                    get: function() {
                        return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."), this.groups
                    }
                },
                offsets: {
                    get: function() {
                        return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."), this.groups
                    }
                }
            }), Object.defineProperties(xs.prototype, {
                dynamic: {
                    get: function() {
                        return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."), this.usage === pn
                    },
                    set: function(e) {
                        console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."), this.setUsage(e)
                    }
                }
            }), Object.assign(xs.prototype, {
                setDynamic: function(e) {
                    return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."), this.setUsage(!0 === e ? pn : dn), this
                },
                setArray: function() {
                    console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")
                }
            }), Object.assign(hl.prototype, {
                getArrays: function() {
                    console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")
                },
                addShapeList: function() {
                    console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")
                },
                addShape: function() {
                    console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")
                }
            }), Object.defineProperties(Jh.prototype, {
                dynamic: {
                    set: function() {
                        console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")
                    }
                },
                onUpdate: {
                    value: function() {
                        return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."), this
                    }
                }
            }), Object.defineProperties(ar.prototype, {
                wrapAround: {
                    get: function() {
                        console.warn("THREE.Material: .wrapAround has been removed.")
                    },
                    set: function() {
                        console.warn("THREE.Material: .wrapAround has been removed.")
                    }
                },
                overdraw: {
                    get: function() {
                        console.warn("THREE.Material: .overdraw has been removed.")
                    },
                    set: function() {
                        console.warn("THREE.Material: .overdraw has been removed.")
                    }
                },
                wrapRGB: {
                    get: function() {
                        return console.warn("THREE.Material: .wrapRGB has been removed."), new er
                    }
                },
                shading: {
                    get: function() {
                        console.error("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead.")
                    },
                    set: function(e) {
                        console.warn("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead."), this.flatShading = e === b
                    }
                },
                stencilMask: {
                    get: function() {
                        return console.warn("THREE." + this.type + ": .stencilMask has been removed. Use .stencilFuncMask instead."), this.stencilFuncMask
                    },
                    set: function(e) {
                        console.warn("THREE." + this.type + ": .stencilMask has been removed. Use .stencilFuncMask instead."), this.stencilFuncMask = e
                    }
                }
            }), Object.defineProperties(Fl.prototype, {
                metal: {
                    get: function() {
                        return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."), !1
                    },
                    set: function() {
                        console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")
                    }
                }
            }), Object.defineProperties(oo.prototype, {
                derivatives: {
                    get: function() {
                        return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."), this.extensions.derivatives
                    },
                    set: function(e) {
                        console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."), this.extensions.derivatives = e
                    }
                }
            }), Object.assign(gs.prototype, {
                clearTarget: function(e, t, n, i) {
                    console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."), this.setRenderTarget(e), this.clear(t, n, i)
                },
                animate: function(e) {
                    console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."), this.setAnimationLoop(e)
                },
                getCurrentRenderTarget: function() {
                    return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."), this.getRenderTarget()
                },
                getMaxAnisotropy: function() {
                    return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."), this.capabilities.getMaxAnisotropy()
                },
                getPrecision: function() {
                    return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."), this.capabilities.precision
                },
                resetGLState: function() {
                    return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."), this.state.reset()
                },
                supportsFloatTextures: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."), this.extensions.get("OES_texture_float")
                },
                supportsHalfFloatTextures: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."), this.extensions.get("OES_texture_half_float")
                },
                supportsStandardDerivatives: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."), this.extensions.get("OES_standard_derivatives")
                },
                supportsCompressedTextureS3TC: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."), this.extensions.get("WEBGL_compressed_texture_s3tc")
                },
                supportsCompressedTexturePVRTC: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."), this.extensions.get("WEBGL_compressed_texture_pvrtc")
                },
                supportsBlendMinMax: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."), this.extensions.get("EXT_blend_minmax")
                },
                supportsVertexTextures: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."), this.capabilities.vertexTextures
                },
                supportsInstancedArrays: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."), this.extensions.get("ANGLE_instanced_arrays")
                },
                enableScissorTest: function(e) {
                    console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."), this.setScissorTest(e)
                },
                initMaterial: function() {
                    console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")
                },
                addPrePlugin: function() {
                    console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")
                },
                addPostPlugin: function() {
                    console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")
                },
                updateShadowMap: function() {
                    console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")
                },
                setFaceCulling: function() {
                    console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")
                },
                allocTextureUnit: function() {
                    console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")
                },
                setTexture: function() {
                    console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")
                },
                setTexture2D: function() {
                    console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")
                },
                setTextureCube: function() {
                    console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")
                },
                getActiveMipMapLevel: function() {
                    return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."), this.getActiveMipmapLevel()
                }
            }), Object.defineProperties(gs.prototype, {
                shadowMapEnabled: {
                    get: function() {
                        return this.shadowMap.enabled
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."), this.shadowMap.enabled = e
                    }
                },
                shadowMapType: {
                    get: function() {
                        return this.shadowMap.type
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."), this.shadowMap.type = e
                    }
                },
                shadowMapCullFace: {
                    get: function() {
                        console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")
                    },
                    set: function() {
                        console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")
                    }
                },
                context: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."), this.getContext()
                    }
                },
                vr: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"), this.xr
                    }
                },
                gammaInput: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."), !1
                    },
                    set: function() {
                        console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")
                    }
                },
                gammaOutput: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."), !1
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."), this.outputEncoding = !0 === e ? Nt : Ft
                    }
                }
            }), Object.defineProperties(cs.prototype, {
                cullFace: {
                    get: function() {
                        console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")
                    },
                    set: function() {
                        console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")
                    }
                },
                renderReverseSided: {
                    get: function() {
                        console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")
                    },
                    set: function() {
                        console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")
                    }
                },
                renderSingleSided: {
                    get: function() {
                        console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")
                    },
                    set: function() {
                        console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")
                    }
                }
            }), Object.defineProperties(On.prototype, {
                wrapS: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."), this.texture.wrapS
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."), this.texture.wrapS = e
                    }
                },
                wrapT: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."), this.texture.wrapT
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."), this.texture.wrapT = e
                    }
                },
                magFilter: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."), this.texture.magFilter
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."), this.texture.magFilter = e
                    }
                },
                minFilter: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."), this.texture.minFilter
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."), this.texture.minFilter = e
                    }
                },
                anisotropy: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."), this.texture.anisotropy
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."), this.texture.anisotropy = e
                    }
                },
                offset: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."), this.texture.offset
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."), this.texture.offset = e
                    }
                },
                repeat: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."), this.texture.repeat
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."), this.texture.repeat = e
                    }
                },
                format: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."), this.texture.format
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."), this.texture.format = e
                    }
                },
                type: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."), this.texture.type
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."), this.texture.type = e
                    }
                },
                generateMipmaps: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."), this.texture.generateMipmaps
                    },
                    set: function(e) {
                        console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."), this.texture.generateMipmaps = e
                    }
                }
            }), Object.defineProperties(Lh.prototype, {
                load: {
                    value: function(e) {
                        console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");
                        var t = this;
                        return (new mh).load(e, (function(e) {
                            t.setBuffer(e)
                        })), this
                    }
                },
                startTime: {
                    set: function() {
                        console.warn("THREE.Audio: .startTime is now .play( delay ).")
                    }
                }
            }), jh.prototype.getData = function() {
                return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."), this.getFrequencyData()
            }, co.prototype.updateCubeMap = function(e, t) {
                return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."), this.update(e, t)
            };
            var Kp = {
                merge: function(e, t, n) {
                    var i;
                    console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."), t.isMesh && (t.matrixAutoUpdate && t.updateMatrix(), i = t.matrix, t = t.geometry), e.merge(t, i, n)
                },
                center: function(e) {
                    return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."), e.center()
                }
            };

            function Qp() {
                console.error("THREE.CanvasRenderer has been removed")
            }

            function $p() {
                console.error("THREE.JSONLoader has been removed.")
            }
            Pn.crossOrigin = void 0, Pn.loadTexture = function(e, t, n, i) {
                console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");
                var r = new vu;
                r.setCrossOrigin(this.crossOrigin);
                var o = r.load(e, n, void 0, i);
                return t && (o.mapping = t), o
            }, Pn.loadTextureCube = function(e, t, n, i) {
                console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");
                var r = new mu;
                r.setCrossOrigin(this.crossOrigin);
                var o = r.load(e, n, void 0, i);
                return t && (o.mapping = t), o
            }, Pn.loadCompressedTexture = function() {
                console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")
            }, Pn.loadCompressedTextureCube = function() {
                console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")
            };
            var ef = {
                createMultiMaterialObject: function() {
                    console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")
                },
                detach: function() {
                    console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")
                },
                attach: function() {
                    console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")
                }
            };

            function tf() {
                console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")
            }
            "undefined" != typeof __THREE_DEVTOOLS__ && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register", {
                detail: {
                    revision: i
                }
            }))
        }.call(this, n(0))
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "F", (function() {
            return i
        })), n.d(t, "Q", (function() {
            return r
        })), n.d(t, "u", (function() {
            return o
        })), n.d(t, "M", (function() {
            return a
        })), n.d(t, "J", (function() {
            return s
        })), n.d(t, "a", (function() {
            return c
        })), n.d(t, "K", (function() {
            return l
        })), n.d(t, "L", (function() {
            return u
        })), n.d(t, "N", (function() {
            return h
        })), n.d(t, "n", (function() {
            return d
        })), n.d(t, "o", (function() {
            return p
        })), n.d(t, "m", (function() {
            return f
        })), n.d(t, "w", (function() {
            return m
        })), n.d(t, "v", (function() {
            return v
        })), n.d(t, "d", (function() {
            return g
        })), n.d(t, "s", (function() {
            return y
        })), n.d(t, "t", (function() {
            return b
        })), n.d(t, "I", (function() {
            return x
        })), n.d(t, "x", (function() {
            return w
        })), n.d(t, "q", (function() {
            return _
        })), n.d(t, "p", (function() {
            return M
        })), n.d(t, "r", (function() {
            return T
        })), n.d(t, "O", (function() {
            return S
        })), n.d(t, "l", (function() {
            return E
        })), n.d(t, "D", (function() {
            return A
        })), n.d(t, "E", (function() {
            return P
        })), n.d(t, "y", (function() {
            return L
        })), n.d(t, "z", (function() {
            return C
        })), n.d(t, "b", (function() {
            return R
        })), n.d(t, "c", (function() {
            return O
        })), n.d(t, "C", (function() {
            return D
        })), n.d(t, "B", (function() {
            return I
        })), n.d(t, "A", (function() {
            return j
        })), n.d(t, "P", (function() {
            return k
        })), n.d(t, "j", (function() {
            return F
        })), n.d(t, "k", (function() {
            return N
        })), n.d(t, "i", (function() {
            return z
        })), n.d(t, "g", (function() {
            return B
        })), n.d(t, "f", (function() {
            return U
        })), n.d(t, "e", (function() {
            return V
        })), n.d(t, "h", (function() {
            return H
        })), n.d(t, "H", (function() {
            return G
        })), n.d(t, "G", (function() {
            return W
        }));
        var i = "RAF",
            r = "WINDOW_RESIZE",
            o = "MOUSE_MOVE",
            a = "START_SCENE",
            s = "SCROLL",
            c = "BACK_ON_ROAD",
            l = "SIDEBAR_MOUSEENTER",
            u = "SIDEBAR_MOUSELEAVE",
            h = "SWITCH_VIEW",
            d = "GO_TO_PROJECT",
            p = "GO_TO_PROJECT_FROM_MENU",
            f = "GO_TO_MENU_FROM_PROJECT",
            m = "OVERLAY_TRANSITION",
            v = "OVERLAY_INTRO_OUT",
            g = "CLICK_INTRO_BUTTON",
            y = "MOUSE_ENTER_LIST",
            b = "MOUSE_LEAVE_LIST",
            x = "ROAD_TYPE",
            w = "OVERVIEW_TYPE",
            _ = "LISTVIEW_TYPE",
            M = "INTRO_TYPE",
            T = "MOBILE_BREAKPOINT",
            S = "TABLET_BREAKPOINT",
            E = "DESKTOP_BREAKPOINT",
            A = 16,
            P = 3,
            L = new e.PlaneBufferGeometry(1, 1),
            C = new e.MeshBasicMaterial({
                color: 16711680,
                visible: !1
            }),
            R = new e.CircleGeometry(1, 60),
            O = new e.MeshBasicMaterial({
                color: 0,
                visible: !1
            }),
            D = .5,
            I = .75,
            j = 1,
            k = 3.1,
            F = 1,
            N = 1.4,
            z = 1,
            B = [{
                r: 116,
                g: 156,
                b: 255
            }, {
                r: 98,
                g: 139,
                b: 255
            }],
            U = [{
                r: 245,
                g: 181,
                b: 158
            }, {
                r: 245,
                g: 198,
                b: 178
            }],
            V = [{
                r: 98,
                g: 203,
                b: 98
            }, {
                r: 105,
                g: 220,
                b: 128
            }],
            H = 4408131,
            G = 1e3,
            W = 1010
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";

    function i(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function r(e, t) {
        e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t
    }
    /*!
     * GSAP 3.6.1
     * https://greensock.com
     *
     * @license Copyright 2008-2021, GreenSock. All rights reserved.
     * Subject to the terms at https://greensock.com/standard-license or for
     * Club GreenSock members, the agreement issued with that membership.
     * @author: Jack Doyle, jack@greensock.com
     */
    n.d(t, "a", (function() {
        return Bt
    })), n.d(t, "b", (function() {
        return dn
    })), n.d(t, "A", (function() {
        return vn
    })), n.d(t, "d", (function() {
        return Kt
    })), n.d(t, "c", (function() {
        return Vt
    })), n.d(t, "y", (function() {
        return vn
    })), n.d(t, "z", (function() {
        return nt
    })), n.d(t, "k", (function() {
        return _e
    })), n.d(t, "p", (function() {
        return $
    })), n.d(t, "q", (function() {
        return ee
    })), n.d(t, "m", (function() {
        return V
    })), n.d(t, "n", (function() {
        return W
    })), n.d(t, "t", (function() {
        return an
    })), n.d(t, "s", (function() {
        return ne
    })), n.d(t, "i", (function() {
        return Me
    })), n.d(t, "w", (function() {
        return hn
    })), n.d(t, "g", (function() {
        return Et
    })), n.d(t, "u", (function() {
        return pt
    })), n.d(t, "e", (function() {
        return qt
    })), n.d(t, "r", (function() {
        return me
    })), n.d(t, "x", (function() {
        return At
    })), n.d(t, "h", (function() {
        return D
    })), n.d(t, "v", (function() {
        return Te
    })), n.d(t, "o", (function() {
        return ce
    })), n.d(t, "l", (function() {
        return nn
    })), n.d(t, "j", (function() {
        return we
    })), n.d(t, "f", (function() {
        return Tt
    }));
    var o, a, s, c, l, u, h, d, p, f, m, v, g, y, b, x, w, _, M, T, S, E, A, P, L, C, R, O, D = {
            autoSleep: 120,
            force3D: "auto",
            nullTargetWarn: 1,
            units: {
                lineHeight: ""
            }
        },
        I = {
            duration: .5,
            overwrite: !1,
            delay: 0
        },
        j = 1e8,
        k = 2 * Math.PI,
        F = k / 4,
        N = 0,
        z = Math.sqrt,
        B = Math.cos,
        U = Math.sin,
        V = function(e) {
            return "string" == typeof e
        },
        H = function(e) {
            return "function" == typeof e
        },
        G = function(e) {
            return "number" == typeof e
        },
        W = function(e) {
            return void 0 === e
        },
        q = function(e) {
            return "object" == typeof e
        },
        Y = function(e) {
            return !1 !== e
        },
        X = function() {
            return "undefined" != typeof window
        },
        Z = function(e) {
            return H(e) || V(e)
        },
        J = "function" == typeof ArrayBuffer && ArrayBuffer.isView || function() {},
        K = Array.isArray,
        Q = /(?:-?\.?\d|\.)+/gi,
        $ = /[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,
        ee = /[-+=.]*\d+[.e-]*\d*[a-z%]*/g,
        te = /[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,
        ne = /[+-]=-?[.\d]+/,
        ie = /[#\-+.]*\b[a-z\d-=+%.]+/gi,
        re = /[\d.+\-=]+(?:e[-+]\d*)*/i,
        oe = {},
        ae = {},
        se = function(e) {
            return (ae = De(e, oe)) && vn
        },
        ce = function(e, t) {
            return console.warn("Invalid property", e, "set to", t, "Missing plugin? gsap.registerPlugin()")
        },
        le = function(e, t) {
            return !t && console.warn(e)
        },
        ue = function(e, t) {
            return e && (oe[e] = t) && ae && (ae[e] = t) || oe
        },
        he = function() {
            return 0
        },
        de = {},
        pe = [],
        fe = {},
        me = {},
        ve = {},
        ge = 30,
        ye = [],
        be = "",
        xe = function(e) {
            var t, n, i = e[0];
            if (q(i) || H(i) || (e = [e]), !(t = (i._gsap || {}).harness)) {
                for (n = ye.length; n-- && !ye[n].targetTest(i););
                t = ye[n]
            }
            for (n = e.length; n--;) e[n] && (e[n]._gsap || (e[n]._gsap = new Bt(e[n], t))) || e.splice(n, 1);
            return e
        },
        we = function(e) {
            return e._gsap || xe(at(e))[0]._gsap
        },
        _e = function(e, t, n) {
            return (n = e[t]) && H(n) ? e[t]() : W(n) && e.getAttribute && e.getAttribute(t) || n
        },
        Me = function(e, t) {
            return (e = e.split(",")).forEach(t) || e
        },
        Te = function(e) {
            return Math.round(1e5 * e) / 1e5 || 0
        },
        Se = function(e, t) {
            for (var n = t.length, i = 0; e.indexOf(t[i]) < 0 && ++i < n;);
            return i < n
        },
        Ee = function(e, t, n) {
            var i, r = G(e[1]),
                o = (r ? 2 : 1) + (t < 2 ? 0 : 1),
                a = e[o];
            if (r && (a.duration = e[1]), a.parent = n, t) {
                for (i = a; n && !("immediateRender" in i);) i = n.vars.defaults || {}, n = Y(n.vars.inherit) && n.parent;
                a.immediateRender = Y(i.immediateRender), t < 2 ? a.runBackwards = 1 : a.startAt = e[o - 1]
            }
            return a
        },
        Ae = function() {
            var e, t, n = pe.length,
                i = pe.slice(0);
            for (fe = {}, pe.length = 0, e = 0; e < n; e++)(t = i[e]) && t._lazy && (t.render(t._lazy[0], t._lazy[1], !0)._lazy = 0)
        },
        Pe = function(e, t, n, i) {
            pe.length && Ae(), e.render(t, n, i), pe.length && Ae()
        },
        Le = function(e) {
            var t = parseFloat(e);
            return (t || 0 === t) && (e + "").match(ie).length < 2 ? t : V(e) ? e.trim() : e
        },
        Ce = function(e) {
            return e
        },
        Re = function(e, t) {
            for (var n in t) n in e || (e[n] = t[n]);
            return e
        },
        Oe = function(e, t) {
            for (var n in t) n in e || "duration" === n || "ease" === n || (e[n] = t[n])
        },
        De = function(e, t) {
            for (var n in t) e[n] = t[n];
            return e
        },
        Ie = function e(t, n) {
            for (var i in n) "__proto__" !== i && "constructor" !== i && "prototype" !== i && (t[i] = q(n[i]) ? e(t[i] || (t[i] = {}), n[i]) : n[i]);
            return t
        },
        je = function(e, t) {
            var n, i = {};
            for (n in e) n in t || (i[n] = e[n]);
            return i
        },
        ke = function(e) {
            var t = e.parent || a,
                n = e.keyframes ? Oe : Re;
            if (Y(e.inherit))
                for (; t;) n(e, t.vars.defaults), t = t.parent || t._dp;
            return e
        },
        Fe = function(e, t, n, i) {
            void 0 === n && (n = "_first"), void 0 === i && (i = "_last");
            var r = t._prev,
                o = t._next;
            r ? r._next = o : e[n] === t && (e[n] = o), o ? o._prev = r : e[i] === t && (e[i] = r), t._next = t._prev = t.parent = null
        },
        Ne = function(e, t) {
            e.parent && (!t || e.parent.autoRemoveChildren) && e.parent.remove(e), e._act = 0
        },
        ze = function(e, t) {
            if (e && (!t || t._end > e._dur || t._start < 0))
                for (var n = e; n;) n._dirty = 1, n = n.parent;
            return e
        },
        Be = function(e) {
            for (var t = e.parent; t && t.parent;) t._dirty = 1, t.totalDuration(), t = t.parent;
            return e
        },
        Ue = function(e) {
            return e._repeat ? Ve(e._tTime, e = e.duration() + e._rDelay) * e : 0
        },
        Ve = function(e, t) {
            var n = Math.floor(e /= t);
            return e && n === e ? n - 1 : n
        },
        He = function(e, t) {
            return (e - t._start) * t._ts + (t._ts >= 0 ? 0 : t._dirty ? t.totalDuration() : t._tDur)
        },
        Ge = function(e) {
            return e._end = Te(e._start + (e._tDur / Math.abs(e._ts || e._rts || 1e-8) || 0))
        },
        We = function(e, t) {
            var n = e._dp;
            return n && n.smoothChildTiming && e._ts && (e._start = Te(n._time - (e._ts > 0 ? t / e._ts : ((e._dirty ? e.totalDuration() : e._tDur) - t) / -e._ts)), Ge(e), n._dirty || ze(n, e)), e
        },
        qe = function(e, t) {
            var n;
            if ((t._time || t._initted && !t._dur) && (n = He(e.rawTime(), t), (!t._dur || tt(0, t.totalDuration(), n) - t._tTime > 1e-8) && t.render(n, !0)), ze(e, t)._dp && e._initted && e._time >= e._dur && e._ts) {
                if (e._dur < e.duration())
                    for (n = e; n._dp;) n.rawTime() >= 0 && n.totalTime(n._tTime), n = n._dp;
                e._zTime = -1e-8
            }
        },
        Ye = function(e, t, n, i) {
            return t.parent && Ne(t), t._start = Te(n + t._delay), t._end = Te(t._start + (t.totalDuration() / Math.abs(t.timeScale()) || 0)),
                function(e, t, n, i, r) {
                    void 0 === n && (n = "_first"), void 0 === i && (i = "_last");
                    var o, a = e[i];
                    if (r)
                        for (o = t[r]; a && a[r] > o;) a = a._prev;
                    a ? (t._next = a._next, a._next = t) : (t._next = e[n], e[n] = t), t._next ? t._next._prev = t : e[i] = t, t._prev = a, t.parent = t._dp = e
                }(e, t, "_first", "_last", e._sort ? "_start" : 0), e._recent = t, i || qe(e, t), e
        },
        Xe = function(e, t) {
            return (oe.ScrollTrigger || ce("scrollTrigger", t)) && oe.ScrollTrigger.create(t, e)
        },
        Ze = function(e, t, n, i) {
            return Yt(e, t), e._initted ? !n && e._pt && (e._dur && !1 !== e.vars.lazy || !e._dur && e.vars.lazy) && h !== At.frame ? (pe.push(e), e._lazy = [t, i], 1) : void 0 : 1
        },
        Je = function(e, t, n, i) {
            var r = e._repeat,
                o = Te(t) || 0,
                a = e._tTime / e._tDur;
            return a && !i && (e._time *= o / e._dur), e._dur = o, e._tDur = r ? r < 0 ? 1e10 : Te(o * (r + 1) + e._rDelay * r) : o, a && !i ? We(e, e._tTime = e._tDur * a) : e.parent && Ge(e), n || ze(e.parent, e), e
        },
        Ke = function(e) {
            return e instanceof Vt ? ze(e) : Je(e, e._dur)
        },
        Qe = {
            _start: 0,
            endTime: he
        },
        $e = function e(t, n) {
            var i, r, o = t.labels,
                a = t._recent || Qe,
                s = t.duration() >= j ? a.endTime(!1) : t._dur;
            return V(n) && (isNaN(n) || n in o) ? "<" === (i = n.charAt(0)) || ">" === i ? ("<" === i ? a._start : a.endTime(a._repeat >= 0)) + (parseFloat(n.substr(1)) || 0) : (i = n.indexOf("=")) < 0 ? (n in o || (o[n] = s), o[n]) : (r = +(n.charAt(i - 1) + n.substr(i + 1)), i > 1 ? e(t, n.substr(0, i - 1)) + r : s + r) : null == n ? s : +n
        },
        et = function(e, t) {
            return e || 0 === e ? t(e) : t
        },
        tt = function(e, t, n) {
            return n < e ? e : n > t ? t : n
        },
        nt = function(e) {
            if ("string" != typeof e) return "";
            var t = re.exec(e);
            return t ? e.substr(t.index + t[0].length) : ""
        },
        it = [].slice,
        rt = function(e, t) {
            return e && q(e) && "length" in e && (!t && !e.length || e.length - 1 in e && q(e[0])) && !e.nodeType && e !== s
        },
        ot = function(e, t, n) {
            return void 0 === n && (n = []), e.forEach((function(e) {
                var i;
                return V(e) && !t || rt(e, 1) ? (i = n).push.apply(i, at(e)) : n.push(e)
            })) || n
        },
        at = function(e, t) {
            return !V(e) || t || !c && Pt() ? K(e) ? ot(e, t) : rt(e) ? it.call(e, 0) : e ? [e] : [] : it.call(l.querySelectorAll(e), 0)
        },
        st = function(e) {
            return e.sort((function() {
                return .5 - Math.random()
            }))
        },
        ct = function(e) {
            if (H(e)) return e;
            var t = q(e) ? e : {
                    each: e
                },
                n = jt(t.ease),
                i = t.from || 0,
                r = parseFloat(t.base) || 0,
                o = {},
                a = i > 0 && i < 1,
                s = isNaN(i) || a,
                c = t.axis,
                l = i,
                u = i;
            return V(i) ? l = u = {
                    center: .5,
                    edges: .5,
                    end: 1
                }[i] || 0 : !a && s && (l = i[0], u = i[1]),
                function(e, a, h) {
                    var d, p, f, m, v, g, y, b, x, w = (h || t).length,
                        _ = o[w];
                    if (!_) {
                        if (!(x = "auto" === t.grid ? 0 : (t.grid || [1, j])[1])) {
                            for (y = -j; y < (y = h[x++].getBoundingClientRect().left) && x < w;);
                            x--
                        }
                        for (_ = o[w] = [], d = s ? Math.min(x, w) * l - .5 : i % x, p = s ? w * u / x - .5 : i / x | 0, y = 0, b = j, g = 0; g < w; g++) f = g % x - d, m = p - (g / x | 0), _[g] = v = c ? Math.abs("y" === c ? m : f) : z(f * f + m * m), v > y && (y = v), v < b && (b = v);
                        "random" === i && st(_), _.max = y - b, _.min = b, _.v = w = (parseFloat(t.amount) || parseFloat(t.each) * (x > w ? w - 1 : c ? "y" === c ? w / x : x : Math.max(x, w / x)) || 0) * ("edges" === i ? -1 : 1), _.b = w < 0 ? r - w : r, _.u = nt(t.amount || t.each) || 0, n = n && w < 0 ? Dt(n) : n
                    }
                    return w = (_[e] - _.min) / _.max || 0, Te(_.b + (n ? n(w) : w) * _.v) + _.u
                }
        },
        lt = function(e) {
            var t = e < 1 ? Math.pow(10, (e + "").length - 2) : 1;
            return function(n) {
                var i = Math.round(parseFloat(n) / e) * e * t;
                return (i - i % 1) / t + (G(n) ? 0 : nt(n))
            }
        },
        ut = function(e, t) {
            var n, i, r = K(e);
            return !r && q(e) && (n = r = e.radius || j, e.values ? (e = at(e.values), (i = !G(e[0])) && (n *= n)) : e = lt(e.increment)), et(t, r ? H(e) ? function(t) {
                return i = e(t), Math.abs(i - t) <= n ? i : t
            } : function(t) {
                for (var r, o, a = parseFloat(i ? t.x : t), s = parseFloat(i ? t.y : 0), c = j, l = 0, u = e.length; u--;)(r = i ? (r = e[u].x - a) * r + (o = e[u].y - s) * o : Math.abs(e[u] - a)) < c && (c = r, l = u);
                return l = !n || c <= n ? e[l] : t, i || l === t || G(t) ? l : l + nt(t)
            } : lt(e))
        },
        ht = function(e, t, n, i) {
            return et(K(e) ? !t : !0 === n ? !!(n = 0) : !i, (function() {
                return K(e) ? e[~~(Math.random() * e.length)] : (n = n || 1e-5) && (i = n < 1 ? Math.pow(10, (n + "").length - 2) : 1) && Math.floor(Math.round((e - n / 2 + Math.random() * (t - e + .99 * n)) / n) * n * i) / i
            }))
        },
        dt = function(e, t, n) {
            return et(n, (function(n) {
                return e[~~t(n)]
            }))
        },
        pt = function(e) {
            for (var t, n, i, r, o = 0, a = ""; ~(t = e.indexOf("random(", o));) i = e.indexOf(")", t), r = "[" === e.charAt(t + 7), n = e.substr(t + 7, i - t - 7).match(r ? ie : Q), a += e.substr(o, t - o) + ht(r ? n : +n[0], r ? 0 : +n[1], +n[2] || 1e-5), o = i + 1;
            return a + e.substr(o, e.length - o)
        },
        ft = function(e, t, n, i, r) {
            var o = t - e,
                a = i - n;
            return et(r, (function(t) {
                return n + ((t - e) / o * a || 0)
            }))
        },
        mt = function(e, t, n) {
            var i, r, o, a = e.labels,
                s = j;
            for (i in a)(r = a[i] - t) < 0 == !!n && r && s > (r = Math.abs(r)) && (o = i, s = r);
            return o
        },
        vt = function(e, t, n) {
            var i, r, o = e.vars,
                a = o[t];
            if (a) return i = o[t + "Params"], r = o.callbackScope || e, n && pe.length && Ae(), i ? a.apply(r, i) : a.call(r)
        },
        gt = function(e) {
            return Ne(e), e.scrollTrigger && e.scrollTrigger.kill(!1), e.progress() < 1 && vt(e, "onInterrupt"), e
        },
        yt = function(e) {
            var t = (e = !e.name && e.default || e).name,
                n = H(e),
                i = t && !n && e.init ? function() {
                    this._props = []
                } : e,
                r = {
                    init: he,
                    render: sn,
                    add: Wt,
                    kill: ln,
                    modifier: cn,
                    rawVars: 0
                },
                o = {
                    targetTest: 0,
                    get: 0,
                    getSetter: nn,
                    aliases: {},
                    register: 0
                };
            if (Pt(), e !== i) {
                if (me[t]) return;
                Re(i, Re(je(e, r), o)), De(i.prototype, De(r, je(e, o))), me[i.prop = t] = i, e.targetTest && (ye.push(i), de[t] = 1), t = ("css" === t ? "CSS" : t.charAt(0).toUpperCase() + t.substr(1)) + "Plugin"
            }
            ue(t, i), e.register && e.register(vn, i, dn)
        },
        bt = {
            aqua: [0, 255, 255],
            lime: [0, 255, 0],
            silver: [192, 192, 192],
            black: [0, 0, 0],
            maroon: [128, 0, 0],
            teal: [0, 128, 128],
            blue: [0, 0, 255],
            navy: [0, 0, 128],
            white: [255, 255, 255],
            olive: [128, 128, 0],
            yellow: [255, 255, 0],
            orange: [255, 165, 0],
            gray: [128, 128, 128],
            purple: [128, 0, 128],
            green: [0, 128, 0],
            red: [255, 0, 0],
            pink: [255, 192, 203],
            cyan: [0, 255, 255],
            transparent: [255, 255, 255, 0]
        },
        xt = function(e, t, n) {
            return 255 * (6 * (e = e < 0 ? e + 1 : e > 1 ? e - 1 : e) < 1 ? t + (n - t) * e * 6 : e < .5 ? n : 3 * e < 2 ? t + (n - t) * (2 / 3 - e) * 6 : t) + .5 | 0
        },
        wt = function(e, t, n) {
            var i, r, o, a, s, c, l, u, h, d, p = e ? G(e) ? [e >> 16, e >> 8 & 255, 255 & e] : 0 : bt.black;
            if (!p) {
                if ("," === e.substr(-1) && (e = e.substr(0, e.length - 1)), bt[e]) p = bt[e];
                else if ("#" === e.charAt(0)) {
                    if (e.length < 6 && (i = e.charAt(1), r = e.charAt(2), o = e.charAt(3), e = "#" + i + i + r + r + o + o + (5 === e.length ? e.charAt(4) + e.charAt(4) : "")), 9 === e.length) return [(p = parseInt(e.substr(1, 6), 16)) >> 16, p >> 8 & 255, 255 & p, parseInt(e.substr(7), 16) / 255];
                    p = [(e = parseInt(e.substr(1), 16)) >> 16, e >> 8 & 255, 255 & e]
                } else if ("hsl" === e.substr(0, 3))
                    if (p = d = e.match(Q), t) {
                        if (~e.indexOf("=")) return p = e.match($), n && p.length < 4 && (p[3] = 1), p
                    } else a = +p[0] % 360 / 360, s = +p[1] / 100, i = 2 * (c = +p[2] / 100) - (r = c <= .5 ? c * (s + 1) : c + s - c * s), p.length > 3 && (p[3] *= 1), p[0] = xt(a + 1 / 3, i, r), p[1] = xt(a, i, r), p[2] = xt(a - 1 / 3, i, r);
                else p = e.match(Q) || bt.transparent;
                p = p.map(Number)
            }
            return t && !d && (i = p[0] / 255, r = p[1] / 255, o = p[2] / 255, c = ((l = Math.max(i, r, o)) + (u = Math.min(i, r, o))) / 2, l === u ? a = s = 0 : (h = l - u, s = c > .5 ? h / (2 - l - u) : h / (l + u), a = l === i ? (r - o) / h + (r < o ? 6 : 0) : l === r ? (o - i) / h + 2 : (i - r) / h + 4, a *= 60), p[0] = ~~(a + .5), p[1] = ~~(100 * s + .5), p[2] = ~~(100 * c + .5)), n && p.length < 4 && (p[3] = 1), p
        },
        _t = function(e) {
            var t = [],
                n = [],
                i = -1;
            return e.split(Tt).forEach((function(e) {
                var r = e.match(ee) || [];
                t.push.apply(t, r), n.push(i += r.length + 1)
            })), t.c = n, t
        },
        Mt = function(e, t, n) {
            var i, r, o, a, s = "",
                c = (e + s).match(Tt),
                l = t ? "hsla(" : "rgba(",
                u = 0;
            if (!c) return e;
            if (c = c.map((function(e) {
                    return (e = wt(e, t, 1)) && l + (t ? e[0] + "," + e[1] + "%," + e[2] + "%," + e[3] : e.join(",")) + ")"
                })), n && (o = _t(e), (i = n.c).join(s) !== o.c.join(s)))
                for (a = (r = e.replace(Tt, "1").split(ee)).length - 1; u < a; u++) s += r[u] + (~i.indexOf(u) ? c.shift() || l + "0,0,0,0)" : (o.length ? o : c.length ? c : n).shift());
            if (!r)
                for (a = (r = e.split(Tt)).length - 1; u < a; u++) s += r[u] + c[u];
            return s + r[a]
        },
        Tt = function() {
            var e, t = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";
            for (e in bt) t += "|" + e + "\\b";
            return new RegExp(t + ")", "gi")
        }(),
        St = /hsl[a]?\(/,
        Et = function(e) {
            var t, n = e.join(" ");
            if (Tt.lastIndex = 0, Tt.test(n)) return t = St.test(n), e[1] = Mt(e[1], t), e[0] = Mt(e[0], t, _t(e[1])), !0
        },
        At = (x = Date.now, w = 500, _ = 33, M = x(), T = M, E = S = 1e3 / 240, P = function e(t) {
            var n, i, r, o, a = x() - T,
                s = !0 === t;
            if (a > w && (M += a - _), ((n = (r = (T += a) - M) - E) > 0 || s) && (o = ++g.frame, y = r - 1e3 * g.time, g.time = r /= 1e3, E += n + (n >= S ? 4 : S - n), i = 1), s || (f = m(e)), i)
                for (b = 0; b < A.length; b++) A[b](r, y, o, t)
        }, g = {
            time: 0,
            frame: 0,
            tick: function() {
                P(!0)
            },
            deltaRatio: function(e) {
                return y / (1e3 / (e || 60))
            },
            wake: function() {
                u && (!c && X() && (s = c = window, l = s.document || {}, oe.gsap = vn, (s.gsapVersions || (s.gsapVersions = [])).push(vn.version), se(ae || s.GreenSockGlobals || !s.gsap && s || {}), v = s.requestAnimationFrame), f && g.sleep(), m = v || function(e) {
                    return setTimeout(e, E - 1e3 * g.time + 1 | 0)
                }, p = 1, P(2))
            },
            sleep: function() {
                (v ? s.cancelAnimationFrame : clearTimeout)(f), p = 0, m = he
            },
            lagSmoothing: function(e, t) {
                w = e || 1 / 1e-8, _ = Math.min(t, w, 0)
            },
            fps: function(e) {
                S = 1e3 / (e || 240), E = 1e3 * g.time + S
            },
            add: function(e) {
                A.indexOf(e) < 0 && A.push(e), Pt()
            },
            remove: function(e) {
                var t;
                ~(t = A.indexOf(e)) && A.splice(t, 1) && b >= t && b--
            },
            _listeners: A = []
        }),
        Pt = function() {
            return !p && At.wake()
        },
        Lt = {},
        Ct = /^[\d.\-M][\d.\-,\s]/,
        Rt = /["']/g,
        Ot = function(e) {
            for (var t, n, i, r = {}, o = e.substr(1, e.length - 3).split(":"), a = o[0], s = 1, c = o.length; s < c; s++) n = o[s], t = s !== c - 1 ? n.lastIndexOf(",") : n.length, i = n.substr(0, t), r[a] = isNaN(i) ? i.replace(Rt, "").trim() : +i, a = n.substr(t + 1).trim();
            return r
        },
        Dt = function(e) {
            return function(t) {
                return 1 - e(1 - t)
            }
        },
        It = function e(t, n) {
            for (var i, r = t._first; r;) r instanceof Vt ? e(r, n) : !r.vars.yoyoEase || r._yoyo && r._repeat || r._yoyo === n || (r.timeline ? e(r.timeline, n) : (i = r._ease, r._ease = r._yEase, r._yEase = i, r._yoyo = n)), r = r._next
        },
        jt = function(e, t) {
            return e && (H(e) ? e : Lt[e] || function(e) {
                var t, n, i, r, o = (e + "").split("("),
                    a = Lt[o[0]];
                return a && o.length > 1 && a.config ? a.config.apply(null, ~e.indexOf("{") ? [Ot(o[1])] : (t = e, n = t.indexOf("(") + 1, i = t.indexOf(")"), r = t.indexOf("(", n), t.substring(n, ~r && r < i ? t.indexOf(")", i + 1) : i)).split(",").map(Le)) : Lt._CE && Ct.test(e) ? Lt._CE("", e) : a
            }(e)) || t
        },
        kt = function(e, t, n, i) {
            void 0 === n && (n = function(e) {
                return 1 - t(1 - e)
            }), void 0 === i && (i = function(e) {
                return e < .5 ? t(2 * e) / 2 : 1 - t(2 * (1 - e)) / 2
            });
            var r, o = {
                easeIn: t,
                easeOut: n,
                easeInOut: i
            };
            return Me(e, (function(e) {
                for (var t in Lt[e] = oe[e] = o, Lt[r = e.toLowerCase()] = n, o) Lt[r + ("easeIn" === t ? ".in" : "easeOut" === t ? ".out" : ".inOut")] = Lt[e + "." + t] = o[t]
            })), o
        },
        Ft = function(e) {
            return function(t) {
                return t < .5 ? (1 - e(1 - 2 * t)) / 2 : .5 + e(2 * (t - .5)) / 2
            }
        },
        Nt = function e(t, n, i) {
            var r = n >= 1 ? n : 1,
                o = (i || (t ? .3 : .45)) / (n < 1 ? n : 1),
                a = o / k * (Math.asin(1 / r) || 0),
                s = function(e) {
                    return 1 === e ? 1 : r * Math.pow(2, -10 * e) * U((e - a) * o) + 1
                },
                c = "out" === t ? s : "in" === t ? function(e) {
                    return 1 - s(1 - e)
                } : Ft(s);
            return o = k / o, c.config = function(n, i) {
                return e(t, n, i)
            }, c
        },
        zt = function e(t, n) {
            void 0 === n && (n = 1.70158);
            var i = function(e) {
                    return e ? --e * e * ((n + 1) * e + n) + 1 : 0
                },
                r = "out" === t ? i : "in" === t ? function(e) {
                    return 1 - i(1 - e)
                } : Ft(i);
            return r.config = function(n) {
                return e(t, n)
            }, r
        };
    Me("Linear,Quad,Cubic,Quart,Quint,Strong", (function(e, t) {
        var n = t < 5 ? t + 1 : t;
        kt(e + ",Power" + (n - 1), t ? function(e) {
            return Math.pow(e, n)
        } : function(e) {
            return e
        }, (function(e) {
            return 1 - Math.pow(1 - e, n)
        }), (function(e) {
            return e < .5 ? Math.pow(2 * e, n) / 2 : 1 - Math.pow(2 * (1 - e), n) / 2
        }))
    })), Lt.Linear.easeNone = Lt.none = Lt.Linear.easeIn, kt("Elastic", Nt("in"), Nt("out"), Nt()), L = 7.5625, R = 1 / (C = 2.75), kt("Bounce", (function(e) {
        return 1 - O(1 - e)
    }), O = function(e) {
        return e < R ? L * e * e : e < .7272727272727273 ? L * Math.pow(e - 1.5 / C, 2) + .75 : e < .9090909090909092 ? L * (e -= 2.25 / C) * e + .9375 : L * Math.pow(e - 2.625 / C, 2) + .984375
    }), kt("Expo", (function(e) {
        return e ? Math.pow(2, 10 * (e - 1)) : 0
    })), kt("Circ", (function(e) {
        return -(z(1 - e * e) - 1)
    })), kt("Sine", (function(e) {
        return 1 === e ? 1 : 1 - B(e * F)
    })), kt("Back", zt("in"), zt("out"), zt()), Lt.SteppedEase = Lt.steps = oe.SteppedEase = {
        config: function(e, t) {
            void 0 === e && (e = 1);
            var n = 1 / e,
                i = e + (t ? 0 : 1),
                r = t ? 1 : 0;
            return function(e) {
                return ((i * tt(0, 1 - 1e-8, e) | 0) + r) * n
            }
        }
    }, I.ease = Lt["quad.out"], Me("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt", (function(e) {
        return be += e + "," + e + "Params,"
    }));
    var Bt = function(e, t) {
            this.id = N++, e._gsap = this, this.target = e, this.harness = t, this.get = t ? t.get : _e, this.set = t ? t.getSetter : nn
        },
        Ut = function() {
            function e(e, t) {
                var n = e.parent || a;
                this.vars = e, this._delay = +e.delay || 0, (this._repeat = e.repeat === 1 / 0 ? -2 : e.repeat || 0) && (this._rDelay = e.repeatDelay || 0, this._yoyo = !!e.yoyo || !!e.yoyoEase), this._ts = 1, Je(this, +e.duration, 1, 1), this.data = e.data, p || At.wake(), n && Ye(n, this, t || 0 === t ? t : n._time, 1), e.reversed && this.reverse(), e.paused && this.paused(!0)
            }
            var t = e.prototype;
            return t.delay = function(e) {
                return e || 0 === e ? (this.parent && this.parent.smoothChildTiming && this.startTime(this._start + e - this._delay), this._delay = e, this) : this._delay
            }, t.duration = function(e) {
                return arguments.length ? this.totalDuration(this._repeat > 0 ? e + (e + this._rDelay) * this._repeat : e) : this.totalDuration() && this._dur
            }, t.totalDuration = function(e) {
                return arguments.length ? (this._dirty = 0, Je(this, this._repeat < 0 ? e : (e - this._repeat * this._rDelay) / (this._repeat + 1))) : this._tDur
            }, t.totalTime = function(e, t) {
                if (Pt(), !arguments.length) return this._tTime;
                var n = this._dp;
                if (n && n.smoothChildTiming && this._ts) {
                    for (We(this, e), !n._dp || n.parent || qe(n, this); n.parent;) n.parent._time !== n._start + (n._ts >= 0 ? n._tTime / n._ts : (n.totalDuration() - n._tTime) / -n._ts) && n.totalTime(n._tTime, !0), n = n.parent;
                    !this.parent && this._dp.autoRemoveChildren && (this._ts > 0 && e < this._tDur || this._ts < 0 && e > 0 || !this._tDur && !e) && Ye(this._dp, this, this._start - this._delay)
                }
                return (this._tTime !== e || !this._dur && !t || this._initted && 1e-8 === Math.abs(this._zTime) || !e && !this._initted && (this.add || this._ptLookup)) && (this._ts || (this._pTime = e), Pe(this, e, t)), this
            }, t.time = function(e, t) {
                return arguments.length ? this.totalTime(Math.min(this.totalDuration(), e + Ue(this)) % this._dur || (e ? this._dur : 0), t) : this._time
            }, t.totalProgress = function(e, t) {
                return arguments.length ? this.totalTime(this.totalDuration() * e, t) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio
            }, t.progress = function(e, t) {
                return arguments.length ? this.totalTime(this.duration() * (!this._yoyo || 1 & this.iteration() ? e : 1 - e) + Ue(this), t) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio
            }, t.iteration = function(e, t) {
                var n = this.duration() + this._rDelay;
                return arguments.length ? this.totalTime(this._time + (e - 1) * n, t) : this._repeat ? Ve(this._tTime, n) + 1 : 1
            }, t.timeScale = function(e) {
                if (!arguments.length) return -1e-8 === this._rts ? 0 : this._rts;
                if (this._rts === e) return this;
                var t = this.parent && this._ts ? He(this.parent._time, this) : this._tTime;
                return this._rts = +e || 0, this._ts = this._ps || -1e-8 === e ? 0 : this._rts, Be(this.totalTime(tt(-this._delay, this._tDur, t), !0))
            }, t.paused = function(e) {
                return arguments.length ? (this._ps !== e && (this._ps = e, e ? (this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()), this._ts = this._act = 0) : (Pt(), this._ts = this._rts, this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, 1 === this.progress() && (this._tTime -= 1e-8) && 1e-8 !== Math.abs(this._zTime)))), this) : this._ps
            }, t.startTime = function(e) {
                if (arguments.length) {
                    this._start = e;
                    var t = this.parent || this._dp;
                    return t && (t._sort || !this.parent) && Ye(t, this, e - this._delay), this
                }
                return this._start
            }, t.endTime = function(e) {
                return this._start + (Y(e) ? this.totalDuration() : this.duration()) / Math.abs(this._ts)
            }, t.rawTime = function(e) {
                var t = this.parent || this._dp;
                return t ? e && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : this._ts ? He(t.rawTime(e), this) : this._tTime : this._tTime
            }, t.globalTime = function(e) {
                for (var t = this, n = arguments.length ? e : t.rawTime(); t;) n = t._start + n / (t._ts || 1), t = t._dp;
                return n
            }, t.repeat = function(e) {
                return arguments.length ? (this._repeat = e === 1 / 0 ? -2 : e, Ke(this)) : -2 === this._repeat ? 1 / 0 : this._repeat
            }, t.repeatDelay = function(e) {
                return arguments.length ? (this._rDelay = e, Ke(this)) : this._rDelay
            }, t.yoyo = function(e) {
                return arguments.length ? (this._yoyo = e, this) : this._yoyo
            }, t.seek = function(e, t) {
                return this.totalTime($e(this, e), Y(t))
            }, t.restart = function(e, t) {
                return this.play().totalTime(e ? -this._delay : 0, Y(t))
            }, t.play = function(e, t) {
                return null != e && this.seek(e, t), this.reversed(!1).paused(!1)
            }, t.reverse = function(e, t) {
                return null != e && this.seek(e || this.totalDuration(), t), this.reversed(!0).paused(!1)
            }, t.pause = function(e, t) {
                return null != e && this.seek(e, t), this.paused(!0)
            }, t.resume = function() {
                return this.paused(!1)
            }, t.reversed = function(e) {
                return arguments.length ? (!!e !== this.reversed() && this.timeScale(-this._rts || (e ? -1e-8 : 0)), this) : this._rts < 0
            }, t.invalidate = function() {
                return this._initted = this._act = 0, this._zTime = -1e-8, this
            }, t.isActive = function() {
                var e, t = this.parent || this._dp,
                    n = this._start;
                return !(t && !(this._ts && this._initted && t.isActive() && (e = t.rawTime(!0)) >= n && e < this.endTime(!0) - 1e-8))
            }, t.eventCallback = function(e, t, n) {
                var i = this.vars;
                return arguments.length > 1 ? (t ? (i[e] = t, n && (i[e + "Params"] = n), "onUpdate" === e && (this._onUpdate = t)) : delete i[e], this) : i[e]
            }, t.then = function(e) {
                var t = this;
                return new Promise((function(n) {
                    var i = H(e) ? e : Ce,
                        r = function() {
                            var e = t.then;
                            t.then = null, H(i) && (i = i(t)) && (i.then || i === t) && (t.then = e), n(i), t.then = e
                        };
                    t._initted && 1 === t.totalProgress() && t._ts >= 0 || !t._tTime && t._ts < 0 ? r() : t._prom = r
                }))
            }, t.kill = function() {
                gt(this)
            }, e
        }();
    Re(Ut.prototype, {
        _time: 0,
        _start: 0,
        _end: 0,
        _tTime: 0,
        _tDur: 0,
        _dirty: 0,
        _repeat: 0,
        _yoyo: !1,
        parent: null,
        _initted: !1,
        _rDelay: 0,
        _ts: 1,
        _dp: 0,
        ratio: 0,
        _zTime: -1e-8,
        _prom: 0,
        _ps: !1,
        _rts: 1
    });
    var Vt = function(e) {
        function t(t, n) {
            var r;
            return void 0 === t && (t = {}), (r = e.call(this, t, n) || this).labels = {}, r.smoothChildTiming = !!t.smoothChildTiming, r.autoRemoveChildren = !!t.autoRemoveChildren, r._sort = Y(t.sortChildren), r.parent && qe(r.parent, i(r)), t.scrollTrigger && Xe(i(r), t.scrollTrigger), r
        }
        r(t, e);
        var n = t.prototype;
        return n.to = function(e, t, n) {
            return new Kt(e, Ee(arguments, 0, this), $e(this, G(t) ? arguments[3] : n)), this
        }, n.from = function(e, t, n) {
            return new Kt(e, Ee(arguments, 1, this), $e(this, G(t) ? arguments[3] : n)), this
        }, n.fromTo = function(e, t, n, i) {
            return new Kt(e, Ee(arguments, 2, this), $e(this, G(t) ? arguments[4] : i)), this
        }, n.set = function(e, t, n) {
            return t.duration = 0, t.parent = this, ke(t).repeatDelay || (t.repeat = 0), t.immediateRender = !!t.immediateRender, new Kt(e, t, $e(this, n), 1), this
        }, n.call = function(e, t, n) {
            return Ye(this, Kt.delayedCall(0, e, t), $e(this, n))
        }, n.staggerTo = function(e, t, n, i, r, o, a) {
            return n.duration = t, n.stagger = n.stagger || i, n.onComplete = o, n.onCompleteParams = a, n.parent = this, new Kt(e, n, $e(this, r)), this
        }, n.staggerFrom = function(e, t, n, i, r, o, a) {
            return n.runBackwards = 1, ke(n).immediateRender = Y(n.immediateRender), this.staggerTo(e, t, n, i, r, o, a)
        }, n.staggerFromTo = function(e, t, n, i, r, o, a, s) {
            return i.startAt = n, ke(i).immediateRender = Y(i.immediateRender), this.staggerTo(e, t, i, r, o, a, s)
        }, n.render = function(e, t, n) {
            var i, r, o, s, c, l, u, h, d, p, f, m, v = this._time,
                g = this._dirty ? this.totalDuration() : this._tDur,
                y = this._dur,
                b = this !== a && e > g - 1e-8 && e >= 0 ? g : e < 1e-8 ? 0 : e,
                x = this._zTime < 0 != e < 0 && (this._initted || !y);
            if (b !== this._tTime || n || x) {
                if (v !== this._time && y && (b += this._time - v, e += this._time - v), i = b, d = this._start, l = !(h = this._ts), x && (y || (v = this._zTime), (e || !t) && (this._zTime = e)), this._repeat) {
                    if (f = this._yoyo, c = y + this._rDelay, this._repeat < -1 && e < 0) return this.totalTime(100 * c + e, t, n);
                    if (i = Te(b % c), b === g ? (s = this._repeat, i = y) : ((s = ~~(b / c)) && s === b / c && (i = y, s--), i > y && (i = y)), p = Ve(this._tTime, c), !v && this._tTime && p !== s && (p = s), f && 1 & s && (i = y - i, m = 1), s !== p && !this._lock) {
                        var w = f && 1 & p,
                            _ = w === (f && 1 & s);
                        if (s < p && (w = !w), v = w ? 0 : y, this._lock = 1, this.render(v || (m ? 0 : Te(s * c)), t, !y)._lock = 0, !t && this.parent && vt(this, "onRepeat"), this.vars.repeatRefresh && !m && (this.invalidate()._lock = 1), v && v !== this._time || l !== !this._ts || this.vars.onRepeat && !this.parent && !this._act) return this;
                        if (y = this._dur, g = this._tDur, _ && (this._lock = 2, v = w ? y : -1e-4, this.render(v, !0)), this._lock = 0, !this._ts && !l) return this;
                        It(this, m)
                    }
                }
                if (this._hasPause && !this._forcing && this._lock < 2 && (u = function(e, t, n) {
                        var i;
                        if (n > t)
                            for (i = e._first; i && i._start <= n;) {
                                if (!i._dur && "isPause" === i.data && i._start > t) return i;
                                i = i._next
                            } else
                                for (i = e._last; i && i._start >= n;) {
                                    if (!i._dur && "isPause" === i.data && i._start < t) return i;
                                    i = i._prev
                                }
                    }(this, Te(v), Te(i))) && (b -= i - (i = u._start)), this._tTime = b, this._time = i, this._act = !h, this._initted || (this._onUpdate = this.vars.onUpdate, this._initted = 1, this._zTime = e, v = 0), !v && i && !t && vt(this, "onStart"), i >= v && e >= 0)
                    for (r = this._first; r;) {
                        if (o = r._next, (r._act || i >= r._start) && r._ts && u !== r) {
                            if (r.parent !== this) return this.render(e, t, n);
                            if (r.render(r._ts > 0 ? (i - r._start) * r._ts : (r._dirty ? r.totalDuration() : r._tDur) + (i - r._start) * r._ts, t, n), i !== this._time || !this._ts && !l) {
                                u = 0, o && (b += this._zTime = -1e-8);
                                break
                            }
                        }
                        r = o
                    } else {
                        r = this._last;
                        for (var M = e < 0 ? e : i; r;) {
                            if (o = r._prev, (r._act || M <= r._end) && r._ts && u !== r) {
                                if (r.parent !== this) return this.render(e, t, n);
                                if (r.render(r._ts > 0 ? (M - r._start) * r._ts : (r._dirty ? r.totalDuration() : r._tDur) + (M - r._start) * r._ts, t, n), i !== this._time || !this._ts && !l) {
                                    u = 0, o && (b += this._zTime = M ? -1e-8 : 1e-8);
                                    break
                                }
                            }
                            r = o
                        }
                    }
                if (u && !t && (this.pause(), u.render(i >= v ? 0 : -1e-8)._zTime = i >= v ? 1 : -1, this._ts)) return this._start = d, Ge(this), this.render(e, t, n);
                this._onUpdate && !t && vt(this, "onUpdate", !0), (b === g && g >= this.totalDuration() || !b && v) && (d !== this._start && Math.abs(h) === Math.abs(this._ts) || this._lock || ((e || !y) && (b === g && this._ts > 0 || !b && this._ts < 0) && Ne(this, 1), t || e < 0 && !v || !b && !v || (vt(this, b === g ? "onComplete" : "onReverseComplete", !0), this._prom && !(b < g && this.timeScale() > 0) && this._prom())))
            }
            return this
        }, n.add = function(e, t) {
            var n = this;
            if (G(t) || (t = $e(this, t)), !(e instanceof Ut)) {
                if (K(e)) return e.forEach((function(e) {
                    return n.add(e, t)
                })), this;
                if (V(e)) return this.addLabel(e, t);
                if (!H(e)) return this;
                e = Kt.delayedCall(0, e)
            }
            return this !== e ? Ye(this, e, t) : this
        }, n.getChildren = function(e, t, n, i) {
            void 0 === e && (e = !0), void 0 === t && (t = !0), void 0 === n && (n = !0), void 0 === i && (i = -j);
            for (var r = [], o = this._first; o;) o._start >= i && (o instanceof Kt ? t && r.push(o) : (n && r.push(o), e && r.push.apply(r, o.getChildren(!0, t, n)))), o = o._next;
            return r
        }, n.getById = function(e) {
            for (var t = this.getChildren(1, 1, 1), n = t.length; n--;)
                if (t[n].vars.id === e) return t[n]
        }, n.remove = function(e) {
            return V(e) ? this.removeLabel(e) : H(e) ? this.killTweensOf(e) : (Fe(this, e), e === this._recent && (this._recent = this._last), ze(this))
        }, n.totalTime = function(t, n) {
            return arguments.length ? (this._forcing = 1, !this._dp && this._ts && (this._start = Te(At.time - (this._ts > 0 ? t / this._ts : (this.totalDuration() - t) / -this._ts))), e.prototype.totalTime.call(this, t, n), this._forcing = 0, this) : this._tTime
        }, n.addLabel = function(e, t) {
            return this.labels[e] = $e(this, t), this
        }, n.removeLabel = function(e) {
            return delete this.labels[e], this
        }, n.addPause = function(e, t, n) {
            var i = Kt.delayedCall(0, t || he, n);
            return i.data = "isPause", this._hasPause = 1, Ye(this, i, $e(this, e))
        }, n.removePause = function(e) {
            var t = this._first;
            for (e = $e(this, e); t;) t._start === e && "isPause" === t.data && Ne(t), t = t._next
        }, n.killTweensOf = function(e, t, n) {
            for (var i = this.getTweensOf(e, n), r = i.length; r--;) Ht !== i[r] && i[r].kill(e, t);
            return this
        }, n.getTweensOf = function(e, t) {
            for (var n, i = [], r = at(e), o = this._first, a = G(t); o;) o instanceof Kt ? Se(o._targets, r) && (a ? (!Ht || o._initted && o._ts) && o.globalTime(0) <= t && o.globalTime(o.totalDuration()) > t : !t || o.isActive()) && i.push(o) : (n = o.getTweensOf(r, t)).length && i.push.apply(i, n), o = o._next;
            return i
        }, n.tweenTo = function(e, t) {
            t = t || {};
            var n = this,
                i = $e(n, e),
                r = t,
                o = r.startAt,
                a = r.onStart,
                s = r.onStartParams,
                c = r.immediateRender,
                l = Kt.to(n, Re({
                    ease: t.ease || "none",
                    lazy: !1,
                    immediateRender: !1,
                    time: i,
                    overwrite: "auto",
                    duration: t.duration || Math.abs((i - (o && "time" in o ? o.time : n._time)) / n.timeScale()) || 1e-8,
                    onStart: function() {
                        n.pause();
                        var e = t.duration || Math.abs((i - n._time) / n.timeScale());
                        l._dur !== e && Je(l, e, 0, 1).render(l._time, !0, !0), a && a.apply(l, s || [])
                    }
                }, t));
            return c ? l.render(0) : l
        }, n.tweenFromTo = function(e, t, n) {
            return this.tweenTo(t, Re({
                startAt: {
                    time: $e(this, e)
                }
            }, n))
        }, n.recent = function() {
            return this._recent
        }, n.nextLabel = function(e) {
            return void 0 === e && (e = this._time), mt(this, $e(this, e))
        }, n.previousLabel = function(e) {
            return void 0 === e && (e = this._time), mt(this, $e(this, e), 1)
        }, n.currentLabel = function(e) {
            return arguments.length ? this.seek(e, !0) : this.previousLabel(this._time + 1e-8)
        }, n.shiftChildren = function(e, t, n) {
            void 0 === n && (n = 0);
            for (var i, r = this._first, o = this.labels; r;) r._start >= n && (r._start += e, r._end += e), r = r._next;
            if (t)
                for (i in o) o[i] >= n && (o[i] += e);
            return ze(this)
        }, n.invalidate = function() {
            var t = this._first;
            for (this._lock = 0; t;) t.invalidate(), t = t._next;
            return e.prototype.invalidate.call(this)
        }, n.clear = function(e) {
            void 0 === e && (e = !0);
            for (var t, n = this._first; n;) t = n._next, this.remove(n), n = t;
            return this._dp && (this._time = this._tTime = this._pTime = 0), e && (this.labels = {}), ze(this)
        }, n.totalDuration = function(e) {
            var t, n, i, r = 0,
                o = this,
                s = o._last,
                c = j;
            if (arguments.length) return o.timeScale((o._repeat < 0 ? o.duration() : o.totalDuration()) / (o.reversed() ? -e : e));
            if (o._dirty) {
                for (i = o.parent; s;) t = s._prev, s._dirty && s.totalDuration(), (n = s._start) > c && o._sort && s._ts && !o._lock ? (o._lock = 1, Ye(o, s, n - s._delay, 1)._lock = 0) : c = n, n < 0 && s._ts && (r -= n, (!i && !o._dp || i && i.smoothChildTiming) && (o._start += n / o._ts, o._time -= n, o._tTime -= n), o.shiftChildren(-n, !1, -Infinity), c = 0), s._end > r && s._ts && (r = s._end), s = t;
                Je(o, o === a && o._time > r ? o._time : r, 1, 1), o._dirty = 0
            }
            return o._tDur
        }, t.updateRoot = function(e) {
            if (a._ts && (Pe(a, He(e, a)), h = At.frame), At.frame >= ge) {
                ge += D.autoSleep || 120;
                var t = a._first;
                if ((!t || !t._ts) && D.autoSleep && At._listeners.length < 2) {
                    for (; t && !t._ts;) t = t._next;
                    t || At.sleep()
                }
            }
        }, t
    }(Ut);
    Re(Vt.prototype, {
        _lock: 0,
        _hasPause: 0,
        _forcing: 0
    });
    var Ht, Gt = function(e, t, n, i, r, o, a) {
            var s, c, l, u, h, d, p, f, m = new dn(this._pt, e, t, 0, 1, an, null, r),
                v = 0,
                g = 0;
            for (m.b = n, m.e = i, n += "", (p = ~(i += "").indexOf("random(")) && (i = pt(i)), o && (o(f = [n, i], e, t), n = f[0], i = f[1]), c = n.match(te) || []; s = te.exec(i);) u = s[0], h = i.substring(v, s.index), l ? l = (l + 1) % 5 : "rgba(" === h.substr(-5) && (l = 1), u !== c[g++] && (d = parseFloat(c[g - 1]) || 0, m._pt = {
                _next: m._pt,
                p: h || 1 === g ? h : ",",
                s: d,
                c: "=" === u.charAt(1) ? parseFloat(u.substr(2)) * ("-" === u.charAt(0) ? -1 : 1) : parseFloat(u) - d,
                m: l && l < 4 ? Math.round : 0
            }, v = te.lastIndex);
            return m.c = v < i.length ? i.substring(v, i.length) : "", m.fp = a, (ne.test(i) || p) && (m.e = 0), this._pt = m, m
        },
        Wt = function(e, t, n, i, r, o, a, s, c) {
            H(i) && (i = i(r || 0, e, o));
            var l, u = e[t],
                h = "get" !== n ? n : H(u) ? c ? e[t.indexOf("set") || !H(e["get" + t.substr(3)]) ? t : "get" + t.substr(3)](c) : e[t]() : u,
                d = H(u) ? c ? en : $t : Qt;
            if (V(i) && (~i.indexOf("random(") && (i = pt(i)), "=" === i.charAt(1) && (i = parseFloat(h) + parseFloat(i.substr(2)) * ("-" === i.charAt(0) ? -1 : 1) + (nt(h) || 0))), h !== i) return isNaN(h * i) ? (!u && !(t in e) && ce(t, i), Gt.call(this, e, t, h, i, d, s || D.stringFilter, c)) : (l = new dn(this._pt, e, t, +h || 0, i - (h || 0), "boolean" == typeof u ? on : rn, 0, d), c && (l.fp = c), a && l.modifier(a, this, e), this._pt = l)
        },
        qt = function(e, t, n, i, r, o) {
            var a, s, c, l;
            if (me[e] && !1 !== (a = new me[e]).init(r, a.rawVars ? t[e] : function(e, t, n, i, r) {
                    if (H(e) && (e = Xt(e, r, t, n, i)), !q(e) || e.style && e.nodeType || K(e) || J(e)) return V(e) ? Xt(e, r, t, n, i) : e;
                    var o, a = {};
                    for (o in e) a[o] = Xt(e[o], r, t, n, i);
                    return a
                }(t[e], i, r, o, n), n, i, o) && (n._pt = s = new dn(n._pt, r, e, 0, 1, a.render, a, 0, a.priority), n !== d))
                for (c = n._ptLookup[n._targets.indexOf(r)], l = a._props.length; l--;) c[a._props[l]] = s;
            return a
        },
        Yt = function e(t, n) {
            var i, r, s, c, l, u, h, d, p, f, m, v, g, y = t.vars,
                b = y.ease,
                x = y.startAt,
                w = y.immediateRender,
                _ = y.lazy,
                M = y.onUpdate,
                T = y.onUpdateParams,
                S = y.callbackScope,
                E = y.runBackwards,
                A = y.yoyoEase,
                P = y.keyframes,
                L = y.autoRevert,
                C = t._dur,
                R = t._startAt,
                O = t._targets,
                D = t.parent,
                j = D && "nested" === D.data ? D.parent._targets : O,
                k = "auto" === t._overwrite && !o,
                F = t.timeline;
            if (F && (!P || !b) && (b = "none"), t._ease = jt(b, I.ease), t._yEase = A ? Dt(jt(!0 === A ? b : A, I.ease)) : 0, A && t._yoyo && !t._repeat && (A = t._yEase, t._yEase = t._ease, t._ease = A), !F) {
                if (v = (d = O[0] ? we(O[0]).harness : 0) && y[d.prop], i = je(y, de), R && R.render(-1, !0).kill(), x)
                    if (Ne(t._startAt = Kt.set(O, Re({
                            data: "isStart",
                            overwrite: !1,
                            parent: D,
                            immediateRender: !0,
                            lazy: Y(_),
                            startAt: null,
                            delay: 0,
                            onUpdate: M,
                            onUpdateParams: T,
                            callbackScope: S,
                            stagger: 0
                        }, x))), w) {
                        if (n > 0) L || (t._startAt = 0);
                        else if (C && !(n < 0 && R)) return void(n && (t._zTime = n))
                    } else !1 === L && (t._startAt = 0);
                else if (E && C)
                    if (R) !L && (t._startAt = 0);
                    else if (n && (w = !1), s = Re({
                        overwrite: !1,
                        data: "isFromStart",
                        lazy: w && Y(_),
                        immediateRender: w,
                        stagger: 0,
                        parent: D
                    }, i), v && (s[d.prop] = v), Ne(t._startAt = Kt.set(O, s)), w) {
                    if (!n) return
                } else e(t._startAt, 1e-8);
                for (t._pt = 0, _ = C && Y(_) || _ && !C, r = 0; r < O.length; r++) {
                    if (h = (l = O[r])._gsap || xe(O)[r]._gsap, t._ptLookup[r] = f = {}, fe[h.id] && pe.length && Ae(), m = j === O ? r : j.indexOf(l), d && !1 !== (p = new d).init(l, v || i, t, m, j) && (t._pt = c = new dn(t._pt, l, p.name, 0, 1, p.render, p, 0, p.priority), p._props.forEach((function(e) {
                            f[e] = c
                        })), p.priority && (u = 1)), !d || v)
                        for (s in i) me[s] && (p = qt(s, i, t, m, l, j)) ? p.priority && (u = 1) : f[s] = c = Wt.call(t, l, s, "get", i[s], m, j, 0, y.stringFilter);
                    t._op && t._op[r] && t.kill(l, t._op[r]), k && t._pt && (Ht = t, a.killTweensOf(l, f, t.globalTime(0)), g = !t.parent, Ht = 0), t._pt && _ && (fe[h.id] = 1)
                }
                u && hn(t), t._onInit && t._onInit(t)
            }
            t._from = !F && !!y.runBackwards, t._onUpdate = M, t._initted = (!t._op || t._pt) && !g
        },
        Xt = function(e, t, n, i, r) {
            return H(e) ? e.call(t, n, i, r) : V(e) && ~e.indexOf("random(") ? pt(e) : e
        },
        Zt = be + "repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",
        Jt = (Zt + ",id,stagger,delay,duration,paused,scrollTrigger").split(","),
        Kt = function(e) {
            function t(t, n, r, s) {
                var c;
                "number" == typeof n && (r.duration = n, n = r, r = null);
                var l, u, h, d, p, f, m, v, g = (c = e.call(this, s ? n : ke(n), r) || this).vars,
                    y = g.duration,
                    b = g.delay,
                    x = g.immediateRender,
                    w = g.stagger,
                    _ = g.overwrite,
                    M = g.keyframes,
                    T = g.defaults,
                    S = g.scrollTrigger,
                    E = g.yoyoEase,
                    A = c.parent,
                    P = (K(t) || J(t) ? G(t[0]) : "length" in n) ? [t] : at(t);
                if (c._targets = P.length ? xe(P) : le("GSAP target " + t + " not found. https://greensock.com", !D.nullTargetWarn) || [], c._ptLookup = [], c._overwrite = _, M || w || Z(y) || Z(b)) {
                    if (n = c.vars, (l = c.timeline = new Vt({
                            data: "nested",
                            defaults: T || {}
                        })).kill(), l.parent = l._dp = i(c), l._start = 0, M) Re(l.vars.defaults, {
                        ease: "none"
                    }), M.forEach((function(e) {
                        return l.to(P, e, ">")
                    }));
                    else {
                        if (d = P.length, m = w ? ct(w) : he, q(w))
                            for (p in w) ~Zt.indexOf(p) && (v || (v = {}), v[p] = w[p]);
                        for (u = 0; u < d; u++) {
                            for (p in h = {}, n) Jt.indexOf(p) < 0 && (h[p] = n[p]);
                            h.stagger = 0, E && (h.yoyoEase = E), v && De(h, v), f = P[u], h.duration = +Xt(y, i(c), u, f, P), h.delay = (+Xt(b, i(c), u, f, P) || 0) - c._delay, !w && 1 === d && h.delay && (c._delay = b = h.delay, c._start += b, h.delay = 0), l.to(f, h, m(u, f, P))
                        }
                        l.duration() ? y = b = 0 : c.timeline = 0
                    }
                    y || c.duration(y = l.duration())
                } else c.timeline = 0;
                return !0 !== _ || o || (Ht = i(c), a.killTweensOf(P), Ht = 0), A && qe(A, i(c)), (x || !y && !M && c._start === Te(A._time) && Y(x) && function e(t) {
                    return !t || t._ts && e(t.parent)
                }(i(c)) && "nested" !== A.data) && (c._tTime = -1e-8, c.render(Math.max(0, -b))), S && Xe(i(c), S), c
            }
            r(t, e);
            var n = t.prototype;
            return n.render = function(e, t, n) {
                var i, r, o, a, s, c, l, u, h, d = this._time,
                    p = this._tDur,
                    f = this._dur,
                    m = e > p - 1e-8 && e >= 0 ? p : e < 1e-8 ? 0 : e;
                if (f) {
                    if (m !== this._tTime || !e || n || !this._initted && this._tTime || this._startAt && this._zTime < 0 != e < 0) {
                        if (i = m, u = this.timeline, this._repeat) {
                            if (a = f + this._rDelay, this._repeat < -1 && e < 0) return this.totalTime(100 * a + e, t, n);
                            if (i = Te(m % a), m === p ? (o = this._repeat, i = f) : ((o = ~~(m / a)) && o === m / a && (i = f, o--), i > f && (i = f)), (c = this._yoyo && 1 & o) && (h = this._yEase, i = f - i), s = Ve(this._tTime, a), i === d && !n && this._initted) return this;
                            o !== s && (u && this._yEase && It(u, c), !this.vars.repeatRefresh || c || this._lock || (this._lock = n = 1, this.render(Te(a * o), !0).invalidate()._lock = 0))
                        }
                        if (!this._initted) {
                            if (Ze(this, e < 0 ? e : i, n, t)) return this._tTime = 0, this;
                            if (f !== this._dur) return this.render(e, t, n)
                        }
                        for (this._tTime = m, this._time = i, !this._act && this._ts && (this._act = 1, this._lazy = 0), this.ratio = l = (h || this._ease)(i / f), this._from && (this.ratio = l = 1 - l), i && !d && !t && vt(this, "onStart"), r = this._pt; r;) r.r(l, r.d), r = r._next;
                        u && u.render(e < 0 ? e : !i && c ? -1e-8 : u._dur * l, t, n) || this._startAt && (this._zTime = e), this._onUpdate && !t && (e < 0 && this._startAt && this._startAt.render(e, !0, n), vt(this, "onUpdate")), this._repeat && o !== s && this.vars.onRepeat && !t && this.parent && vt(this, "onRepeat"), m !== this._tDur && m || this._tTime !== m || (e < 0 && this._startAt && !this._onUpdate && this._startAt.render(e, !0, !0), (e || !f) && (m === this._tDur && this._ts > 0 || !m && this._ts < 0) && Ne(this, 1), t || e < 0 && !d || !m && !d || (vt(this, m === p ? "onComplete" : "onReverseComplete", !0), this._prom && !(m < p && this.timeScale() > 0) && this._prom()))
                    }
                } else ! function(e, t, n, i) {
                    var r, o, a, s = e.ratio,
                        c = t < 0 || !t && (!e._start && function e(t) {
                            var n = t.parent;
                            return n && n._ts && n._initted && !n._lock && (n.rawTime() < 0 || e(n))
                        }(e) || (e._ts < 0 || e._dp._ts < 0) && "isFromStart" !== e.data && "isStart" !== e.data) ? 0 : 1,
                        l = e._rDelay,
                        u = 0;
                    if (l && e._repeat && (u = tt(0, e._tDur, t), o = Ve(u, l), a = Ve(e._tTime, l), e._yoyo && 1 & o && (c = 1 - c), o !== a && (s = 1 - c, e.vars.repeatRefresh && e._initted && e.invalidate())), c !== s || i || 1e-8 === e._zTime || !t && e._zTime) {
                        if (!e._initted && Ze(e, t, i, n)) return;
                        for (a = e._zTime, e._zTime = t || (n ? 1e-8 : 0), n || (n = t && !a), e.ratio = c, e._from && (c = 1 - c), e._time = 0, e._tTime = u, r = e._pt; r;) r.r(c, r.d), r = r._next;
                        e._startAt && t < 0 && e._startAt.render(t, !0, !0), e._onUpdate && !n && vt(e, "onUpdate"), u && e._repeat && !n && e.parent && vt(e, "onRepeat"), (t >= e._tDur || t < 0) && e.ratio === c && (c && Ne(e, 1), n || (vt(e, c ? "onComplete" : "onReverseComplete", !0), e._prom && e._prom()))
                    } else e._zTime || (e._zTime = t)
                }(this, e, t, n);
                return this
            }, n.targets = function() {
                return this._targets
            }, n.invalidate = function() {
                return this._pt = this._op = this._startAt = this._onUpdate = this._lazy = this.ratio = 0, this._ptLookup = [], this.timeline && this.timeline.invalidate(), e.prototype.invalidate.call(this)
            }, n.kill = function(e, t) {
                if (void 0 === t && (t = "all"), !(e || t && "all" !== t)) return this._lazy = this._pt = 0, this.parent ? gt(this) : this;
                if (this.timeline) {
                    var n = this.timeline.totalDuration();
                    return this.timeline.killTweensOf(e, t, Ht && !0 !== Ht.vars.overwrite)._first || gt(this), this.parent && n !== this.timeline.totalDuration() && Je(this, this._dur * this.timeline._tDur / n, 0, 1), this
                }
                var i, r, o, a, s, c, l, u = this._targets,
                    h = e ? at(e) : u,
                    d = this._ptLookup,
                    p = this._pt;
                if ((!t || "all" === t) && function(e, t) {
                        for (var n = e.length, i = n === t.length; i && n-- && e[n] === t[n];);
                        return n < 0
                    }(u, h)) return "all" === t && (this._pt = 0), gt(this);
                for (i = this._op = this._op || [], "all" !== t && (V(t) && (s = {}, Me(t, (function(e) {
                        return s[e] = 1
                    })), t = s), t = function(e, t) {
                        var n, i, r, o, a = e[0] ? we(e[0]).harness : 0,
                            s = a && a.aliases;
                        if (!s) return t;
                        for (i in n = De({}, t), s)
                            if (i in n)
                                for (r = (o = s[i].split(",")).length; r--;) n[o[r]] = n[i];
                        return n
                    }(u, t)), l = u.length; l--;)
                    if (~h.indexOf(u[l]))
                        for (s in r = d[l], "all" === t ? (i[l] = t, a = r, o = {}) : (o = i[l] = i[l] || {}, a = t), a)(c = r && r[s]) && ("kill" in c.d && !0 !== c.d.kill(s) || Fe(this, c, "_pt"), delete r[s]), "all" !== o && (o[s] = 1);
                return this._initted && !this._pt && p && gt(this), this
            }, t.to = function(e, n) {
                return new t(e, n, arguments[2])
            }, t.from = function(e, n) {
                return new t(e, Ee(arguments, 1))
            }, t.delayedCall = function(e, n, i, r) {
                return new t(n, 0, {
                    immediateRender: !1,
                    lazy: !1,
                    overwrite: !1,
                    delay: e,
                    onComplete: n,
                    onReverseComplete: n,
                    onCompleteParams: i,
                    onReverseCompleteParams: i,
                    callbackScope: r
                })
            }, t.fromTo = function(e, n, i) {
                return new t(e, Ee(arguments, 2))
            }, t.set = function(e, n) {
                return n.duration = 0, n.repeatDelay || (n.repeat = 0), new t(e, n)
            }, t.killTweensOf = function(e, t, n) {
                return a.killTweensOf(e, t, n)
            }, t
        }(Ut);
    Re(Kt.prototype, {
        _targets: [],
        _lazy: 0,
        _startAt: 0,
        _op: 0,
        _onInit: 0
    }), Me("staggerTo,staggerFrom,staggerFromTo", (function(e) {
        Kt[e] = function() {
            var t = new Vt,
                n = it.call(arguments, 0);
            return n.splice("staggerFromTo" === e ? 5 : 4, 0, 0), t[e].apply(t, n)
        }
    }));
    var Qt = function(e, t, n) {
            return e[t] = n
        },
        $t = function(e, t, n) {
            return e[t](n)
        },
        en = function(e, t, n, i) {
            return e[t](i.fp, n)
        },
        tn = function(e, t, n) {
            return e.setAttribute(t, n)
        },
        nn = function(e, t) {
            return H(e[t]) ? $t : W(e[t]) && e.setAttribute ? tn : Qt
        },
        rn = function(e, t) {
            return t.set(t.t, t.p, Math.round(1e4 * (t.s + t.c * e)) / 1e4, t)
        },
        on = function(e, t) {
            return t.set(t.t, t.p, !!(t.s + t.c * e), t)
        },
        an = function(e, t) {
            var n = t._pt,
                i = "";
            if (!e && t.b) i = t.b;
            else if (1 === e && t.e) i = t.e;
            else {
                for (; n;) i = n.p + (n.m ? n.m(n.s + n.c * e) : Math.round(1e4 * (n.s + n.c * e)) / 1e4) + i, n = n._next;
                i += t.c
            }
            t.set(t.t, t.p, i, t)
        },
        sn = function(e, t) {
            for (var n = t._pt; n;) n.r(e, n.d), n = n._next
        },
        cn = function(e, t, n, i) {
            for (var r, o = this._pt; o;) r = o._next, o.p === i && o.modifier(e, t, n), o = r
        },
        ln = function(e) {
            for (var t, n, i = this._pt; i;) n = i._next, i.p === e && !i.op || i.op === e ? Fe(this, i, "_pt") : i.dep || (t = 1), i = n;
            return !t
        },
        un = function(e, t, n, i) {
            i.mSet(e, t, i.m.call(i.tween, n, i.mt), i)
        },
        hn = function(e) {
            for (var t, n, i, r, o = e._pt; o;) {
                for (t = o._next, n = i; n && n.pr > o.pr;) n = n._next;
                (o._prev = n ? n._prev : r) ? o._prev._next = o: i = o, (o._next = n) ? n._prev = o : r = o, o = t
            }
            e._pt = i
        },
        dn = function() {
            function e(e, t, n, i, r, o, a, s, c) {
                this.t = t, this.s = i, this.c = r, this.p = n, this.r = o || rn, this.d = a || this, this.set = s || Qt, this.pr = c || 0, this._next = e, e && (e._prev = this)
            }
            return e.prototype.modifier = function(e, t, n) {
                this.mSet = this.mSet || this.set, this.set = un, this.m = e, this.mt = n, this.tween = t
            }, e
        }();
    Me(be + "parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger", (function(e) {
        return de[e] = 1
    })), oe.TweenMax = oe.TweenLite = Kt, oe.TimelineLite = oe.TimelineMax = Vt, a = new Vt({
        sortChildren: !1,
        defaults: I,
        autoRemoveChildren: !0,
        id: "root",
        smoothChildTiming: !0
    }), D.stringFilter = Et;
    var pn = {
        registerPlugin: function() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            t.forEach((function(e) {
                return yt(e)
            }))
        },
        timeline: function(e) {
            return new Vt(e)
        },
        getTweensOf: function(e, t) {
            return a.getTweensOf(e, t)
        },
        getProperty: function(e, t, n, i) {
            V(e) && (e = at(e)[0]);
            var r = we(e || {}).get,
                o = n ? Ce : Le;
            return "native" === n && (n = ""), e ? t ? o((me[t] && me[t].get || r)(e, t, n, i)) : function(t, n, i) {
                return o((me[t] && me[t].get || r)(e, t, n, i))
            } : e
        },
        quickSetter: function(e, t, n) {
            if ((e = at(e)).length > 1) {
                var i = e.map((function(e) {
                        return vn.quickSetter(e, t, n)
                    })),
                    r = i.length;
                return function(e) {
                    for (var t = r; t--;) i[t](e)
                }
            }
            e = e[0] || {};
            var o = me[t],
                a = we(e),
                s = a.harness && (a.harness.aliases || {})[t] || t,
                c = o ? function(t) {
                    var i = new o;
                    d._pt = 0, i.init(e, n ? t + n : t, d, 0, [e]), i.render(1, i), d._pt && sn(1, d)
                } : a.set(e, s);
            return o ? c : function(t) {
                return c(e, s, n ? t + n : t, a, 1)
            }
        },
        isTweening: function(e) {
            return a.getTweensOf(e, !0).length > 0
        },
        defaults: function(e) {
            return e && e.ease && (e.ease = jt(e.ease, I.ease)), Ie(I, e || {})
        },
        config: function(e) {
            return Ie(D, e || {})
        },
        registerEffect: function(e) {
            var t = e.name,
                n = e.effect,
                i = e.plugins,
                r = e.defaults,
                o = e.extendTimeline;
            (i || "").split(",").forEach((function(e) {
                return e && !me[e] && !oe[e] && le(t + " effect requires " + e + " plugin.")
            })), ve[t] = function(e, t, i) {
                return n(at(e), Re(t || {}, r), i)
            }, o && (Vt.prototype[t] = function(e, n, i) {
                return this.add(ve[t](e, q(n) ? n : (i = n) && {}, this), i)
            })
        },
        registerEase: function(e, t) {
            Lt[e] = jt(t)
        },
        parseEase: function(e, t) {
            return arguments.length ? jt(e, t) : Lt
        },
        getById: function(e) {
            return a.getById(e)
        },
        exportRoot: function(e, t) {
            void 0 === e && (e = {});
            var n, i, r = new Vt(e);
            for (r.smoothChildTiming = Y(e.smoothChildTiming), a.remove(r), r._dp = 0, r._time = r._tTime = a._time, n = a._first; n;) i = n._next, !t && !n._dur && n instanceof Kt && n.vars.onComplete === n._targets[0] || Ye(r, n, n._start - n._delay), n = i;
            return Ye(a, r, 0), r
        },
        utils: {
            wrap: function e(t, n, i) {
                var r = n - t;
                return K(t) ? dt(t, e(0, t.length), n) : et(i, (function(e) {
                    return (r + (e - t) % r) % r + t
                }))
            },
            wrapYoyo: function e(t, n, i) {
                var r = n - t,
                    o = 2 * r;
                return K(t) ? dt(t, e(0, t.length - 1), n) : et(i, (function(e) {
                    return t + ((e = (o + (e - t) % o) % o || 0) > r ? o - e : e)
                }))
            },
            distribute: ct,
            random: ht,
            snap: ut,
            normalize: function(e, t, n) {
                return ft(e, t, 0, 1, n)
            },
            getUnit: nt,
            clamp: function(e, t, n) {
                return et(n, (function(n) {
                    return tt(e, t, n)
                }))
            },
            splitColor: wt,
            toArray: at,
            mapRange: ft,
            pipe: function() {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                return function(e) {
                    return t.reduce((function(e, t) {
                        return t(e)
                    }), e)
                }
            },
            unitize: function(e, t) {
                return function(n) {
                    return e(parseFloat(n)) + (t || nt(n))
                }
            },
            interpolate: function e(t, n, i, r) {
                var o = isNaN(t + n) ? 0 : function(e) {
                    return (1 - e) * t + e * n
                };
                if (!o) {
                    var a, s, c, l, u, h = V(t),
                        d = {};
                    if (!0 === i && (r = 1) && (i = null), h) t = {
                        p: t
                    }, n = {
                        p: n
                    };
                    else if (K(t) && !K(n)) {
                        for (c = [], l = t.length, u = l - 2, s = 1; s < l; s++) c.push(e(t[s - 1], t[s]));
                        l--, o = function(e) {
                            e *= l;
                            var t = Math.min(u, ~~e);
                            return c[t](e - t)
                        }, i = n
                    } else r || (t = De(K(t) ? [] : {}, t));
                    if (!c) {
                        for (a in n) Wt.call(d, t, a, "get", n[a]);
                        o = function(e) {
                            return sn(e, d) || (h ? t.p : t)
                        }
                    }
                }
                return et(i, o)
            },
            shuffle: st
        },
        install: se,
        effects: ve,
        ticker: At,
        updateRoot: Vt.updateRoot,
        plugins: me,
        globalTimeline: a,
        core: {
            PropTween: dn,
            globals: ue,
            Tween: Kt,
            Timeline: Vt,
            Animation: Ut,
            getCache: we,
            _removeLinkedListItem: Fe,
            suppressOverwrites: function(e) {
                return o = e
            }
        }
    };
    Me("to,from,fromTo,delayedCall,set,killTweensOf", (function(e) {
        return pn[e] = Kt[e]
    })), At.add(Vt.updateRoot), d = pn.to({}, {
        duration: 0
    });
    var fn = function(e, t) {
            for (var n = e._pt; n && n.p !== t && n.op !== t && n.fp !== t;) n = n._next;
            return n
        },
        mn = function(e, t) {
            return {
                name: e,
                rawVars: 1,
                init: function(e, n, i) {
                    i._onInit = function(e) {
                        var i, r;
                        if (V(n) && (i = {}, Me(n, (function(e) {
                                return i[e] = 1
                            })), n = i), t) {
                            for (r in i = {}, n) i[r] = t(n[r]);
                            n = i
                        }! function(e, t) {
                            var n, i, r, o = e._targets;
                            for (n in t)
                                for (i = o.length; i--;)(r = e._ptLookup[i][n]) && (r = r.d) && (r._pt && (r = fn(r, n)), r && r.modifier && r.modifier(t[n], e, o[i], n))
                        }(e, n)
                    }
                }
            }
        },
        vn = pn.registerPlugin({
            name: "attr",
            init: function(e, t, n, i, r) {
                var o, a;
                for (o in t)(a = this.add(e, "setAttribute", (e.getAttribute(o) || 0) + "", t[o], i, r, 0, 0, o)) && (a.op = o), this._props.push(o)
            }
        }, {
            name: "endArray",
            init: function(e, t) {
                for (var n = t.length; n--;) this.add(e, n, e[n] || 0, t[n])
            }
        }, mn("roundProps", lt), mn("modifiers"), mn("snap", ut)) || pn;
    Kt.version = Vt.version = vn.version = "3.6.1", u = 1, X() && Pt();
    Lt.Power0, Lt.Power1, Lt.Power2, Lt.Power3, Lt.Power4, Lt.Linear, Lt.Quad, Lt.Cubic, Lt.Quart, Lt.Quint, Lt.Strong, Lt.Elastic, Lt.Back, Lt.SteppedEase, Lt.Bounce, Lt.Sine, Lt.Expo, Lt.Circ
}, function(e, t, n) {
    "use strict";

    function i(e, t) {
        return Math.floor(Math.random() * (t - e + 1) + e)
    }

    function r(e, t) {
        return Math.random() * (t - e) + e
    }

    function o(e, t, n) {
        return Math.min(Math.max(e, t), n)
    }

    function a(e, t, n) {
        return (1 - n) * e + n * t
    }

    function s(e) {
        for (var t, n = e.length; 0 !== n;) {
            t = Math.floor(Math.random() * n), n--;
            var i = [e[t], e[n]];
            e[n] = i[0], e[t] = i[1]
        }
        return e
    }
    n.d(t, "d", (function() {
        return i
    })), n.d(t, "c", (function() {
        return r
    })), n.d(t, "a", (function() {
        return o
    })), n.d(t, "b", (function() {
        return a
    })), n.d(t, "e", (function() {
        return s
    }))
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", (function() {
        return s
    }));
    var i = n(9),
        r = n(1);

    function o(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function a(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var s = 768,
        c = function() {
            function e() {
                var t = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), a(this, "width", window.innerWidth), a(this, "height", window.innerHeight), a(this, "handleResize", (function() {
                    t.width = window.innerWidth, t.height = window.innerHeight, t.width <= s ? t.breakpoint = r.r : t.width <= 1024 ? t.breakpoint = r.O : t.breakpoint = r.l, window.dispatchEvent(Object(i.a)(r.Q, {
                        width: t.width,
                        height: t.height
                    })), t.isTouch && t.width <= s && setTimeout((function() {
                        t.width = window.innerWidth, t.height = window.innerHeight, window.dispatchEvent(Object(i.a)(r.Q, {
                            width: t.width,
                            height: t.height
                        }))
                    }), 300)
                })), this.isTouch = "standalone" in navigator || !!window.matchMedia("(pointer: coarse)").matches || !window.matchMedia("(pointer: fine)").matches && ("ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch), this.dpr = window.devicePixelRatio, window.addEventListener("resize", this.handleResize, {
                    passive: !0
                }), this.isTouch && window.addEventListener("deviceorientation", this.handleResize, !0), this.handleResize()
            }
            var t, n, c;
            return t = e, (n = [{
                key: "setPixelRatio",
                value: function(e) {
                    var t = e.gpu;
                    if (e.fps <= 15 && e.fps >= 0 ? this.tier = 1 : e.fps > 15 && e.fps < 50 ? this.tier = 2 : this.tier = 3, this.tier > 0 && (t.indexOf("iris") > 0 || t.indexOf("iris pro") > 0)) {
                        var n = t.split(" "),
                            i = n[n.length - 1];
                        i = parseInt(i, 10), !isNaN(i) && i < 650 && (this.tier = 1, this.tierForced = !0)
                    }
                    if (t.indexOf("hd graphics") > 0 && (this.tier = 1, this.tierForced = !0), t.indexOf("intel") > 0 && (this.tier = Math.min(this.tier, 1), this.tierForced = !0), t.indexOf("Apple") > -1 && (this.tier = 2, this.tierForced = !0), this.width > s && window.devicePixelRatio >= 2) switch (this.tier) {
                        case 0:
                        case 1:
                            this.dpr = 1;
                            break;
                        case 2:
                            this.dpr = 1.5;
                            break;
                        case 3:
                            this.dpr = window.devicePixelRatio
                    }
                }
            }]) && o(t.prototype, n), c && o(t, c), e
        }();
    t.b = new c
}, function(e, t, n) {
    "use strict";
    var i = n(17),
        r = n(1),
        o = n(9),
        a = n(3),
        s = n(2),
        c = n(10);

    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function u(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var h = function() {
        function e() {
            var t = this;
            if (function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), u(this, "index", 0), u(this, "progress", 0), u(this, "targetProgress", 0), u(this, "lastScrollY", 0), u(this, "loopedOnce", !1), u(this, "coefMoveAlong", .11 / 15), u(this, "velocity", 0), u(this, "lastView", r.I), u(this, "handleScroll", (function() {
                    var e = window.scrollY;
                    t.progress = Object(a.a)(e / t.maxHeight, 0, 1), window.dispatchEvent(Object(o.a)(r.J, {
                        scrollY: e
                    })), t.indicator && (t.indicator.style.strokeDashoffset = "".concat((1352 + 1352 * t.progress).toFixed(2))), c.a.hideScrollText(), t.gradientT && (t.progress > r.B ? t.changeColors(2) : t.progress > r.C && t.progress < r.B ? t.changeColors(1) : t.progress < r.C && t.changeColors(0)), t.lastScrollY = e
                })), u(this, "handleRAF", (function(e) {
                    var n = e.detail.deltaTime;
                    t.targetProgress !== t.progress && n && t.introFinished && !c.a.menu.active && c.a.menu.canSwitch && (t.autoScrolled ? t.targetProgress = t.progress : t.targetProgress = Object(a.b)(t.targetProgress, t.progress, t.coefMoveAlong * n), t.autoScrolled || (0 === t.progress && t.velocity < 0 ? t.loopedOnce && t.velocity > -5e-4 && (window.scrollTo(0, t.maxHeight), t.targetProgress = t.progress, t.autoScrolled = "bottom", t.autoscrollTimeout = setTimeout((function() {
                        t.autoScrolled = !1
                    }), 200)) : 1 === t.progress && t.velocity > 0 && t.velocity < 5e-4 && (window.scrollTo(0, 0), t.targetProgress = t.progress, t.loopedOnce = !0, t.autoScrolled = "top", t.autoscrollTimeout = setTimeout((function() {
                        t.autoScrolled = !1
                    }), 200))), t.velocity = t.progress - t.targetProgress)
                })), u(this, "handleResize", (function() {
                    t.maxHeight = 15e3 - window.innerHeight
                })), u(this, "switchView", (function(e) {
                    var n = e.detail,
                        i = n.type,
                        o = n.isAbout,
                        a = new s.c,
                        c = r.P;
                    i === r.x || i === r.q ? (t.lastView === r.I && (t.lastScroll = t.progress), a.to(t, {
                        progress: 1,
                        duration: c,
                        ease: "expo.out"
                    })) : o || a.to(t, {
                        progress: t.lastScroll,
                        duration: c,
                        ease: "expo.out"
                    }), t.lastView = i
                })), document.querySelector(".scroll-container").style.height = "".concat(15e3, "px"), this.scene = document.querySelector("[data-scene]"), this.maxHeight = 15e3 - window.innerHeight, this.events(), i.mode);
        }
        var t, n, h;
        return t = e, (n = [{
            key: "events",
            value: function() {
                window.addEventListener("scroll", this.handleScroll), window.addEventListener(r.F, this.handleRAF), window.addEventListener(r.N, this.switchView), window.addEventListener(r.Q, this.handleResize)
            }
        }, {
            key: "addGradient",
            value: function(e) {
                this.indicator = document.querySelector("[data-progress-indicator]"), this.gradientT = e
            }
        }, {
            key: "addObstacles",
            value: function(e) {
                this.obstacles = e
            }
        }, {
            key: "addSectionTitles",
            value: function(e) {
                this.sectionTitles = e
            }
        }, {
            key: "addProjectPP",
            value: function(e) {
                this.projectPP = e
            }
        }, {
            key: "addRoad",
            value: function(e) {
                this.road = e
            }
        }, {
            key: "changeColors",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                if (this.index !== e) {
                    var n = this.index;
                    this.gradientT.transitionToColor(n, e), this.obstacles.transitionToColor(n, e), this.projectPP.transitionToColor(n, e), this.road.transitionToColor(n, e), this.index = e, t || (this.sectionTitles[n].kill(), this.sectionTitles[this.index].animate())
                }
            }
        }]) && l(t.prototype, n), h && l(t, h), e
    }();
    t.a = new h
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", (function() {
        return o
    }));
    var i = n(50);

    function r(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }
    var o = {
            AMBIENT: "ambient",
            CLICK: "click",
            MVT_CAMERA: "mvt_camera",
            MVT_CAMERA_SLOW: "mvt_camera_slow",
            PARTICLES: "particles"
        },
        a = [{
            name: o.AMBIENT,
            src: "sounds/ambient.mp3",
            autoplay: !0,
            loop: !0,
            volume: .7
        }, {
            name: o.CLICK,
            src: "sounds/click.wav",
            volume: .2
        }, {
            name: o.PARTICLES,
            src: "sounds/particle-fade-in.wav",
            volume: .03
        }, {
            name: o.MVT_CAMERA,
            src: "sounds/mvt-camera-slow.mp3",
            volume: .3
        }, {
            name: o.MVT_CAMERA_SLOW,
            src: "sounds/particle-fade-in-2.wav",
            volume: .3
        }],
        s = function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(e, t, n) {
                    t in e ? Object.defineProperty(e, t, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : e[t] = n
                }(this, "sounds", {})
            }
            var t, n, s;
            return t = e, (n = [{
                key: "initSounds",
                value: function() {
                    var e = this;
                    a.forEach((function(t) {
                        var n = t.autoplay,
                            r = t.loop,
                            a = t.volume,
                            s = t.src,
                            c = t.name,
                            l = new i.Howl({
                                src: [s],
                                autoplay: n,
                                loop: r,
                                volume: a
                            });
                        c === o.AMBIENT && l.seek(11), l.initVolume = a, e.sounds[c] = l
                    })), this.fadeIn()
                }
            }, {
                key: "trigger",
                value: function(e) {
                    this.sounds[e] && this.sounds[e].play()
                }
            }, {
                key: "fadeIn",
                value: function() {
                    Object.values(this.sounds).forEach((function(e) {
                        e.fade(0, e.initVolume, 500)
                    }))
                }
            }, {
                key: "fadeOut",
                value: function() {
                    Object.values(this.sounds).forEach((function(e) {
                        e.fade(e.initVolume, 0, 500)
                    }))
                }
            }]) && r(t.prototype, n), s && r(t, s), e
        }();
    t.b = new s
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return r
        })), n.d(t, "b", (function() {
            return o
        })), n.d(t, "c", (function() {
            return a
        }));
        var i = n(0);

        function r(e) {
            return i.MathUtils.degToRad(e)
        }

        function o(e) {
            return i.MathUtils.radToDeg(e)
        }

        function a(t, n) {
            var i = new e.Vector3,
                r = t.geometry,
                o = new e.Matrix4;
            o.multiplyMatrices(n.projectionMatrix, n.matrixWorldInverse), o.multiply(t.object3d.matrixWorld);
            var a = r.getIndex(),
                s = r.getAttribute("position").array,
                c = s.length / 3;
            if (null === a) {
                for (var l = new Uint16Array(c), u = 0; u < c; u++) l[u] = u;
                a = new e.BufferAttribute(l, 1), r.setIndex(a)
            }
            for (var h = [], d = 0; d < c; d++) i.fromArray(s, 3 * d), i.applyMatrix4(o), h.push([i.z, d]);
            h.sort((function(e, t) {
                return t[0] - e[0]
            }));
            for (var p = a.array, f = 0; f < c; f++) p[f] = h[f][1];
            r.index.needsUpdate = !0
        }
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    var i = n(0),
        r = n(1),
        o = n(9),
        a = n(11),
        s = n(4),
        c = n(34),
        l = n.n(c),
        u = n(10);

    function h(e) {
        return function(e) {
            if (Array.isArray(e)) return f(e)
        }(e) || function(e) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e)
        }(e) || p(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function d(e, t) {
        var n;
        if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
            if (Array.isArray(e) || (n = p(e)) || t && e && "number" == typeof e.length) {
                n && (e = n);
                var i = 0,
                    r = function() {};
                return {
                    s: r,
                    n: function() {
                        return i >= e.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: e[i++]
                        }
                    },
                    e: function(e) {
                        throw e
                    },
                    f: r
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var o, a = !0,
            s = !1;
        return {
            s: function() {
                n = e[Symbol.iterator]()
            },
            n: function() {
                var e = n.next();
                return a = e.done, e
            },
            e: function(e) {
                s = !0, o = e
            },
            f: function() {
                try {
                    a || null == n.return || n.return()
                } finally {
                    if (s) throw o
                }
            }
        }
    }

    function p(e, t) {
        if (e) {
            if ("string" == typeof e) return f(e, t);
            var n = Object.prototype.toString.call(e).slice(8, -1);
            return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? f(e, t) : void 0
        }
    }

    function f(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
        return i
    }

    function m(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function v(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var g = function() {
        function e() {
            var t = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), v(this, "isReady", !1), v(this, "observedMeshes", []), v(this, "currentIntersect", null), v(this, "intersects", []), v(this, "handleMouseMove", (function(e) {
                var n = e.clientX / window.innerWidth * 2 - 1,
                    i = -e.clientY / window.innerHeight * 2 + 1;
                t.mouse.x = n, t.mouse.y = i, t.updateCurrentIntersect(t.mouse), window.dispatchEvent(Object(o.a)(r.u, {
                    x: n,
                    y: i,
                    e: e
                }))
            })), v(this, "handlePan", (function(e) {
                var n = e.center.x / window.innerWidth * 2 - 1,
                    i = -e.center.y / window.innerHeight * 2 + 1;
                t.mouse.x = n, t.mouse.y = i, t.updateCurrentIntersect(t.mouse), window.dispatchEvent(Object(o.a)(r.u, {
                    x: n,
                    y: i,
                    e: e
                }))
            })), this.ray = new i.Raycaster, this.mouse = new i.Vector2, this.events()
        }
        var t, n, c;
        return t = e, (n = [{
            key: "events",
            value: function() {
                if (s.b.isTouch) {
                    var e = document.body.querySelector("[data-touch-zone]"),
                        t = new l.a.Manager(e);
                    t.add(new l.a.Pan({
                        direction: l.a.DIRECTION_ALL
                    })), t.on("pan", this.handlePan)
                } else window.addEventListener("mousemove", this.handleMouseMove)
            }
        }, {
            key: "add",
            value: function(e) {
                this.flags = e
            }
        }, {
            key: "addObstacles",
            value: function(e, t, n) {
                this.electrons = e, this.boxes = t, this.columns = n
            }
        }, {
            key: "updateObserver",
            value: function(e) {
                var t, n, i = e.view,
                    o = void 0 === i ? r.I : i,
                    a = e.socials,
                    s = void 0 === a ? [] : a,
                    c = [],
                    l = null === (t = this.flags) || void 0 === t ? void 0 : t.flagsRendered;
                o === r.x ? l = null === (n = this.flags) || void 0 === n ? void 0 : n.flags : o === r.q && (l = []);
                var p, f = !1,
                    m = d(l);
                try {
                    for (m.s(); !(p = m.n()).done;) {
                        var v = p.value,
                            g = v.title,
                            y = v.particleFlag,
                            b = v.subtitle,
                            x = v.zoomed,
                            w = v.nextMesh,
                            _ = v.prevMesh;
                        u.a.menu.active ? c.push(y.circle) : c.push(y.plane), x ? (c.push(w.arrowMesh), c.push(_.arrowMesh), f = !0) : (c.push(g.mesh), (null == b ? void 0 : b.mesh) && c.push(b.mesh))
                    }
                } catch (e) {
                    m.e(e)
                } finally {
                    m.f()
                }
                if (!f) {
                    var M, T = d(this.electrons);
                    try {
                        for (T.s(); !(M = T.n()).done;) {
                            var S = M.value;
                            if (S.isFadedIn || S.isTriggered) {
                                var E = S.centerMesh;
                                c.push(E)
                            }
                        }
                    } catch (e) {
                        T.e(e)
                    } finally {
                        T.f()
                    }
                    var A, P = d(this.boxes);
                    try {
                        for (P.s(); !(A = P.n()).done;) {
                            var L = A.value;
                            if (L.isFadedIn || L.isTriggered) {
                                var C = L.object3D.children;
                                c.push.apply(c, h(C))
                            }
                        }
                    } catch (e) {
                        P.e(e)
                    } finally {
                        P.f()
                    }
                    var R, O = d(this.columns);
                    try {
                        for (O.s(); !(R = O.n()).done;) {
                            var D = R.value;
                            if (D.isFadedIn || D.isTriggered) {
                                var I = D.object3D.children;
                                c.push.apply(c, h(I))
                            }
                        }
                    } catch (e) {
                        O.e(e)
                    } finally {
                        O.f()
                    }
                }
                for (var j = 0; j < s.length; j++) {
                    var k = s[j];
                    c.push(k)
                }
                this.observedMeshes = c
            }
        }, {
            key: "updateCurrentIntersect",
            value: function(e) {
                this.isReady && (this.ray.setFromCamera(e, a.a.camera), this.intersects = this.ray.intersectObjects(this.observedMeshes), this.intersects.length ? this.currentIntersect && !s.b.isTouch || (document.body.style.cursor = "pointer", this.currentIntersect = this.intersects[0]) : this.currentIntersect && (document.body.style.cursor = "default", this.currentIntersect = null))
            }
        }]) && m(t.prototype, n), c && m(t, c), e
    }();
    t.a = new g
}, function(e, t, n) {
    "use strict";

    function i(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
            n = new window.CustomEvent(e, {
                detail: t
            });
        return n
    }
    n.d(t, "a", (function() {
        return i
    }))
}, function(e, t, n) {
    "use strict";
    var i = n(47),
        r = n.n(i),
        o = n(14),
        a = n(28),
        s = n(48),
        c = n.n(s),
        l = n(16),
        u = n(1),
        h = n(9),
        d = n(4),
        p = n(3),
        f = n(2),
        m = n(49),
        v = n.n(m),
        g = n(6);

    function y(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function b(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var x = function() {
            function e() {
                var t = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), b(this, "forceX", 0), b(this, "forceY", 0), b(this, "targetX", 0), b(this, "targetY", 0), b(this, "forceTextX", 0), b(this, "forceTextY", 0), b(this, "forceNextX", 0), b(this, "forceNextY", 0), b(this, "targetNextX", 0), b(this, "targetNextY", 0), b(this, "forceTextNextX", 0), b(this, "forceTextNextY", 0), b(this, "updateUnitsDuringAnim", (function() {
                    t.setUnits()
                })), b(this, "setUnits", (function() {
                    var e = t.next.getBoundingClientRect(),
                        n = t.el.getBoundingClientRect();
                    t.isRight ? (t.elX = n.right - t.el.offsetWidth / 2, t.nextX = e.right - t.next.offsetWidth / 2) : (t.elX = n.left + t.el.offsetWidth / 2, t.nextX = e.left + t.next.offsetWidth / 2), t.elY = n.top + t.el.offsetHeight / 2, t.nextY = e.top + t.next.offsetHeight / 2
                })), b(this, "handleMouseMove", (function(e) {
                    var n = e.detail.e;
                    t.x = n.clientX, t.y = n.clientY
                })), b(this, "handleRAF", (function() {
                    t.getDistance(), t.forceX = Object(p.b)(t.forceX, 1 * t.targetX, .08), t.forceY = Object(p.b)(t.forceY, 1 * t.targetY, .08), t.forceTextX = Object(p.b)(t.forceTextX, .85 * t.targetX, .08), t.forceTextY = Object(p.b)(t.forceTextY, .85 * t.targetY, .08), t.circle.style.transform = "translateX(".concat(t.forceX, "px) translateY(").concat(t.forceY, "px)"), t.text.style.transform = "translateX(".concat(t.forceTextX, "px) translateY(").concat(t.forceTextY, "px)"), t.getDistanceNext(), t.forceNextX = Object(p.b)(t.forceNextX, 1 * t.targetNextX, .08), t.forceNextY = Object(p.b)(t.forceNextY, 1 * t.targetNextY, .08), t.forceTextNextX = Object(p.b)(t.forceTextNextX, .85 * t.targetNextX, .08), t.forceTextNextY = Object(p.b)(t.forceTextNextY, .85 * t.targetNextY, .08), t.nextCircle.style.transform = "translateX(".concat(t.forceNextX, "px) translateY(").concat(t.forceNextY, "px)"), t.nextText.style.transform = "translateX(".concat(t.forceTextNextX, "px) translateY(").concat(t.forceTextNextY, "px)")
                })), b(this, "handleClick", (function() {
                    if (J.menu.cameFromView) {
                        var e = J.menu.cameFromView;
                        window.dispatchEvent(Object(h.a)(u.m, {
                            view: e
                        }))
                    } else window.dispatchEvent(Object(h.a)(u.a));
                    g.b.trigger(g.a.CLICK)
                }))
            }
            var t, n, i;
            return t = e, (n = [{
                key: "reset",
                value: function(e) {
                    var t = this;
                    this.el = e, this.projectContainer = document.body.querySelector(".project__container"), this.circle = this.el.querySelector(".project__back-circle"), this.text = this.el.querySelector(".project__back-cta"), this.isRight = document.body.querySelector(".project.is-right"), this.next = e.parentNode.querySelector("[data-project-next]"), this.nextCircle = this.next.querySelector(".project__next-circle"), this.nextText = this.next.querySelector(".project__next-cta"), this.destroy(), this.init(), this.updateUnitsDuringAnim = v()(this.updateUnitsDuringAnim, 200), f.d.to({
                        x: 0
                    }, {
                        duration: 1.5,
                        x: 1,
                        onUpdate: function() {
                            t.updateUnitsDuringAnim()
                        }
                    })
                }
            }, {
                key: "init",
                value: function() {
                    this.setUnits(), this.events(!0)
                }
            }, {
                key: "events",
                value: function(e) {
                    var t = e ? "addEventListener" : "removeEventListener";
                    this.el && this.el[t]("click", this.handleClick), window[t](u.u, this.handleMouseMove), window[t](u.Q, this.setUnits, {
                        passive: !0
                    }), window[t](u.F, this.handleRAF), this.projectContainer && this.projectContainer[t]("scroll", this.setUnits)
                }
            }, {
                key: "getDistance",
                value: function() {
                    var e = this;
                    Math.sqrt(Math.pow(this.x - this.elX, 2) + Math.pow(this.y - this.elY, 2)) < .075 * d.b.width ? (clearTimeout(this.timeoutReset), this.targetX = this.x - this.elX, this.targetY = this.y - this.elY, this.isOut = !1) : this.isOut || (this.timeoutReset = setTimeout((function() {
                        e.targetX = 0, e.targetY = 0, e.isOut = !1
                    }), 250), this.isOut = !0)
                }
            }, {
                key: "getDistanceNext",
                value: function() {
                    var e = this;
                    Math.sqrt(Math.pow(this.x - this.nextX, 2) + Math.pow(this.y - this.nextY, 2)) < .05 * d.b.width ? (clearTimeout(this.timeoutNextReset), this.targetNextX = this.x - this.nextX, this.targetNextY = this.y - this.nextY, this.isNextOut = !1) : this.isNextOut || (this.timeoutNextReset = setTimeout((function() {
                        e.targetNextX = 0, e.targetNextY = 0, e.isNextOut = !1
                    }), 250), this.isNextOut = !0)
                }
            }, {
                key: "destroy",
                value: function() {
                    this.events(!1)
                }
            }]) && y(t.prototype, n), i && y(t, i), e
        }(),
        w = n(51),
        _ = n.n(w),
        M = n(52),
        T = n.n(M),
        S = n(53),
        E = n.n(S);

    function A(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function P(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var L = function() {
            function e() {
                var t = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), P(this, "forceX", 0), P(this, "forceY", 0), P(this, "targetX", 0), P(this, "targetY", 0), P(this, "forceTextX", 0), P(this, "forceTextY", 0), P(this, "textScale", 1), P(this, "scale", 1), P(this, "setUnits", (function() {
                    var e = t.el.getBoundingClientRect();
                    t.elX = e.left + t.el.offsetWidth / 2, t.elY = e.top + t.el.offsetHeight / 2, t.distanceMax = t.el.offsetWidth + 100
                })), P(this, "circleMouseenter", (function() {
                    var e;
                    t.circleEntered || (t.text.classList.add("is-hidden"), t.circleEntered = !0, null === (e = t.tlCircleLeave) || void 0 === e || e.kill(), t.tlCircleEnter = new f.c, t.tlCircleEnter.to(t, {
                        scale: 1.1,
                        duration: 1.5,
                        ease: "expo.out",
                        onUpdate: function() {
                            t.circles[1].setAttribute("r", "".concat(86 * t.scale)), t.circles[0].setAttribute("r", "".concat(107 * t.scale))
                        }
                    }))
                })), P(this, "circleMouseleave", (function() {
                    var e;
                    t.circleEntered && (t.text.classList.remove("is-hidden"), t.circleEntered = !1, null === (e = t.tlCircleEnter) || void 0 === e || e.kill(), t.tlCircleLeave = new f.c, t.tlCircleLeave.to(t, {
                        scale: 1,
                        duration: .7,
                        ease: "expo.out",
                        onUpdate: function() {
                            t.circles[1].setAttribute("r", "".concat(86 * t.scale)), t.circles[0].setAttribute("r", "".concat(107 * t.scale))
                        }
                    }))
                })), P(this, "handleMouseMove", (function(e) {
                    if (!t.isClicked) {
                        var n = e.detail.e;
                        t.x = n.clientX, t.y = n.clientY
                    }
                })), P(this, "handleRAF", (function() {
                    t.isClicked || t.getDistance()
                })), P(this, "handleClick", (function() {
                    t.isClicked || (t.isClicked = !0, t.text.classList.add("is-hidden-end"), t.circles[1].removeEventListener("mouseenter", t.circleMouseenter), t.circles[1].removeEventListener("mouseleave", t.circleMouseleave), g.b.initSounds(), g.b.trigger(g.a.CLICK), t.tl = new f.c({
                        onComplete: function() {
                            window.dispatchEvent(Object(h.a)(u.d)), t.destroy(), t.circles[0].classList.add("is-hidden"), t.circles[1].classList.add("is-hidden")
                        }
                    }), t.tl.to(t, {
                        scale: 1.2,
                        duration: 1,
                        ease: "expo.out",
                        onUpdate: function() {
                            t.circles[1].setAttribute("r", "".concat(86 * t.scale)), t.circles[0].setAttribute("r", "".concat(107 * t.scale))
                        }
                    }, .5), t.tl.to(t, {
                        targetX: 0,
                        targetY: 0,
                        duration: 1,
                        ease: "expo.out"
                    }, 0), t.tl.add((function() {
                        t.intro.classList.add("transition-out")
                    }), .5))
                }))
            }
            var t, n, i;
            return t = e, (n = [{
                key: "reset",
                value: function(e) {
                    this.el = e, this.circles = this.el.querySelectorAll(".intro__button__circle"), this.text = this.el.querySelector(".intro__button__text"), this.intro = document.body.querySelector("[data-intro]"), this.destroy(), this.init()
                }
            }, {
                key: "init",
                value: function() {
                    this.setUnits(), this.events(!0)
                }
            }, {
                key: "events",
                value: function(e) {
                    var t = e ? "addEventListener" : "removeEventListener";
                    window[t](u.Q, this.setUnits, {
                        passive: !0
                    }), window[t](u.F, this.handleRAF), this.circles[1][t]("click", this.handleClick), d.b.isTouch || (this.circles[1][t]("mouseenter", this.circleMouseenter), this.circles[1][t]("mouseleave", this.circleMouseleave))
                }
            }, {
                key: "getDistance",
                value: function() {
                    Math.sqrt(Math.pow(this.x - this.elX, 2) + Math.pow(this.y - this.elY, 2)) < this.distanceMax ? (clearTimeout(this.timeoutReset), this.targetX = this.x - this.elX, this.targetY = this.y - this.elY, this.isOut = !1, .06) : this.isOut || (.08, this.targetX = 0, this.targetY = 0, this.isOut = !0)
                }
            }, {
                key: "destroy",
                value: function() {
                    this.events(!1)
                }
            }]) && A(t.prototype, n), i && A(t, i), e
        }(),
        C = n(23),
        R = n(5);

    function O(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function D(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var I = function() {
            function e(t) {
                var n = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), D(this, "autoStagger", !0), D(this, "previousY", 0), D(this, "previousRatio", 0), D(this, "handleObserver", (function(e, t) {
                    e.forEach((function(e) {
                        if (e.isIntersecting && (n.autoStagger ? e.target.classList.add("auto-stagger") : e.target.classList.add("is-visible")), "true" === e.target.dataset.changeColor) {
                            var t = e.boundingClientRect.y,
                                i = e.intersectionRatio;
                            t < n.previousY ? i > n.previousRatio && (R.a.changeColors(1, !0), window.dispatchEvent(Object(h.a)(u.s, {
                                index: o.length,
                                changeColor: !0
                            }))) : t > n.previousY && i < n.previousRatio && (R.a.changeColors(0, !0), window.dispatchEvent(Object(h.a)(u.s, {
                                index: 0,
                                changeColor: !0
                            }))), n.previousY = t, n.previousRatio = i
                        }
                    }))
                })), D(this, "handleMouseenter", (function(e) {
                    window.dispatchEvent(Object(h.a)(u.s, {
                        index: e
                    })), e > o.length - 1 ? R.a.changeColors(1, !0) : R.a.changeColors(0, !0)
                })), D(this, "handleMouseleave", (function(e) {
                    window.dispatchEvent(Object(h.a)(u.t, {
                        index: e
                    }))
                })), D(this, "handleClick", (function(e) {
                    var t = "project";
                    e > o.length - 1 && (t = "lab"), J.menu.toRoadview({
                        goToProject: !0,
                        type: t,
                        index: e,
                        view: u.q
                    }), setTimeout((function() {
                        window.dispatchEvent(Object(h.a)(u.t, {
                            index: e
                        }))
                    }), 500), g.b.trigger(g.a.CLICK)
                })), this.el = t
            }
            var t, n, i;
            return t = e, (n = [{
                key: "init",
                value: function() {
                    var e = this;
                    this.container = this.el.querySelector("[data-listview]"), this.titles = this.el.querySelectorAll("[data-listview-title]"), this.items = this.el.querySelectorAll("[data-listview-item]"), this.splittedTexts = this.el.querySelectorAll("[data-split-text]"), this.changeColorThreshold = this.el.querySelector("[data-change-color]"), this.initObserver(), this.splitTextsTitles = [], this.splittedTexts.forEach((function(t) {
                        var n = new C.a(t, !0);
                        e.splitTextsTitles.push(n)
                    })), this.el.classList.add("is-visible"), setTimeout((function() {
                        var t = e.el.querySelectorAll(".auto-stagger"),
                            n = new f.c({
                                paused: !0,
                                delay: .2
                            }),
                            i = 0;
                        t.forEach((function(e) {
                            n.add((function() {
                                e.classList.add("is-visible")
                            }), i), i += .15
                        })), n.play()
                    }), 300), setTimeout((function() {
                        return e.autoStagger = !1
                    }), 1500), this.events(!0)
                }
            }, {
                key: "initObserver",
                value: function() {
                    var e = this,
                        t = {
                            root: this.container,
                            rootMargin: "0px",
                            threshold: 0
                        };
                    this.observer = new IntersectionObserver(this.handleObserver, t), this.items.forEach((function(t) {
                        e.observer.observe(t)
                    })), this.splittedTexts.forEach((function(t) {
                        e.observer.observe(t)
                    })), this.observer.observe(this.changeColorThreshold)
                }
            }, {
                key: "events",
                value: function(e) {
                    var t, n = this,
                        i = e ? "addEventListener" : "removeEventListener";
                    null === (t = this.titles) || void 0 === t || t.forEach((function(e, t) {
                        e[i]("mouseenter", (function() {
                            n.handleMouseenter(t)
                        })), e[i]("mouseleave", (function() {
                            n.handleMouseleave(t)
                        })), e[i]("click", (function() {
                            n.handleClick(t)
                        }))
                    }))
                }
            }, {
                key: "destroy",
                value: function() {
                    var e;
                    this.autoStagger = !0, null === (e = this.observer) || void 0 === e || e.disconnect(), this.observer = null, this.el.classList.remove("is-visible"), this.events(!1)
                }
            }]) && O(t.prototype, n), i && O(t, i), e
        }(),
        j = n(11);

    function k(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }
    var F = function() {
        function e(t) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this.el = t, this.titleEl = this.el.querySelector("[data-overview-projects-title]"), this.subtitleEl = this.el.querySelector("[data-overview-projects-subtitle]")
        }
        var t, n, i;
        return t = e, (n = [{
            key: "updateText",
            value: function(e) {
                var t, n, i = this;
                null === (t = this.tlRemove) || void 0 === t || t.kill(), this.tlUpdate = new f.c, this.titleEl.classList.remove("is-lab"), this.titleEl.classList.remove("is-project"), e >= o.length ? (n = l[e - o.length], this.titleEl.classList.add("is-lab")) : (n = o[e], this.titleEl.classList.add("is-project")), this.tlUpdate.to([this.titleEl, this.subtitleEl], {
                    opacity: 0,
                    duration: .2
                }), this.tlUpdate.add((function() {
                    i.titleEl.innerHTML = n.title, n.subtitle ? i.subtitleEl.innerHTML = n.subtitle : i.subtitleEl.innerHTML = "", i.el.classList.remove("is-scaled")
                })), this.tlUpdate.fromTo([this.titleEl, this.subtitleEl], {
                    opacity: 0
                }, {
                    opacity: 1,
                    duration: .8
                }, .2 + .1), this.tlUpdate.add((function() {
                    i.el.classList.add("is-scaled")
                }), .2 + .1)
            }
        }, {
            key: "removeText",
            value: function() {
                var e, t = this;
                null === (e = this.tlUpdate) || void 0 === e || e.kill(), this.tlRemove = new f.c, this.tlRemove.fromTo([this.titleEl, this.subtitleEl], {
                    opacity: 1
                }, {
                    opacity: 0,
                    duration: .2
                }), this.tlRemove.add((function() {
                    t.el.classList.remove("is-scaled"), t.titleEl.innerHTML = "", t.subtitleEl.innerHTML = ""
                }))
            }
        }]) && k(t.prototype, n), i && k(t, i), e
    }();

    function N(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function z(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var B = function() {
            function e(t) {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), z(this, "goToListView", (function() {
                    J.menu.toListview(), g.b.trigger(g.a.CLICK)
                })), z(this, "goToRoadView", (function() {
                    J.menu.toRoadview({}), g.b.trigger(g.a.CLICK)
                })), z(this, "goToAbout", (function() {
                    J.menu.toRoadview({
                        type: "about"
                    }), g.b.trigger(g.a.CLICK)
                })), this.el = t, this.aboutEl = this.el.querySelector("[data-sidebar-about]"), this.listviewEl = this.el.querySelector("[data-sidebar-listview]"), this.roadviewEl = this.el.querySelector("[data-sidebar-roadview]"), this.aboutEl.addEventListener("click", this.goToAbout), this.listviewEl.addEventListener("click", this.goToListView), this.roadviewEl.addEventListener("click", this.goToRoadView)
            }
            var t, n, i;
            return t = e, (n = [{
                key: "clearActive",
                value: function() {
                    this.listviewEl.classList.remove("is-active")
                }
            }]) && N(t.prototype, n), i && N(t, i), e
        }(),
        U = n(8);

    function V(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function H(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var G = function() {
        function e(t) {
            var n = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), H(this, "active", !1), H(this, "canSwitch", !1), H(this, "cameFromView", !1), H(this, "viewType", u.I), H(this, "show", (function() {
                n.el.parentNode.classList.add("is-visible")
            })), H(this, "hide", (function() {
                n.el.parentNode.classList.remove("is-visible")
            })), H(this, "toOverview", (function() {
                if (n.canSwitch && n.viewType !== u.x) {
                    g.b.trigger(g.a.CLICK), n.viewType = u.x, n.templateManager.hideScrollText(), n.canSwitch = !1, n.sidebar.clearActive(), n.showSidebar();
                    var e = n.cameFromView ? 1e3 * u.j : 0;
                    setTimeout((function() {
                        document.body.classList.add("no-scroll"), n.sidebar.el.classList.add("is-visible"), n.el.classList.add("is-active"), n.show(), window.dispatchEvent(Object(h.a)(u.N, {
                            type: u.x
                        })), j.a.toOverview((function() {})), U.a.updateObserver({
                            view: u.x
                        })
                    }), e), setTimeout((function() {
                        n.canSwitch = !0
                    }), 1e3), n.cameFromView === u.x ? window.dispatchEvent(Object(h.a)(u.w)) : n.cameFromView = !1
                }
            })), this.templateManager = t, this.active && document.body.classList.add("no-scroll"), this.el = document.body.querySelector("[data-menu]"), this.icon = this.el.querySelector("[data-menu-icon]");
            var i = document.body.querySelector("[data-sidebar]");
            this.sidebar = new B(i);
            var r = document.body.querySelector("[data-overview-projects]");
            this.overviewProjects = new F(r), this.icon.addEventListener("click", this.toOverview), window.addEventListener(u.a, this.show), window.addEventListener(u.n, this.hide)
        }
        var t, n, i;
        return t = e, (n = [{
            key: "toListview",
            value: function() {
                var e = this;
                if (this.canSwitch && this.viewType !== u.q) {
                    this.viewType = u.q, this.el.classList.remove("is-active"), this.sidebar.listviewEl.classList.add("is-active"), this.showSidebar(), this.overviewProjects.removeText(), this.canSwitch = !1;
                    var t = this.cameFromView === u.I ? 1e3 * u.j : 0;
                    R.a.changeColors(0, !0), setTimeout((function() {
                        e.templateManager.transitionInListview(), document.body.classList.add("no-scroll"), e.sidebar.el.classList.add("is-visible"), e.el.classList.remove("is-active"), e.cameFromView === u.q && e.show(), window.dispatchEvent(Object(h.a)(u.N, {
                            type: u.q
                        })), j.a.toListview((function() {})), U.a.updateObserver({
                            view: u.q
                        })
                    }), t), setTimeout((function() {
                        e.canSwitch = !0
                    }), 1e3), this.cameFromView === u.q ? window.dispatchEvent(Object(h.a)(u.w)) : this.cameFromView = !1
                }
            }
        }, {
            key: "toRoadview",
            value: function(e) {
                var t = this,
                    n = e.goToProject,
                    i = void 0 !== n && n,
                    r = e.type,
                    o = e.index,
                    a = e.view,
                    s = void 0 === a ? u.x : a;
                if (this.canSwitch && this.viewType !== u.I) {
                    this.viewType = u.I, this.hideSidebar(), this.cameFromView = !!i && s, this.overviewProjects.removeText(), this.canSwitch = !1;
                    var c = "about" === r,
                        l = i ? 1e3 * u.j : 0;
                    switch (r) {
                        default: R.a.changeColors(0, !0);
                        break;
                        case "lab":
                                R.a.changeColors(1, !0);
                            break;
                        case "about":
                                R.a.changeColors(2, !0)
                    }
                    i ? (this.hide(), s === u.q && this.templateManager.transitionOutListview(), window.dispatchEvent(Object(h.a)(u.w)), setTimeout((function() {
                        window.dispatchEvent(Object(h.a)(u.o, {
                            index: o,
                            view: s
                        }))
                    }), l), setTimeout((function() {
                        t.canSwitch = !0
                    }), 4e3)) : j.a.toRoadview((function() {
                        t.canSwitch = !0
                    }), r), setTimeout((function() {
                        t.el.classList.remove("is-active"), window.dispatchEvent(Object(h.a)(u.N, {
                            type: u.I,
                            goToProject: i,
                            index: o,
                            isAbout: c
                        })), t.sidebar.el.classList.remove("is-visible"), i || U.a.updateObserver({})
                    }), l)
                }
            }
        }, {
            key: "showSidebar",
            value: function() {
                this.active = !0
            }
        }, {
            key: "hideSidebar",
            value: function() {
                this.active = !1, this.sidebar.clearActive()
            }
        }]) && V(t.prototype, n), i && V(t, i), e
    }();

    function W(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function q(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var Y = function() {
        function e() {
            var t = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), q(this, "canSwitch", !0), q(this, "handleClick", (function() {
                t.isPlaying ? t.pause() : t.play()
            })), this.el = document.querySelector("[data-equalizer]"), this.lines = this.el.querySelectorAll("[data-equalizer-line]"), this.tls = [], this.lines.forEach((function(e) {
                var n = new f.c({
                    paused: !0,
                    repeat: -1,
                    yoyo: !0
                });
                n.fromTo(e, {
                    scaleY: .1
                }, {
                    scaleY: Object(p.c)(.1, 1),
                    duration: Object(p.c)(.5, 1)
                }), n.to(e, {
                    scaleY: Object(p.c)(.1, 1),
                    duration: Object(p.c)(.5, 1)
                }), n.to(e, {
                    scaleY: Object(p.c)(.1, 1),
                    duration: Object(p.c)(.5, 1)
                }), n.to(e, {
                    scaleY: Object(p.c)(.1, 1),
                    duration: Object(p.c)(.5, 1)
                }), t.tls.push(n)
            })), this.el.addEventListener("click", this.handleClick), this.play()
        }
        var t, n, i;
        return t = e, (n = [{
            key: "play",
            value: function() {
                var e = this;
                this.canSwitch && (this.canSwitch = !1, this.isPlaying = !0, g.b.fadeIn(), this.tls.forEach((function(e) {
                    e.restart()
                })), setTimeout((function() {
                    e.canSwitch = !0
                }), 500))
            }
        }, {
            key: "pause",
            value: function() {
                var e = this;
                this.canSwitch && (this.canSwitch = !1, this.isPlaying = !1, g.b.fadeOut(), this.tls.forEach((function(e) {
                    e.pause()
                })), f.d.to(this.lines, {
                    scaleY: .1,
                    duration: .8,
                    ease: "quad.out"
                }), setTimeout((function() {
                    e.canSwitch = !0
                }), 500))
            }
        }]) && W(t.prototype, n), i && W(t, i), e
    }();

    function X(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }
    var Z = function() {
            function e() {
                var t = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this.targetProject = document.querySelector("[data-scene-project]"), this.targetAbout = document.querySelector("[data-scene-about]"), this.targetMenu = document.querySelector("[data-scene-menu]"), this.targetIntro = document.querySelector("[data-intro]"), this.targetFooter = document.querySelector("[data-scene-footer]"), this.targetListview = document.querySelector("[data-scene-listview]"), this.elScrollText = document.querySelector("[data-scroll-text]"), this.touchZone = document.querySelector("[data-touch-zone]"), this.overlay = document.querySelector("[data-scene-overlay]"), this.projectBackCta = new x, this.introButton = new L, this.listview = new I(this.targetListview), window.addEventListener(u.n, (function(e) {
                    var n = e.detail,
                        i = n.directionCenter,
                        r = n.flagIndex,
                        o = n.type,
                        a = n.fromMenuView;
                    t.transitionInProject(i, r, o, a)
                })), window.addEventListener(u.N, (function(e) {
                    var n = e.detail.type;
                    n !== u.x && n !== u.I || t.transitionOutListview(), n === u.x || n === u.q ? (t.hideFooterIndicator(), t.showOverlay()) : (t.showFooterIndicator(), t.hideOverlay())
                })), this.transitionInIntro()
            }
            var t, n, i;
            return t = e, (n = [{
                key: "transitionInProject",
                value: function(e, t, n, i) {
                    var r = this;
                    this.targetProject.classList.remove("is-left"), this.targetProject.classList.remove("is-right"), this.targetProject.classList.remove("is-project"), this.targetProject.classList.remove("is-lab");
                    var o = "is-left";
                    1 === e && (o = "is-right"), d.b.isTouch && (this.touchZone.classList.remove("is-left"), this.touchZone.classList.remove("is-right"), this.touchZone.classList.add(o)), this.targetProject.classList.add(o), this.targetProject.classList.add("is-".concat(n)), this.updateProjects(t, n);
                    var a = this.targetProject.querySelector("[data-split-text]"),
                        s = new C.a(a),
                        c = this.targetProject.querySelectorAll("[data-appear]"),
                        l = i ? u.j : 0;
                    setTimeout((function() {
                        r.hideFooter(), r.targetProject.classList.add("is-visible"), setTimeout((function() {
                            s.show(), c.forEach((function(t) {
                                1 === e ? t.classList.add("is-right") : t.classList.add("is-left"), setTimeout((function() {
                                    return t.classList.add("is-visible")
                                }), 100)
                            }))
                        }), 400)
                    }), 1e3 * l)
                }
            }, {
                key: "transitionOutProject",
                value: function() {
                    var e = this;
                    setTimeout((function() {
                        e.targetProject.classList.remove("is-visible"), e.showFooter(), e.projectBackCta.destroy()
                    }))
                }
            }, {
                key: "updateProjects",
                value: function(e, t) {
                    var n, i = this;
                    "project" === t ? n = r()(o[e]) : "lab" === t && (n = c()(l[e - o.length])), this.targetProject.innerHTML = n, setTimeout((function() {
                        var e = i.targetProject.querySelector("[data-project-back-cta]");
                        i.projectBackCta.reset(e), i.targetProject.querySelectorAll(".project__block").forEach((function(e) {
                            e.addEventListener("click", (function(e) {
                                e.stopPropagation()
                            }))
                        }))
                    }), 1e3 * u.k)
                }
            }, {
                key: "transitionInSidebar",
                value: function() {
                    var e = this;
                    this.targetMenu.innerHTML = T()(), this.menu = new G(this), setTimeout((function() {
                        e.targetMenu.classList.add("is-visible")
                    }), 2500)
                }
            }, {
                key: "transitionInFooter",
                value: function() {
                    var e = this;
                    this.targetFooter.innerHTML = E()(a), this.equalizer = new Y, setTimeout((function() {
                        e.showFooter(), e.showFooterIndicator()
                    }), 2500)
                }
            }, {
                key: "transitionInListview",
                value: function() {
                    var e = this,
                        t = {
                            projects: o,
                            labs: l
                        };
                    this.targetListview.innerHTML = _()(t), setTimeout((function() {
                        e.listview.init()
                    }))
                }
            }, {
                key: "transitionOutListview",
                value: function() {
                    var e = this;
                    this.listview.el.classList.remove("is-visible"), setTimeout((function() {
                        e.listview.destroy(), e.targetListview.innerHTML = ""
                    }), 500)
                }
            }, {
                key: "transitionInIntro",
                value: function() {
                    this.targetIntro.style.opacity = 1;
                    var e = document.querySelector("[data-intro-button]");
                    this.introButton.reset(e)
                }
            }, {
                key: "hideScrollText",
                value: function() {
                    this.elScrollText.style.opacity = 0, this.elScrollText.classList.add("is-hidden")
                }
            }, {
                key: "showScrollText",
                value: function() {
                    this.elScrollText.style.opacity = .6, this.elScrollText.classList.remove("is-hidden"), this.menu.canSwitch = !0
                }
            }, {
                key: "showFooter",
                value: function() {
                    this.targetFooter.classList.add("is-visible")
                }
            }, {
                key: "hideFooter",
                value: function() {
                    this.targetFooter.classList.remove("is-visible")
                }
            }, {
                key: "showFooterIndicator",
                value: function() {
                    this.targetFooter.classList.add("show-indicator")
                }
            }, {
                key: "hideFooterIndicator",
                value: function() {
                    this.targetFooter.classList.remove("show-indicator")
                }
            }, {
                key: "showOverlay",
                value: function() {
                    this.overlay.classList.add("is-visible")
                }
            }, {
                key: "hideOverlay",
                value: function() {
                    this.overlay.classList.remove("is-visible")
                }
            }]) && X(t.prototype, n), i && X(t, i), e
        }(),
        J = t.a = new Z
}, function(e, t, n) {
    "use strict";
    var i = n(5),
        r = n(10),
        o = n(12),
        a = n(0);
    var s = function e() {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e);
        var t = o.a.createLine({
            offsetY: 15
        }).extraPoints;
        return new a.CatmullRomCurve3(t)
    };
    var c = function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var t = o.a.createLine({
                offsetY: 6
            }).extraPoints;
            return new a.CatmullRomCurve3(t)
        },
        l = n(17),
        u = n(7),
        h = n(3),
        d = n(2),
        p = n(1),
        f = n(8),
        m = n(4),
        v = n(9),
        g = n(6);

    function y(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var i = Object.getOwnPropertySymbols(e);
            t && (i = i.filter((function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, i)
        }
        return n
    }

    function b(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? y(Object(n), !0).forEach((function(t) {
                w(e, t, n[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : y(Object(n)).forEach((function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            }))
        }
        return e
    }

    function x(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function w(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var _ = -250,
        M = 700,
        T = 400,
        S = 2.08994244104142,
        E = .3006848912268313,
        A = -2.663408301288528,
        P = {
            x: 0,
            y: 700,
            z: 0
        },
        L = {
            x: 0,
            y: 400,
            z: 350
        },
        C = {
            x: -113.08831515877934,
            y: 4.140972751769578,
            z: 49.46062049598492
        },
        R = {
            x: .16969005233767223,
            y: -.792901791522309,
            z: .12145895589857225
        },
        O = function() {
            function e() {
                var t = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), w(this, "handleMouseMove", (function(e) {
                    if (t.canMove) {
                        var n = e.detail,
                            i = n.x,
                            r = n.y,
                            o = t.rotateForceX,
                            a = t.rotateForceY;
                        t.targetRotateX = -r * o, t.targetRotateY = -i * a + 180
                    }
                })), this.rotateForceX = 3.5, this.rotateForceY = 7.5, this.coefRotate = .05 / 15, this.coefMoveAlong = .1 / 15, this.targetRotateX = 0, this.targetRotateY = 180, this.canMove = !0, this.canMoveAlongTrail = !0, this.targetProgress = 0, this.lastProgress = 0
            }
            var t, n, o;
            return t = e, (n = [{
                key: "init",
                value: function(e) {
                    var t, n = this,
                        r = window.innerWidth / window.innerHeight;
                    if (this.initGUI(), this.scene = e, this.trail = new s(this.scene), this.trailLookAt = new c(this.scene), l.toggle_helpers && this.createLookAtDebug(), l.mode) this.camera = new a.PerspectiveCamera(45, r, .1, 1e4), this.camera.position.y = l.mode ? P.y : 0, this.camera.position.z = P.z, this.camera.lookAt(0, 0, 0), this.camera.updateProjectionMatrix();
                    else {
                        this.cameraBox = new a.Object3D, this.cameraBox.position.y = l.mode ? P.y : 0, this.cameraBox.position.z = 160;
                        var o = this.trail.getPoint(0),
                            h = this.trailLookAt.getPoint(this.guiController.lookAtProgress);
                        this.cameraBox.position.copy(o), this.cameraBox.lookAt(h), this.camera = new a.PerspectiveCamera(45, r, .1, 1e4), this.camera.rotation.x = Object(u.a)(this.targetRotateX), this.camera.rotation.y = Object(u.a)(this.targetRotateY), this.cameraBox.add(this.camera), this.lastPositionOnRoad = this.cameraBox.position.clone(), this.lastRotationOnRoad = this.cameraBox.rotation.clone()
                    }
                    this.lastTrailPosition = null === (t = this.cameraBox) || void 0 === t ? void 0 : t.position.clone(), this.lastTrailLookAt = this.trailLookAt.getPoint(i.a.progress + this.guiController.lookAtProgress), m.b.isTouch || window.addEventListener(p.u, this.handleMouseMove), window.addEventListener(p.n, (function(e) {
                        var t = e.detail,
                            i = t.zoomPosition,
                            r = t.zoomLookAt,
                            o = t.fromMenuView;
                        n.goToProject(i, r, o)
                    }))
                }
            }, {
                key: "addSectionTitle",
                value: function(e) {
                    var t = this;
                    this.sectionTitles = e, l.mode || e.forEach((function(e) {
                        e.mesh.position.z = -100, e.mesh.material.depthTest = !1, e.mesh.material.depthWrite = !1, e.mesh.renderOrder = p.H, t.camera.add(e.mesh)
                    }))
                }
            }, {
                key: "addOverlay",
                value: function(e) {
                    this.overlay = e, this.overlay.mesh.position.z = -this.overlay.distance, this.overlay.mesh.material.depthTest = !1, this.overlay.mesh.material.depthWrite = !1, this.overlay.mesh.renderOrder = p.G, this.camera.add(this.overlay.mesh)
                }
            }, {
                key: "addListFlag",
                value: function(e) {
                    this.listFlag = e, this.listFlag.object3d.position.z = -60, this.listFlag.object3d.position.x = -2, this.listFlag.object3d.rotation.y += Object(u.a)(-15), this.camera.add(this.listFlag.object3d)
                }
            }, {
                key: "initGUI",
                value: function() {
                    this.guiController = {
                        lookAtProgress: .03,
                        axeHelpX: 0,
                        axeHelpY: 0,
                        axeHelpZ: 0
                    }
                }
            }, {
                key: "createLookAtDebug",
                value: function() {
                    var e = new a.MeshBasicMaterial({
                            color: 16776960
                        }),
                        t = new a.SphereGeometry(.5, 32, 32);
                    this.lookAtDebug = new a.Mesh(t, e)
                }
            }, {
                key: "render",
                value: function(e, t) {
                    l.mode || (m.b.isTouch || this.mouseMoveCamera(t), !this.onZoomProject && this.canMoveAlongTrail && this.moveAlongTrail(t))
                }
            }, {
                key: "mouseMoveCamera",
                value: function(e) {
                    this.camera.rotation.x !== Object(u.a)(this.targetRotateX) && (this.camera.rotation.x = Object(h.b)(this.camera.rotation.x, Object(u.a)(this.targetRotateX), 18 * this.coefRotate)), this.camera.rotation.y !== Object(u.a)(this.targetRotateY) && (this.camera.rotation.y = Object(h.b)(this.camera.rotation.y, Object(u.a)(this.targetRotateY), 18 * this.coefRotate), this.camera.rotation.y = Object(u.a)(Object(h.a)(Object(u.b)(this.camera.rotation.y), 170, 190)))
                }
            }, {
                key: "moveAlongTrail",
                value: function(e) {
                    var t, n, r = i.a.progress,
                        o = i.a.targetProgress;
                    if (i.a.autoScrolled && (o = r), !isNaN(o) && o >= 0 && o <= 1) {
                        t = this.trail.getPoint(o);
                        var a = (o + this.guiController.lookAtProgress) % 1;
                        n = this.trailLookAt.getPoint(a), this.cameraBox.position.copy(t), this.lookAtDebug.position.copy(n), this.cameraBox.lookAt(n), this.lastPositionOnRoad = this.cameraBox.position.clone(), this.lastRotationOnRoad = this.cameraBox.rotation.clone(), this.lastProgress = r
                    }
                }
            }, {
                key: "goToProject",
                value: function(e, t, n) {
                    var r = this;
                    this.timelineBackRoad && this.timelineBackRoad.kill(), document.body.classList.add("no-scroll"), this.onZoomProject = !0;
                    var o = this.trailLookAt.getPoint(i.a.progress + this.guiController.lookAtProgress);
                    this.canMove = !0, g.b.trigger(g.a.MVT_CAMERA);
                    var a = n ? 3 : 2,
                        s = new d.c;
                    n ? (s.fromTo(this.cameraBox.position, {
                        x: e.x,
                        y: e.y + 50,
                        z: e.z
                    }, {
                        x: e.x,
                        y: e.y,
                        z: e.z,
                        ease: "expo.out",
                        duration: a
                    }, 0), s.fromTo(o, {
                        x: t.x,
                        y: t.y + 50,
                        z: t.z
                    }, {
                        x: t.x,
                        y: t.y,
                        z: t.z,
                        ease: "expo.out",
                        duration: a,
                        onUpdate: function() {
                            r.cameraBox.lookAt(o)
                        }
                    }, 0)) : (s.to(this.cameraBox.position, {
                        x: e.x,
                        y: e.y,
                        z: e.z,
                        ease: "expo.out",
                        duration: a
                    }, 0), s.to(o, {
                        x: t.x,
                        y: t.y,
                        z: t.z,
                        ease: "expo.out",
                        duration: a,
                        onUpdate: function() {
                            r.cameraBox.lookAt(o)
                        }
                    }, 0), this.lastTrailPosition = this.cameraBox.position.clone(), this.lastTrailLookAt = o.clone(), this.lastProjectLookAt = t.clone())
                }
            }, {
                key: "goBackRoad",
                value: function() {
                    var e = this;
                    g.b.trigger(g.a.MVT_CAMERA), this.timelineBackRoad = new d.c({
                        onComplete: function() {
                            e.onZoomProject = !1, document.body.classList.remove("no-scroll")
                        }
                    }), this.timelineBackRoad.to(this.cameraBox.position, {
                        x: this.lastTrailPosition.x,
                        y: this.lastTrailPosition.y,
                        z: this.lastTrailPosition.z,
                        ease: "quad.out",
                        duration: 1.2
                    }, 0), this.timelineBackRoad.to(this.lastProjectLookAt, {
                        x: this.lastTrailLookAt.x,
                        y: this.lastTrailLookAt.y,
                        z: this.lastTrailLookAt.z,
                        ease: "quad.out",
                        duration: 1.2,
                        onUpdate: function() {
                            e.cameraBox.lookAt(e.lastProjectLookAt)
                        }
                    }, 0)
                }
            }, {
                key: "toListview",
                value: function(e) {
                    this.canMoveAlongTrail = !1, m.b.isTouch || (this.targetRotateX = -2.4626, this.targetRotateY = 180.018, this.canMove = !1);
                    var t = new d.c({
                            onComplete: function() {
                                e()
                            }
                        }),
                        n = b({}, L),
                        i = this.lastRotationOnRoad.z >= 0 ? Object(u.a)(180) : Object(u.a)(-180),
                        o = {
                            x: Object(u.a)(130),
                            y: 0,
                            z: i
                        };
                    t.add((function() {
                        g.b.trigger(g.a.MVT_CAMERA_SLOW)
                    })), r.a.menu.cameFromView ? (t.fromTo(this.cameraBox.position, {
                        x: n.x,
                        y: n.y - 300,
                        z: n.z
                    }, {
                        x: n.x,
                        y: n.y,
                        z: n.z,
                        ease: "expo.out",
                        duration: 3
                    }, 0), t.fromTo(this.cameraBox.rotation, {
                        x: o.x,
                        y: o.y,
                        z: o.z
                    }, {
                        x: o.x,
                        y: o.y,
                        z: o.z,
                        duration: 3,
                        ease: "expo.out"
                    }, 0)) : (t.to(this.cameraBox.position, {
                        x: n.x,
                        y: n.y,
                        z: n.z,
                        duration: 3,
                        ease: "quart.out"
                    }, 0), t.to(this.cameraBox.rotation, {
                        x: o.x,
                        y: o.y,
                        z: o.z,
                        duration: 3,
                        ease: "quart.out"
                    }, 0)), this.tlMenuView = t
                }
            }, {
                key: "toOverview",
                value: function(e) {
                    var t;
                    null === (t = this.tlDefaultView) || void 0 === t || t.kill(), m.b.isTouch || (this.canMove = !0), this.canMoveAlongTrail = !1;
                    var n = b({}, P);
                    n.x += 0;
                    var i = new d.c({
                            onComplete: function() {
                                e()
                            }
                        }),
                        o = this.lastRotationOnRoad.z >= 0 ? Object(u.a)(180) : Object(u.a)(-180),
                        a = {
                            x: Object(u.a)(90),
                            y: 0,
                            z: o
                        };
                    i.add((function() {
                        g.b.trigger(g.a.MVT_CAMERA_SLOW)
                    })), r.a.menu.cameFromView ? (i.fromTo(this.cameraBox.position, {
                        x: n.x,
                        y: n.y - 300,
                        z: n.z
                    }, {
                        x: n.x,
                        y: n.y,
                        z: n.z,
                        ease: "expo.out",
                        duration: 4
                    }, 0), i.fromTo(this.cameraBox.rotation, {
                        x: a.x,
                        y: a.y,
                        z: a.z
                    }, {
                        x: a.x,
                        y: a.y,
                        z: a.z,
                        duration: 3,
                        ease: "expo.out"
                    }, 0)) : (i.to(this.cameraBox.position, {
                        x: n.x,
                        y: n.y,
                        z: n.z,
                        duration: 4,
                        ease: "quart.out"
                    }, 0), i.to(this.cameraBox.rotation, {
                        x: a.x,
                        y: a.y,
                        z: a.z,
                        duration: 3,
                        ease: "expo.out"
                    }, 0)), this.tlMenuView = i
                }
            }, {
                key: "toRoadview",
                value: function(e, t) {
                    var n, r = this;
                    null === (n = this.tlMenuView) || void 0 === n || n.kill(), this.targetRotateX = 0, this.targetRotateY = Object(u.a)(180), "about" === t && (this.lastPositionOnRoad = C, this.lastRotationOnRoad = R);
                    var o = new d.c({
                        onComplete: function() {
                            r.onZoomProject = !1, r.canMoveAlongTrail = !0, r.canMove = !0, e()
                        }
                    });
                    o.add((function() {
                        g.b.trigger(g.a.MVT_CAMERA_SLOW)
                    })), o.to(this.cameraBox.position, {
                        x: this.lastPositionOnRoad.x,
                        y: this.lastPositionOnRoad.y,
                        z: this.lastPositionOnRoad.z,
                        duration: 3,
                        ease: "expo.out"
                    }, 0), o.to(this.cameraBox.rotation, {
                        x: this.lastRotationOnRoad.x,
                        y: this.lastRotationOnRoad.y,
                        z: this.lastRotationOnRoad.z,
                        duration: 3,
                        ease: "expo.out"
                    }, 0), o.add((function() {
                        if ("about" === t) document.body.classList.remove("no-scroll"), i.a.progress = .8607816995298575, i.a.targetProgress = .8607816995298575, i.a.lastScroll = .8607816995298575, window.scrollTo(0, .8607816995298575 * i.a.maxHeight);
                        else {
                            document.body.classList.remove("no-scroll");
                            var e = window.scrollY;
                            window.dispatchEvent(Object(v.a)(p.J, {
                                scrollY: e
                            }))
                        }
                    }), 2.6), o.add((function() {
                        r.onZoomProject = !1, r.canMoveAlongTrail = !0, r.canMove = !0
                    }), 2.8), this.tlDefaultView = o
                }
            }, {
                key: "introToDefaultView",
                value: function() {
                    var e = this;
                    if (this.cameraBox) {
                        document.body.classList.add("no-scroll"), this.canMoveAlongTrail = !1;
                        var t = this.trail.getPoint(0);
                        i.a.progress = 1, this.cameraBox.position.set(_, M, T), this.targetRotateX = 0, this.targetRotateY = Object(u.a)(180), this.camera.rotation.x = this.targetRotateX, this.camera.rotation.y = this.targetRotateY, this.cameraBox.rotation.set(S, E, A), this.canMove = !0;
                        var n = new d.c({
                                onComplete: function() {
                                    e.onZoomProject = !1, e.canMoveAlongTrail = !0, document.body.classList.remove("no-scroll"), f.a.updateObserver({}), i.a.introFinished = !0, r.a.showScrollText()
                                },
                                paused: !1,
                                delay: p.i
                            }),
                            o = p.P,
                            a = p.P;
                        n.add((function() {
                            g.b.trigger(g.a.MVT_CAMERA_SLOW)
                        })), n.to(this.cameraBox.position, {
                            x: t.x,
                            y: t.y,
                            z: t.z,
                            duration: o,
                            ease: "quart"
                        }, 0), n.to(this.cameraBox.rotation, {
                            x: this.lastRotationOnRoad.x,
                            y: this.lastRotationOnRoad.y,
                            z: this.lastRotationOnRoad.z,
                            duration: a,
                            ease: "quart"
                        }, 0), n.add((function() {
                            e.sectionTitles[0].animate()
                        }), 1.5), n.add((function() {
                            i.a.progress = 0
                        }), 2)
                    }
                }
            }]) && x(t.prototype, n), o && x(t, o), e
        }();
    t.a = new O
}, function(e, t, n) {
    "use strict";
    var i = n(7),
        r = n(3),
        o = n(5),
        a = n(15),
        s = n.n(a),
        c = n(0),
        l = n(4),
        u = n(1),
        h = n(2);

    function d(e, t) {
        var n;
        if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
            if (Array.isArray(e) || (n = function(e, t) {
                    if (!e) return;
                    if ("string" == typeof e) return p(e, t);
                    var n = Object.prototype.toString.call(e).slice(8, -1);
                    "Object" === n && e.constructor && (n = e.constructor.name);
                    if ("Map" === n || "Set" === n) return Array.from(e);
                    if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return p(e, t)
                }(e)) || t && e && "number" == typeof e.length) {
                n && (e = n);
                var i = 0,
                    r = function() {};
                return {
                    s: r,
                    n: function() {
                        return i >= e.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: e[i++]
                        }
                    },
                    e: function(e) {
                        throw e
                    },
                    f: r
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var o, a = !0,
            s = !1;
        return {
            s: function() {
                n = e[Symbol.iterator]()
            },
            n: function() {
                var e = n.next();
                return a = e.done, e
            },
            e: function(e) {
                s = !0, o = e
            },
            f: function() {
                try {
                    a || null == n.return || n.return()
                } finally {
                    if (s) throw o
                }
            }
        }
    }

    function p(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
        return i
    }

    function f(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function m(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var v = function() {
            function e(t, n, i) {
                var o = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), m(this, "switchView", (function(e) {
                    var t, n = e.detail,
                        i = n.type,
                        r = n.goToProject;
                    if (null === (t = o.tlSwitchView) || void 0 === t || t.kill(), o.tlSwitchView = new h.c, i === u.x || i === u.q) {
                        var a = u.P;
                        o.tlSwitchView.to(o.material.uniforms.uMenuViewProgress, {
                            value: 1,
                            duration: a
                        }), o.menuViewOnly && (o.mesh.visible = !0)
                    } else if (i === u.p) {
                        o.tlSwitchView = new h.c({
                            paused: !1,
                            onComplete: function() {
                                o.menuViewOnly && (o.mesh.visible = !1)
                            },
                            delay: u.i
                        });
                        var s = u.P;
                        o.tlSwitchView.fromTo(o.material.uniforms.uMenuViewProgress, {
                            value: 1
                        }, {
                            value: 0,
                            duration: s,
                            ease: "quart"
                        }, 0), o.menuViewOnly && (o.mesh.visible = !0)
                    } else {
                        var c = r ? 1 : u.P - 1;
                        o.tlSwitchView.to(o.material.uniforms.uMenuViewProgress, {
                            value: 0,
                            duration: c
                        }), o.menuViewOnly && (o.mesh.visible = !1)
                    }
                })), m(this, "handleResize", (function() {
                    o.material.uniforms.uPixelRatio.value = l.b.dpr, o.material.uniforms.uScaleHeightPointSize.value = l.b.dpr * l.b.height / 2
                })), this.points = t, this.menuViewOnly = i, this.targetProgress = 0;
                var a = l.b.dpr;
                l.b.breakpoint === u.r && (a = 1);
                var d = {
                    uTime: {
                        value: 0
                    },
                    uProgress: {
                        value: 0
                    },
                    uNbPoints: {
                        value: 0
                    },
                    uAlphaOffset: {
                        value: Object(r.c)(0, 40)
                    },
                    uPixelRatio: {
                        value: a
                    },
                    uScaleHeightPointSize: {
                        value: l.b.dpr * l.b.height / 2
                    },
                    uMenuViewProgress: {
                        value: 0
                    },
                    uColor: {
                        value: new c.Color(0)
                    }
                };
                this.material = new c.RawShaderMaterial({
                    uniforms: d,
                    vertexShader: s()("precision highp float;\n#define GLSLIFY 1\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n// #pragma glslify: pnoise2 = require(glsl-noise/periodic/2d)\n// #pragma glslify: cnoise2 = require(glsl-noise/classic/2d)\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float uPointMultiplier;\nuniform float uTime;\nuniform float uProgress;\nuniform float uNbPoints;\nuniform float uAlphaOffset;\nuniform float uPixelRatio;\nuniform float uMenuViewProgress;\nuniform float uScaleHeightPointSize;\n\nattribute vec3 position;\nattribute float size;\nattribute float index;\n\nvarying float vSizeProgress;\nvarying float vAlpha;\n\nconst float offsetNextIndex = 4.0;\n// const float pointMultiplier = 550.0;\n#define PI 3.1415926538\n\nvoid main() {\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\tvec4 finalPosition = projectionMatrix * mvPosition;\n\n\t// Add noise displacement in vertex pos\n\t// float random = snoise2(vec2(sin(PI * 8. * index / uNbPoints) * 20., uTime));\n\t// finalPosition.y = finalPosition.y + random / 3.0;\n\t// finalPosition.x = finalPosition.x + random / 3.0;\n\t// finalPosition.z = finalPosition.z + random;\n  gl_Position = vec4(finalPosition);\n\n\t// PointSize progression\n\tvSizeProgress = smoothstep(0.0, 1.0, (uProgress * uNbPoints - index) / offsetNextIndex);\n\t// Add noise displacement in PointSize\n\tfloat randomSize = max((snoise(vec2(index / 20.0, uAlphaOffset)) + 1.0) / 2.0, 0.5);\n\t// based on uMenuViewProgress\n\t// uMenuViewProgress = 0 then --\x3e finalRandom = randomSize\n\t// uMenuViewProgress = 1 then --\x3e finalRandom = 1\n\tfloat finalRandomSize = (1. + randomSize * (1. - uMenuViewProgress)) - 1. * (1. - uMenuViewProgress);\n\n\tfloat pointMultiplier = 75.0 + 175. * uMenuViewProgress; // 50.\n\n\t// alpha\n\tvAlpha = 0.4 + (1.0 + sin(uAlphaOffset + index / 5.0 - uTime * 8.0)) / 2.0;\n\n\tgl_PointSize = vSizeProgress * size * pointMultiplier * (uScaleHeightPointSize / -mvPosition.z) * finalRandomSize;\n\n}\n"),
                    fragmentShader: s()("\nprecision highp float;\n#define GLSLIFY 1\n\nuniform float uTime;\nuniform float uAlphaOffset;\nuniform float uMenuViewProgress;\nuniform vec3 uColor;\n\nvarying float vSizeProgress;\nvarying float vAlpha;\n\nfloat circle(vec2 uv) {\n  // crunch in Y scale\n  uv.y /= (0.4 + 0.6 * uMenuViewProgress);\n\tfloat border = 0.2;\n\tfloat radius = 0.5;\n\tfloat dist = radius - distance(uv, vec2(0.5));\n  return smoothstep(0.0, border, dist);\n}\n\nvoid main() {\n  // vec2 coords = (gl_PointCoord - 0.5) + 0.5;\n  // gl_FragColor = texture2D(uDiffuseTexture, coords) * vec4(vColor.rgb, vColor.a * alpha);\n  gl_FragColor.rgb = vec3(uColor);\n  gl_FragColor.a = circle(gl_PointCoord);\n  gl_FragColor.a *= vAlpha * 0.5 * vSizeProgress;\n  gl_FragColor.a *= (1. - 0.65 * uMenuViewProgress);\n}\n"),
                    depthTest: !0,
                    depthWrite: !1,
                    transparent: !0,
                    opacity: 1
                }), this.createGeometry(), this.mesh = new c.Points(this.geometry, this.material), this.menuViewOnly && (this.mesh.visible = !1), u.Q, window.addEventListener(u.N, this.switchView), window.addEventListener(u.Q, this.handleResize)
            }
            var t, n, i;
            return t = e, (n = [{
                key: "createGeometry",
                value: function() {
                    this.geometry = new c.BufferGeometry;
                    var e, t = [],
                        n = [],
                        i = [],
                        r = 0,
                        o = d(this.points);
                    try {
                        for (o.s(); !(e = o.n()).done;) {
                            var a = e.value;
                            n.push(a.x, a.y, a.z), i.push(.025), t.push(r), r++
                        }
                    } catch (e) {
                        o.e(e)
                    } finally {
                        o.f()
                    }
                    this.material.uniforms.uNbPoints.value = this.points.length, this.geometry.setAttribute("position", new c.Float32BufferAttribute(n, 3)), this.geometry.setAttribute("size", new c.Float32BufferAttribute(i, 1)), this.geometry.setAttribute("index", new c.Float32BufferAttribute(t, 1))
                }
            }, {
                key: "render",
                value: function(e) {
                    this.material.uniforms.uTime.value += e / 2500;
                    var t = o.a.progress,
                        n = o.a.autoScrolled;
                    this.targetProgress = Object(r.b)(this.targetProgress, t + .093, .05 / 16 * e);
                    var i = this.targetProgress;
                    n && (this.targetProgress = t + .093), this.material.uniforms.uProgress.value = i
                }
            }]) && f(t.prototype, n), i && f(t, i), e
        }(),
        g = n(18);

    function y(e) {
        return function(e) {
            if (Array.isArray(e)) return b(e)
        }(e) || function(e) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e)
        }(e) || function(e, t) {
            if (!e) return;
            if ("string" == typeof e) return b(e, t);
            var n = Object.prototype.toString.call(e).slice(8, -1);
            "Object" === n && e.constructor && (n = e.constructor.name);
            if ("Map" === n || "Set" === n) return Array.from(e);
            if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return b(e, t)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function b(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
        return i
    }

    function x(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }
    var w = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e),
            function(e, t, n) {
                t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n
            }(this, "guiController", {
                offset360: 15,
                radius: 100,
                lineWidth: .1,
                lineNbPoint: 250,
                coefY: .1,
                showSpheres: !0
            }), this.createCenters(), this.mainRoad = this.createLine();
            var t = this.mainRoad.extraPoints;
            this.mainTrail = new c.CatmullRomCurve3(t)
        }
        var t, n, o;
        return t = e, (n = [{
            key: "createCenters",
            value: function() {
                this.lineMaterials = [];
                var e = -200;
                this.circleCenters = [];
                for (var t = 0; t < 3; t++) {
                    var n = new c.Vector3(e, 0, 0);
                    e += 200, this.circleCenters.push(n)
                }
            }
        }, {
            key: "createLine",
            value: function() {
                for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.particle, n = void 0 !== t && t, o = e.line, a = void 0 !== o && o, s = e.offsetY, l = void 0 === s ? 0 : s, u = e.radius, h = void 0 === u ? this.guiController.radius : u, d = e.offsetRadius, p = void 0 === d ? 0 : d, f = e.ext, m = void 0 !== f && f, v = e.globalIndex, g = void 0 === v ? 0 : v, b = [], x = m ? -1 : 1, w = [], _ = 100, M = 360 / _, T = 26, S = T / _, E = 0; E < this.circleCenters.length; E++) {
                    var A = this.circleCenters[E],
                        P = 180 - M,
                        L = [],
                        C = 0;
                    0 === E ? C = 0 : (1 === E || 2 === E) && (C = -T / 2);
                    for (var R = 0; R < _; R++) {
                        var O = P + M,
                            D = new c.Vector3(0, 0, 0),
                            I = 1;
                        1 === E && (I = -1), D.x = Math.cos(Object(i.a)(O)) * (h - p * I * x) + A.x, D.y = C + l, D.z = Math.sin(Object(i.a)(O)) * (h - p * I * x), P += M;
                        var j = void 0;
                        if (0 === E) j = "red", C += S, R + 1 === _ / 2 && (C = -T / 2);
                        else if (1 === E) {
                            j = "green";
                            var k = 2;
                            0 === R && (D.y = T / 2 + l - S), C += S * k, R === _ / 2 && (C = -T / 2)
                        } else 2 === E && (j = "blue", C += S);
                        L.push({
                            position: D,
                            center: A,
                            angle: O,
                            directionCenter: -1 * I,
                            color: j
                        })
                    }
                    w.push(L)
                }
                w[1].reverse();
                var F = _ / 2,
                    N = this.getLast(w[1], F);
                N.pop(), b = [].concat(y(this.getFirst(w[0], F)), [w[1][_ - 1]], y(this.getFirst(w[1], F - 1)), y(w[2]), [w[1][F - 1]], y(N), y(this.getLast(w[0], F)), [w[0][0]]);
                var z = a ? 3.4 : 1,
                    B = this.createTrail({
                        points: b,
                        particle: n,
                        line: a,
                        globalIndex: g,
                        coefExtraPoints: z
                    }),
                    U = B.extraPoints,
                    V = B.lines,
                    H = B.particles,
                    G = Object(r.c)(5e-5, 1e-4);
                return {
                    points: b,
                    extraPoints: U,
                    speed: G,
                    particles: H,
                    lines: V
                }
            }
        }, {
            key: "createTrail",
            value: function(e) {
                var t, n, i = e.points,
                    r = e.particle,
                    o = e.line,
                    a = e.globalIndex,
                    s = e.menuViewOnly,
                    l = e.coefExtraPoints,
                    u = void 0 === l ? 1 : l,
                    h = i.map((function(e) {
                        return e.position
                    })),
                    d = new c.CatmullRomCurve3(h).getPoints(this.guiController.lineNbPoint * u);
                return r ? t = new v(d, a, s) : o && (n = [new g.c(d, a), new g.c(d, a, .75), new g.c(d, a, .5), new g.c(d, a, .25)]), {
                    extraPoints: d,
                    lines: n,
                    particles: t
                }
            }
        }, {
            key: "getFirst",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 5;
                return e.slice(0, t)
            }
        }, {
            key: "getLast",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 5;
                return e.slice(Math.max(e.length - t, 1))
            }
        }]) && x(t.prototype, n), o && x(t, o), e
    }();
    t.a = new w
}, function(e, t, n) {
    "use strict";
    var i = n(0),
        r = function() {
            function e(e) {
                i.Loader.call(this, e), this.dracoLoader = null, this.ddsLoader = null
            }

            function t() {
                var e = {};
                return {
                    get: function(t) {
                        return e[t]
                    },
                    add: function(t, n) {
                        e[t] = n
                    },
                    remove: function(t) {
                        delete e[t]
                    },
                    removeAll: function() {
                        e = {}
                    }
                }
            }
            e.prototype = Object.assign(Object.create(i.Loader.prototype), {
                constructor: e,
                load: function(e, t, n, r) {
                    var o, a = this;
                    o = "" !== this.resourcePath ? this.resourcePath : "" !== this.path ? this.path : i.LoaderUtils.extractUrlBase(e), a.manager.itemStart(e);
                    var s = function(t) {
                            r ? r(t) : console.error(t), a.manager.itemError(e), a.manager.itemEnd(e)
                        },
                        c = new i.FileLoader(a.manager);
                    c.setPath(this.path), c.setResponseType("arraybuffer"), "use-credentials" === a.crossOrigin && c.setWithCredentials(!0), c.load(e, (function(n) {
                        try {
                            a.parse(n, o, (function(n) {
                                t(n), a.manager.itemEnd(e)
                            }), s)
                        } catch (e) {
                            s(e)
                        }
                    }), n, s)
                },
                setDRACOLoader: function(e) {
                    return this.dracoLoader = e, this
                },
                setDDSLoader: function(e) {
                    return this.ddsLoader = e, this
                },
                parse: function(e, t, c, l) {
                    var p, v = {};
                    if ("string" == typeof e) p = e;
                    else if (i.LoaderUtils.decodeText(new Uint8Array(e, 0, 4)) === s) {
                        try {
                            v[n.KHR_BINARY_GLTF] = new u(e)
                        } catch (e) {
                            return void(l && l(e))
                        }
                        p = v[n.KHR_BINARY_GLTF].content
                    } else p = i.LoaderUtils.decodeText(new Uint8Array(e));
                    var g = JSON.parse(p);
                    if (void 0 === g.asset || g.asset.version[0] < 2) l && l(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));
                    else {
                        if (g.extensionsUsed)
                            for (var y = 0; y < g.extensionsUsed.length; ++y) {
                                var b = g.extensionsUsed[y],
                                    x = g.extensionsRequired || [];
                                switch (b) {
                                    case n.KHR_LIGHTS_PUNCTUAL:
                                        v[b] = new o(g);
                                        break;
                                    case n.KHR_MATERIALS_UNLIT:
                                        v[b] = new a;
                                        break;
                                    case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:
                                        v[b] = new f;
                                        break;
                                    case n.KHR_DRACO_MESH_COMPRESSION:
                                        v[b] = new h(g, this.dracoLoader);
                                        break;
                                    case n.MSFT_TEXTURE_DDS:
                                        v[b] = new r(this.ddsLoader);
                                        break;
                                    case n.KHR_TEXTURE_TRANSFORM:
                                        v[b] = new d;
                                        break;
                                    case n.KHR_MESH_QUANTIZATION:
                                        v[b] = new m;
                                        break;
                                    default:
                                        x.indexOf(b) >= 0 && console.warn('THREE.GLTFLoader: Unknown extension "' + b + '".')
                                }
                            }
                        new B(g, v, {
                            path: t || this.resourcePath || "",
                            crossOrigin: this.crossOrigin,
                            manager: this.manager
                        }).parse(c, l)
                    }
                }
            });
            var n = {
                KHR_BINARY_GLTF: "KHR_binary_glTF",
                KHR_DRACO_MESH_COMPRESSION: "KHR_draco_mesh_compression",
                KHR_LIGHTS_PUNCTUAL: "KHR_lights_punctual",
                KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: "KHR_materials_pbrSpecularGlossiness",
                KHR_MATERIALS_UNLIT: "KHR_materials_unlit",
                KHR_TEXTURE_TRANSFORM: "KHR_texture_transform",
                KHR_MESH_QUANTIZATION: "KHR_mesh_quantization",
                MSFT_TEXTURE_DDS: "MSFT_texture_dds"
            };

            function r(e) {
                if (!e) throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");
                this.name = n.MSFT_TEXTURE_DDS, this.ddsLoader = e
            }

            function o(e) {
                this.name = n.KHR_LIGHTS_PUNCTUAL;
                var t = e.extensions && e.extensions[n.KHR_LIGHTS_PUNCTUAL] || {};
                this.lightDefs = t.lights || []
            }

            function a() {
                this.name = n.KHR_MATERIALS_UNLIT
            }
            o.prototype.loadLight = function(e) {
                var t, n = this.lightDefs[e],
                    r = new i.Color(16777215);
                void 0 !== n.color && r.fromArray(n.color);
                var o = void 0 !== n.range ? n.range : 0;
                switch (n.type) {
                    case "directional":
                        (t = new i.DirectionalLight(r)).target.position.set(0, 0, -1), t.add(t.target);
                        break;
                    case "point":
                        (t = new i.PointLight(r)).distance = o;
                        break;
                    case "spot":
                        (t = new i.SpotLight(r)).distance = o, n.spot = n.spot || {}, n.spot.innerConeAngle = void 0 !== n.spot.innerConeAngle ? n.spot.innerConeAngle : 0, n.spot.outerConeAngle = void 0 !== n.spot.outerConeAngle ? n.spot.outerConeAngle : Math.PI / 4, t.angle = n.spot.outerConeAngle, t.penumbra = 1 - n.spot.innerConeAngle / n.spot.outerConeAngle, t.target.position.set(0, 0, -1), t.add(t.target);
                        break;
                    default:
                        throw new Error('THREE.GLTFLoader: Unexpected light type, "' + n.type + '".')
                }
                return t.position.set(0, 0, 0), t.decay = 2, void 0 !== n.intensity && (t.intensity = n.intensity), t.name = n.name || "light_" + e, Promise.resolve(t)
            }, a.prototype.getMaterialType = function() {
                return i.MeshBasicMaterial
            }, a.prototype.extendParams = function(e, t, n) {
                var r = [];
                e.color = new i.Color(1, 1, 1), e.opacity = 1;
                var o = t.pbrMetallicRoughness;
                if (o) {
                    if (Array.isArray(o.baseColorFactor)) {
                        var a = o.baseColorFactor;
                        e.color.fromArray(a), e.opacity = a[3]
                    }
                    void 0 !== o.baseColorTexture && r.push(n.assignTexture(e, "map", o.baseColorTexture))
                }
                return Promise.all(r)
            };
            var s = "glTF",
                c = 1313821514,
                l = 5130562;

            function u(e) {
                this.name = n.KHR_BINARY_GLTF, this.content = null, this.body = null;
                var t = new DataView(e, 0, 12);
                if (this.header = {
                        magic: i.LoaderUtils.decodeText(new Uint8Array(e.slice(0, 4))),
                        version: t.getUint32(4, !0),
                        length: t.getUint32(8, !0)
                    }, this.header.magic !== s) throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");
                if (this.header.version < 2) throw new Error("THREE.GLTFLoader: Legacy binary file detected.");
                for (var r = new DataView(e, 12), o = 0; o < r.byteLength;) {
                    var a = r.getUint32(o, !0);
                    o += 4;
                    var u = r.getUint32(o, !0);
                    if (o += 4, u === c) {
                        var h = new Uint8Array(e, 12 + o, a);
                        this.content = i.LoaderUtils.decodeText(h)
                    } else if (u === l) {
                        var d = 12 + o;
                        this.body = e.slice(d, d + a)
                    }
                    o += a
                }
                if (null === this.content) throw new Error("THREE.GLTFLoader: JSON content not found.")
            }

            function h(e, t) {
                if (!t) throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");
                this.name = n.KHR_DRACO_MESH_COMPRESSION, this.json = e, this.dracoLoader = t, this.dracoLoader.preload()
            }

            function d() {
                this.name = n.KHR_TEXTURE_TRANSFORM
            }

            function p(e) {
                i.MeshStandardMaterial.call(this), this.isGLTFSpecularGlossinessMaterial = !0;
                var t = ["#ifdef USE_SPECULARMAP", "\tuniform sampler2D specularMap;", "#endif"].join("\n"),
                    n = ["#ifdef USE_GLOSSINESSMAP", "\tuniform sampler2D glossinessMap;", "#endif"].join("\n"),
                    r = ["vec3 specularFactor = specular;", "#ifdef USE_SPECULARMAP", "\tvec4 texelSpecular = texture2D( specularMap, vUv );", "\ttexelSpecular = sRGBToLinear( texelSpecular );", "\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture", "\tspecularFactor *= texelSpecular.rgb;", "#endif"].join("\n"),
                    o = ["float glossinessFactor = glossiness;", "#ifdef USE_GLOSSINESSMAP", "\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );", "\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture", "\tglossinessFactor *= texelGlossiness.a;", "#endif"].join("\n"),
                    a = ["PhysicalMaterial material;", "material.diffuseColor = diffuseColor.rgb;", "vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );", "float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );", "material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.", "material.specularRoughness += geometryRoughness;", "material.specularRoughness = min( material.specularRoughness, 1.0 );", "material.specularColor = specularFactor.rgb;"].join("\n"),
                    s = {
                        specular: {
                            value: (new i.Color).setHex(16777215)
                        },
                        glossiness: {
                            value: 1
                        },
                        specularMap: {
                            value: null
                        },
                        glossinessMap: {
                            value: null
                        }
                    };
                this._extraUniforms = s, this.onBeforeCompile = function(e) {
                    for (var i in s) e.uniforms[i] = s[i];
                    e.fragmentShader = e.fragmentShader.replace("uniform float roughness;", "uniform vec3 specular;"), e.fragmentShader = e.fragmentShader.replace("uniform float metalness;", "uniform float glossiness;"), e.fragmentShader = e.fragmentShader.replace("#include <roughnessmap_pars_fragment>", t), e.fragmentShader = e.fragmentShader.replace("#include <metalnessmap_pars_fragment>", n), e.fragmentShader = e.fragmentShader.replace("#include <roughnessmap_fragment>", r), e.fragmentShader = e.fragmentShader.replace("#include <metalnessmap_fragment>", o), e.fragmentShader = e.fragmentShader.replace("#include <lights_physical_fragment>", a)
                }, Object.defineProperties(this, {
                    specular: {
                        get: function() {
                            return s.specular.value
                        },
                        set: function(e) {
                            s.specular.value = e
                        }
                    },
                    specularMap: {
                        get: function() {
                            return s.specularMap.value
                        },
                        set: function(e) {
                            s.specularMap.value = e
                        }
                    },
                    glossiness: {
                        get: function() {
                            return s.glossiness.value
                        },
                        set: function(e) {
                            s.glossiness.value = e
                        }
                    },
                    glossinessMap: {
                        get: function() {
                            return s.glossinessMap.value
                        },
                        set: function(e) {
                            s.glossinessMap.value = e, e ? (this.defines.USE_GLOSSINESSMAP = "", this.defines.USE_ROUGHNESSMAP = "") : (delete this.defines.USE_ROUGHNESSMAP, delete this.defines.USE_GLOSSINESSMAP)
                        }
                    }
                }), delete this.metalness, delete this.roughness, delete this.metalnessMap, delete this.roughnessMap, this.setValues(e)
            }

            function f() {
                return {
                    name: n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,
                    specularGlossinessParams: ["color", "map", "lightMap", "lightMapIntensity", "aoMap", "aoMapIntensity", "emissive", "emissiveIntensity", "emissiveMap", "bumpMap", "bumpScale", "normalMap", "normalMapType", "displacementMap", "displacementScale", "displacementBias", "specularMap", "specular", "glossinessMap", "glossiness", "alphaMap", "envMap", "envMapIntensity", "refractionRatio"],
                    getMaterialType: function() {
                        return p
                    },
                    extendParams: function(e, t, n) {
                        var r = t.extensions[this.name];
                        e.color = new i.Color(1, 1, 1), e.opacity = 1;
                        var o = [];
                        if (Array.isArray(r.diffuseFactor)) {
                            var a = r.diffuseFactor;
                            e.color.fromArray(a), e.opacity = a[3]
                        }
                        if (void 0 !== r.diffuseTexture && o.push(n.assignTexture(e, "map", r.diffuseTexture)), e.emissive = new i.Color(0, 0, 0), e.glossiness = void 0 !== r.glossinessFactor ? r.glossinessFactor : 1, e.specular = new i.Color(1, 1, 1), Array.isArray(r.specularFactor) && e.specular.fromArray(r.specularFactor), void 0 !== r.specularGlossinessTexture) {
                            var s = r.specularGlossinessTexture;
                            o.push(n.assignTexture(e, "glossinessMap", s)), o.push(n.assignTexture(e, "specularMap", s))
                        }
                        return Promise.all(o)
                    },
                    createMaterial: function(e) {
                        var t = new p(e);
                        return t.fog = !0, t.color = e.color, t.map = void 0 === e.map ? null : e.map, t.lightMap = null, t.lightMapIntensity = 1, t.aoMap = void 0 === e.aoMap ? null : e.aoMap, t.aoMapIntensity = 1, t.emissive = e.emissive, t.emissiveIntensity = 1, t.emissiveMap = void 0 === e.emissiveMap ? null : e.emissiveMap, t.bumpMap = void 0 === e.bumpMap ? null : e.bumpMap, t.bumpScale = 1, t.normalMap = void 0 === e.normalMap ? null : e.normalMap, t.normalMapType = i.TangentSpaceNormalMap, e.normalScale && (t.normalScale = e.normalScale), t.displacementMap = null, t.displacementScale = 1, t.displacementBias = 0, t.specularMap = void 0 === e.specularMap ? null : e.specularMap, t.specular = e.specular, t.glossinessMap = void 0 === e.glossinessMap ? null : e.glossinessMap, t.glossiness = e.glossiness, t.alphaMap = null, t.envMap = void 0 === e.envMap ? null : e.envMap, t.envMapIntensity = 1, t.refractionRatio = .98, t
                    }
                }
            }

            function m() {
                this.name = n.KHR_MESH_QUANTIZATION
            }

            function v(e, t, n, r) {
                i.Interpolant.call(this, e, t, n, r)
            }
            h.prototype.decodePrimitive = function(e, t) {
                var n = this.json,
                    i = this.dracoLoader,
                    r = e.extensions[this.name].bufferView,
                    o = e.extensions[this.name].attributes,
                    a = {},
                    s = {},
                    c = {};
                for (var l in o) {
                    var u = P[l] || l.toLowerCase();
                    a[u] = o[l]
                }
                for (l in e.attributes) {
                    u = P[l] || l.toLowerCase();
                    if (void 0 !== o[l]) {
                        var h = n.accessors[e.attributes[l]],
                            d = T[h.componentType];
                        c[u] = d, s[u] = !0 === h.normalized
                    }
                }
                return t.getDependency("bufferView", r).then((function(e) {
                    return new Promise((function(t) {
                        i.decodeDracoFile(e, (function(e) {
                            for (var n in e.attributes) {
                                var i = e.attributes[n],
                                    r = s[n];
                                void 0 !== r && (i.normalized = r)
                            }
                            t(e)
                        }), a, c)
                    }))
                }))
            }, d.prototype.extendTexture = function(e, t) {
                return e = e.clone(), void 0 !== t.offset && e.offset.fromArray(t.offset), void 0 !== t.rotation && (e.rotation = t.rotation), void 0 !== t.scale && e.repeat.fromArray(t.scale), void 0 !== t.texCoord && console.warn('THREE.GLTFLoader: Custom UV sets in "' + this.name + '" extension not yet supported.'), e.needsUpdate = !0, e
            }, p.prototype = Object.create(i.MeshStandardMaterial.prototype), p.prototype.constructor = p, p.prototype.copy = function(e) {
                return i.MeshStandardMaterial.prototype.copy.call(this, e), this.specularMap = e.specularMap, this.specular.copy(e.specular), this.glossinessMap = e.glossinessMap, this.glossiness = e.glossiness, delete this.metalness, delete this.roughness, delete this.metalnessMap, delete this.roughnessMap, this
            }, v.prototype = Object.create(i.Interpolant.prototype), v.prototype.constructor = v, v.prototype.copySampleValue_ = function(e) {
                for (var t = this.resultBuffer, n = this.sampleValues, i = this.valueSize, r = e * i * 3 + i, o = 0; o !== i; o++) t[o] = n[r + o];
                return t
            }, v.prototype.beforeStart_ = v.prototype.copySampleValue_, v.prototype.afterEnd_ = v.prototype.copySampleValue_, v.prototype.interpolate_ = function(e, t, n, i) {
                for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = 2 * a, c = 3 * a, l = i - t, u = (n - t) / l, h = u * u, d = h * u, p = e * c, f = p - c, m = -2 * d + 3 * h, v = d - h, g = 1 - m, y = v - h + u, b = 0; b !== a; b++) {
                    var x = o[f + b + a],
                        w = o[f + b + s] * l,
                        _ = o[p + b + a],
                        M = o[p + b] * l;
                    r[b] = g * x + y * w + m * _ + v * M
                }
                return r
            };
            var g = 0,
                y = 1,
                b = 2,
                x = 3,
                w = 4,
                _ = 5,
                M = 6,
                T = {
                    5120: Int8Array,
                    5121: Uint8Array,
                    5122: Int16Array,
                    5123: Uint16Array,
                    5125: Uint32Array,
                    5126: Float32Array
                },
                S = {
                    9728: i.NearestFilter,
                    9729: i.LinearFilter,
                    9984: i.NearestMipmapNearestFilter,
                    9985: i.LinearMipmapNearestFilter,
                    9986: i.NearestMipmapLinearFilter,
                    9987: i.LinearMipmapLinearFilter
                },
                E = {
                    33071: i.ClampToEdgeWrapping,
                    33648: i.MirroredRepeatWrapping,
                    10497: i.RepeatWrapping
                },
                A = {
                    SCALAR: 1,
                    VEC2: 2,
                    VEC3: 3,
                    VEC4: 4,
                    MAT2: 4,
                    MAT3: 9,
                    MAT4: 16
                },
                P = {
                    POSITION: "position",
                    NORMAL: "normal",
                    TANGENT: "tangent",
                    TEXCOORD_0: "uv",
                    TEXCOORD_1: "uv2",
                    COLOR_0: "color",
                    WEIGHTS_0: "skinWeight",
                    JOINTS_0: "skinIndex"
                },
                L = {
                    scale: "scale",
                    translation: "position",
                    rotation: "quaternion",
                    weights: "morphTargetInfluences"
                },
                C = {
                    CUBICSPLINE: void 0,
                    LINEAR: i.InterpolateLinear,
                    STEP: i.InterpolateDiscrete
                },
                R = "OPAQUE",
                O = "MASK",
                D = "BLEND",
                I = {
                    "image/png": i.RGBAFormat,
                    "image/jpeg": i.RGBFormat
                };

            function j(e, t) {
                return "string" != typeof e || "" === e ? "" : (/^https?:\/\//i.test(t) && /^\//.test(e) && (t = t.replace(/(^https?:\/\/[^\/]+).*/i, "$1")), /^(https?:)?\/\//i.test(e) || /^data:.*,.*$/i.test(e) || /^blob:.*$/i.test(e) ? e : t + e)
            }

            function k(e, t, n) {
                for (var i in n.extensions) void 0 === e[i] && (t.userData.gltfExtensions = t.userData.gltfExtensions || {}, t.userData.gltfExtensions[i] = n.extensions[i])
            }

            function F(e, t) {
                void 0 !== t.extras && ("object" == typeof t.extras ? Object.assign(e.userData, t.extras) : console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, " + t.extras))
            }

            function N(e, t) {
                if (e.updateMorphTargets(), void 0 !== t.weights)
                    for (var n = 0, i = t.weights.length; n < i; n++) e.morphTargetInfluences[n] = t.weights[n];
                if (t.extras && Array.isArray(t.extras.targetNames)) {
                    var r = t.extras.targetNames;
                    if (e.morphTargetInfluences.length === r.length) {
                        e.morphTargetDictionary = {};
                        for (n = 0, i = r.length; n < i; n++) e.morphTargetDictionary[r[n]] = n
                    } else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")
                }
            }

            function z(e) {
                for (var t = "", n = Object.keys(e).sort(), i = 0, r = n.length; i < r; i++) t += n[i] + ":" + e[n[i]] + ";";
                return t
            }

            function B(e, n, r) {
                this.json = e || {}, this.extensions = n || {}, this.options = r || {}, this.cache = new t, this.primitiveCache = {}, this.textureLoader = new i.TextureLoader(this.options.manager), this.textureLoader.setCrossOrigin(this.options.crossOrigin), this.fileLoader = new i.FileLoader(this.options.manager), this.fileLoader.setResponseType("arraybuffer"), "use-credentials" === this.options.crossOrigin && this.fileLoader.setWithCredentials(!0)
            }

            function U(e, t, n) {
                var r = t.attributes,
                    o = [];

                function a(t, i) {
                    return n.getDependency("accessor", t).then((function(t) {
                        e.setAttribute(i, t)
                    }))
                }
                for (var s in r) {
                    var c = P[s] || s.toLowerCase();
                    c in e.attributes || o.push(a(r[s], c))
                }
                if (void 0 !== t.indices && !e.index) {
                    var l = n.getDependency("accessor", t.indices).then((function(t) {
                        e.setIndex(t)
                    }));
                    o.push(l)
                }
                return F(e, t),
                    function(e, t, n) {
                        var r = t.attributes,
                            o = new i.Box3;
                        if (void 0 !== r.POSITION) {
                            var a = (p = n.json.accessors[r.POSITION]).min,
                                s = p.max;
                            if (void 0 !== a && void 0 !== s) {
                                o.set(new i.Vector3(a[0], a[1], a[2]), new i.Vector3(s[0], s[1], s[2]));
                                var c = t.targets;
                                if (void 0 !== c)
                                    for (var l = new i.Vector3, u = 0, h = c.length; u < h; u++) {
                                        var d = c[u];
                                        if (void 0 !== d.POSITION) {
                                            var p;
                                            a = (p = n.json.accessors[d.POSITION]).min, s = p.max;
                                            void 0 !== a && void 0 !== s ? (l.setX(Math.max(Math.abs(a[0]), Math.abs(s[0]))), l.setY(Math.max(Math.abs(a[1]), Math.abs(s[1]))), l.setZ(Math.max(Math.abs(a[2]), Math.abs(s[2]))), o.expandByVector(l)) : console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")
                                        }
                                    }
                                e.boundingBox = o;
                                var f = new i.Sphere;
                                o.getCenter(f.center), f.radius = o.min.distanceTo(o.max) / 2, e.boundingSphere = f
                            } else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")
                        }
                    }(e, t, n), Promise.all(o).then((function() {
                        return void 0 !== t.targets ? function(e, t, n) {
                            for (var i = !1, r = !1, o = 0, a = t.length; o < a; o++) {
                                if (void 0 !== (l = t[o]).POSITION && (i = !0), void 0 !== l.NORMAL && (r = !0), i && r) break
                            }
                            if (!i && !r) return Promise.resolve(e);
                            var s = [],
                                c = [];
                            for (o = 0, a = t.length; o < a; o++) {
                                var l = t[o];
                                if (i) {
                                    var u = void 0 !== l.POSITION ? n.getDependency("accessor", l.POSITION) : e.attributes.position;
                                    s.push(u)
                                }
                                if (r) {
                                    u = void 0 !== l.NORMAL ? n.getDependency("accessor", l.NORMAL) : e.attributes.normal;
                                    c.push(u)
                                }
                            }
                            return Promise.all([Promise.all(s), Promise.all(c)]).then((function(t) {
                                var n = t[0],
                                    o = t[1];
                                return i && (e.morphAttributes.position = n), r && (e.morphAttributes.normal = o), e.morphTargetsRelative = !0, e
                            }))
                        }(e, t.targets, n) : e
                    }))
            }

            function V(e, t) {
                var n = e.getIndex();
                if (null === n) {
                    var r = [],
                        o = e.getAttribute("position");
                    if (void 0 === o) return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."), e;
                    for (var a = 0; a < o.count; a++) r.push(a);
                    e.setIndex(r), n = e.getIndex()
                }
                var s = n.count - 2,
                    c = [];
                if (t === i.TriangleFanDrawMode)
                    for (a = 1; a <= s; a++) c.push(n.getX(0)), c.push(n.getX(a)), c.push(n.getX(a + 1));
                else
                    for (a = 0; a < s; a++) a % 2 == 0 ? (c.push(n.getX(a)), c.push(n.getX(a + 1)), c.push(n.getX(a + 2))) : (c.push(n.getX(a + 2)), c.push(n.getX(a + 1)), c.push(n.getX(a)));
                c.length / 3 !== s && console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");
                var l = e.clone();
                return l.setIndex(c), l
            }
            return B.prototype.parse = function(e, t) {
                var n = this,
                    i = this.json,
                    r = this.extensions;
                this.cache.removeAll(), this.markDefs(), Promise.all([this.getDependencies("scene"), this.getDependencies("animation"), this.getDependencies("camera")]).then((function(t) {
                    var o = {
                        scene: t[0][i.scene || 0],
                        scenes: t[0],
                        animations: t[1],
                        cameras: t[2],
                        asset: i.asset,
                        parser: n,
                        userData: {}
                    };
                    k(r, o, i), F(o, i), e(o)
                })).catch(t)
            }, B.prototype.markDefs = function() {
                for (var e = this.json.nodes || [], t = this.json.skins || [], n = this.json.meshes || [], i = {}, r = {}, o = 0, a = t.length; o < a; o++)
                    for (var s = t[o].joints, c = 0, l = s.length; c < l; c++) e[s[c]].isBone = !0;
                for (var u = 0, h = e.length; u < h; u++) {
                    var d = e[u];
                    void 0 !== d.mesh && (void 0 === i[d.mesh] && (i[d.mesh] = r[d.mesh] = 0), i[d.mesh]++, void 0 !== d.skin && (n[d.mesh].isSkinnedMesh = !0))
                }
                this.json.meshReferences = i, this.json.meshUses = r
            }, B.prototype.getDependency = function(e, t) {
                var i = e + ":" + t,
                    r = this.cache.get(i);
                if (!r) {
                    switch (e) {
                        case "scene":
                            r = this.loadScene(t);
                            break;
                        case "node":
                            r = this.loadNode(t);
                            break;
                        case "mesh":
                            r = this.loadMesh(t);
                            break;
                        case "accessor":
                            r = this.loadAccessor(t);
                            break;
                        case "bufferView":
                            r = this.loadBufferView(t);
                            break;
                        case "buffer":
                            r = this.loadBuffer(t);
                            break;
                        case "material":
                            r = this.loadMaterial(t);
                            break;
                        case "texture":
                            r = this.loadTexture(t);
                            break;
                        case "skin":
                            r = this.loadSkin(t);
                            break;
                        case "animation":
                            r = this.loadAnimation(t);
                            break;
                        case "camera":
                            r = this.loadCamera(t);
                            break;
                        case "light":
                            r = this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(t);
                            break;
                        default:
                            throw new Error("Unknown type: " + e)
                    }
                    this.cache.add(i, r)
                }
                return r
            }, B.prototype.getDependencies = function(e) {
                var t = this.cache.get(e);
                if (!t) {
                    var n = this,
                        i = this.json[e + ("mesh" === e ? "es" : "s")] || [];
                    t = Promise.all(i.map((function(t, i) {
                        return n.getDependency(e, i)
                    }))), this.cache.add(e, t)
                }
                return t
            }, B.prototype.loadBuffer = function(e) {
                var t = this.json.buffers[e],
                    i = this.fileLoader;
                if (t.type && "arraybuffer" !== t.type) throw new Error("THREE.GLTFLoader: " + t.type + " buffer type is not supported.");
                if (void 0 === t.uri && 0 === e) return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);
                var r = this.options;
                return new Promise((function(e, n) {
                    i.load(j(t.uri, r.path), e, void 0, (function() {
                        n(new Error('THREE.GLTFLoader: Failed to load buffer "' + t.uri + '".'))
                    }))
                }))
            }, B.prototype.loadBufferView = function(e) {
                var t = this.json.bufferViews[e];
                return this.getDependency("buffer", t.buffer).then((function(e) {
                    var n = t.byteLength || 0,
                        i = t.byteOffset || 0;
                    return e.slice(i, i + n)
                }))
            }, B.prototype.loadAccessor = function(e) {
                var t = this,
                    n = this.json,
                    r = this.json.accessors[e];
                if (void 0 === r.bufferView && void 0 === r.sparse) return Promise.resolve(null);
                var o = [];
                return void 0 !== r.bufferView ? o.push(this.getDependency("bufferView", r.bufferView)) : o.push(null), void 0 !== r.sparse && (o.push(this.getDependency("bufferView", r.sparse.indices.bufferView)), o.push(this.getDependency("bufferView", r.sparse.values.bufferView))), Promise.all(o).then((function(e) {
                    var o, a, s = e[0],
                        c = A[r.type],
                        l = T[r.componentType],
                        u = l.BYTES_PER_ELEMENT,
                        h = u * c,
                        d = r.byteOffset || 0,
                        p = void 0 !== r.bufferView ? n.bufferViews[r.bufferView].byteStride : void 0,
                        f = !0 === r.normalized;
                    if (p && p !== h) {
                        var m = Math.floor(d / p),
                            v = "InterleavedBuffer:" + r.bufferView + ":" + r.componentType + ":" + m + ":" + r.count,
                            g = t.cache.get(v);
                        g || (o = new l(s, m * p, r.count * p / u), g = new i.InterleavedBuffer(o, p / u), t.cache.add(v, g)), a = new i.InterleavedBufferAttribute(g, c, d % p / u, f)
                    } else o = null === s ? new l(r.count * c) : new l(s, d, r.count * c), a = new i.BufferAttribute(o, c, f);
                    if (void 0 !== r.sparse) {
                        var y = A.SCALAR,
                            b = T[r.sparse.indices.componentType],
                            x = r.sparse.indices.byteOffset || 0,
                            w = r.sparse.values.byteOffset || 0,
                            _ = new b(e[1], x, r.sparse.count * y),
                            M = new l(e[2], w, r.sparse.count * c);
                        null !== s && (a = new i.BufferAttribute(a.array.slice(), a.itemSize, a.normalized));
                        for (var S = 0, E = _.length; S < E; S++) {
                            var P = _[S];
                            if (a.setX(P, M[S * c]), c >= 2 && a.setY(P, M[S * c + 1]), c >= 3 && a.setZ(P, M[S * c + 2]), c >= 4 && a.setW(P, M[S * c + 3]), c >= 5) throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")
                        }
                    }
                    return a
                }))
            }, B.prototype.loadTexture = function(e) {
                var t, r = this,
                    o = this.json,
                    a = this.options,
                    s = this.textureLoader,
                    c = window.URL || window.webkitURL,
                    l = o.textures[e],
                    u = l.extensions || {},
                    h = (t = u[n.MSFT_TEXTURE_DDS] ? o.images[u[n.MSFT_TEXTURE_DDS].source] : o.images[l.source]).uri,
                    d = !1;
                return void 0 !== t.bufferView && (h = r.getDependency("bufferView", t.bufferView).then((function(e) {
                    d = !0;
                    var n = new Blob([e], {
                        type: t.mimeType
                    });
                    return h = c.createObjectURL(n)
                }))), Promise.resolve(h).then((function(e) {
                    var t = a.manager.getHandler(e);
                    return t || (t = u[n.MSFT_TEXTURE_DDS] ? r.extensions[n.MSFT_TEXTURE_DDS].ddsLoader : s), new Promise((function(n, i) {
                        t.load(j(e, a.path), n, void 0, i)
                    }))
                })).then((function(e) {
                    !0 === d && c.revokeObjectURL(h), e.flipY = !1, void 0 !== l.name && (e.name = l.name), t.mimeType in I && (e.format = I[t.mimeType]);
                    var n = (o.samplers || {})[l.sampler] || {};
                    return e.magFilter = S[n.magFilter] || i.LinearFilter, e.minFilter = S[n.minFilter] || i.LinearMipmapLinearFilter, e.wrapS = E[n.wrapS] || i.RepeatWrapping, e.wrapT = E[n.wrapT] || i.RepeatWrapping, e
                }))
            }, B.prototype.assignTexture = function(e, t, r) {
                var o = this;
                return this.getDependency("texture", r.index).then((function(a) {
                    if (!a.isCompressedTexture) switch (t) {
                        case "aoMap":
                        case "emissiveMap":
                        case "metalnessMap":
                        case "normalMap":
                        case "roughnessMap":
                            a.format = i.RGBFormat
                    }
                    if (void 0 === r.texCoord || 0 == r.texCoord || "aoMap" === t && 1 == r.texCoord || console.warn("THREE.GLTFLoader: Custom UV set " + r.texCoord + " for texture " + t + " not yet supported."), o.extensions[n.KHR_TEXTURE_TRANSFORM]) {
                        var s = void 0 !== r.extensions ? r.extensions[n.KHR_TEXTURE_TRANSFORM] : void 0;
                        s && (a = o.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(a, s))
                    }
                    e[t] = a
                }))
            }, B.prototype.assignFinalMaterial = function(e) {
                var t = e.geometry,
                    n = e.material,
                    r = (this.extensions, void 0 !== t.attributes.tangent),
                    o = void 0 !== t.attributes.color,
                    a = void 0 === t.attributes.normal,
                    s = !0 === e.isSkinnedMesh,
                    c = Object.keys(t.morphAttributes).length > 0,
                    l = c && void 0 !== t.morphAttributes.normal;
                if (e.isPoints) {
                    var u = "PointsMaterial:" + n.uuid,
                        h = this.cache.get(u);
                    h || (h = new i.PointsMaterial, i.Material.prototype.copy.call(h, n), h.color.copy(n.color), h.map = n.map, h.sizeAttenuation = !1, this.cache.add(u, h)), n = h
                } else if (e.isLine) {
                    u = "LineBasicMaterial:" + n.uuid;
                    var d = this.cache.get(u);
                    d || (d = new i.LineBasicMaterial, i.Material.prototype.copy.call(d, n), d.color.copy(n.color), this.cache.add(u, d)), n = d
                }
                if (r || o || a || s || c) {
                    u = "ClonedMaterial:" + n.uuid + ":";
                    n.isGLTFSpecularGlossinessMaterial && (u += "specular-glossiness:"), s && (u += "skinning:"), r && (u += "vertex-tangents:"), o && (u += "vertex-colors:"), a && (u += "flat-shading:"), c && (u += "morph-targets:"), l && (u += "morph-normals:");
                    var p = this.cache.get(u);
                    p || (p = n.clone(), s && (p.skinning = !0), r && (p.vertexTangents = !0), o && (p.vertexColors = i.VertexColors), a && (p.flatShading = !0), c && (p.morphTargets = !0), l && (p.morphNormals = !0), this.cache.add(u, p)), n = p
                }
                n.aoMap && void 0 === t.attributes.uv2 && void 0 !== t.attributes.uv && t.setAttribute("uv2", new i.BufferAttribute(t.attributes.uv.array, 2)), n.normalScale && !r && (n.normalScale.y = -n.normalScale.y), e.material = n
            }, B.prototype.loadMaterial = function(e) {
                var t, r = this.json,
                    o = this.extensions,
                    a = r.materials[e],
                    s = {},
                    c = a.extensions || {},
                    l = [];
                if (c[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {
                    var u = o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];
                    t = u.getMaterialType(), l.push(u.extendParams(s, a, this))
                } else if (c[n.KHR_MATERIALS_UNLIT]) {
                    var h = o[n.KHR_MATERIALS_UNLIT];
                    t = h.getMaterialType(), l.push(h.extendParams(s, a, this))
                } else {
                    t = i.MeshStandardMaterial;
                    var d = a.pbrMetallicRoughness || {};
                    if (s.color = new i.Color(1, 1, 1), s.opacity = 1, Array.isArray(d.baseColorFactor)) {
                        var f = d.baseColorFactor;
                        s.color.fromArray(f), s.opacity = f[3]
                    }
                    void 0 !== d.baseColorTexture && l.push(this.assignTexture(s, "map", d.baseColorTexture)), s.metalness = void 0 !== d.metallicFactor ? d.metallicFactor : 1, s.roughness = void 0 !== d.roughnessFactor ? d.roughnessFactor : 1, void 0 !== d.metallicRoughnessTexture && (l.push(this.assignTexture(s, "metalnessMap", d.metallicRoughnessTexture)), l.push(this.assignTexture(s, "roughnessMap", d.metallicRoughnessTexture)))
                }!0 === a.doubleSided && (s.side = i.DoubleSide);
                var m = a.alphaMode || R;
                return m === D ? s.transparent = !0 : (s.transparent = !1, m === O && (s.alphaTest = void 0 !== a.alphaCutoff ? a.alphaCutoff : .5)), void 0 !== a.normalTexture && t !== i.MeshBasicMaterial && (l.push(this.assignTexture(s, "normalMap", a.normalTexture)), s.normalScale = new i.Vector2(1, 1), void 0 !== a.normalTexture.scale && s.normalScale.set(a.normalTexture.scale, a.normalTexture.scale)), void 0 !== a.occlusionTexture && t !== i.MeshBasicMaterial && (l.push(this.assignTexture(s, "aoMap", a.occlusionTexture)), void 0 !== a.occlusionTexture.strength && (s.aoMapIntensity = a.occlusionTexture.strength)), void 0 !== a.emissiveFactor && t !== i.MeshBasicMaterial && (s.emissive = (new i.Color).fromArray(a.emissiveFactor)), void 0 !== a.emissiveTexture && t !== i.MeshBasicMaterial && l.push(this.assignTexture(s, "emissiveMap", a.emissiveTexture)), Promise.all(l).then((function() {
                    var e;
                    return e = t === p ? o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s) : new t(s), void 0 !== a.name && (e.name = a.name), e.map && (e.map.encoding = i.sRGBEncoding), e.emissiveMap && (e.emissiveMap.encoding = i.sRGBEncoding), F(e, a), a.extensions && k(o, e, a), e
                }))
            }, B.prototype.loadGeometries = function(e) {
                var t = this,
                    r = this.extensions,
                    o = this.primitiveCache;

                function a(e) {
                    return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e, t).then((function(n) {
                        return U(n, e, t)
                    }))
                }
                for (var s, c, l = [], u = 0, h = e.length; u < h; u++) {
                    var d, p = e[u],
                        f = (c = void 0, (c = (s = p).extensions && s.extensions[n.KHR_DRACO_MESH_COMPRESSION]) ? "draco:" + c.bufferView + ":" + c.indices + ":" + z(c.attributes) : s.indices + ":" + z(s.attributes) + ":" + s.mode),
                        m = o[f];
                    if (m) l.push(m.promise);
                    else d = p.extensions && p.extensions[n.KHR_DRACO_MESH_COMPRESSION] ? a(p) : U(new i.BufferGeometry, p, t), o[f] = {
                        primitive: p,
                        promise: d
                    }, l.push(d)
                }
                return Promise.all(l)
            }, B.prototype.loadMesh = function(e) {
                for (var t, n = this, r = this.json.meshes[e], o = r.primitives, a = [], s = 0, c = o.length; s < c; s++) {
                    var l = void 0 === o[s].material ? (void 0 === (t = this.cache).DefaultMaterial && (t.DefaultMaterial = new i.MeshStandardMaterial({
                        color: 16777215,
                        emissive: 0,
                        metalness: 1,
                        roughness: 1,
                        transparent: !1,
                        depthTest: !0,
                        side: i.FrontSide
                    })), t.DefaultMaterial) : this.getDependency("material", o[s].material);
                    a.push(l)
                }
                return a.push(n.loadGeometries(o)), Promise.all(a).then((function(t) {
                    for (var a = t.slice(0, t.length - 1), s = t[t.length - 1], c = [], l = 0, u = s.length; l < u; l++) {
                        var h, d = s[l],
                            p = o[l],
                            f = a[l];
                        if (p.mode === w || p.mode === _ || p.mode === M || void 0 === p.mode) !0 !== (h = !0 === r.isSkinnedMesh ? new i.SkinnedMesh(d, f) : new i.Mesh(d, f)).isSkinnedMesh || h.geometry.attributes.skinWeight.normalized || h.normalizeSkinWeights(), p.mode === _ ? h.geometry = V(h.geometry, i.TriangleStripDrawMode) : p.mode === M && (h.geometry = V(h.geometry, i.TriangleFanDrawMode));
                        else if (p.mode === y) h = new i.LineSegments(d, f);
                        else if (p.mode === x) h = new i.Line(d, f);
                        else if (p.mode === b) h = new i.LineLoop(d, f);
                        else {
                            if (p.mode !== g) throw new Error("THREE.GLTFLoader: Primitive mode unsupported: " + p.mode);
                            h = new i.Points(d, f)
                        }
                        Object.keys(h.geometry.morphAttributes).length > 0 && N(h, r), h.name = r.name || "mesh_" + e, s.length > 1 && (h.name += "_" + l), F(h, r), n.assignFinalMaterial(h), c.push(h)
                    }
                    if (1 === c.length) return c[0];
                    var m = new i.Group;
                    for (l = 0, u = c.length; l < u; l++) m.add(c[l]);
                    return m
                }))
            }, B.prototype.loadCamera = function(e) {
                var t, n = this.json.cameras[e],
                    r = n[n.type];
                if (r) return "perspective" === n.type ? t = new i.PerspectiveCamera(i.MathUtils.radToDeg(r.yfov), r.aspectRatio || 1, r.znear || 1, r.zfar || 2e6) : "orthographic" === n.type && (t = new i.OrthographicCamera(r.xmag / -2, r.xmag / 2, r.ymag / 2, r.ymag / -2, r.znear, r.zfar)), void 0 !== n.name && (t.name = n.name), F(t, n), Promise.resolve(t);
                console.warn("THREE.GLTFLoader: Missing camera parameters.")
            }, B.prototype.loadSkin = function(e) {
                var t = this.json.skins[e],
                    n = {
                        joints: t.joints
                    };
                return void 0 === t.inverseBindMatrices ? Promise.resolve(n) : this.getDependency("accessor", t.inverseBindMatrices).then((function(e) {
                    return n.inverseBindMatrices = e, n
                }))
            }, B.prototype.loadAnimation = function(e) {
                for (var t = this.json.animations[e], n = [], r = [], o = [], a = [], s = [], c = 0, l = t.channels.length; c < l; c++) {
                    var u = t.channels[c],
                        h = t.samplers[u.sampler],
                        d = u.target,
                        p = void 0 !== d.node ? d.node : d.id,
                        f = void 0 !== t.parameters ? t.parameters[h.input] : h.input,
                        m = void 0 !== t.parameters ? t.parameters[h.output] : h.output;
                    n.push(this.getDependency("node", p)), r.push(this.getDependency("accessor", f)), o.push(this.getDependency("accessor", m)), a.push(h), s.push(d)
                }
                return Promise.all([Promise.all(n), Promise.all(r), Promise.all(o), Promise.all(a), Promise.all(s)]).then((function(n) {
                    for (var r = n[0], o = n[1], a = n[2], s = n[3], c = n[4], l = [], u = 0, h = r.length; u < h; u++) {
                        var d = r[u],
                            p = o[u],
                            f = a[u],
                            m = s[u],
                            g = c[u];
                        if (void 0 !== d) {
                            var y;
                            switch (d.updateMatrix(), d.matrixAutoUpdate = !0, L[g.path]) {
                                case L.weights:
                                    y = i.NumberKeyframeTrack;
                                    break;
                                case L.rotation:
                                    y = i.QuaternionKeyframeTrack;
                                    break;
                                case L.position:
                                case L.scale:
                                default:
                                    y = i.VectorKeyframeTrack
                            }
                            var b = d.name ? d.name : d.uuid,
                                x = void 0 !== m.interpolation ? C[m.interpolation] : i.InterpolateLinear,
                                w = [];
                            L[g.path] === L.weights ? d.traverse((function(e) {
                                !0 === e.isMesh && e.morphTargetInfluences && w.push(e.name ? e.name : e.uuid)
                            })) : w.push(b);
                            var _ = f.array;
                            if (f.normalized) {
                                var M;
                                if (_.constructor === Int8Array) M = 1 / 127;
                                else if (_.constructor === Uint8Array) M = 1 / 255;
                                else if (_.constructor == Int16Array) M = 1 / 32767;
                                else {
                                    if (_.constructor !== Uint16Array) throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");
                                    M = 1 / 65535
                                }
                                for (var T = new Float32Array(_.length), S = 0, E = _.length; S < E; S++) T[S] = _[S] * M;
                                _ = T
                            }
                            for (S = 0, E = w.length; S < E; S++) {
                                var A = new y(w[S] + "." + L[g.path], p.array, _, x);
                                "CUBICSPLINE" === m.interpolation && (A.createInterpolant = function(e) {
                                    return new v(this.times, this.values, this.getValueSize() / 3, e)
                                }, A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = !0), l.push(A)
                            }
                        }
                    }
                    var P = void 0 !== t.name ? t.name : "animation_" + e;
                    return new i.AnimationClip(P, void 0, l)
                }))
            }, B.prototype.loadNode = function(e) {
                var t, r = this.json,
                    o = this.extensions,
                    a = this,
                    s = r.meshReferences,
                    c = r.meshUses,
                    l = r.nodes[e];
                return (t = [], void 0 !== l.mesh && t.push(a.getDependency("mesh", l.mesh).then((function(e) {
                    var t;
                    if (s[l.mesh] > 1) {
                        var n = c[l.mesh]++;
                        (t = e.clone()).name += "_instance_" + n
                    } else t = e;
                    return void 0 !== l.weights && t.traverse((function(e) {
                        if (e.isMesh)
                            for (var t = 0, n = l.weights.length; t < n; t++) e.morphTargetInfluences[t] = l.weights[t]
                    })), t
                }))), void 0 !== l.camera && t.push(a.getDependency("camera", l.camera)), l.extensions && l.extensions[n.KHR_LIGHTS_PUNCTUAL] && void 0 !== l.extensions[n.KHR_LIGHTS_PUNCTUAL].light && t.push(a.getDependency("light", l.extensions[n.KHR_LIGHTS_PUNCTUAL].light)), Promise.all(t)).then((function(e) {
                    var t;
                    if ((t = !0 === l.isBone ? new i.Bone : e.length > 1 ? new i.Group : 1 === e.length ? e[0] : new i.Object3D) !== e[0])
                        for (var n = 0, r = e.length; n < r; n++) t.add(e[n]);
                    if (void 0 !== l.name && (t.userData.name = l.name, t.name = i.PropertyBinding.sanitizeNodeName(l.name)), F(t, l), l.extensions && k(o, t, l), void 0 !== l.matrix) {
                        var a = new i.Matrix4;
                        a.fromArray(l.matrix), t.applyMatrix4(a)
                    } else void 0 !== l.translation && t.position.fromArray(l.translation), void 0 !== l.rotation && t.quaternion.fromArray(l.rotation), void 0 !== l.scale && t.scale.fromArray(l.scale);
                    return t
                }))
            }, B.prototype.loadScene = function() {
                function e(t, n, r, o) {
                    var a = r.nodes[t];
                    return o.getDependency("node", t).then((function(e) {
                        return void 0 === a.skin ? e : o.getDependency("skin", a.skin).then((function(e) {
                            for (var n = [], i = 0, r = (t = e).joints.length; i < r; i++) n.push(o.getDependency("node", t.joints[i]));
                            return Promise.all(n)
                        })).then((function(n) {
                            return e.traverse((function(e) {
                                if (e.isMesh) {
                                    for (var r = [], o = [], a = 0, s = n.length; a < s; a++) {
                                        var c = n[a];
                                        if (c) {
                                            r.push(c);
                                            var l = new i.Matrix4;
                                            void 0 !== t.inverseBindMatrices && l.fromArray(t.inverseBindMatrices.array, 16 * a), o.push(l)
                                        } else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.', t.joints[a])
                                    }
                                    e.bind(new i.Skeleton(r, o), e.matrixWorld)
                                }
                            })), e
                        }));
                        var t
                    })).then((function(t) {
                        n.add(t);
                        var i = [];
                        if (a.children)
                            for (var s = a.children, c = 0, l = s.length; c < l; c++) {
                                var u = s[c];
                                i.push(e(u, t, r, o))
                            }
                        return Promise.all(i)
                    }))
                }
                return function(t) {
                    var n = this.json,
                        r = this.extensions,
                        o = this.json.scenes[t],
                        a = new i.Scene;
                    void 0 !== o.name && (a.name = o.name), F(a, o), o.extensions && k(r, a, o);
                    for (var s = o.nodes || [], c = [], l = 0, u = s.length; l < u; l++) c.push(e(s[l], a, n, this));
                    return Promise.all(c).then((function() {
                        return a
                    }))
                }
            }(), e
        }(),
        o = function(e) {
            i.Loader.call(this, e), this.decoderPath = "", this.decoderConfig = {}, this.decoderBinary = null, this.decoderPending = null, this.workerLimit = 4, this.workerPool = [], this.workerNextTaskID = 1, this.workerSourceURL = "", this.defaultAttributeIDs = {
                position: "POSITION",
                normal: "NORMAL",
                color: "COLOR",
                uv: "TEX_COORD"
            }, this.defaultAttributeTypes = {
                position: "Float32Array",
                normal: "Float32Array",
                color: "Float32Array",
                uv: "Float32Array"
            }
        };
    o.prototype = Object.assign(Object.create(i.Loader.prototype), {
        constructor: o,
        setDecoderPath: function(e) {
            return this.decoderPath = e, this
        },
        setDecoderConfig: function(e) {
            return this.decoderConfig = e, this
        },
        setWorkerLimit: function(e) {
            return this.workerLimit = e, this
        },
        setVerbosity: function() {
            console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")
        },
        setDrawMode: function() {
            console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")
        },
        setSkipDequantization: function() {
            console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")
        },
        load: function(e, t, n, r) {
            var o = new i.FileLoader(this.manager);
            o.setPath(this.path), o.setResponseType("arraybuffer"), "use-credentials" === this.crossOrigin && o.setWithCredentials(!0), o.load(e, e => {
                var n = {
                    attributeIDs: this.defaultAttributeIDs,
                    attributeTypes: this.defaultAttributeTypes,
                    useUniqueIDs: !1
                };
                this.decodeGeometry(e, n).then(t).catch(r)
            }, n, r)
        },
        decodeDracoFile: function(e, t, n, i) {
            var r = {
                attributeIDs: n || this.defaultAttributeIDs,
                attributeTypes: i || this.defaultAttributeTypes,
                useUniqueIDs: !!n
            };
            this.decodeGeometry(e, r).then(t)
        },
        decodeGeometry: function(e, t) {
            for (var n in t.attributeTypes) {
                var i = t.attributeTypes[n];
                void 0 !== i.BYTES_PER_ELEMENT && (t.attributeTypes[n] = i.name)
            }
            var r, a = JSON.stringify(t);
            if (o.taskCache.has(e)) {
                var s = o.taskCache.get(e);
                if (s.key === a) return s.promise;
                if (0 === e.byteLength) throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")
            }
            var c = this.workerNextTaskID++,
                l = e.byteLength,
                u = this._getWorker(c, l).then(n => (r = n, new Promise((n, i) => {
                    r._callbacks[c] = {
                        resolve: n,
                        reject: i
                    }, r.postMessage({
                        type: "decode",
                        id: c,
                        taskConfig: t,
                        buffer: e
                    }, [e])
                }))).then(e => this._createGeometry(e.geometry));
            return u.finally(() => {
                r && c && this._releaseTask(r, c)
            }), o.taskCache.set(e, {
                key: a,
                promise: u
            }), u
        },
        _createGeometry: function(e) {
            var t = new i.BufferGeometry;
            e.index && t.setIndex(new i.BufferAttribute(e.index.array, 1));
            for (var n = 0; n < e.attributes.length; n++) {
                var r = e.attributes[n],
                    o = r.name,
                    a = r.array,
                    s = r.itemSize;
                t.setAttribute(o, new i.BufferAttribute(a, s))
            }
            return t
        },
        _loadLibrary: function(e, t) {
            var n = new i.FileLoader(this.manager);
            return n.setPath(this.decoderPath), n.setResponseType(t), new Promise((t, i) => {
                n.load(e, t, void 0, i)
            })
        },
        preload: function() {
            return this._initDecoder(), this
        },
        _initDecoder: function() {
            if (this.decoderPending) return this.decoderPending;
            var e = "object" != typeof WebAssembly || "js" === this.decoderConfig.type,
                t = [];
            return e ? t.push(this._loadLibrary("draco_decoder.js", "text")) : (t.push(this._loadLibrary("draco_wasm_wrapper.js", "text")), t.push(this._loadLibrary("draco_decoder.wasm", "arraybuffer"))), this.decoderPending = Promise.all(t).then(t => {
                var n = t[0];
                e || (this.decoderConfig.wasmBinary = t[1]);
                var i = o.DRACOWorker.toString(),
                    r = ["/* draco decoder */", n, "", "/* worker */", i.substring(i.indexOf("{") + 1, i.lastIndexOf("}"))].join("\n");
                this.workerSourceURL = URL.createObjectURL(new Blob([r]))
            }), this.decoderPending
        },
        _getWorker: function(e, t) {
            return this._initDecoder().then(() => {
                var n;
                this.workerPool.length < this.workerLimit ? ((n = new Worker(this.workerSourceURL))._callbacks = {}, n._taskCosts = {}, n._taskLoad = 0, n.postMessage({
                    type: "init",
                    decoderConfig: this.decoderConfig
                }), n.onmessage = function(e) {
                    var t = e.data;
                    switch (t.type) {
                        case "decode":
                            n._callbacks[t.id].resolve(t);
                            break;
                        case "error":
                            n._callbacks[t.id].reject(t);
                            break;
                        default:
                            console.error('THREE.DRACOLoader: Unexpected message, "' + t.type + '"')
                    }
                }, this.workerPool.push(n)) : this.workerPool.sort((function(e, t) {
                    return e._taskLoad > t._taskLoad ? -1 : 1
                }));
                return (n = this.workerPool[this.workerPool.length - 1])._taskCosts[e] = t, n._taskLoad += t, n
            })
        },
        _releaseTask: function(e, t) {
            e._taskLoad -= e._taskCosts[t], delete e._callbacks[t], delete e._taskCosts[t]
        },
        debug: function() {
            console.log("Task load: ", this.workerPool.map(e => e._taskLoad))
        },
        dispose: function() {
            for (var e = 0; e < this.workerPool.length; ++e) this.workerPool[e].terminate();
            return this.workerPool.length = 0, this
        }
    }), o.DRACOWorker = function() {
        var e, t;

        function n(e, t, n, i, r, o) {
            var a, s, c = o.num_components(),
                l = n.num_points() * c;
            switch (r) {
                case Float32Array:
                    a = new e.DracoFloat32Array, t.GetAttributeFloatForAllPoints(n, o, a), s = new Float32Array(l);
                    break;
                case Int8Array:
                    a = new e.DracoInt8Array, t.GetAttributeInt8ForAllPoints(n, o, a), s = new Int8Array(l);
                    break;
                case Int16Array:
                    a = new e.DracoInt16Array, t.GetAttributeInt16ForAllPoints(n, o, a), s = new Int16Array(l);
                    break;
                case Int32Array:
                    a = new e.DracoInt32Array, t.GetAttributeInt32ForAllPoints(n, o, a), s = new Int32Array(l);
                    break;
                case Uint8Array:
                    a = new e.DracoUInt8Array, t.GetAttributeUInt8ForAllPoints(n, o, a), s = new Uint8Array(l);
                    break;
                case Uint16Array:
                    a = new e.DracoUInt16Array, t.GetAttributeUInt16ForAllPoints(n, o, a), s = new Uint16Array(l);
                    break;
                case Uint32Array:
                    a = new e.DracoUInt32Array, t.GetAttributeUInt32ForAllPoints(n, o, a), s = new Uint32Array(l);
                    break;
                default:
                    throw new Error("THREE.DRACOLoader: Unexpected attribute type.")
            }
            for (var u = 0; u < l; u++) s[u] = a.GetValue(u);
            return e.destroy(a), {
                name: i,
                array: s,
                itemSize: c
            }
        }
        onmessage = function(i) {
            var r = i.data;
            switch (r.type) {
                case "init":
                    e = r.decoderConfig, t = new Promise((function(t) {
                        e.onModuleLoaded = function(e) {
                            t({
                                draco: e
                            })
                        }, DracoDecoderModule(e)
                    }));
                    break;
                case "decode":
                    var o = r.buffer,
                        a = r.taskConfig;
                    t.then(e => {
                        var t = e.draco,
                            i = new t.Decoder,
                            s = new t.DecoderBuffer;
                        s.Init(new Int8Array(o), o.byteLength);
                        try {
                            var c = function(e, t, i, r) {
                                    var o, a, s = r.attributeIDs,
                                        c = r.attributeTypes,
                                        l = t.GetEncodedGeometryType(i);
                                    if (l === e.TRIANGULAR_MESH) o = new e.Mesh, a = t.DecodeBufferToMesh(i, o);
                                    else {
                                        if (l !== e.POINT_CLOUD) throw new Error("THREE.DRACOLoader: Unexpected geometry type.");
                                        o = new e.PointCloud, a = t.DecodeBufferToPointCloud(i, o)
                                    }
                                    if (!a.ok() || 0 === o.ptr) throw new Error("THREE.DRACOLoader: Decoding failed: " + a.error_msg());
                                    var u = {
                                        index: null,
                                        attributes: []
                                    };
                                    for (var h in s) {
                                        var d, p, f = self[c[h]];
                                        if (r.useUniqueIDs) p = s[h], d = t.GetAttributeByUniqueId(o, p);
                                        else {
                                            if (-1 === (p = t.GetAttributeId(o, e[s[h]]))) continue;
                                            d = t.GetAttribute(o, p)
                                        }
                                        u.attributes.push(n(e, t, o, h, f, d))
                                    }
                                    if (l === e.TRIANGULAR_MESH) {
                                        for (var m = o.num_faces(), v = new Uint32Array(3 * m), g = new e.DracoInt32Array, y = 0; y < m; ++y) {
                                            t.GetFaceFromMesh(o, y, g);
                                            for (var b = 0; b < 3; ++b) v[3 * y + b] = g.GetValue(b)
                                        }
                                        u.index = {
                                            array: v,
                                            itemSize: 1
                                        }, e.destroy(g)
                                    }
                                    return e.destroy(o), u
                                }(t, i, s, a),
                                l = c.attributes.map(e => e.array.buffer);
                            c.index && l.push(c.index.array.buffer), self.postMessage({
                                type: "decode",
                                id: r.id,
                                geometry: c
                            }, l)
                        } catch (e) {
                            console.error(e), self.postMessage({
                                type: "error",
                                id: r.id,
                                error: e.message
                            })
                        } finally {
                            t.destroy(s), t.destroy(i)
                        }
                    })
            }
        }
    }, o.taskCache = new WeakMap, o.setDecoderPath = function() {
        console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")
    }, o.setDecoderConfig = function() {
        console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")
    }, o.releaseDecoderModule = function() {
        console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")
    }, o.getDecoderModule = function() {
        console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")
    };
    var a = n(55),
        s = n.n(a);

    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }
    var l = function() {
        function e() {
            var t = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e),
            function(e, t, n) {
                t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n
            }(this, "load", (function(e, n) {
                for (var i = [], r = 0; r < e.length; r++) {
                    var o = e[r],
                        a = o.name,
                        s = o.gltf,
                        c = o.texture,
                        l = o.img,
                        u = o.bmfont;
                    t.subjects[a] || (t.subjects[a] = {}), s && i.push(t.loadGLTF(s, a)), c && i.push(t.loadTexture(c, a)), l && i.push(t.loadImage(l, a)), u && i.push(t.loadBMFont(u, a))
                }
                Promise.all(i).then(n)
            })), this.subjects = {}, this.textureLoader = new i.TextureLoader, this.GLTFLoader = new r, this.DRACOLoader = new o, this.bmfontLoader = s.a
        }
        var t, n, a;
        return t = e, (n = [{
            key: "loadGLTF",
            value: function(e, t) {
                var n = this;
                return new Promise((function(i) {
                    n.DRACOLoader.setDecoderPath("../scene/vendor/three/draco/"), n.GLTFLoader.setDRACOLoader(n.DRACOLoader), n.GLTFLoader.load(e, (function(e) {
                        n.subjects[t].gltf = e, i(e)
                    }), void 0, (function(e) {
                        console.log(e)
                    }))
                }))
            }
        }, {
            key: "loadTexture",
            value: function(e, t) {
                var n = this;
                return this.subjects[t] || (this.subjects[t] = {}), new Promise((function(i) {
                    n.textureLoader.load(e, (function(e) {
                        n.subjects[t].texture = e, i(e)
                    }))
                }))
            }
        }, {
            key: "loadImage",
            value: function(e, t) {
                var n = this;
                return new Promise((function(i) {
                    var r = new Image;
                    r.onload = function() {
                        n.subjects[t].img = r, i(r)
                    }, r.src = e
                }))
            }
        }, {
            key: "loadBMFont",
            value: function(e, t) {
                var n = this;
                return new Promise((function(i) {
                    n.bmfontLoader(e, (function(e, r) {
                        n.subjects[t].bmfont = r, i(r)
                    }))
                }))
            }
        }]) && c(t.prototype, n), a && c(t, a), e
    }();
    t.a = new l
}, function(e) {
    e.exports = JSON.parse('[{"id":"pernot","title":"Proflo-U","subtitle":"Your Kidney Confidante","images":["profol-u-1.jpg","profol-u-4.jpg","proflo-u-3.mp4"],"mobile":["profol-u-1.jpg","profol-u-4.jpg","proflo-u-3.mp4"],"client":"1926 Lives touched.","year":2022,"technologies":"Macro-cuvette Technology","description":"The ProFlo-U® system provides unprecedented ease-of-use, clinically accurate method of identifying microalbuminuria – before clinical onset of symptoms in direct or indirect renal complications. ProFlo-U® patented sensor technology and ultra-sensitive optical system of the ProFlo-U® Analyzer provides quantitative values right at the point of care. This enables care-provider to take right decisions and improves the well-being of the patient.","url":"https://www.proflou.com/","awards":[""]},{"id":"crumbskees","title":"The crumbskees","subtitle":"Upperquad","client":"Upperquad","year":2020,"technologies":"React, Canvas 2D","images":["crumbskees-1.mp4","crumbskees-2-p.mp4","crumbskees-3.jpeg"],"mobile":["crumbskees-1.mp4","crumbskees-2.mp4","crumbskees-3.jpeg"],"description":"A really fun 2 players game website made at Upperquad for the San Francisco Design Week.","url":"https://crumbskees.com/","awards":["SOTD Awwwards","FWA","CommArts Interactive"]},{"id":"jigsaw","title":"Jigsaw","subtitle":"Google - Upperquad","client":"Google - Upperquad","year":2020,"technologies":"Google bracket, JavaScript","images":["jigsaw-placeholder.jpg","jigsaw-1.mp4","jigsaw-2.jpeg","jigsaw-3.jpeg"],"mobile":["jigsaw-placeholder.jpg","jigsaw-1.mp4","jigsaw-2.jpeg","jigsaw-3.jpeg"],"description":"An interactive website in collaboration with Google presenting 3 issues on the web: Disinformation, Toxicity and White Supremacy.","url":"https://jigsaw.google.com/the-current/white-supremacy/","awards":["SOTD Awwwards","FWA"]},{"id":"snowbox","title":"Santa Tracker - Snowbox","subtitle":"Google - Upperquad","client":"Google - Upperquad","year":2019,"technologies":"JavaScript, Three.js","images":["snowbox-1.mp4","snowbox-2.jpg","snowbox-3.jpg","snowbox-4.jpg"],"mobile":["snowbox-1.mp4","snowbox-2.jpg","snowbox-3.jpg","snowbox-4.jpg"],"description":"A 3D game made for Google for Christmas where you can build structure using items like ice block, trees, snowman head... with a 3D physics. You can then save your structure as a GIF showing the 3D scene in different angles.","url":"https://santatracker.google.com/snowbox.html"},{"id":"affirm","title":"Affirm","subtitle":"Upperquad","client":"Affirm - Upperquad","images":["affirm-1.mp4","affirm-2.mp4"],"mobile":["affirm-1.mp4","affirm-2.mp4"],"year":2019,"technologies":"React, Gatsby","description":"Website made for Affirm, a pay-over-time solution that lets shoppers say yes to more of the things they love.","url":"https://upperquad.com/work/affirm/"},{"id":"portfolio","title":"Portfolio 2017","subtitle":"Robin Payot","client":"Me","year":"2017 - 2018","technologies":"JavaScript, Three.js","images":["portfolio-2.jpg","portfolio-1.mp4","portfolio-3.jpg","portfolio-4.jpg","portfolio-5.jpg"],"mobile":["portfolio-2.jpg","portfolio-1.mp4","portfolio-3.jpg","portfolio-4.jpg","portfolio-5.jpg"],"description":"Previous Portfolio in full 3D presenting my projects with 5 different 3D experiments, designed by my friend Robin Poitevin, made in Three.js.","url":"http://2017.robinpayot.com/","awards":["SOTD Awwwards","FWA"]},{"id":"bmw","title":"BMW Motorshow","subtitle":"84.Paris","year":"2016","client":"84.Paris - BMW","images":["bmw-4.jpg","bmw-1.mp4","bmw-2.jpg","bmw-3.jpg","bmw-5.jpg","bmw-6.jpg","bmw-7.jpg"],"mobile":["bmw-4.jpg","bmw-1.mp4","bmw-2.jpg","bmw-3.jpg","bmw-5.jpg","bmw-6.jpg","bmw-7.jpg"],"technologies":"JavaScript, Three.js","url":"https://www.awwwards.com/sites/bmw-paris-motorshow-2016","description":"360 WebGL immersive experience letting the user dive into the BMW booth at the Paris Motorshow. One of my first 3D project made with the amazing 84.Paris team.","awards":["SOTD Awwwards","FWA"]},{"id":"ekatr","title":"Elias AKTR","subtitle":"Elias Akentour","client":"Elias Akentour","year":"2016","images":["eaktr-1.mp4","eaktr-2.jpg","eaktr-3.jpg","eaktr-4.jpg","eaktr-5.jpg"],"mobile":["eaktr-1.mp4","eaktr-2.jpg","eaktr-3.jpg","eaktr-4.jpg","eaktr-5.jpg"],"technologies":"JavaScript, Pixi.js","description":"This portfolio has been crafted for Elias Akentour, an experienced web designer. Made with the 2D WebGL library Pixi.js","awards":["HM Awwwards"]},{"id":"forest","title":"The Forest","subtitle":"UNIT9","client":"UNIT9 - The Forest","year":2015,"technologies":"JavaScript, Three.js","images":["forest-1.mp4","forest-2.jpg","forest-3.jpg","forest-4.jpg","forest-5.jpg"],"mobile":["forest-1.mp4","forest-2.jpg","forest-3.jpg","forest-4.jpg","forest-5.jpg"],"awards":["SOTD FWA"," MOTD FWA"],"url":"https://thefwa.com/cases/enter-the-suicide-forest","description":"My first Three.js and VR project. A scary 360 experiment in virtual reality built for the promotionnal campaign of the movie The Forest. I worked on the VR mobile part of the website."}]')
}, function(e, t) {
    e.exports = function(e) {
        "string" == typeof e && (e = [e]);
        for (var t = [].slice.call(arguments, 1), n = [], i = 0; i < e.length - 1; i++) n.push(e[i], t[i] || "");
        return n.push(e[i]), n.join("")
    }
}, function(e) {
    e.exports = JSON.parse('[{"id":"glowing-tree","title":"Glowing Tree","images":["glowing-tree-1.mp4","glowing-tree-2.jpg","glowing-tree-3.jpg","glowing-tree-4.jpg"],"mobile":["glowing-tree-1.mp4","glowing-tree-2.jpg","glowing-tree-3.jpg","glowing-tree-4.jpg"],"year":2021,"technologies":"JavaScript, Three.js","description":"3D experiment representing a tree with a controller that allows you to twick bloom effects and colors. Assets by Célia Lopez and Robin Poitevin.","url":"https://robpayot.github.io/glowing-tree/build/"},{"id":"cube-svg","title":"Cube SVG","year":2020,"technologies":"JavaScript, Three.js, SVG","description":"A fake 3D SVG rendering using Javascript to render an animated SVG.","images":["cube-1.mp4","cube-2.jpg","cube-3.jpg"],"mobile":["cube-1.mp4","cube-2.jpg","cube-3.jpg"],"url":"https://robpayot.github.io/cube-threejs-svg/"},{"id":"malt-academy-course","title":"Malt Academy Course","year":2021,"technologies":"JavaScript, Three.js","images":["malt-academy-1.mp4","malt-academy-2.mp4","malt-academy-3.jpg","malt-academy-4.jpg"],"mobile":["malt-academy-1.mp4","malt-academy-2.mp4","malt-academy-3.jpg","malt-academy-4.jpg"],"description":"I\'ve got the great opportunity to make a live talk about the basics of Three.js for Malt Academy France. I made 3 websites with 3 exercices, everything is explained in the Youtube video and more detailed in the github repository.","url":"https://www.youtube.com/watch?v=SZwBjkosq6M"}]')
}, function(e) {
    e.exports = JSON.parse('{"mode":false,"toggle_helpers":true}')
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return h
        })), n.d(t, "b", (function() {
            return d
        })), n.d(t, "c", (function() {
            return p
        }));
        var i = n(38),
            r = n(1),
            o = n(3),
            a = n(2),
            s = n(5);

        function c(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function u(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var h = [r.g[0], r.f[0], r.e[0]],
            d = new i.MeshLineMaterial({
                color: new e.Color("rgb(".concat(r.g[0].r, ", ").concat(r.g[0].g, ", ").concat(r.g[0].b, ")")),
                transparent: !0,
                opacity: .8,
                lineWidth: 1.5
            }),
            p = function() {
                function t(n, i) {
                    var l = this,
                        h = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                    c(this, t), u(this, "progress", 1), u(this, "nbPoints", 200), u(this, "switchView", (function(t) {
                        var n, i = t.detail.type;
                        if (null === (n = l.tlSwitchView) || void 0 === n || n.kill(), l.tlSwitchView = new a.c, i === r.x || i === r.q) {
                            switch (l.mesh.visible = !0, s.a.index) {
                                default: d.color = new e.Color("rgb(".concat(r.g[0].r, ", ").concat(r.g[0].g, ", ").concat(r.g[0].b, ")"));
                                break;
                                case 1:
                                        d.color = new e.Color("rgb(".concat(r.f[0].r, ", ").concat(r.f[0].g, ", ").concat(r.f[0].b, ")"));
                                    break;
                                case 2:
                                        d.color = new e.Color("rgb(".concat(r.e[0].r, ", ").concat(r.e[0].g, ", ").concat(r.e[0].b, ")"))
                            }
                            r.P;
                            l.tlSwitchView.to(l.mesh.material, {
                                opacity: 1,
                                duration: 1.5,
                                ease: "linear",
                                delay: r.P - .5
                            })
                        } else if (i === r.p) {
                            l.mesh.visible = !0, l.tlSwitchView = new a.c({
                                onComplete: function() {
                                    l.mesh.visible = !1
                                },
                                delay: r.i
                            });
                            l.tlSwitchView.fromTo(l.mesh.material, {
                                opacity: 1
                            }, {
                                opacity: 0,
                                duration: 1.5,
                                ease: "linear"
                            })
                        } else {
                            l.tlSwitchView = new a.c({
                                onComplete: function() {
                                    l.mesh.visible = !1
                                }
                            });
                            l.tlSwitchView.to(l.mesh.material, {
                                opacity: 0,
                                duration: 1,
                                ease: "linear"
                            })
                        }
                    })), this.extraPoints = n, this.index = i, this.speedCoef = Object(o.c)(1e-5, 1e-4), this.offset = -Object(o.c)(0, 5) / 100, this.progress = h, this.progress += this.offset, this.nbPoints = Object(o.d)(120, 160), this.trail = new e.CatmullRomCurve3(n), this.init(), this.mesh = new e.Mesh(this.trailLine, d), this.mesh.visible = !1, window.addEventListener(r.N, this.switchView)
                }
                var n, h, p;
                return n = t, (h = [{
                    key: "init",
                    value: function() {
                        for (var e = this, t = [], n = 0; n < this.nbPoints; n++) {
                            var r = this.trail.getPoint(this.progress);
                            t.push(r)
                        }
                        this.trailLine = new i.MeshLine, this.trailLine.setPoints(t, (function(e) {
                            return e
                        })), setTimeout((function() {
                            e.isReady = !0
                        }), 1e3)
                    }
                }, {
                    key: "render",
                    value: function(e) {
                        if (this.isReady) {
                            var t = this.trail.getPoint(this.progress);
                            this.trailLine.advance(t), this.progress += 18 * this.speedCoef
                        }
                    }
                }, {
                    key: "reset",
                    value: function() {
                        this.isReady = !1, this.init()
                    }
                }]) && l(n.prototype, h), p && l(n, p), t
            }()
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", (function() {
        return o
    }));
    var i = n(2),
        r = n(22),
        o = i.A.registerPlugin(r.a) || i.A;
    o.core.Tween
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", (function() {
        return o
    }));
    var i = n(2),
        r = n(22),
        o = i.y.registerPlugin(r.b) || i.y;
    o.core.Tween
}, function(e, t, n) {
    (function(t) {
        var i = n(122);
        e.exports = function(e) {
            var n = "number" == typeof(e = e || {}).opacity ? e.opacity : 1,
                r = "number" == typeof e.alphaTest ? e.alphaTest : 1e-4,
                o = e.precision || "highp",
                a = e.color,
                s = e.map,
                c = "boolean" != typeof e.negate || e.negate;
            return delete e.map, delete e.color, delete e.precision, delete e.opacity, delete e.negate, i({
                uniforms: {
                    opacity: {
                        type: "f",
                        value: n
                    },
                    map: {
                        type: "t",
                        value: s || new t.Texture
                    },
                    color: {
                        type: "c",
                        value: new t.Color(a)
                    }
                },
                vertexShader: ["attribute vec2 uv;", "attribute vec4 position;", "uniform mat4 projectionMatrix;", "uniform mat4 modelViewMatrix;", "varying vec2 vUv;", "void main() {", "vUv = uv;", "gl_Position = projectionMatrix * modelViewMatrix * position;", "}"].join("\n"),
                fragmentShader: ["#ifdef GL_OES_standard_derivatives", "#extension GL_OES_standard_derivatives : enable", "#endif", "precision " + o + " float;", "uniform float opacity;", "uniform vec3 color;", "uniform sampler2D map;", "varying vec2 vUv;", "float median(float r, float g, float b) {", "  return max(min(r, g), min(max(r, g), b));", "}", "void main() {", "  vec3 sample = " + (c ? "1.0 - " : "") + "texture2D(map, vUv).rgb;", "  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;", "  float alpha = clamp(sigDist/fwidth(sigDist) + 0.5, 0.0, 1.0);", "  gl_FragColor = vec4(color.xyz, alpha * opacity);", 0 === r ? "" : "  if (gl_FragColor.a < " + r + ") discard;", "}"].join("\n")
            }, e)
        }
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", (function() {
        return fe
    })), n.d(t, "b", (function() {
        return fe
    }));
    var i, r, o, a, s, c, l, u = n(2),
        h = {},
        d = 180 / Math.PI,
        p = Math.PI / 180,
        f = Math.atan2,
        m = /([A-Z])/g,
        v = /(?:left|right|width|margin|padding|x)/i,
        g = /[\s,\(]\S/,
        y = {
            autoAlpha: "opacity,visibility",
            scale: "scaleX,scaleY",
            alpha: "opacity"
        },
        b = function(e, t) {
            return t.set(t.t, t.p, Math.round(1e4 * (t.s + t.c * e)) / 1e4 + t.u, t)
        },
        x = function(e, t) {
            return t.set(t.t, t.p, 1 === e ? t.e : Math.round(1e4 * (t.s + t.c * e)) / 1e4 + t.u, t)
        },
        w = function(e, t) {
            return t.set(t.t, t.p, e ? Math.round(1e4 * (t.s + t.c * e)) / 1e4 + t.u : t.b, t)
        },
        _ = function(e, t) {
            var n = t.s + t.c * e;
            t.set(t.t, t.p, ~~(n + (n < 0 ? -.5 : .5)) + t.u, t)
        },
        M = function(e, t) {
            return t.set(t.t, t.p, e ? t.e : t.b, t)
        },
        T = function(e, t) {
            return t.set(t.t, t.p, 1 !== e ? t.b : t.e, t)
        },
        S = function(e, t, n) {
            return e.style[t] = n
        },
        E = function(e, t, n) {
            return e.style.setProperty(t, n)
        },
        A = function(e, t, n) {
            return e._gsap[t] = n
        },
        P = function(e, t, n) {
            return e._gsap.scaleX = e._gsap.scaleY = n
        },
        L = function(e, t, n, i, r) {
            var o = e._gsap;
            o.scaleX = o.scaleY = n, o.renderTransform(r, o)
        },
        C = function(e, t, n, i, r) {
            var o = e._gsap;
            o[t] = n, o.renderTransform(r, o)
        },
        R = "transform",
        O = R + "Origin",
        D = function(e, t) {
            var n = r.createElementNS ? r.createElementNS((t || "http://www.w3.org/1999/xhtml").replace(/^https/, "http"), e) : r.createElement(e);
            return n.style ? n : r.createElement(e)
        },
        I = function e(t, n, i) {
            var r = getComputedStyle(t);
            return r[n] || r.getPropertyValue(n.replace(m, "-$1").toLowerCase()) || r.getPropertyValue(n) || !i && e(t, k(n) || n, 1) || ""
        },
        j = "O,Moz,ms,Ms,Webkit".split(","),
        k = function(e, t, n) {
            var i = (t || s).style,
                r = 5;
            if (e in i && !n) return e;
            for (e = e.charAt(0).toUpperCase() + e.substr(1); r-- && !(j[r] + e in i););
            return r < 0 ? null : (3 === r ? "ms" : r >= 0 ? j[r] : "") + e
        },
        F = function() {
            "undefined" != typeof window && window.document && (i = window, r = i.document, o = r.documentElement, s = D("div") || {
                style: {}
            }, D("div"), R = k(R), O = R + "Origin", s.style.cssText = "border-width:0;line-height:0;position:absolute;padding:0", l = !!k("perspective"), a = 1)
        },
        N = function e(t) {
            var n, i = D("svg", this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"),
                r = this.parentNode,
                a = this.nextSibling,
                s = this.style.cssText;
            if (o.appendChild(i), i.appendChild(this), this.style.display = "block", t) try {
                n = this.getBBox(), this._gsapBBox = this.getBBox, this.getBBox = e
            } catch (e) {} else this._gsapBBox && (n = this._gsapBBox());
            return r && (a ? r.insertBefore(this, a) : r.appendChild(this)), o.removeChild(i), this.style.cssText = s, n
        },
        z = function(e, t) {
            for (var n = t.length; n--;)
                if (e.hasAttribute(t[n])) return e.getAttribute(t[n])
        },
        B = function(e) {
            var t;
            try {
                t = e.getBBox()
            } catch (n) {
                t = N.call(e, !0)
            }
            return t && (t.width || t.height) || e.getBBox === N || (t = N.call(e, !0)), !t || t.width || t.x || t.y ? t : {
                x: +z(e, ["x", "cx", "x1"]) || 0,
                y: +z(e, ["y", "cy", "y1"]) || 0,
                width: 0,
                height: 0
            }
        },
        U = function(e) {
            return !(!e.getCTM || e.parentNode && !e.ownerSVGElement || !B(e))
        },
        V = function(e, t) {
            if (t) {
                var n = e.style;
                t in h && t !== O && (t = R), n.removeProperty ? ("ms" !== t.substr(0, 2) && "webkit" !== t.substr(0, 6) || (t = "-" + t), n.removeProperty(t.replace(m, "-$1").toLowerCase())) : n.removeAttribute(t)
            }
        },
        H = function(e, t, n, i, r, o) {
            var a = new u.b(e._pt, t, n, 0, 1, o ? T : M);
            return e._pt = a, a.b = i, a.e = r, e._props.push(n), a
        },
        G = {
            deg: 1,
            rad: 1,
            turn: 1
        },
        W = function e(t, n, i, o) {
            var a, c, l, d, p = parseFloat(i) || 0,
                f = (i + "").trim().substr((p + "").length) || "px",
                m = s.style,
                g = v.test(n),
                y = "svg" === t.tagName.toLowerCase(),
                b = (y ? "client" : "offset") + (g ? "Width" : "Height"),
                x = "px" === o,
                w = "%" === o;
            return o === f || !p || G[o] || G[f] ? p : ("px" !== f && !x && (p = e(t, n, i, "px")), d = t.getCTM && U(t), !w && "%" !== f || !h[n] && !~n.indexOf("adius") ? (m[g ? "width" : "height"] = 100 + (x ? f : o), c = ~n.indexOf("adius") || "em" === o && t.appendChild && !y ? t : t.parentNode, d && (c = (t.ownerSVGElement || {}).parentNode), c && c !== r && c.appendChild || (c = r.body), (l = c._gsap) && w && l.width && g && l.time === u.x.time ? Object(u.v)(p / l.width * 100) : ((w || "%" === f) && (m.position = I(t, "position")), c === t && (m.position = "static"), c.appendChild(s), a = s[b], c.removeChild(s), m.position = "absolute", g && w && ((l = Object(u.j)(c)).time = u.x.time, l.width = c[b]), Object(u.v)(x ? a * p / 100 : a && p ? 100 / a * p : 0))) : (a = d ? t.getBBox()[g ? "width" : "height"] : t[b], Object(u.v)(w ? p / a * 100 : p / 100 * a)))
        },
        q = function(e, t, n, i) {
            var r;
            return a || F(), t in y && "transform" !== t && ~(t = y[t]).indexOf(",") && (t = t.split(",")[0]), h[t] && "transform" !== t ? (r = ie(e, i), r = "transformOrigin" !== t ? r[t] : re(I(e, O)) + " " + r.zOrigin + "px") : (!(r = e.style[t]) || "auto" === r || i || ~(r + "").indexOf("calc(")) && (r = J[t] && J[t](e, t, n) || I(e, t) || Object(u.k)(e, t) || ("opacity" === t ? 1 : 0)), n && !~(r + "").trim().indexOf(" ") ? W(e, t, r, n) + n : r
        },
        Y = function(e, t, n, i) {
            if (!n || "none" === n) {
                var r = k(t, e, 1),
                    o = r && I(e, r, 1);
                o && o !== n ? (t = r, n = o) : "borderColor" === t && (n = I(e, "borderTopColor"))
            }
            var a, s, c, l, h, d, p, f, m, v, g, y, b = new u.b(this._pt, e.style, t, 0, 1, u.t),
                x = 0,
                w = 0;
            if (b.b = n, b.e = i, n += "", "auto" === (i += "") && (e.style[t] = i, i = I(e, t) || i, e.style[t] = n), a = [n, i], Object(u.g)(a), i = a[1], c = (n = a[0]).match(u.q) || [], (i.match(u.q) || []).length) {
                for (; s = u.q.exec(i);) p = s[0], m = i.substring(x, s.index), h ? h = (h + 1) % 5 : "rgba(" !== m.substr(-5) && "hsla(" !== m.substr(-5) || (h = 1), p !== (d = c[w++] || "") && (l = parseFloat(d) || 0, g = d.substr((l + "").length), (y = "=" === p.charAt(1) ? +(p.charAt(0) + "1") : 0) && (p = p.substr(2)), f = parseFloat(p), v = p.substr((f + "").length), x = u.q.lastIndex - v.length, v || (v = v || u.h.units[t] || g, x === i.length && (i += v, b.e += v)), g !== v && (l = W(e, t, d, v) || 0), b._pt = {
                    _next: b._pt,
                    p: m || 1 === w ? m : ",",
                    s: l,
                    c: y ? y * f : f - l,
                    m: h && h < 4 || "zIndex" === t ? Math.round : 0
                });
                b.c = x < i.length ? i.substring(x, i.length) : ""
            } else b.r = "display" === t && "none" === i ? T : M;
            return u.s.test(i) && (b.e = 0), this._pt = b, b
        },
        X = {
            top: "0%",
            bottom: "100%",
            left: "0%",
            right: "100%",
            center: "50%"
        },
        Z = function(e, t) {
            if (t.tween && t.tween._time === t.tween._dur) {
                var n, i, r, o = t.t,
                    a = o.style,
                    s = t.u,
                    c = o._gsap;
                if ("all" === s || !0 === s) a.cssText = "", i = 1;
                else
                    for (r = (s = s.split(",")).length; --r > -1;) n = s[r], h[n] && (i = 1, n = "transformOrigin" === n ? O : R), V(o, n);
                i && (V(o, R), c && (c.svg && o.removeAttribute("transform"), ie(o, 1), c.uncache = 1))
            }
        },
        J = {
            clearProps: function(e, t, n, i, r) {
                if ("isFromStart" !== r.data) {
                    var o = e._pt = new u.b(e._pt, t, n, 0, 0, Z);
                    return o.u = i, o.pr = -10, o.tween = r, e._props.push(n), 1
                }
            }
        },
        K = [1, 0, 0, 1, 0, 0],
        Q = {},
        $ = function(e) {
            return "matrix(1, 0, 0, 1, 0, 0)" === e || "none" === e || !e
        },
        ee = function(e) {
            var t = I(e, R);
            return $(t) ? K : t.substr(7).match(u.p).map(u.v)
        },
        te = function(e, t) {
            var n, i, r, a, s = e._gsap || Object(u.j)(e),
                c = e.style,
                l = ee(e);
            return s.svg && e.getAttribute("transform") ? "1,0,0,1,0,0" === (l = [(r = e.transform.baseVal.consolidate().matrix).a, r.b, r.c, r.d, r.e, r.f]).join(",") ? K : l : (l !== K || e.offsetParent || e === o || s.svg || (r = c.display, c.display = "block", (n = e.parentNode) && e.offsetParent || (a = 1, i = e.nextSibling, o.appendChild(e)), l = ee(e), r ? c.display = r : V(e, "display"), a && (i ? n.insertBefore(e, i) : n ? n.appendChild(e) : o.removeChild(e))), t && l.length > 6 ? [l[0], l[1], l[4], l[5], l[12], l[13]] : l)
        },
        ne = function(e, t, n, i, r, o) {
            var a, s, c, l = e._gsap,
                u = r || te(e, !0),
                h = l.xOrigin || 0,
                d = l.yOrigin || 0,
                p = l.xOffset || 0,
                f = l.yOffset || 0,
                m = u[0],
                v = u[1],
                g = u[2],
                y = u[3],
                b = u[4],
                x = u[5],
                w = t.split(" "),
                _ = parseFloat(w[0]) || 0,
                M = parseFloat(w[1]) || 0;
            n ? u !== K && (s = m * y - v * g) && (c = _ * (-v / s) + M * (m / s) - (m * x - v * b) / s, _ = _ * (y / s) + M * (-g / s) + (g * x - y * b) / s, M = c) : (_ = (a = B(e)).x + (~w[0].indexOf("%") ? _ / 100 * a.width : _), M = a.y + (~(w[1] || w[0]).indexOf("%") ? M / 100 * a.height : M)), i || !1 !== i && l.smooth ? (b = _ - h, x = M - d, l.xOffset = p + (b * m + x * g) - b, l.yOffset = f + (b * v + x * y) - x) : l.xOffset = l.yOffset = 0, l.xOrigin = _, l.yOrigin = M, l.smooth = !!i, l.origin = t, l.originIsAbsolute = !!n, e.style[O] = "0px 0px", o && (H(o, l, "xOrigin", h, _), H(o, l, "yOrigin", d, M), H(o, l, "xOffset", p, l.xOffset), H(o, l, "yOffset", f, l.yOffset)), e.setAttribute("data-svg-origin", _ + " " + M)
        },
        ie = function(e, t) {
            var n = e._gsap || new u.a(e);
            if ("x" in n && !t && !n.uncache) return n;
            var i, r, o, a, s, c, h, m, v, g, y, b, x, w, _, M, T, S, E, A, P, L, C, D, j, k, F, N, z, B, V, H, G = e.style,
                W = n.scaleX < 0,
                q = I(e, O) || "0";
            return i = r = o = c = h = m = v = g = y = 0, a = s = 1, n.svg = !(!e.getCTM || !U(e)), w = te(e, n.svg), n.svg && (D = !n.uncache && !t && e.getAttribute("data-svg-origin"), ne(e, D || q, !!D || n.originIsAbsolute, !1 !== n.smooth, w)), b = n.xOrigin || 0, x = n.yOrigin || 0, w !== K && (S = w[0], E = w[1], A = w[2], P = w[3], i = L = w[4], r = C = w[5], 6 === w.length ? (a = Math.sqrt(S * S + E * E), s = Math.sqrt(P * P + A * A), c = S || E ? f(E, S) * d : 0, (v = A || P ? f(A, P) * d + c : 0) && (s *= Math.abs(Math.cos(v * p))), n.svg && (i -= b - (b * S + x * A), r -= x - (b * E + x * P))) : (H = w[6], B = w[7], F = w[8], N = w[9], z = w[10], V = w[11], i = w[12], r = w[13], o = w[14], h = (_ = f(H, z)) * d, _ && (D = L * (M = Math.cos(-_)) + F * (T = Math.sin(-_)), j = C * M + N * T, k = H * M + z * T, F = L * -T + F * M, N = C * -T + N * M, z = H * -T + z * M, V = B * -T + V * M, L = D, C = j, H = k), m = (_ = f(-A, z)) * d, _ && (M = Math.cos(-_), V = P * (T = Math.sin(-_)) + V * M, S = D = S * M - F * T, E = j = E * M - N * T, A = k = A * M - z * T), c = (_ = f(E, S)) * d, _ && (D = S * (M = Math.cos(_)) + E * (T = Math.sin(_)), j = L * M + C * T, E = E * M - S * T, C = C * M - L * T, S = D, L = j), h && Math.abs(h) + Math.abs(c) > 359.9 && (h = c = 0, m = 180 - m), a = Object(u.v)(Math.sqrt(S * S + E * E + A * A)), s = Object(u.v)(Math.sqrt(C * C + H * H)), _ = f(L, C), v = Math.abs(_) > 2e-4 ? _ * d : 0, y = V ? 1 / (V < 0 ? -V : V) : 0), n.svg && (D = e.getAttribute("transform"), n.forceCSS = e.setAttribute("transform", "") || !$(I(e, R)), D && e.setAttribute("transform", D))), Math.abs(v) > 90 && Math.abs(v) < 270 && (W ? (a *= -1, v += c <= 0 ? 180 : -180, c += c <= 0 ? 180 : -180) : (s *= -1, v += v <= 0 ? 180 : -180)), n.x = i - ((n.xPercent = i && (n.xPercent || (Math.round(e.offsetWidth / 2) === Math.round(-i) ? -50 : 0))) ? e.offsetWidth * n.xPercent / 100 : 0) + "px", n.y = r - ((n.yPercent = r && (n.yPercent || (Math.round(e.offsetHeight / 2) === Math.round(-r) ? -50 : 0))) ? e.offsetHeight * n.yPercent / 100 : 0) + "px", n.z = o + "px", n.scaleX = Object(u.v)(a), n.scaleY = Object(u.v)(s), n.rotation = Object(u.v)(c) + "deg", n.rotationX = Object(u.v)(h) + "deg", n.rotationY = Object(u.v)(m) + "deg", n.skewX = v + "deg", n.skewY = g + "deg", n.transformPerspective = y + "px", (n.zOrigin = parseFloat(q.split(" ")[2]) || 0) && (G[O] = re(q)), n.xOffset = n.yOffset = 0, n.force3D = u.h.force3D, n.renderTransform = n.svg ? ce : l ? se : ae, n.uncache = 0, n
        },
        re = function(e) {
            return (e = e.split(" "))[0] + " " + e[1]
        },
        oe = function(e, t, n) {
            var i = Object(u.z)(t);
            return Object(u.v)(parseFloat(t) + parseFloat(W(e, "x", n + "px", i))) + i
        },
        ae = function(e, t) {
            t.z = "0px", t.rotationY = t.rotationX = "0deg", t.force3D = 0, se(e, t)
        },
        se = function(e, t) {
            var n = t || this,
                i = n.xPercent,
                r = n.yPercent,
                o = n.x,
                a = n.y,
                s = n.z,
                c = n.rotation,
                l = n.rotationY,
                u = n.rotationX,
                h = n.skewX,
                d = n.skewY,
                f = n.scaleX,
                m = n.scaleY,
                v = n.transformPerspective,
                g = n.force3D,
                y = n.target,
                b = n.zOrigin,
                x = "",
                w = "auto" === g && e && 1 !== e || !0 === g;
            if (b && ("0deg" !== u || "0deg" !== l)) {
                var _, M = parseFloat(l) * p,
                    T = Math.sin(M),
                    S = Math.cos(M);
                M = parseFloat(u) * p, _ = Math.cos(M), o = oe(y, o, T * _ * -b), a = oe(y, a, -Math.sin(M) * -b), s = oe(y, s, S * _ * -b + b)
            }
            "0px" !== v && (x += "perspective(" + v + ") "), (i || r) && (x += "translate(" + i + "%, " + r + "%) "), (w || "0px" !== o || "0px" !== a || "0px" !== s) && (x += "0px" !== s || w ? "translate3d(" + o + ", " + a + ", " + s + ") " : "translate(" + o + ", " + a + ") "), "0deg" !== c && (x += "rotate(" + c + ") "), "0deg" !== l && (x += "rotateY(" + l + ") "), "0deg" !== u && (x += "rotateX(" + u + ") "), "0deg" === h && "0deg" === d || (x += "skew(" + h + ", " + d + ") "), 1 === f && 1 === m || (x += "scale(" + f + ", " + m + ") "), y.style[R] = x || "translate(0, 0)"
        },
        ce = function(e, t) {
            var n, i, r, o, a, s = t || this,
                c = s.xPercent,
                l = s.yPercent,
                h = s.x,
                d = s.y,
                f = s.rotation,
                m = s.skewX,
                v = s.skewY,
                g = s.scaleX,
                y = s.scaleY,
                b = s.target,
                x = s.xOrigin,
                w = s.yOrigin,
                _ = s.xOffset,
                M = s.yOffset,
                T = s.forceCSS,
                S = parseFloat(h),
                E = parseFloat(d);
            f = parseFloat(f), m = parseFloat(m), (v = parseFloat(v)) && (m += v = parseFloat(v), f += v), f || m ? (f *= p, m *= p, n = Math.cos(f) * g, i = Math.sin(f) * g, r = Math.sin(f - m) * -y, o = Math.cos(f - m) * y, m && (v *= p, a = Math.tan(m - v), r *= a = Math.sqrt(1 + a * a), o *= a, v && (a = Math.tan(v), n *= a = Math.sqrt(1 + a * a), i *= a)), n = Object(u.v)(n), i = Object(u.v)(i), r = Object(u.v)(r), o = Object(u.v)(o)) : (n = g, o = y, i = r = 0), (S && !~(h + "").indexOf("px") || E && !~(d + "").indexOf("px")) && (S = W(b, "x", h, "px"), E = W(b, "y", d, "px")), (x || w || _ || M) && (S = Object(u.v)(S + x - (x * n + w * r) + _), E = Object(u.v)(E + w - (x * i + w * o) + M)), (c || l) && (a = b.getBBox(), S = Object(u.v)(S + c / 100 * a.width), E = Object(u.v)(E + l / 100 * a.height)), a = "matrix(" + n + "," + i + "," + r + "," + o + "," + S + "," + E + ")", b.setAttribute("transform", a), T && (b.style[R] = a)
        },
        le = function(e, t, n, i, r, o) {
            var a, s, c = Object(u.m)(r),
                l = parseFloat(r) * (c && ~r.indexOf("rad") ? d : 1),
                h = o ? l * o : l - i,
                p = i + h + "deg";
            return c && ("short" === (a = r.split("_")[1]) && (h %= 360) !== h % 180 && (h += h < 0 ? 360 : -360), "cw" === a && h < 0 ? h = (h + 36e9) % 360 - 360 * ~~(h / 360) : "ccw" === a && h > 0 && (h = (h - 36e9) % 360 - 360 * ~~(h / 360))), e._pt = s = new u.b(e._pt, t, n, i, h, x), s.e = p, s.u = "deg", e._props.push(n), s
        },
        ue = function(e, t) {
            for (var n in t) e[n] = t[n];
            return e
        },
        he = function(e, t, n) {
            var i, r, o, a, s, c, l, d = ue({}, n._gsap),
                p = n.style;
            for (r in d.svg ? (o = n.getAttribute("transform"), n.setAttribute("transform", ""), p[R] = t, i = ie(n, 1), V(n, R), n.setAttribute("transform", o)) : (o = getComputedStyle(n)[R], p[R] = t, i = ie(n, 1), p[R] = o), h)(o = d[r]) !== (a = i[r]) && "perspective,force3D,transformOrigin,svgOrigin".indexOf(r) < 0 && (s = Object(u.z)(o) !== (l = Object(u.z)(a)) ? W(n, r, o, l) : parseFloat(o), c = parseFloat(a), e._pt = new u.b(e._pt, i, r, s, c - s, b), e._pt.u = l || 0, e._props.push(r));
            ue(i, d)
        };
    /*!
     * CSSPlugin 3.6.1
     * https://greensock.com
     *
     * Copyright 2008-2021, GreenSock. All rights reserved.
     * Subject to the terms at https://greensock.com/standard-license or for
     * Club GreenSock members, the agreement issued with that membership.
     * @author: Jack Doyle, jack@greensock.com
     */
    Object(u.i)("padding,margin,Width,Radius", (function(e, t) {
        var n = "Top",
            i = "Right",
            r = "Bottom",
            o = "Left",
            a = (t < 3 ? [n, i, r, o] : [n + o, n + i, r + i, r + o]).map((function(n) {
                return t < 2 ? e + n : "border" + n + e
            }));
        J[t > 1 ? "border" + e : e] = function(e, t, n, i, r) {
            var o, s;
            if (arguments.length < 4) return o = a.map((function(t) {
                return q(e, t, n)
            })), 5 === (s = o.join(" ")).split(o[0]).length ? o[0] : s;
            o = (i + "").split(" "), s = {}, a.forEach((function(e, t) {
                return s[e] = o[t] = o[t] || o[(t - 1) / 2 | 0]
            })), e.init(t, s, r)
        }
    }));
    var de, pe, fe = {
        name: "css",
        register: F,
        targetTest: function(e) {
            return e.style && e.nodeType
        },
        init: function(e, t, n, i, r) {
            var o, s, c, l, d, p, f, m, v, x, M, T, S, E, A, P, L, C, O, D = this._props,
                I = e.style,
                j = n.vars.startAt;
            for (f in a || F(), t)
                if ("autoRound" !== f && (s = t[f], !u.r[f] || !Object(u.e)(f, t, n, i, e, r)))
                    if (d = typeof s, p = J[f], "function" === d && (d = typeof(s = s.call(n, i, e, r))), "string" === d && ~s.indexOf("random(") && (s = Object(u.u)(s)), p) p(this, e, f, s, n) && (A = 1);
                    else if ("--" === f.substr(0, 2)) o = (getComputedStyle(e).getPropertyValue(f) + "").trim(), s += "", u.f.lastIndex = 0, u.f.test(o) || (m = Object(u.z)(o), v = Object(u.z)(s)), v ? m !== v && (o = W(e, f, o, v) + v) : m && (s += m), this.add(I, "setProperty", o, s, i, r, 0, 0, f);
            else if ("undefined" !== d) {
                if (j && f in j ? (o = "function" == typeof j[f] ? j[f].call(n, i, e, r) : j[f], f in u.h.units && !Object(u.z)(o) && (o += u.h.units[f]), "=" === (o + "").charAt(1) && (o = q(e, f))) : o = q(e, f), l = parseFloat(o), (x = "string" === d && "=" === s.charAt(1) ? +(s.charAt(0) + "1") : 0) && (s = s.substr(2)), c = parseFloat(s), f in y && ("autoAlpha" === f && (1 === l && "hidden" === q(e, "visibility") && c && (l = 0), H(this, I, "visibility", l ? "inherit" : "hidden", c ? "inherit" : "hidden", !c)), "scale" !== f && "transform" !== f && ~(f = y[f]).indexOf(",") && (f = f.split(",")[0])), M = f in h)
                    if (T || ((S = e._gsap).renderTransform && !t.parseTransform || ie(e, t.parseTransform), E = !1 !== t.smoothOrigin && S.smooth, (T = this._pt = new u.b(this._pt, I, R, 0, 1, S.renderTransform, S, 0, -1)).dep = 1), "scale" === f) this._pt = new u.b(this._pt, S, "scaleY", S.scaleY, x ? x * c : c - S.scaleY), D.push("scaleY", f), f += "X";
                    else {
                        if ("transformOrigin" === f) {
                            L = void 0, C = void 0, O = void 0, L = (P = s).split(" "), C = L[0], O = L[1] || "50%", "top" !== C && "bottom" !== C && "left" !== O && "right" !== O || (P = C, C = O, O = P), L[0] = X[C] || C, L[1] = X[O] || O, s = L.join(" "), S.svg ? ne(e, s, 0, E, 0, this) : ((v = parseFloat(s.split(" ")[2]) || 0) !== S.zOrigin && H(this, S, "zOrigin", S.zOrigin, v), H(this, I, f, re(o), re(s)));
                            continue
                        }
                        if ("svgOrigin" === f) {
                            ne(e, s, 1, E, 0, this);
                            continue
                        }
                        if (f in Q) {
                            le(this, S, f, l, s, x);
                            continue
                        }
                        if ("smoothOrigin" === f) {
                            H(this, S, "smooth", S.smooth, s);
                            continue
                        }
                        if ("force3D" === f) {
                            S[f] = s;
                            continue
                        }
                        if ("transform" === f) {
                            he(this, s, e);
                            continue
                        }
                    }
                else f in I || (f = k(f) || f);
                if (M || (c || 0 === c) && (l || 0 === l) && !g.test(s) && f in I) c || (c = 0), (m = (o + "").substr((l + "").length)) !== (v = Object(u.z)(s) || (f in u.h.units ? u.h.units[f] : m)) && (l = W(e, f, o, v)), this._pt = new u.b(this._pt, M ? S : I, f, l, x ? x * c : c - l, M || "px" !== v && "zIndex" !== f || !1 === t.autoRound ? b : _), this._pt.u = v || 0, m !== v && (this._pt.b = o, this._pt.r = w);
                else if (f in I) Y.call(this, e, f, o, s);
                else {
                    if (!(f in e)) {
                        Object(u.o)(f, s);
                        continue
                    }
                    this.add(e, f, e[f], s, i, r)
                }
                D.push(f)
            }
            A && Object(u.w)(this)
        },
        get: q,
        aliases: y,
        getSetter: function(e, t, n) {
            var i = y[t];
            return i && i.indexOf(",") < 0 && (t = i), t in h && t !== O && (e._gsap.x || q(e, "x")) ? n && c === n ? "scale" === t ? P : A : (c = n || {}) && ("scale" === t ? L : C) : e.style && !Object(u.n)(e.style[t]) ? S : ~t.indexOf("-") ? E : Object(u.l)(e, t)
        },
        core: {
            _removeProperty: V,
            _getMatrix: te
        }
    };
    u.A.utils.checkPrefix = k, de = "rotation,rotationX,rotationY,skewX,skewY", pe = Object(u.i)("x,y,z,scale,scaleX,scaleY,xPercent,yPercent," + de + ",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective", (function(e) {
        h[e] = 1
    })), Object(u.i)(de, (function(e) {
        u.h.units[e] = "deg", Q[e] = 1
    })), y[pe[13]] = "x,y,z,scale,scaleX,scaleY,xPercent,yPercent," + de, Object(u.i)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY", (function(e) {
        var t = e.split(":");
        y[t[1]] = pe[t[0]]
    })), Object(u.i)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective", (function(e) {
        u.h.units[e] = "px"
    })), u.A.registerPlugin(fe)
}, function(e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function r(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }
    n.d(t, "a", (function() {
        return o
    }));
    var o = function() {
        function e(t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            i(this, e), this.el = t;
            var r = t.innerHTML.split("");
            t.innerHTML = "", r.forEach((function(e) {
                var i = document.createElement("span");
                i.classList.add("split-text__letter"), " " === e && i.classList.add("split-text__letter--space"), n && i.classList.add("split-text__letter--listview"), i.innerHTML = e, t.appendChild(i)
            }))
        }
        var t, n, o;
        return t = e, (n = [{
            key: "show",
            value: function() {
                this.el.classList.add("is-visible")
            }
        }]) && r(t.prototype, n), o && r(t, o), e
    }()
}, function(e, t, n) {
    (function(t) {
        var i = n(112),
            r = n(115),
            o = n(116),
            a = n(120),
            s = n(121),
            c = t.BufferGeometry;

        function l(e) {
            c.call(this), "string" == typeof e && (e = {
                text: e
            }), this._opt = Object.assign({}, e), e && this.update(e)
        }
        e.exports = function(e) {
            return new l(e)
        }, r(l, c), l.prototype.update = function(e) {
            if ("string" == typeof e && (e = {
                    text: e
                }), !(e = Object.assign({}, this._opt, e)).font) throw new TypeError("must specify a { font } in options");
            this.layout = i(e);
            var n = !1 !== e.flipY,
                r = e.font,
                s = r.common.scaleW,
                c = r.common.scaleH,
                l = this.layout.glyphs.filter((function(e) {
                    var t = e.data;
                    return t.width * t.height > 0
                }));
            this.visibleGlyphs = l;
            var u = a.positions(l),
                h = a.uvs(l, s, c, n),
                d = o([], {
                    clockwise: !0,
                    type: "uint16",
                    count: l.length
                });
            if (this.setIndex(d), this.setAttribute("position", new t.BufferAttribute(u, 2)), this.setAttribute("uv", new t.BufferAttribute(h, 2)), !e.multipage && "page" in this.attributes) this.removeAttribute("page");
            else if (e.multipage) {
                var p = a.pages(l);
                this.setAttribute("page", new t.BufferAttribute(p, 1))
            }
        }, l.prototype.computeBoundingSphere = function() {
            null === this.boundingSphere && (this.boundingSphere = new t.Sphere);
            var e = this.attributes.position.array,
                n = this.attributes.position.itemSize;
            if (!e || !n || e.length < 2) return this.boundingSphere.radius = 0, void this.boundingSphere.center.set(0, 0, 0);
            s.computeSphere(e, this.boundingSphere), isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')
        }, l.prototype.computeBoundingBox = function() {
            null === this.boundingBox && (this.boundingBox = new t.Box3);
            var e = this.boundingBox,
                n = this.attributes.position.array,
                i = this.attributes.position.itemSize;
            !n || !i || n.length < 2 ? e.makeEmpty() : s.computeBox(n, e)
        }
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return a
        }));
        var i = n(12);

        function r(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function o(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var a = function() {
            function t(n) {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), o(this, "object3D", new e.Object3D), o(this, "isReset", !0), this.scrollValue = n, this.position = i.a.mainTrail.getPoint(n)
            }
            var n, a, s;
            return n = t, (a = [{
                key: "fadeIn",
                value: function() {
                    this.isReset = !1, this.isTriggered = !1, this.isFadedIn = !0
                }
            }, {
                key: "triggered",
                value: function() {
                    this.isReset = !1, this.isFadedIn = !1, this.isTriggered = !0
                }
            }, {
                key: "reset",
                value: function() {
                    this.isReset = !0, this.isFadedIn = !1, this.isTriggered = !1
                }
            }]) && r(n.prototype, a), s && r(n, s), t
        }()
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";

    function i(e) {
        return !!e && !!(e.currentTime > 0 && !e.paused && !e.ended && e.readyState > 2)
    }
    n.d(t, "a", (function() {
        return i
    }))
}, function(e, t, n) {
    var i = n(87);
    i.Template = n(88).Template, i.template = i.Template, e.exports = i
}, function(e) {
    e.exports = JSON.parse('{"socials":[{"name":"twitter","link":"#"},{"name":"github","link":"#"},{"name":"email","link":"#"}]}')
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return g
        })), n.d(t, "b", (function() {
            return y
        }));
        var i = n(3),
            r = n(2),
            o = n(25),
            a = n(12),
            s = n(6);

        function c(e) {
            return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function u(e, t, n) {
            return (u = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
                var i = function(e, t) {
                    for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = m(e)););
                    return e
                }(e, t);
                if (i) {
                    var r = Object.getOwnPropertyDescriptor(i, t);
                    return r.get ? r.get.call(n) : r.value
                }
            })(e, t, n || e)
        }

        function h(e, t) {
            return (h = Object.setPrototypeOf || function(e, t) {
                return e.__proto__ = t, e
            })(e, t)
        }

        function d(e) {
            var t = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}))), !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var n, i = m(e);
                if (t) {
                    var r = m(this).constructor;
                    n = Reflect.construct(i, arguments, r)
                } else n = i.apply(this, arguments);
                return p(this, n)
            }
        }

        function p(e, t) {
            return !t || "object" !== c(t) && "function" != typeof t ? f(e) : t
        }

        function f(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }

        function m(e) {
            return (m = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            })(e)
        }

        function v(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var g = new e.SphereBufferGeometry(1, 32, 32),
            y = function(t) {
                ! function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && h(e, t)
                }(y, t);
                var n, o, c, p = d(y);

                function y(t, n, i) {
                    var r;
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, y), v(f(r = p.call(this, n)), "centerMesh", void 0), v(f(r), "electrons", []), v(f(r), "nbElectrons", 9), v(f(r), "grainMaterial", void 0), v(f(r), "expanded", !1), v(f(r), "radiusIntv", 2), v(f(r), "canRender", !1), r.materials = t;
                    var o = a.a.mainRoad.points,
                        s = o[Math.round(n * o.length)];
                    r.centerRoad = new e.Vector3(s.center.x, 0, 0), r.centerMesh = new e.Mesh(g, r.materials[0]), r.centerMesh.name = "electronCenter_".concat(i), r.object3D.position.copy(r.position), r.object3D.position.y += 9;
                    r.centerScale = 8, r.centerMesh.scale.set(8, 8, 8), r.object3D.add(r.centerMesh), r.object3D.visible = !1;
                    return r.object3D.scale.set(.6, .6, .6), r.initElectrons(), r
                }
                return n = y, (o = [{
                    key: "initElectrons",
                    value: function() {
                        this.electrons = [];
                        for (var t = 0; t < this.nbElectrons; t++) {
                            var n = new e.Object3D;
                            n.position.copy(this.centerMesh.position);
                            var r = new e.Mesh(g, this.materials[t % 3]),
                                o = Object(i.c)(7, 11),
                                a = Object(i.c)(1.4, 1.9),
                                s = Object(i.c)(.001, .02),
                                c = Object(i.c)(.001, .02),
                                l = Object(i.c)(.001, .02);
                            r.position.x = 0, r.position.y = 0, r.position.z = 0, r.scale.set(a, a, a), n.forceX = s, n.forceY = c, n.forceZ = l, n.initForceX = s, n.initForceY = c, n.initForceZ = l, n.radius = 0, n.initRadius = o, n.fq = Object(i.d)(0, 100), n.rotation.x = e.MathUtils.degToRad(Object(i.d)(0, 360)), n.rotation.y = e.MathUtils.degToRad(Object(i.d)(0, 360)), n.rotation.z = e.MathUtils.degToRad(Object(i.d)(0, 360)), n.add(r), this.object3D.add(n), this.electrons.push(n)
                        }
                    }
                }, {
                    key: "render",
                    value: function(e) {
                        if (this.canRender && (this.centerMesh.position.y = (Math.sin(e / 500) + 1) / 2 * 3, !this.isReset))
                            for (var t = 0; t < this.electrons.length; t++) {
                                var n = this.electrons[t];
                                n.rotation.x += Math.min(n.forceX, .06), n.rotation.y += Math.min(n.forceY, .06), n.rotation.z += Math.min(n.forceZ, .06);
                                var i = this.radiusIntv,
                                    r = (Math.sin(e / 500 + n.fq) + 1) / 2 * i;
                                n.children[0].position.x = n.radius + r, n.children[0].position.y = n.radius + r, n.children[0].position.z = n.radius + r
                            }
                    }
                }, {
                    key: "expand",
                    value: function() {
                        var e, t, n, i = this;
                        if (null === (e = this.tlShrink) || void 0 === e || e.kill(), this.tlShrink = null, !(null === (t = this.tlExpand) || void 0 === t ? void 0 : t.isActive())) {
                            null === (n = this.tlExpand) || void 0 === n || n.kill();
                            for (var o = new r.c, a = function(e) {
                                    var t = i.electrons[e],
                                        n = {
                                            value: t.radius
                                        };
                                    o.to(n, {
                                        value: 12,
                                        duration: 2,
                                        ease: "expo.out",
                                        onUpdate: function() {
                                            t.radius = n.value
                                        }
                                    }, 0);
                                    var r = {
                                        forceX: t.forceX,
                                        forceY: t.forceY,
                                        forceZ: t.forceZ
                                    };
                                    o.to(r, {
                                        forceX: t.forceX + .025,
                                        forceY: t.forceY + .025,
                                        forceZ: t.forceZ + .025,
                                        duration: 1.5,
                                        ease: "expo.out",
                                        onUpdate: function() {
                                            t.forceX = r.forceX, t.forceY = r.forceY, t.forceZ = r.forceZ
                                        }
                                    }, 0)
                                }, s = 0; s < this.electrons.length; s++) a(s);
                            this.tlExpand = o, this.expanded = !0
                        }
                    }
                }, {
                    key: "shrink",
                    value: function() {
                        var e, t, n, i = this;
                        if (null === (e = this.tlExpand) || void 0 === e || e.kill(), this.tlExpand = null, !(null === (t = this.tlShrink) || void 0 === t ? void 0 : t.isActive()) && (this.isFadedIn || this.isTriggered) && this.expanded) {
                            null === (n = this.tlShrink) || void 0 === n || n.kill();
                            for (var o = new r.c, a = function(e) {
                                    var t = i.electrons[e],
                                        n = {
                                            value: t.radius
                                        };
                                    o.to(n, {
                                        value: t.initRadius,
                                        duration: 2,
                                        ease: "expo.out",
                                        onUpdate: function() {
                                            t.radius = n.value
                                        }
                                    }, 0);
                                    var r = {
                                        forceX: t.forceX,
                                        forceY: t.forceY,
                                        forceZ: t.forceZ
                                    };
                                    o.to(r, {
                                        forceX: t.initForceX,
                                        forceY: t.initForceY,
                                        forceZ: t.initForceZ,
                                        duration: 2,
                                        ease: "expo.out",
                                        onUpdate: function() {
                                            t.forceX = r.forceX, t.forceY = r.forceY, t.forceZ = r.forceZ
                                        }
                                    }, 0)
                                }, s = 0; s < this.electrons.length; s++) a(s);
                            this.tlShrink = o, this.expanded = !1
                        }
                    }
                }, {
                    key: "fadeIn",
                    value: function() {
                        var e = this;
                        if (this.canRender = !0, !this.isFadedIn) {
                            var t = new r.c({
                                delay: .2
                            });
                            this.tlFadeIn = t, u(m(y.prototype), "fadeIn", this).call(this), this.object3D.visible = !0, this.centerMesh.material.opacity = 0, this.radiusIntv = 0;
                            var n = {
                                value: 0
                            };
                            r.d.to(n, {
                                value: 2,
                                duration: 1.4,
                                ease: "linear",
                                onUpdate: function() {
                                    e.radiusIntv = n.value
                                }
                            });
                            var i = {
                                value: 1e-4
                            };
                            r.d.to(i, {
                                value: 1,
                                duration: 1.8,
                                ease: "expo.out",
                                onUpdate: function() {
                                    var t = i.value * e.centerScale;
                                    e.centerMesh.scale.set(t, t, t)
                                }
                            });
                            for (var o = function(n) {
                                    var i = e.electrons[n];
                                    i.radius = 0;
                                    var r = {
                                        value: 0
                                    };
                                    t.to(r, {
                                        value: i.initRadius,
                                        duration: 1.4,
                                        ease: "quart.out",
                                        onUpdate: function() {
                                            i.radius = r.value
                                        }
                                    }, 0)
                                }, a = 0; a < this.electrons.length; a++) o(a)
                        }
                    }
                }, {
                    key: "click",
                    value: function(e) {
                        var t = this;
                        if (!e.isScaling) {
                            e.isScaling = !0, s.b.trigger(s.a.CLICK);
                            var n = new r.c,
                                i = {
                                    value: 1
                                };
                            n.to(i, {
                                value: .7,
                                duration: .5,
                                ease: "expo.out",
                                onUpdate: function() {
                                    var e = i.value * t.centerScale;
                                    t.centerMesh.scale.set(e, e, e)
                                }
                            }), n.to(i, {
                                duration: 1.4,
                                value: 1,
                                ease: "bounce.out",
                                onUpdate: function() {
                                    var e = i.value * t.centerScale;
                                    t.centerMesh.scale.set(e, e, e)
                                }
                            }, .35), n.add((function() {
                                e.isScaling = !1
                            }), .8)
                        }
                    }
                }, {
                    key: "triggered",
                    value: function() {
                        if (!this.isTriggered) {
                            u(m(y.prototype), "triggered", this).call(this);
                            var t = new r.c({
                                    onComplete: function() {}
                                }),
                                n = this.object3D.position.x,
                                i = this.object3D.position.z,
                                o = new e.Vector3;
                            o.subVectors(this.object3D.position, this.centerRoad).normalize(), t.to(this.object3D.position, {
                                x: n + -30 * o.x,
                                z: i + -30 * o.z,
                                duration: 1,
                                ease: "quart"
                            }), this.tlTriggered = t
                        }
                    }
                }, {
                    key: "reset",
                    value: function() {
                        var e, t, n, i, o = this;
                        if (this.canRender = !1, !this.isReset) {
                            u(m(y.prototype), "reset", this).call(this), null === (e = this.tlTriggered) || void 0 === e || e.kill(), this.tlTriggered = null, null === (t = this.tlFadeIn) || void 0 === t || t.kill(), this.tlFadeIn = null, null === (n = this.tlShrink) || void 0 === n || n.kill(), this.tlShrink = null, null === (i = this.tlExpand) || void 0 === i || i.kill(), this.tlExpand = null;
                            var a = {
                                value: this.centerScale
                            };
                            r.d.to(a, {
                                value: 0,
                                duration: .6,
                                ease: "linear",
                                onUpdate: function() {
                                    var e = a.value;
                                    o.centerMesh.scale.set(e, e, e)
                                }
                            }), this.object3D.position.copy(this.position), this.object3D.position.y += 8;
                            for (var s = 0; s < this.electrons.length; s++) {
                                var c = this.electrons[s];
                                c.radius = 0, c.children[0].position.x = 0, c.children[0].position.y = 0, c.children[0].position.z = 0
                            }
                            this.object3D.visible = !1
                        }
                    }
                }]) && l(n.prototype, o), c && l(n, c), y
            }(o.a)
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", (function() {
        return p
    }));
    var i = n(65),
        r = n(12),
        o = n(4),
        a = n(15),
        s = n.n(a),
        c = n(0),
        l = n(1);

    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function h(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var d = [l.g[0], l.f[0], l.e[0]],
        p = function() {
            function e(t) {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), h(this, "uniforms", {}), h(this, "lights", []), h(this, "guiController", {
                    uLightIntensity: 2,
                    uNoiseCoef: 3.3,
                    uNoiseMin: .76,
                    uNoiseMax: 22.09,
                    uAlpha: !1,
                    uFract: 2
                }), this.indexColor = 0, this.currentColor = d[this.indexColor], this.guiController = t, this.initLights(), this.init()
            }
            var t, n, a;
            return t = e, (n = [{
                key: "initLights",
                value: function() {
                    for (var e = 0; e < r.a.circleCenters.length; e++) {
                        var t = r.a.circleCenters[e];
                        t.y += 80;
                        var n = new i.a(t);
                        this.lights.push(n)
                    }
                }
            }, {
                key: "init",
                value: function() {
                    this.uniforms = {
                        uLightPos: {
                            value: [this.lights[0].position, this.lights[1].position, this.lights[2].position]
                        },
                        uLightColor: {
                            value: [new c.Color(16777215), new c.Color(16777215), new c.Color(16777215)]
                        },
                        uLightIntensity: {
                            value: this.guiController.uLightIntensity
                        },
                        uNoiseCoef: {
                            value: this.guiController.uNoiseCoef
                        },
                        uNoiseMin: {
                            value: this.guiController.uNoiseMin
                        },
                        uNoiseMax: {
                            value: this.guiController.uNoiseMax
                        },
                        uBgColor: {
                            value: new c.Color(this.currentColor.r / 255, this.currentColor.g / 255, this.currentColor.b / 255)
                        },
                        uColor: {
                            value: new c.Color(5592405)
                        },
                        uAlpha: {
                            value: this.guiController.uAlpha
                        },
                        uTime: {
                            value: 1
                        },
                        uFract: {
                            value: this.guiController.uFract
                        },
                        uResolution: {
                            value: new c.Vector2(o.b.width / 40, o.b.height / 40)
                        },
                        uPattern: {
                            value: this.guiController.uPattern
                        },
                        uPlain: {
                            value: this.guiController.uPlain
                        }
                    }, this.material = new c.RawShaderMaterial({
                        vertexShader: s()("precision highp float;\n#define GLSLIFY 1\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat3 normalMatrix;\n\nuniform vec3 uLightPos[3];\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\n\nvarying vec3 vNormal;\nvarying vec3 vVertex;\nvarying vec3 vLightPos[3];\nvarying vec2 vUv;\n\nvoid main(void) {\n  vVertex = vec3( modelViewMatrix * vec4(position, 1.0));\n  vUv = uv;\n  vNormal = normalMatrix * normal;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n  vLightPos[0] = vec3( viewMatrix * vec4(uLightPos[0], 1.0));\n  vLightPos[1] = vec3( viewMatrix * vec4(uLightPos[1], 1.0));\n  vLightPos[2] = vec3( viewMatrix * vec4(uLightPos[2], 1.0));\n}\n"),
                        fragmentShader: s()("precision highp float;\n#define GLSLIFY 1\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nuniform vec3 uLightColor[3];\nuniform vec3 uColor;\nuniform float uLightIntensity;\nuniform float uNoiseCoef;\nuniform float uNoiseMin;\nuniform float uNoiseMax;\nuniform vec3 uBgColor;\n// uniform float uTime;\nuniform bool uAlpha;\nuniform bool uPattern;\nuniform bool uPlain;\nuniform float uFract;\nuniform vec2 uResolution;\n\nvarying vec3 vNormal;\nvarying vec3 vVertex;\nvarying vec3 vLightPos[3];\nvarying vec2 vUv;\n\n//-------------------------------------------------------------------------\n// Given a normal vector and a light,\n// calculate the fragment's color using diffuse and specular lighting.\nvec3 light_calculations(vec3 fragment_normal, vec3 lightPos, vec3 lightColor) {\n\n  vec3 diffuse_color;\n  vec3 to_light;\n  float cos_angle;\n  vec3 color;\n\n  //- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n  // General calculations needed for both specular and diffuse lighting\n\n  // Calculate a vector from the fragment location to the light source\n  to_light = lightPos - vVertex;\n  to_light = normalize( to_light );\n\n  //- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n  // DIFFUSE  calculations\n\n  // Calculate the cosine of the angle between the vertex's normal\n  // vector and the vector going to the light.\n  cos_angle = dot(fragment_normal, to_light);\n  cos_angle = clamp(cos_angle, 0.0, 1.0);\n\n  // Scale the color of this fragment based on its angle to the light.\n  diffuse_color = uColor * lightColor * cos_angle * uLightIntensity;\n\n  // Combine\n  color = diffuse_color;\n\n  return color;\n}\n\nmat2 rotate2d(float angle){\n    return mat2(cos(angle),-sin(angle),\n                sin(angle),cos(angle));\n}\n\nfloat lines(in vec2 pos, float b){\n    float scale = 10.0;\n    pos *= scale;\n    return smoothstep(0.0,\n                    .5+b*.5,\n                    abs((sin(pos.x*3.1415)+b*2.0))*.5);\n}\n\nvoid main(void) {\n  float ambient = uLightIntensity;\n  vec3 normal = normalize(vNormal);\n  vec3 color = uColor;\n\n  // for each light...\n  for(int i = 0; i < 3; i++) {\n    color = color + light_calculations(normal, vLightPos[i], uLightColor[i]);\n  }\n\n  // Add ambient light intensity\n  color *= ambient;\n\n  // grain\n  // Calculate noise and sample texture\n  // color.g = light intensity\n  float lightValue = color.r;\n\n  if (uPattern) {\n    // uv Pattern\n    vec2 pos = vUv;\n      // pos = st.yx * vec2(10.,10.);\n\n    float pattern = pos.x;\n\n    // Add noise\n    pos = rotate2d( snoise(pos) * uFract ) * pos;\n\n    // Draw lines\n    pattern = lines(pos, .5);\n    gl_FragColor = vec4(vec3(pattern * lightValue), 1.);\n\n  } else if (uPlain){\n    // plain\n    gl_FragColor = vec4(vec3(0.45 * lightValue), 1.);\n  } else {\n    // grain\n    float mdf = clamp(uNoiseMin, uNoiseMax, pow(lightValue, uNoiseCoef));\n    vec2 st = gl_FragCoord.xy / uResolution.xy;\n    st *= 55.; // old 555\n\n    vec3 textureNoise = vec3(snoise(st) * .5 + .5);\n    textureNoise *= mdf;\n\n    gl_FragColor = vec4(textureNoise, 1.);\n  }\n\n  if (uAlpha) {\n    gl_FragColor.a = 1.0 - gl_FragColor.r;\n  }\n\n  // // clamping color values\n  // old value 0.3\n\n  if (uPattern) {\n    gl_FragColor.r = clamp(gl_FragColor.r, .45, 1.0);\n    gl_FragColor.g = clamp(gl_FragColor.g, .45, 1.0);\n    gl_FragColor.b = clamp(gl_FragColor.b, .45, 1.0);\n  } else {\n    gl_FragColor.r = clamp(gl_FragColor.r, uBgColor.r, 1.0);\n    gl_FragColor.g = clamp(gl_FragColor.g, uBgColor.g, 1.0);\n    gl_FragColor.b = clamp(gl_FragColor.b, uBgColor.b, 1.0);\n  }\n\n  // if (gl_FragColor.r < 0.5) {\n  //   gl_FragColor.r = 206.0 / 255.0;\n  //   gl_FragColor.g = 217.0 / 255.0;\n  //   gl_FragColor.b = 255.0 / 255.0;\n  // }\n  // gl_FragColor = vec4(color, 1.0);\n\n}\n"),
                        uniforms: this.uniforms,
                        side: c.FrontSide,
                        transparent: !0
                    })
                }
            }]) && u(t.prototype, n), a && u(t, a), e
        }()
}, function(e, t) {
    var n;
    n = function() {
        return this
    }();
    try {
        n = n || new Function("return this")()
    } catch (e) {
        "object" == typeof window && (n = window)
    }
    e.exports = n
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", (function() {
        return v
    }));
    var i = n(0),
        r = n(15),
        o = n.n(r),
        a = n(1),
        s = n(2);

    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }
    var l = new i.PlaneBufferGeometry(5, 5, 1, 1);
    l.center();
    var u = [];
    u.push(new i.Vector3(0, 0, 0)), u.push(new i.Vector3(0, a.D, 0));
    var h = (new i.BufferGeometry).setFromPoints(u),
        d = new i.PlaneBufferGeometry(3, 3, 1, 1);
    d.center();
    var p = [];
    p.push(new i.Vector3(0, 0, 0)), p.push(new i.Vector3(0, a.E + 2, 0));
    var f = (new i.BufferGeometry).setFromPoints(p),
        m = .001,
        v = function() {
            function e(t, n, r) {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(e, t, n) {
                    t in e ? Object.defineProperty(e, t, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : e[t] = n
                }(this, "object3d", new i.Object3D), this.type = r, this.maxOpacity = "about" === r ? .8 : .6, this.object3d.position.copy(t), this.createLine(), "about" !== r && this.createPoint(), this.object3d.lookAt(n)
            }
            var t, n, r;
            return t = e, (n = [{
                key: "createLine",
                value: function() {
                    this.lineMaterial = new i.LineBasicMaterial({
                        color: 4408131,
                        transparent: !0,
                        opacity: 0
                    });
                    var e = "about" === this.type ? f : h,
                        t = new i.Line(e, this.lineMaterial);
                    this.object3d.add(t)
                }
            }, {
                key: "createPoint",
                value: function() {
                    this.uniforms = {
                        uRippleProgress: {
                            value: 0
                        },
                        uAlpha: {
                            value: 0
                        }
                    }, this.pointMaterial = new i.RawShaderMaterial({
                        uniforms: this.uniforms,
                        vertexShader: o()("precision highp float;\n#define GLSLIFY 1\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\nattribute vec2 uv;\n\nvarying vec2 vUv;\n\nvoid main() {\n\tvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\n\tgl_Position = vec4(projectionMatrix * mvPosition);\n\n  vUv = uv;\n}\n"),
                        fragmentShader: o()("precision highp float;\n#define GLSLIFY 1\n\nfloat quadraticOut(float t) {\n  return -t * (t - 2.0);\n}\n\nuniform float uRippleProgress;\nuniform float uAlpha;\n// uniform float uRipple2Progress;\n\nvarying vec2 vUv;\n\nfloat circle(float radius, float border) {\n\tfloat dist = radius - distance(vUv, vec2(0.5));\n  return smoothstep(0.0, border, dist);\n}\n\nconst float rippleLength = 0.035;\nconst float rippleSpace = 0.1;\nconst float border = 0.02;\nconst float borderBigCircle = 0.05;\nconst float speedRipple1 = 1.0;\nconst float speedRipple2 = 1.3;\nconst float bigCircleRadius = 0.15;\nconst float maxRippleRadius = 0.4;\n\nvoid main() {\n  // this goes between 0 and 1\n  float normalizedProg = smoothstep(0.0, 10.0, mod(uRippleProgress, 10.0));\n  float progress = min(1.0, quadraticOut(normalizedProg * speedRipple1));\n  float progress2 = min(speedRipple2, quadraticOut(normalizedProg * speedRipple2));\n\n  float bigCircle = circle(bigCircleRadius, borderBigCircle);\n\n  float ripple1 = circle(maxRippleRadius * progress, border) - circle((maxRippleRadius - rippleLength) * progress, border);\n  ripple1 *= (1.0 - min(speedRipple1, normalizedProg * speedRipple1));\n  float ripple2 = circle((maxRippleRadius - rippleSpace) * progress2, border) - circle((maxRippleRadius - rippleSpace - rippleLength) * progress2, border);\n  ripple2 *= (1.0 - min(speedRipple2, normalizedProg));\n\n  float alpha = ripple1 + ripple2 + bigCircle;\n  alpha *= uAlpha;\n  gl_FragColor = vec4(vec3(0.0), alpha);\n}\n"),
                        transparent: !0,
                        depthWrite: !1
                    }), "about" === this.type ? (this.pointMesh = new i.Mesh(d, this.pointMaterial), this.pointMesh.position.y += a.E + 1) : (this.pointMesh = new i.Mesh(l, this.pointMaterial), this.pointMesh.position.y += a.D + 5 / 3), this.pointMesh.name = "stick-point", this.object3d.add(this.pointMesh)
                }
            }, {
                key: "render",
                value: function(e) {
                    this.canRipple && this.pointMesh && (this.uniforms.uRippleProgress.value += e / 200)
                }
            }, {
                key: "fadeIn",
                value: function() {
                    var e, t, n = this;
                    null === (e = this.tlFadeOut) || void 0 === e || e.kill(), this.object3d.scale.set(1, m, 1), null === (t = this.pointMesh) || void 0 === t || t.scale.set(m, m, m);
                    var i = "about" === this.type ? 1.3 : 0,
                        r = new s.c({
                            delay: i
                        }),
                        o = {
                            value: m
                        };
                    r.to(o, {
                        value: 1,
                        ease: "bounce.out",
                        duration: 1.2,
                        onUpdate: function() {
                            n.object3d.scale.set(1, o.value, 1)
                        }
                    }, 0), this.pointMaterial && r.to(this.pointMaterial.uniforms.uAlpha, {
                        value: this.maxOpacity,
                        duration: 1,
                        ease: "linear"
                    }, 0), r.to(this.lineMaterial, {
                        opacity: this.maxOpacity,
                        duration: 1,
                        ease: "linear"
                    }, 0);
                    var a = {
                        value: m
                    };
                    r.to(a, {
                        value: 1,
                        ease: "bounce.out",
                        duration: 1.2,
                        onUpdate: function() {
                            var e;
                            null === (e = n.pointMesh) || void 0 === e || e.scale.set(a.value, a.value, a.value)
                        }
                    }, .6), r.add((function() {
                        n.canRipple = !0
                    }), "-=0.6"), this.tlFadeIn = r
                }
            }, {
                key: "fadeOut",
                value: function() {
                    var e, t = this;
                    null === (e = this.tlFadeIn) || void 0 === e || e.kill();
                    var n = new s.c;
                    this.pointMaterial && n.to(this.pointMaterial.uniforms.uAlpha, {
                        value: 0,
                        duration: .5,
                        ease: "linear"
                    }, 0), n.to(this.lineMaterial, {
                        opacity: 0,
                        duration: .5,
                        ease: "linear"
                    }, 0), n.add((function() {
                        t.canRipple = !1, t.pointMaterial && (t.uniforms.uRippleProgress.value = 0), t.object3d.scale.set(1, m, 1)
                    })), this.tlFadeOut = n
                }
            }]) && c(t.prototype, n), r && c(t, r), e
        }()
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", (function() {
        return w
    }));
    var i = n(13),
        r = n(4),
        o = n(15),
        a = n.n(o),
        s = n(0),
        c = n(3),
        l = n(14),
        u = n(16),
        h = n(7),
        d = n(1),
        p = n(2),
        f = n(11),
        m = n(26);

    function v(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function g(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function y(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var b = new s.SphereGeometry(2, 32, 32),
        x = new s.MeshBasicMaterial({
            color: 16711680,
            depthWrite: !1,
            transparent: !0
        });
    s.VideoTexture.prototype.update = function() {
        var e = this.image;
        e.readyState >= e.HAVE_CURRENT_DATA && Object(m.a)(e) && (this.needsUpdate = !0)
    };
    var w = function() {
        function e(t) {
            var n, i, o, a, c, l, u, h = this,
                f = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                m = arguments.length > 2 ? arguments[2] : void 0,
                g = arguments.length > 3 ? arguments[3] : void 0,
                b = arguments.length > 4 ? arguments[4] : void 0;
            (v(this, e), y(this, "guiController", {
                uPointSize: 1.86,
                uFrequency: 339.4,
                uStormProgress: 1,
                uTransitionProgress: 0,
                uForce: 2.5,
                uProj: !1,
                uAlpha: 1,
                uAmplitude: 3,
                uStripForce: 2.7,
                uStripMin: .47,
                uBend: .7,
                yes: 1e5,
                uTest: 2.46,
                uTextureLoadProgress: 0
            }), y(this, "object3d", new s.Object3D), y(this, "textures", []), y(this, "zoomed", !1), y(this, "sliderIndex", 0), y(this, "goNext", (function() {
                h.timelineGoNext && h.timelineGoNext.kill(), h.material.uniforms.uTextureLoadProgress.value < 1 || (h.updateTextures("next"), h.timelineGoNext = new p.c({
                    onComplete: function() {
                        h.updateTextures("next", !0)
                    }
                }), h.timelineGoNext.fromTo(h.material.uniforms.uTransitionProgress, {
                    value: 0
                }, {
                    duration: 2.7,
                    value: 1,
                    ease: "quart.out"
                }))
            })), y(this, "goPrev", (function() {
                h.timelineGoNext && h.timelineGoNext.kill(), h.material.uniforms.uTextureLoadProgress.value < 1 || (h.material.uniforms.uAnimOut.value = !0, h.updateTextures("prev"), p.d.fromTo(h.material.uniforms.uTransitionProgress, {
                    value: 1
                }, {
                    value: 0,
                    duration: 2.7,
                    ease: "quart.out"
                }))
            })), y(this, "handleResize", (function() {
                h.material.uniforms.uPixelRatio.value = r.b.dpr, h.material.uniforms.uScaleHeightPointSize.value = r.b.dpr * r.b.height / 2
            })), this.index = f, this.scene = t, this.type = b, this.directionCenter = m, this.initHeight = r.b.height, "project" === b ? this.currentColor = d.g[0] : "lab" === b ? this.currentColor = d.f[0] : "list" === b && (this.currentColor = d.g[0]), this.touch = g, null === (n = this.texture) || void 0 === n || null === (i = n.image) || void 0 === i ? void 0 : i.naturalWidth) ? o = this.texture.image.naturalWidth / this.texture.image.naturalHeight: (o = (null === (a = this.texture) || void 0 === a ? void 0 : a.image.videoWidth) / (null === (c = this.texture) || void 0 === c ? void 0 : c.image.videoHeight), 0 === (null === (l = this.texture) || void 0 === l || null === (u = l.image) || void 0 === u ? void 0 : u.videoWidth) && (o = 16 / 9));
            o = 16 / 9, this.width = 45, this.height = this.width / o, this.planeGeo = d.y, this.plane = new s.Mesh(d.y, d.z), this.plane.name = "particleFlagPlane", this.plane.position.z -= 2, this.plane.scale.set(this.width, this.height, 1), this.object3d.add(this.plane), this.circleGeo = d.b, this.circle = new s.Mesh(d.b, d.c), this.circle.name = "particleFlagCircle";
            var x = 5;
            this.circle.scale.set(x, x, 1), this.object3d.add(this.circle), this.init(), this.anim = "out", this.scene && this.scene.add(this.object3d)
        }
        var t, n, o;
        return t = e, (n = [{
            key: "setTextures",
            value: function() {
                var e = this,
                    t = this.index,
                    n = r.b.breakpoint === d.r ? "mobile" : "images";
                "project" === this.type ? l[t][n].forEach((function(t, n) {
                    var i = {
                        source: null,
                        video: null,
                        loaded: !1
                    };
                    /mp4?$/.test(t) && (i = e.createVideoTexture(t)), e.textures.push(i)
                })) : "lab" === this.type && (this.currentColor = d.f[0], u[t][n].forEach((function(t, n) {
                    var i = {
                        source: null,
                        video: null,
                        loaded: !1
                    };
                    /mp4?$/.test(t) && (i = e.createVideoTexture(t)), e.textures.push(i)
                }))), this.texture = this.textures[this.sliderIndex].source
            }
        }, {
            key: "loadTextureImage",
            value: function() {
                var e = this;
                return new Promise((function(t) {
                    var n = e.index,
                        o = r.b.breakpoint === d.r ? "mobile" : "images",
                        a = r.b.breakpoint === d.r ? "mobile/" : "";
                    "project" === e.type ? l[n][o].forEach((function(r, o) {
                        var c = o === e.sliderIndex;
                        e.textures[o].loaded ? c && (e.material.uniforms.uTexture.value = e.textures[o].source, t()) : /mp4?$/.test(r) || i.a.loadTexture("assets-scene/projects/".concat(a).concat(r), "".concat(l[n].id, "_").concat(o), !0).then((function(n) {
                            e.textures[o].source = n, e.textures[o].source.minFilter = s.LinearFilter, e.textures[o].source.needsUpdate = !1, e.textures[o].loaded = !0, c && (e.material.uniforms.uTexture.value = n, t())
                        }))
                    })) : "lab" === e.type && (e.currentColor = d.f[0], u[n][o].forEach((function(r, o) {
                        var c = o === e.sliderIndex;
                        e.textures[o].loaded ? c && (e.material.uniforms.uTexture.value = e.textures[o].source, t()) : /mp4?$/.test(r) || i.a.loadTexture("assets-scene/projects/".concat(a).concat(r), "".concat(u[n].id, "_").concat(o), !0).then((function(n) {
                            e.textures[o].source = n, e.textures[o].source.minFilter = s.LinearFilter, e.textures[o].source.needsUpdate = !1, e.textures[o].loaded = !0, c && (e.material.uniforms.uTexture.value = n, t())
                        }))
                    })))
                }))
            }
        }, {
            key: "createVideoTexture",
            value: function(e) {
                var t = document.createElement("video");
                t.muted = !0, t.loop = !0, t.playsInline = !0, t.crossorigin = "anonymous", t.preload = "metadata", t.src = "assets-scene/projects/".concat(e);
                var n = new s.VideoTexture(t);
                return n.minFilter = s.LinearFilter, n.magFilter = s.LinearFilter, n.format = s.RGBAFormat, n.needsUpdate = !0, {
                    source: n,
                    video: t
                }
            }
        }, {
            key: "init",
            value: function() {
                this.geometry = new s.BufferGeometry;
                var e = [],
                    t = [],
                    n = [],
                    i = [],
                    o = [],
                    l = [],
                    u = "list" === this.type ? 1 : 2;
                this.incTotalPoints = 0;
                for (var h = 0; h < this.width * u; h++)
                    for (var p = 0; p < this.height * u; p++) {
                        var m = (h + .5 - this.width * u / 2) / u,
                            v = (p + .5 - this.height * u / 2) / u;
                        e.push(m, v, 0), t.push(-this.directionCenter * Object(c.c)(this.width / 4 + 20, this.width / 2 + 20), Object(c.c)(-this.height / 2, this.height / 4), 0), n.push(Math.random() * Math.PI), i.push(Object(c.d)(0, 1)), o.push(Object(c.c)(1, 1.2)), l.push(this.incTotalPoints), this.incTotalPoints++
                    }
                Object(c.e)(l), this.geometry.setAttribute("position", new s.Float32BufferAttribute(e, 3)), this.geometry.setAttribute("aInitPosition", new s.Float32BufferAttribute(t, 3)), this.geometry.setAttribute("aAngle", new s.Float32BufferAttribute(n, 1)), this.geometry.setAttribute("aRndTouchIndex", new s.Float32BufferAttribute(i, 1)), this.geometry.setAttribute("aStormSpeed", new s.Float32BufferAttribute(o, 1)), this.geometry.setAttribute("aIndex", new s.Float32BufferAttribute(l, 1)), window.addEventListener(d.Q, this.handleResize, {
                    passive: !0
                });
                var g = {
                    uTime: {
                        value: 0
                    },
                    uFrequency: {
                        value: this.guiController.uFrequency
                    },
                    uTexture: {
                        value: null
                    },
                    uTextureNext: {
                        value: null
                    },
                    uPointSize: {
                        value: this.guiController.uPointSize
                    },
                    uScaleHeightPointSize: {
                        value: r.b.dpr * r.b.height / 2
                    },
                    uTextureSize: {
                        value: new s.Vector2(this.width, this.height)
                    },
                    uTextureLoadProgress: {
                        value: this.guiController.uTextureLoadProgress
                    },
                    uStormProgress: {
                        value: this.guiController.uStormProgress
                    },
                    uTouch: {
                        value: null
                    },
                    uForce: {
                        value: this.guiController.uForce
                    },
                    uProj: {
                        value: this.guiController.uProj
                    },
                    uAlpha: {
                        value: this.guiController.uAlpha
                    },
                    uTransitionProgress: {
                        value: this.guiController.uTransitionProgress
                    },
                    uAmplitude: {
                        value: this.guiController.uAmplitude
                    },
                    uAnimOut: {
                        value: !0
                    },
                    uStripForce: {
                        value: this.guiController.uStripForce
                    },
                    uStripMin: {
                        value: this.guiController.uStripMin
                    },
                    uBend: {
                        value: this.guiController.uBend
                    },
                    uDirection: {
                        value: this.directionCenter
                    },
                    uScale: {
                        value: 1
                    },
                    uColor: {
                        value: new s.Color(this.currentColor.r / 255, this.currentColor.g / 255, this.currentColor.b / 255)
                    },
                    uMenuViewHoverProgress: {
                        value: 0
                    },
                    uMenuViewHoverProgressTexture: {
                        value: 0
                    },
                    uMaxAlpha: {
                        value: .72
                    },
                    uTotalPoints: {
                        value: this.incTotalPoints
                    },
                    uRdnCircleOffset: {
                        value: Object(c.c)(0, 100)
                    },
                    uPixelRatio: {
                        value: r.b.dpr
                    },
                    uTest: {
                        value: this.guiController.uTest
                    },
                    uMenuViewProgress: {
                        value: 0
                    },
                    projectionMatrix: {
                        value: f.a.camera.projectionMatrix
                    }
                };
                this.material = new s.RawShaderMaterial({
                    uniforms: g,
                    vertexShader: a()("precision highp float;\n#define GLSLIFY 1\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n// #pragma glslify: pnoise2 = require(glsl-noise/periodic/2d)\n// #pragma glslify: cnoise2 = require(glsl-noise/classic/2d)\nfloat quadraticOut(float t) {\n  return -t * (t - 2.0);\n}\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uScaleHeightPointSize;\nuniform float uPointSize;\nuniform vec2 uTextureSize;\nuniform float uTime;\nuniform float uFrequency;\nuniform float uStormProgress;\nuniform float uTransitionProgress;\nuniform sampler2D uTouch;\nuniform float uForce;\nuniform bool uProj;\nuniform float uAmplitude;\nuniform bool uAnimOut;\nuniform float uStripForce;\nuniform float uStripMin;\nuniform float uBend;\nuniform float uDirection;\nuniform float uScale;\n// uniform bool uMenuView;\nuniform float uMenuViewHoverProgress;\nuniform float uTotalPoints;\nuniform float uRdnCircleOffset;\nuniform float uPixelRatio;\nuniform float uMenuViewProgress;\nuniform float uTest;\n\nattribute vec3 position;\nattribute vec3 aInitPosition;\nattribute float aAngle;\nattribute float aRndTouchIndex;\nattribute float aStormSpeed;\nattribute float aIndex;\n\nvarying float vPointScale;\nvarying vec2 vTexCoords;\nvarying float vStormProgress;\nvarying float vAlphaTouch;\nvarying vec2 vUv;\n\nconst float POINT_SIZE_REF = 2.73; // Offset to correct texture even if Points are overlapping with each others\nconst float BIG_CIRCLE_RADIUS = 4.0;\nconst float MAX_POINT_SIZE_MENU_HOVER = 0.9;\n\n#define PI 3.1415926538\n#define HALF_PI 3.1415926538 / 2.0\n\nvoid main() {\n  // Positions\n  vec3 originPosition = position;\n  vec3 mPosition = position;\n  float pointSize = uPointSize;\n  float waveTransitionProgress = 0.0;\n\n  vUv = mPosition.xy / uTextureSize - vec2(-0.5, -0.5);\n\n  vStormProgress = min(uStormProgress * 1.0, 1.0);\n  vAlphaTouch = 1.;\n\n  // Colored big Circles for Menu View\n  // Menu XY poistion\n  float circleSpeed = uTime / 10.;\n  float offsetMoving = snoise(vec2(aIndex + uRdnCircleOffset, circleSpeed)) * 2.;\n  float radius = BIG_CIRCLE_RADIUS * offsetMoving - aIndex / uTotalPoints * BIG_CIRCLE_RADIUS * offsetMoving;\n\n  vec2 initPos = vec2(radius * sin(PI * 2. * aIndex / 360.), radius * cos(PI * 2. * aIndex / 360.));\n  vec2 positionXYMenu = initPos + ((mPosition.xy - initPos) * uMenuViewHoverProgress);\n  // Point size\n  // from 0.18 (circle) to 1 (Plane 2D) from the view Menu\n  float pointSizeMenu = pointSize * max(0.18, MAX_POINT_SIZE_MENU_HOVER - MAX_POINT_SIZE_MENU_HOVER * max(1. - uMenuViewHoverProgress * 1.0, 0.));\n\n  // end Menu View\n\n  // if (!uMenuView) {\n\n    // Default View\n    // Storm effect positions\n    float stormProgress = quadraticOut(min(uStormProgress * aStormSpeed, 1.0));\n\n    // flag effect\n    mPosition.z += sin(mPosition.x * uFrequency + uTime) * (60.0 * (1.0 - stormProgress) + uAmplitude);\n    mPosition.z += sin(mPosition.y * uFrequency + uTime) * (60.0 * (1.0 - stormProgress) + uAmplitude);\n\n    // Storm effect positions\n\n    mPosition.xy = aInitPosition.xy + ((originPosition.xy - aInitPosition.xy) * stormProgress);\n    //\n    // uTouch / Mouse cursor\n    //\n    float rndz = snoise(vec2(aRndTouchIndex, 1.0));\n\n    float touch = texture2D(uTouch, vUv).r;\n    mPosition.x += cos(aAngle) * touch * uForce * rndz * 3.;\n    mPosition.y += sin(aAngle) * touch * uForce * rndz * 3.;\n    mPosition.z += touch * uForce * rndz * 10.0;\n\n    vAlphaTouch = (1.5 - touch);\n\n    // transition on next/prev\n    // Wave / Size transition Progress\n    float coef = 2.0;\n    float uvXY = (vUv.x + vUv.y) / 2.0;\n    // We're using PI here to do a wave based on UV (0 1 1 0) where 1 is the top of the wave\n    float progressUVXY = (uvXY + uTransitionProgress * 2.0 ) * PI - PI;\n    waveTransitionProgress = min((1.0 - sin(progressUVXY)) * uStripForce + uStripMin, 1.0);\n    mPosition.z += 7.0 * -waveTransitionProgress;\n  // }\n\n  // Transition from Default to Menu View\n  mPosition.xy = mPosition.xy * (1. - uMenuViewProgress) + positionXYMenu * uMenuViewProgress;\n  pointSize = pointSize * (1. - uMenuViewProgress) + pointSizeMenu * uMenuViewProgress;\n\n  // ModelView Position\n  vec4 mvPosition = modelViewMatrix * vec4(mPosition, 1.0);\n\n  // Bend\n  float bendForce = (sin(uTime / 2.0) + 1.0 / 2.0 ) * 0.5 * 0.4 + 0.3;\n  mvPosition.x += sin(vUv.y * PI * uDirection) * 5.0 * bendForce * uBend;\n\n  // Final Position\n  gl_Position = vec4(projectionMatrix * mvPosition);\n\n  // Particle size\n  // Size Attenuation (Reusing Three.js Points Shader\n  gl_PointSize = pointSize * uScale * (uScaleHeightPointSize / -mvPosition.z);\n  // if (!uMenuView) {\n    gl_PointSize *= min(uStormProgress * 1.5, 1.0); // Appear progress\n    gl_PointSize *= waveTransitionProgress;\n  // }\n\n  // vPoint scale\n  vPointScale = pointSize / uTest; // multiply per ratio size\n  // vTexCoords\n  if (uProj) {\n    vTexCoords = mPosition.xy;\n  } else {\n    vTexCoords = position.xy;\n  }\n}\n"),
                    fragmentShader: a()("precision highp float;\n#define GLSLIFY 1\n\n// circle\nfloat circle(vec2 uv, float border) {\n\tfloat radius = 0.5;\n\tfloat dist = radius - distance(uv, vec2(0.5));\n  return smoothstep(0.0, border, dist);\n}\n\nuniform sampler2D uTexture;\nuniform sampler2D uTextureNext;\nuniform vec2 uTextureSize;\nuniform float uTransitionProgress;\nuniform float uAlpha;\nuniform float uMaxAlpha;\nuniform float uScale;\n// uniform bool uMenuView;\nuniform vec3 uColor;\nuniform float uMenuViewHoverProgress;\nuniform float uMenuViewProgress;\nuniform float uTextureLoadProgress;\nuniform float uTime;\n\nvarying float vPointScale;\nvarying vec2 vTexCoords;\nvarying float vStormProgress;\nvarying float vAlphaTouch;\nvarying vec2 vUv;\n\n#define HALF_PI 3.1415926538 / 2.0\n#define PI 3.1415926538\n\nfloat createLoaderPoint(float angle, float index, vec2 uTextureSize, vec2 uv) {\n  float pointSize = uTextureSize.x * 0.03;\n  pointSize *= (index / 2. + 1.) * 1. / 8.;\n  float innerSpace = 10.;\n  // vec2 st = uv.xy / uTextureSize.xy;\n  float ratio = uTextureSize.y / uTextureSize.x;\n\tfloat Ldist = pointSize - distance(uv * uTextureSize, vec2((0.5 + cos(angle) / innerSpace) * uTextureSize.x, (0.5 * ratio - sin(angle) / innerSpace) * uTextureSize.x) );\n  float L = smoothstep(0.0, 0.01 * uTextureSize.x / 2., Ldist);\n  return L;\n}\n\nvoid main() {\n  vec2 uv = vec2(0.0);\n\n  // adapt UVs based on point size and position\n  uv = gl_PointCoord * vec2(1.0, -1.0);\n\n  float texRepeatU = uTextureSize.x / vPointScale;\n  float texRepeatV = uTextureSize.y / vPointScale;\n  uv /= vec2(texRepeatU, texRepeatV);\n\n  float texOffsetU = vTexCoords.x / uTextureSize.x + 0.5;\n  float texOffsetV = vTexCoords.y / uTextureSize.y + 0.5;\n\n  uv += vec2(texOffsetU, texOffsetV);\n  uv += vec2(-0.5 * vPointScale / uTextureSize.x, 0.5 * vPointScale / uTextureSize.y);\n\n  // change texture when transitioning\n  vec4 texture;\n  float uvXY = (vUv.x + vUv.y) / 2.0;\n  if (uvXY * (1.0 - (HALF_PI - 1.0)) + (HALF_PI - 1.0) / 2.0 > 1.0 - uTransitionProgress) {\n    texture = texture2D(uTextureNext, uv);\n  } else {\n    texture = texture2D(uTexture, uv);\n  }\n\n  vec4 textureAppearColors = vec4(uColor * (1.0 - uTextureLoadProgress) + texture.rgb * uTextureLoadProgress, 1.0);\n\n  // hover color effect\n  vec4 hoverEffect = vec4(uColor * (1.0 - uMenuViewHoverProgress) + textureAppearColors.rgb * uMenuViewHoverProgress, 1.);\n  textureAppearColors = textureAppearColors * (1.0 - uMenuViewProgress) + hoverEffect * uMenuViewProgress;\n\n  gl_FragColor = vec4(textureAppearColors.rgb, 1.);\n\n  // loader\n  if (uTextureLoadProgress < 1.) {\n    float divider = 2. / 8.;\n    float L1 = createLoaderPoint(0. + uTime, 0., uTextureSize, uv);\n    float L2 = createLoaderPoint(PI * divider + uTime, 1., uTextureSize, uv);\n    float L3 = createLoaderPoint(PI * 2. * divider + uTime, 2., uTextureSize, uv);\n    float L4 = createLoaderPoint(PI * 3. * divider + uTime, 3., uTextureSize, uv);\n    float L5 = createLoaderPoint(PI * 4. * divider + uTime, 4., uTextureSize, uv);\n    float L6 = createLoaderPoint(PI * 5. * divider + uTime, 5., uTextureSize, uv);\n    float L7 = createLoaderPoint(PI * 6. * divider + uTime, 6., uTextureSize, uv);\n    float L8 = createLoaderPoint(PI * 7. * divider + uTime, 7., uTextureSize, uv);\n    gl_FragColor.rgb += (1.0 - uTextureLoadProgress) * (L1 + L2 + L3 + L4 + L5 + L6 + L7 + L8);\n  }\n\n  // gl_FragColor.a -= 1.0 - vStormProgress;\n  // Points and alpha\n  gl_FragColor.a *= circle(gl_PointCoord, 0.05 - 0.03 * uMenuViewProgress);\n  gl_FragColor.a *= vAlphaTouch;\n  gl_FragColor.a *= uAlpha;\n  gl_FragColor.a *= uMaxAlpha;\n\n  // discard edges\n  if (vStormProgress > 0.9) { // && uSpread < 0.1\n   if (uv.x > 1.0 || uv.x < 0.0 || uv.y > 1.0 || uv.y < 0.0) {\n      // gl_FragColor.a = smoothstep(0.0, 1.0, 1.0 - uv.x);\n      discard;\n    }\n  }\n}\n"),
                    depthTest: !1,
                    depthWrite: !1,
                    transparent: !0,
                    side: s.FrontSide
                }), this.material.needsUpdate = !1, this.mesh = new s.Points(this.geometry, this.material), this.object3d.add(this.mesh)
            }
        }, {
            key: "updateTextures",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                if ("next" === e) {
                    var n = this.sliderIndex + 1 === this.textures.length ? 0 : this.sliderIndex + 1;
                    this.material.uniforms.uTexture.value = this.textures[this.sliderIndex].source, this.material.uniforms.uTextureNext.value = this.textures[n].source, this.material.uniforms.uTransitionProgress.value = 0, t || (this.toggleVideos(this.textures[this.sliderIndex].video, this.textures[n].video), this.sliderIndex = n)
                } else if ("prev" === e) {
                    var i = this.sliderIndex - 1 == -1 ? this.textures.length - 1 : this.sliderIndex - 1;
                    this.material.uniforms.uTransitionProgress.value = 1, this.material.uniforms.uTexture.value = this.textures[i].source, this.material.uniforms.uTextureNext.value = this.textures[this.sliderIndex].source, t || this.toggleVideos(this.textures[this.sliderIndex].video, this.textures[i].video), this.sliderIndex = i
                }
            }
        }, {
            key: "toggleVideos",
            value: function(e, t) {
                e && e.pause(), t && (t.currentTime = 0, t.play())
            }
        }, {
            key: "render",
            value: function(e) {
                this.material.uniforms.uTime.value += e / 500
            }
        }, {
            key: "toggleZoom",
            value: function(e) {
                this.zoomed = e, this.material.uniforms.uForce.value = e ? 2.5 : 1.3, e ? this.plane.scale.set(.93 * this.width, .9 * this.height, 1) : this.plane.scale.set(this.width, this.height, 1)
            }
        }, {
            key: "placeOnRoad",
            value: function(e) {
                var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                    n = 0,
                    i = this.object3d;
                i.index = e.index, i.position.copy(e.position), i.position.y += d.D + n, i.lookAt(e.lookAt), i.position.y += this.height / 2 / 2;
                var r = 4,
                    o = new s.Vector3;
                o.subVectors(e.lookAt, i.position).normalize(), o.applyAxisAngle(new s.Vector3(0, 1, 0), Object(h.a)(90 * e.directionCenter)), o.multiplyScalar(this.width / 2 + r), i.position.add(o);
                var a = new s.Mesh(b, x),
                    c = new s.Vector3,
                    l = new s.Vector3,
                    u = 55;
                a.position.copy(i.position), c.subVectors(e.lookAt, i.position).normalize(), c.addScaledVector(c, u), a.position.add(c);
                var p = 13;
                l.subVectors(e.lookAt, i.position).normalize(), l.applyAxisAngle(new s.Vector3(0, 1, 0), Object(h.a)(90 * e.directionCenter)), a.position.addScaledVector(l, p), e.zoomPosition = a.position;
                var f = new s.Vector3;
                f.copy(i.position), f.addScaledVector(l, p), e.zoomLookAt = f, t && e.object3d.add(i)
            }
        }]) && g(t.prototype, n), o && g(t, o), e
    }()
}, function(e, t, n) {
    var i;
    /*! Hammer.JS - v2.0.7 - 2016-04-22
     * http://hammerjs.github.io/
     *
     * Copyright (c) 2016 Jorik Tangelder;
     * Licensed under the MIT license */
    ! function(r, o, a, s) {
        "use strict";
        var c, l = ["", "webkit", "Moz", "MS", "ms", "o"],
            u = o.createElement("div"),
            h = Math.round,
            d = Math.abs,
            p = Date.now;

        function f(e, t, n) {
            return setTimeout(w(e, n), t)
        }

        function m(e, t, n) {
            return !!Array.isArray(e) && (v(e, n[t], n), !0)
        }

        function v(e, t, n) {
            var i;
            if (e)
                if (e.forEach) e.forEach(t, n);
                else if (void 0 !== e.length)
                for (i = 0; i < e.length;) t.call(n, e[i], i, e), i++;
            else
                for (i in e) e.hasOwnProperty(i) && t.call(n, e[i], i, e)
        }

        function g(e, t, n) {
            var i = "DEPRECATED METHOD: " + t + "\n" + n + " AT \n";
            return function() {
                var t = new Error("get-stack-trace"),
                    n = t && t.stack ? t.stack.replace(/^[^\(]+?[\n$]/gm, "").replace(/^\s+at\s+/gm, "").replace(/^Object.<anonymous>\s*\(/gm, "{anonymous}()@") : "Unknown Stack Trace",
                    o = r.console && (r.console.warn || r.console.log);
                return o && o.call(r.console, i, n), e.apply(this, arguments)
            }
        }
        c = "function" != typeof Object.assign ? function(e) {
            if (null == e) throw new TypeError("Cannot convert undefined or null to object");
            for (var t = Object(e), n = 1; n < arguments.length; n++) {
                var i = arguments[n];
                if (null != i)
                    for (var r in i) i.hasOwnProperty(r) && (t[r] = i[r])
            }
            return t
        } : Object.assign;
        var y = g((function(e, t, n) {
                for (var i = Object.keys(t), r = 0; r < i.length;)(!n || n && void 0 === e[i[r]]) && (e[i[r]] = t[i[r]]), r++;
                return e
            }), "extend", "Use `assign`."),
            b = g((function(e, t) {
                return y(e, t, !0)
            }), "merge", "Use `assign`.");

        function x(e, t, n) {
            var i, r = t.prototype;
            (i = e.prototype = Object.create(r)).constructor = e, i._super = r, n && c(i, n)
        }

        function w(e, t) {
            return function() {
                return e.apply(t, arguments)
            }
        }

        function _(e, t) {
            return "function" == typeof e ? e.apply(t && t[0] || void 0, t) : e
        }

        function M(e, t) {
            return void 0 === e ? t : e
        }

        function T(e, t, n) {
            v(P(t), (function(t) {
                e.addEventListener(t, n, !1)
            }))
        }

        function S(e, t, n) {
            v(P(t), (function(t) {
                e.removeEventListener(t, n, !1)
            }))
        }

        function E(e, t) {
            for (; e;) {
                if (e == t) return !0;
                e = e.parentNode
            }
            return !1
        }

        function A(e, t) {
            return e.indexOf(t) > -1
        }

        function P(e) {
            return e.trim().split(/\s+/g)
        }

        function L(e, t, n) {
            if (e.indexOf && !n) return e.indexOf(t);
            for (var i = 0; i < e.length;) {
                if (n && e[i][n] == t || !n && e[i] === t) return i;
                i++
            }
            return -1
        }

        function C(e) {
            return Array.prototype.slice.call(e, 0)
        }

        function R(e, t, n) {
            for (var i = [], r = [], o = 0; o < e.length;) {
                var a = t ? e[o][t] : e[o];
                L(r, a) < 0 && i.push(e[o]), r[o] = a, o++
            }
            return n && (i = t ? i.sort((function(e, n) {
                return e[t] > n[t]
            })) : i.sort()), i
        }

        function O(e, t) {
            for (var n, i, r = t[0].toUpperCase() + t.slice(1), o = 0; o < l.length;) {
                if ((i = (n = l[o]) ? n + r : t) in e) return i;
                o++
            }
        }
        var D = 1;

        function I(e) {
            var t = e.ownerDocument || e;
            return t.defaultView || t.parentWindow || r
        }
        var j = "ontouchstart" in r,
            k = void 0 !== O(r, "PointerEvent"),
            F = j && /mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),
            N = ["x", "y"],
            z = ["clientX", "clientY"];

        function B(e, t) {
            var n = this;
            this.manager = e, this.callback = t, this.element = e.element, this.target = e.options.inputTarget, this.domHandler = function(t) {
                _(e.options.enable, [e]) && n.handler(t)
            }, this.init()
        }

        function U(e, t, n) {
            var i = n.pointers.length,
                r = n.changedPointers.length,
                o = 1 & t && i - r == 0,
                a = 12 & t && i - r == 0;
            n.isFirst = !!o, n.isFinal = !!a, o && (e.session = {}), n.eventType = t,
                function(e, t) {
                    var n = e.session,
                        i = t.pointers,
                        r = i.length;
                    n.firstInput || (n.firstInput = V(t));
                    r > 1 && !n.firstMultiple ? n.firstMultiple = V(t) : 1 === r && (n.firstMultiple = !1);
                    var o = n.firstInput,
                        a = n.firstMultiple,
                        s = a ? a.center : o.center,
                        c = t.center = H(i);
                    t.timeStamp = p(), t.deltaTime = t.timeStamp - o.timeStamp, t.angle = Y(s, c), t.distance = q(s, c),
                        function(e, t) {
                            var n = t.center,
                                i = e.offsetDelta || {},
                                r = e.prevDelta || {},
                                o = e.prevInput || {};
                            1 !== t.eventType && 4 !== o.eventType || (r = e.prevDelta = {
                                x: o.deltaX || 0,
                                y: o.deltaY || 0
                            }, i = e.offsetDelta = {
                                x: n.x,
                                y: n.y
                            });
                            t.deltaX = r.x + (n.x - i.x), t.deltaY = r.y + (n.y - i.y)
                        }(n, t), t.offsetDirection = W(t.deltaX, t.deltaY);
                    var l = G(t.deltaTime, t.deltaX, t.deltaY);
                    t.overallVelocityX = l.x, t.overallVelocityY = l.y, t.overallVelocity = d(l.x) > d(l.y) ? l.x : l.y, t.scale = a ? (u = a.pointers, h = i, q(h[0], h[1], z) / q(u[0], u[1], z)) : 1, t.rotation = a ? function(e, t) {
                            return Y(t[1], t[0], z) + Y(e[1], e[0], z)
                        }(a.pointers, i) : 0, t.maxPointers = n.prevInput ? t.pointers.length > n.prevInput.maxPointers ? t.pointers.length : n.prevInput.maxPointers : t.pointers.length,
                        function(e, t) {
                            var n, i, r, o, a = e.lastInterval || t,
                                s = t.timeStamp - a.timeStamp;
                            if (8 != t.eventType && (s > 25 || void 0 === a.velocity)) {
                                var c = t.deltaX - a.deltaX,
                                    l = t.deltaY - a.deltaY,
                                    u = G(s, c, l);
                                i = u.x, r = u.y, n = d(u.x) > d(u.y) ? u.x : u.y, o = W(c, l), e.lastInterval = t
                            } else n = a.velocity, i = a.velocityX, r = a.velocityY, o = a.direction;
                            t.velocity = n, t.velocityX = i, t.velocityY = r, t.direction = o
                        }(n, t);
                    var u, h;
                    var f = e.element;
                    E(t.srcEvent.target, f) && (f = t.srcEvent.target);
                    t.target = f
                }(e, n), e.emit("hammer.input", n), e.recognize(n), e.session.prevInput = n
        }

        function V(e) {
            for (var t = [], n = 0; n < e.pointers.length;) t[n] = {
                clientX: h(e.pointers[n].clientX),
                clientY: h(e.pointers[n].clientY)
            }, n++;
            return {
                timeStamp: p(),
                pointers: t,
                center: H(t),
                deltaX: e.deltaX,
                deltaY: e.deltaY
            }
        }

        function H(e) {
            var t = e.length;
            if (1 === t) return {
                x: h(e[0].clientX),
                y: h(e[0].clientY)
            };
            for (var n = 0, i = 0, r = 0; r < t;) n += e[r].clientX, i += e[r].clientY, r++;
            return {
                x: h(n / t),
                y: h(i / t)
            }
        }

        function G(e, t, n) {
            return {
                x: t / e || 0,
                y: n / e || 0
            }
        }

        function W(e, t) {
            return e === t ? 1 : d(e) >= d(t) ? e < 0 ? 2 : 4 : t < 0 ? 8 : 16
        }

        function q(e, t, n) {
            n || (n = N);
            var i = t[n[0]] - e[n[0]],
                r = t[n[1]] - e[n[1]];
            return Math.sqrt(i * i + r * r)
        }

        function Y(e, t, n) {
            n || (n = N);
            var i = t[n[0]] - e[n[0]],
                r = t[n[1]] - e[n[1]];
            return 180 * Math.atan2(r, i) / Math.PI
        }
        B.prototype = {
            handler: function() {},
            init: function() {
                this.evEl && T(this.element, this.evEl, this.domHandler), this.evTarget && T(this.target, this.evTarget, this.domHandler), this.evWin && T(I(this.element), this.evWin, this.domHandler)
            },
            destroy: function() {
                this.evEl && S(this.element, this.evEl, this.domHandler), this.evTarget && S(this.target, this.evTarget, this.domHandler), this.evWin && S(I(this.element), this.evWin, this.domHandler)
            }
        };
        var X = {
            mousedown: 1,
            mousemove: 2,
            mouseup: 4
        };

        function Z() {
            this.evEl = "mousedown", this.evWin = "mousemove mouseup", this.pressed = !1, B.apply(this, arguments)
        }
        x(Z, B, {
            handler: function(e) {
                var t = X[e.type];
                1 & t && 0 === e.button && (this.pressed = !0), 2 & t && 1 !== e.which && (t = 4), this.pressed && (4 & t && (this.pressed = !1), this.callback(this.manager, t, {
                    pointers: [e],
                    changedPointers: [e],
                    pointerType: "mouse",
                    srcEvent: e
                }))
            }
        });
        var J = {
                pointerdown: 1,
                pointermove: 2,
                pointerup: 4,
                pointercancel: 8,
                pointerout: 8
            },
            K = {
                2: "touch",
                3: "pen",
                4: "mouse",
                5: "kinect"
            },
            Q = "pointerdown",
            $ = "pointermove pointerup pointercancel";

        function ee() {
            this.evEl = Q, this.evWin = $, B.apply(this, arguments), this.store = this.manager.session.pointerEvents = []
        }
        r.MSPointerEvent && !r.PointerEvent && (Q = "MSPointerDown", $ = "MSPointerMove MSPointerUp MSPointerCancel"), x(ee, B, {
            handler: function(e) {
                var t = this.store,
                    n = !1,
                    i = e.type.toLowerCase().replace("ms", ""),
                    r = J[i],
                    o = K[e.pointerType] || e.pointerType,
                    a = "touch" == o,
                    s = L(t, e.pointerId, "pointerId");
                1 & r && (0 === e.button || a) ? s < 0 && (t.push(e), s = t.length - 1) : 12 & r && (n = !0), s < 0 || (t[s] = e, this.callback(this.manager, r, {
                    pointers: t,
                    changedPointers: [e],
                    pointerType: o,
                    srcEvent: e
                }), n && t.splice(s, 1))
            }
        });
        var te = {
            touchstart: 1,
            touchmove: 2,
            touchend: 4,
            touchcancel: 8
        };

        function ne() {
            this.evTarget = "touchstart", this.evWin = "touchstart touchmove touchend touchcancel", this.started = !1, B.apply(this, arguments)
        }

        function ie(e, t) {
            var n = C(e.touches),
                i = C(e.changedTouches);
            return 12 & t && (n = R(n.concat(i), "identifier", !0)), [n, i]
        }
        x(ne, B, {
            handler: function(e) {
                var t = te[e.type];
                if (1 === t && (this.started = !0), this.started) {
                    var n = ie.call(this, e, t);
                    12 & t && n[0].length - n[1].length == 0 && (this.started = !1), this.callback(this.manager, t, {
                        pointers: n[0],
                        changedPointers: n[1],
                        pointerType: "touch",
                        srcEvent: e
                    })
                }
            }
        });
        var re = {
            touchstart: 1,
            touchmove: 2,
            touchend: 4,
            touchcancel: 8
        };

        function oe() {
            this.evTarget = "touchstart touchmove touchend touchcancel", this.targetIds = {}, B.apply(this, arguments)
        }

        function ae(e, t) {
            var n = C(e.touches),
                i = this.targetIds;
            if (3 & t && 1 === n.length) return i[n[0].identifier] = !0, [n, n];
            var r, o, a = C(e.changedTouches),
                s = [],
                c = this.target;
            if (o = n.filter((function(e) {
                    return E(e.target, c)
                })), 1 === t)
                for (r = 0; r < o.length;) i[o[r].identifier] = !0, r++;
            for (r = 0; r < a.length;) i[a[r].identifier] && s.push(a[r]), 12 & t && delete i[a[r].identifier], r++;
            return s.length ? [R(o.concat(s), "identifier", !0), s] : void 0
        }
        x(oe, B, {
            handler: function(e) {
                var t = re[e.type],
                    n = ae.call(this, e, t);
                n && this.callback(this.manager, t, {
                    pointers: n[0],
                    changedPointers: n[1],
                    pointerType: "touch",
                    srcEvent: e
                })
            }
        });

        function se() {
            B.apply(this, arguments);
            var e = w(this.handler, this);
            this.touch = new oe(this.manager, e), this.mouse = new Z(this.manager, e), this.primaryTouch = null, this.lastTouches = []
        }

        function ce(e, t) {
            1 & e ? (this.primaryTouch = t.changedPointers[0].identifier, le.call(this, t)) : 12 & e && le.call(this, t)
        }

        function le(e) {
            var t = e.changedPointers[0];
            if (t.identifier === this.primaryTouch) {
                var n = {
                    x: t.clientX,
                    y: t.clientY
                };
                this.lastTouches.push(n);
                var i = this.lastTouches;
                setTimeout((function() {
                    var e = i.indexOf(n);
                    e > -1 && i.splice(e, 1)
                }), 2500)
            }
        }

        function ue(e) {
            for (var t = e.srcEvent.clientX, n = e.srcEvent.clientY, i = 0; i < this.lastTouches.length; i++) {
                var r = this.lastTouches[i],
                    o = Math.abs(t - r.x),
                    a = Math.abs(n - r.y);
                if (o <= 25 && a <= 25) return !0
            }
            return !1
        }
        x(se, B, {
            handler: function(e, t, n) {
                var i = "touch" == n.pointerType,
                    r = "mouse" == n.pointerType;
                if (!(r && n.sourceCapabilities && n.sourceCapabilities.firesTouchEvents)) {
                    if (i) ce.call(this, t, n);
                    else if (r && ue.call(this, n)) return;
                    this.callback(e, t, n)
                }
            },
            destroy: function() {
                this.touch.destroy(), this.mouse.destroy()
            }
        });
        var he = O(u.style, "touchAction"),
            de = void 0 !== he,
            pe = function() {
                if (!de) return !1;
                var e = {},
                    t = r.CSS && r.CSS.supports;
                return ["auto", "manipulation", "pan-y", "pan-x", "pan-x pan-y", "none"].forEach((function(n) {
                    e[n] = !t || r.CSS.supports("touch-action", n)
                })), e
            }();

        function fe(e, t) {
            this.manager = e, this.set(t)
        }
        fe.prototype = {
            set: function(e) {
                "compute" == e && (e = this.compute()), de && this.manager.element.style && pe[e] && (this.manager.element.style[he] = e), this.actions = e.toLowerCase().trim()
            },
            update: function() {
                this.set(this.manager.options.touchAction)
            },
            compute: function() {
                var e = [];
                return v(this.manager.recognizers, (function(t) {
                        _(t.options.enable, [t]) && (e = e.concat(t.getTouchAction()))
                    })),
                    function(e) {
                        if (A(e, "none")) return "none";
                        var t = A(e, "pan-x"),
                            n = A(e, "pan-y");
                        if (t && n) return "none";
                        if (t || n) return t ? "pan-x" : "pan-y";
                        if (A(e, "manipulation")) return "manipulation";
                        return "auto"
                    }(e.join(" "))
            },
            preventDefaults: function(e) {
                var t = e.srcEvent,
                    n = e.offsetDirection;
                if (this.manager.session.prevented) t.preventDefault();
                else {
                    var i = this.actions,
                        r = A(i, "none") && !pe.none,
                        o = A(i, "pan-y") && !pe["pan-y"],
                        a = A(i, "pan-x") && !pe["pan-x"];
                    if (r) {
                        var s = 1 === e.pointers.length,
                            c = e.distance < 2,
                            l = e.deltaTime < 250;
                        if (s && c && l) return
                    }
                    if (!a || !o) return r || o && 6 & n || a && 24 & n ? this.preventSrc(t) : void 0
                }
            },
            preventSrc: function(e) {
                this.manager.session.prevented = !0, e.preventDefault()
            }
        };

        function me(e) {
            this.options = c({}, this.defaults, e || {}), this.id = D++, this.manager = null, this.options.enable = M(this.options.enable, !0), this.state = 1, this.simultaneous = {}, this.requireFail = []
        }

        function ve(e) {
            return 16 & e ? "cancel" : 8 & e ? "end" : 4 & e ? "move" : 2 & e ? "start" : ""
        }

        function ge(e) {
            return 16 == e ? "down" : 8 == e ? "up" : 2 == e ? "left" : 4 == e ? "right" : ""
        }

        function ye(e, t) {
            var n = t.manager;
            return n ? n.get(e) : e
        }

        function be() {
            me.apply(this, arguments)
        }

        function xe() {
            be.apply(this, arguments), this.pX = null, this.pY = null
        }

        function we() {
            be.apply(this, arguments)
        }

        function _e() {
            me.apply(this, arguments), this._timer = null, this._input = null
        }

        function Me() {
            be.apply(this, arguments)
        }

        function Te() {
            be.apply(this, arguments)
        }

        function Se() {
            me.apply(this, arguments), this.pTime = !1, this.pCenter = !1, this._timer = null, this._input = null, this.count = 0
        }

        function Ee(e, t) {
            return (t = t || {}).recognizers = M(t.recognizers, Ee.defaults.preset), new Ae(e, t)
        }
        me.prototype = {
            defaults: {},
            set: function(e) {
                return c(this.options, e), this.manager && this.manager.touchAction.update(), this
            },
            recognizeWith: function(e) {
                if (m(e, "recognizeWith", this)) return this;
                var t = this.simultaneous;
                return t[(e = ye(e, this)).id] || (t[e.id] = e, e.recognizeWith(this)), this
            },
            dropRecognizeWith: function(e) {
                return m(e, "dropRecognizeWith", this) || (e = ye(e, this), delete this.simultaneous[e.id]), this
            },
            requireFailure: function(e) {
                if (m(e, "requireFailure", this)) return this;
                var t = this.requireFail;
                return -1 === L(t, e = ye(e, this)) && (t.push(e), e.requireFailure(this)), this
            },
            dropRequireFailure: function(e) {
                if (m(e, "dropRequireFailure", this)) return this;
                e = ye(e, this);
                var t = L(this.requireFail, e);
                return t > -1 && this.requireFail.splice(t, 1), this
            },
            hasRequireFailures: function() {
                return this.requireFail.length > 0
            },
            canRecognizeWith: function(e) {
                return !!this.simultaneous[e.id]
            },
            emit: function(e) {
                var t = this,
                    n = this.state;

                function i(n) {
                    t.manager.emit(n, e)
                }
                n < 8 && i(t.options.event + ve(n)), i(t.options.event), e.additionalEvent && i(e.additionalEvent), n >= 8 && i(t.options.event + ve(n))
            },
            tryEmit: function(e) {
                if (this.canEmit()) return this.emit(e);
                this.state = 32
            },
            canEmit: function() {
                for (var e = 0; e < this.requireFail.length;) {
                    if (!(33 & this.requireFail[e].state)) return !1;
                    e++
                }
                return !0
            },
            recognize: function(e) {
                var t = c({}, e);
                if (!_(this.options.enable, [this, t])) return this.reset(), void(this.state = 32);
                56 & this.state && (this.state = 1), this.state = this.process(t), 30 & this.state && this.tryEmit(t)
            },
            process: function(e) {},
            getTouchAction: function() {},
            reset: function() {}
        }, x(be, me, {
            defaults: {
                pointers: 1
            },
            attrTest: function(e) {
                var t = this.options.pointers;
                return 0 === t || e.pointers.length === t
            },
            process: function(e) {
                var t = this.state,
                    n = e.eventType,
                    i = 6 & t,
                    r = this.attrTest(e);
                return i && (8 & n || !r) ? 16 | t : i || r ? 4 & n ? 8 | t : 2 & t ? 4 | t : 2 : 32
            }
        }), x(xe, be, {
            defaults: {
                event: "pan",
                threshold: 10,
                pointers: 1,
                direction: 30
            },
            getTouchAction: function() {
                var e = this.options.direction,
                    t = [];
                return 6 & e && t.push("pan-y"), 24 & e && t.push("pan-x"), t
            },
            directionTest: function(e) {
                var t = this.options,
                    n = !0,
                    i = e.distance,
                    r = e.direction,
                    o = e.deltaX,
                    a = e.deltaY;
                return r & t.direction || (6 & t.direction ? (r = 0 === o ? 1 : o < 0 ? 2 : 4, n = o != this.pX, i = Math.abs(e.deltaX)) : (r = 0 === a ? 1 : a < 0 ? 8 : 16, n = a != this.pY, i = Math.abs(e.deltaY))), e.direction = r, n && i > t.threshold && r & t.direction
            },
            attrTest: function(e) {
                return be.prototype.attrTest.call(this, e) && (2 & this.state || !(2 & this.state) && this.directionTest(e))
            },
            emit: function(e) {
                this.pX = e.deltaX, this.pY = e.deltaY;
                var t = ge(e.direction);
                t && (e.additionalEvent = this.options.event + t), this._super.emit.call(this, e)
            }
        }), x(we, be, {
            defaults: {
                event: "pinch",
                threshold: 0,
                pointers: 2
            },
            getTouchAction: function() {
                return ["none"]
            },
            attrTest: function(e) {
                return this._super.attrTest.call(this, e) && (Math.abs(e.scale - 1) > this.options.threshold || 2 & this.state)
            },
            emit: function(e) {
                if (1 !== e.scale) {
                    var t = e.scale < 1 ? "in" : "out";
                    e.additionalEvent = this.options.event + t
                }
                this._super.emit.call(this, e)
            }
        }), x(_e, me, {
            defaults: {
                event: "press",
                pointers: 1,
                time: 251,
                threshold: 9
            },
            getTouchAction: function() {
                return ["auto"]
            },
            process: function(e) {
                var t = this.options,
                    n = e.pointers.length === t.pointers,
                    i = e.distance < t.threshold,
                    r = e.deltaTime > t.time;
                if (this._input = e, !i || !n || 12 & e.eventType && !r) this.reset();
                else if (1 & e.eventType) this.reset(), this._timer = f((function() {
                    this.state = 8, this.tryEmit()
                }), t.time, this);
                else if (4 & e.eventType) return 8;
                return 32
            },
            reset: function() {
                clearTimeout(this._timer)
            },
            emit: function(e) {
                8 === this.state && (e && 4 & e.eventType ? this.manager.emit(this.options.event + "up", e) : (this._input.timeStamp = p(), this.manager.emit(this.options.event, this._input)))
            }
        }), x(Me, be, {
            defaults: {
                event: "rotate",
                threshold: 0,
                pointers: 2
            },
            getTouchAction: function() {
                return ["none"]
            },
            attrTest: function(e) {
                return this._super.attrTest.call(this, e) && (Math.abs(e.rotation) > this.options.threshold || 2 & this.state)
            }
        }), x(Te, be, {
            defaults: {
                event: "swipe",
                threshold: 10,
                velocity: .3,
                direction: 30,
                pointers: 1
            },
            getTouchAction: function() {
                return xe.prototype.getTouchAction.call(this)
            },
            attrTest: function(e) {
                var t, n = this.options.direction;
                return 30 & n ? t = e.overallVelocity : 6 & n ? t = e.overallVelocityX : 24 & n && (t = e.overallVelocityY), this._super.attrTest.call(this, e) && n & e.offsetDirection && e.distance > this.options.threshold && e.maxPointers == this.options.pointers && d(t) > this.options.velocity && 4 & e.eventType
            },
            emit: function(e) {
                var t = ge(e.offsetDirection);
                t && this.manager.emit(this.options.event + t, e), this.manager.emit(this.options.event, e)
            }
        }), x(Se, me, {
            defaults: {
                event: "tap",
                pointers: 1,
                taps: 1,
                interval: 300,
                time: 250,
                threshold: 9,
                posThreshold: 10
            },
            getTouchAction: function() {
                return ["manipulation"]
            },
            process: function(e) {
                var t = this.options,
                    n = e.pointers.length === t.pointers,
                    i = e.distance < t.threshold,
                    r = e.deltaTime < t.time;
                if (this.reset(), 1 & e.eventType && 0 === this.count) return this.failTimeout();
                if (i && r && n) {
                    if (4 != e.eventType) return this.failTimeout();
                    var o = !this.pTime || e.timeStamp - this.pTime < t.interval,
                        a = !this.pCenter || q(this.pCenter, e.center) < t.posThreshold;
                    if (this.pTime = e.timeStamp, this.pCenter = e.center, a && o ? this.count += 1 : this.count = 1, this._input = e, 0 === this.count % t.taps) return this.hasRequireFailures() ? (this._timer = f((function() {
                        this.state = 8, this.tryEmit()
                    }), t.interval, this), 2) : 8
                }
                return 32
            },
            failTimeout: function() {
                return this._timer = f((function() {
                    this.state = 32
                }), this.options.interval, this), 32
            },
            reset: function() {
                clearTimeout(this._timer)
            },
            emit: function() {
                8 == this.state && (this._input.tapCount = this.count, this.manager.emit(this.options.event, this._input))
            }
        }), Ee.VERSION = "2.0.7", Ee.defaults = {
            domEvents: !1,
            touchAction: "compute",
            enable: !0,
            inputTarget: null,
            inputClass: null,
            preset: [
                [Me, {
                    enable: !1
                }],
                [we, {
                        enable: !1
                    },
                    ["rotate"]
                ],
                [Te, {
                    direction: 6
                }],
                [xe, {
                        direction: 6
                    },
                    ["swipe"]
                ],
                [Se],
                [Se, {
                        event: "doubletap",
                        taps: 2
                    },
                    ["tap"]
                ],
                [_e]
            ],
            cssProps: {
                userSelect: "none",
                touchSelect: "none",
                touchCallout: "none",
                contentZooming: "none",
                userDrag: "none",
                tapHighlightColor: "rgba(0,0,0,0)"
            }
        };

        function Ae(e, t) {
            var n;
            this.options = c({}, Ee.defaults, t || {}), this.options.inputTarget = this.options.inputTarget || e, this.handlers = {}, this.session = {}, this.recognizers = [], this.oldCssProps = {}, this.element = e, this.input = new((n = this).options.inputClass || (k ? ee : F ? oe : j ? se : Z))(n, U), this.touchAction = new fe(this, this.options.touchAction), Pe(this, !0), v(this.options.recognizers, (function(e) {
                var t = this.add(new e[0](e[1]));
                e[2] && t.recognizeWith(e[2]), e[3] && t.requireFailure(e[3])
            }), this)
        }

        function Pe(e, t) {
            var n, i = e.element;
            i.style && (v(e.options.cssProps, (function(r, o) {
                n = O(i.style, o), t ? (e.oldCssProps[n] = i.style[n], i.style[n] = r) : i.style[n] = e.oldCssProps[n] || ""
            })), t || (e.oldCssProps = {}))
        }
        Ae.prototype = {
            set: function(e) {
                return c(this.options, e), e.touchAction && this.touchAction.update(), e.inputTarget && (this.input.destroy(), this.input.target = e.inputTarget, this.input.init()), this
            },
            stop: function(e) {
                this.session.stopped = e ? 2 : 1
            },
            recognize: function(e) {
                var t = this.session;
                if (!t.stopped) {
                    var n;
                    this.touchAction.preventDefaults(e);
                    var i = this.recognizers,
                        r = t.curRecognizer;
                    (!r || r && 8 & r.state) && (r = t.curRecognizer = null);
                    for (var o = 0; o < i.length;) n = i[o], 2 === t.stopped || r && n != r && !n.canRecognizeWith(r) ? n.reset() : n.recognize(e), !r && 14 & n.state && (r = t.curRecognizer = n), o++
                }
            },
            get: function(e) {
                if (e instanceof me) return e;
                for (var t = this.recognizers, n = 0; n < t.length; n++)
                    if (t[n].options.event == e) return t[n];
                return null
            },
            add: function(e) {
                if (m(e, "add", this)) return this;
                var t = this.get(e.options.event);
                return t && this.remove(t), this.recognizers.push(e), e.manager = this, this.touchAction.update(), e
            },
            remove: function(e) {
                if (m(e, "remove", this)) return this;
                if (e = this.get(e)) {
                    var t = this.recognizers,
                        n = L(t, e); - 1 !== n && (t.splice(n, 1), this.touchAction.update())
                }
                return this
            },
            on: function(e, t) {
                if (void 0 !== e && void 0 !== t) {
                    var n = this.handlers;
                    return v(P(e), (function(e) {
                        n[e] = n[e] || [], n[e].push(t)
                    })), this
                }
            },
            off: function(e, t) {
                if (void 0 !== e) {
                    var n = this.handlers;
                    return v(P(e), (function(e) {
                        t ? n[e] && n[e].splice(L(n[e], t), 1) : delete n[e]
                    })), this
                }
            },
            emit: function(e, t) {
                this.options.domEvents && function(e, t) {
                    var n = o.createEvent("Event");
                    n.initEvent(e, !0, !0), n.gesture = t, t.target.dispatchEvent(n)
                }(e, t);
                var n = this.handlers[e] && this.handlers[e].slice();
                if (n && n.length) {
                    t.type = e, t.preventDefault = function() {
                        t.srcEvent.preventDefault()
                    };
                    for (var i = 0; i < n.length;) n[i](t), i++
                }
            },
            destroy: function() {
                this.element && Pe(this, !1), this.handlers = {}, this.session = {}, this.input.destroy(), this.element = null
            }
        }, c(Ee, {
            INPUT_START: 1,
            INPUT_MOVE: 2,
            INPUT_END: 4,
            INPUT_CANCEL: 8,
            STATE_POSSIBLE: 1,
            STATE_BEGAN: 2,
            STATE_CHANGED: 4,
            STATE_ENDED: 8,
            STATE_RECOGNIZED: 8,
            STATE_CANCELLED: 16,
            STATE_FAILED: 32,
            DIRECTION_NONE: 1,
            DIRECTION_LEFT: 2,
            DIRECTION_RIGHT: 4,
            DIRECTION_UP: 8,
            DIRECTION_DOWN: 16,
            DIRECTION_HORIZONTAL: 6,
            DIRECTION_VERTICAL: 24,
            DIRECTION_ALL: 30,
            Manager: Ae,
            Input: B,
            TouchAction: fe,
            TouchInput: oe,
            MouseInput: Z,
            PointerEventInput: ee,
            TouchMouseInput: se,
            SingleTouchInput: ne,
            Recognizer: me,
            AttrRecognizer: be,
            Tap: Se,
            Pan: xe,
            Swipe: Te,
            Pinch: we,
            Rotate: Me,
            Press: _e,
            on: T,
            off: S,
            each: v,
            merge: b,
            extend: y,
            assign: c,
            inherit: x,
            bindFn: w,
            prefixed: O
        }), (void 0 !== r ? r : "undefined" != typeof self ? self : {}).Hammer = Ee, void 0 === (i = function() {
            return Ee
        }.call(t, n, t, e)) || (e.exports = i)
    }(window, document)
}, function(e, t) {
    e.exports = function(e) {
        var t = typeof e;
        return null != e && ("object" == t || "function" == t)
    }
}, function(e, t, n) {
    "use strict";
    (function(e) {
        /*!
         * The buffer module from node.js, for the browser.
         *
         * @author   Feross Aboukhadijeh <http://feross.org>
         * @license  MIT
         */
        var i = n(98),
            r = n(99),
            o = n(100);

        function a() {
            return c.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
        }

        function s(e, t) {
            if (a() < t) throw new RangeError("Invalid typed array length");
            return c.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = c.prototype : (null === e && (e = new c(t)), e.length = t), e
        }

        function c(e, t, n) {
            if (!(c.TYPED_ARRAY_SUPPORT || this instanceof c)) return new c(e, t, n);
            if ("number" == typeof e) {
                if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string");
                return h(this, e)
            }
            return l(this, e, t, n)
        }

        function l(e, t, n, i) {
            if ("number" == typeof t) throw new TypeError('"value" argument must not be a number');
            return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function(e, t, n, i) {
                if (t.byteLength, n < 0 || t.byteLength < n) throw new RangeError("'offset' is out of bounds");
                if (t.byteLength < n + (i || 0)) throw new RangeError("'length' is out of bounds");
                t = void 0 === n && void 0 === i ? new Uint8Array(t) : void 0 === i ? new Uint8Array(t, n) : new Uint8Array(t, n, i);
                c.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = c.prototype : e = d(e, t);
                return e
            }(e, t, n, i) : "string" == typeof t ? function(e, t, n) {
                "string" == typeof n && "" !== n || (n = "utf8");
                if (!c.isEncoding(n)) throw new TypeError('"encoding" must be a valid string encoding');
                var i = 0 | f(t, n),
                    r = (e = s(e, i)).write(t, n);
                r !== i && (e = e.slice(0, r));
                return e
            }(e, t, n) : function(e, t) {
                if (c.isBuffer(t)) {
                    var n = 0 | p(t.length);
                    return 0 === (e = s(e, n)).length || t.copy(e, 0, 0, n), e
                }
                if (t) {
                    if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length" in t) return "number" != typeof t.length || (i = t.length) != i ? s(e, 0) : d(e, t);
                    if ("Buffer" === t.type && o(t.data)) return d(e, t.data)
                }
                var i;
                throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
            }(e, t)
        }

        function u(e) {
            if ("number" != typeof e) throw new TypeError('"size" argument must be a number');
            if (e < 0) throw new RangeError('"size" argument must not be negative')
        }

        function h(e, t) {
            if (u(t), e = s(e, t < 0 ? 0 : 0 | p(t)), !c.TYPED_ARRAY_SUPPORT)
                for (var n = 0; n < t; ++n) e[n] = 0;
            return e
        }

        function d(e, t) {
            var n = t.length < 0 ? 0 : 0 | p(t.length);
            e = s(e, n);
            for (var i = 0; i < n; i += 1) e[i] = 255 & t[i];
            return e
        }

        function p(e) {
            if (e >= a()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + a().toString(16) + " bytes");
            return 0 | e
        }

        function f(e, t) {
            if (c.isBuffer(e)) return e.length;
            if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e.byteLength;
            "string" != typeof e && (e = "" + e);
            var n = e.length;
            if (0 === n) return 0;
            for (var i = !1;;) switch (t) {
                case "ascii":
                case "latin1":
                case "binary":
                    return n;
                case "utf8":
                case "utf-8":
                case void 0:
                    return B(e).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return 2 * n;
                case "hex":
                    return n >>> 1;
                case "base64":
                    return U(e).length;
                default:
                    if (i) return B(e).length;
                    t = ("" + t).toLowerCase(), i = !0
            }
        }

        function m(e, t, n) {
            var i = !1;
            if ((void 0 === t || t < 0) && (t = 0), t > this.length) return "";
            if ((void 0 === n || n > this.length) && (n = this.length), n <= 0) return "";
            if ((n >>>= 0) <= (t >>>= 0)) return "";
            for (e || (e = "utf8");;) switch (e) {
                case "hex":
                    return L(this, t, n);
                case "utf8":
                case "utf-8":
                    return E(this, t, n);
                case "ascii":
                    return A(this, t, n);
                case "latin1":
                case "binary":
                    return P(this, t, n);
                case "base64":
                    return S(this, t, n);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return C(this, t, n);
                default:
                    if (i) throw new TypeError("Unknown encoding: " + e);
                    e = (e + "").toLowerCase(), i = !0
            }
        }

        function v(e, t, n) {
            var i = e[t];
            e[t] = e[n], e[n] = i
        }

        function g(e, t, n, i, r) {
            if (0 === e.length) return -1;
            if ("string" == typeof n ? (i = n, n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648), n = +n, isNaN(n) && (n = r ? 0 : e.length - 1), n < 0 && (n = e.length + n), n >= e.length) {
                if (r) return -1;
                n = e.length - 1
            } else if (n < 0) {
                if (!r) return -1;
                n = 0
            }
            if ("string" == typeof t && (t = c.from(t, i)), c.isBuffer(t)) return 0 === t.length ? -1 : y(e, t, n, i, r);
            if ("number" == typeof t) return t &= 255, c.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? r ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : y(e, [t], n, i, r);
            throw new TypeError("val must be string, number or Buffer")
        }

        function y(e, t, n, i, r) {
            var o, a = 1,
                s = e.length,
                c = t.length;
            if (void 0 !== i && ("ucs2" === (i = String(i).toLowerCase()) || "ucs-2" === i || "utf16le" === i || "utf-16le" === i)) {
                if (e.length < 2 || t.length < 2) return -1;
                a = 2, s /= 2, c /= 2, n /= 2
            }

            function l(e, t) {
                return 1 === a ? e[t] : e.readUInt16BE(t * a)
            }
            if (r) {
                var u = -1;
                for (o = n; o < s; o++)
                    if (l(e, o) === l(t, -1 === u ? 0 : o - u)) {
                        if (-1 === u && (u = o), o - u + 1 === c) return u * a
                    } else -1 !== u && (o -= o - u), u = -1
            } else
                for (n + c > s && (n = s - c), o = n; o >= 0; o--) {
                    for (var h = !0, d = 0; d < c; d++)
                        if (l(e, o + d) !== l(t, d)) {
                            h = !1;
                            break
                        }
                    if (h) return o
                }
            return -1
        }

        function b(e, t, n, i) {
            n = Number(n) || 0;
            var r = e.length - n;
            i ? (i = Number(i)) > r && (i = r) : i = r;
            var o = t.length;
            if (o % 2 != 0) throw new TypeError("Invalid hex string");
            i > o / 2 && (i = o / 2);
            for (var a = 0; a < i; ++a) {
                var s = parseInt(t.substr(2 * a, 2), 16);
                if (isNaN(s)) return a;
                e[n + a] = s
            }
            return a
        }

        function x(e, t, n, i) {
            return V(B(t, e.length - n), e, n, i)
        }

        function w(e, t, n, i) {
            return V(function(e) {
                for (var t = [], n = 0; n < e.length; ++n) t.push(255 & e.charCodeAt(n));
                return t
            }(t), e, n, i)
        }

        function _(e, t, n, i) {
            return w(e, t, n, i)
        }

        function M(e, t, n, i) {
            return V(U(t), e, n, i)
        }

        function T(e, t, n, i) {
            return V(function(e, t) {
                for (var n, i, r, o = [], a = 0; a < e.length && !((t -= 2) < 0); ++a) n = e.charCodeAt(a), i = n >> 8, r = n % 256, o.push(r), o.push(i);
                return o
            }(t, e.length - n), e, n, i)
        }

        function S(e, t, n) {
            return 0 === t && n === e.length ? i.fromByteArray(e) : i.fromByteArray(e.slice(t, n))
        }

        function E(e, t, n) {
            n = Math.min(e.length, n);
            for (var i = [], r = t; r < n;) {
                var o, a, s, c, l = e[r],
                    u = null,
                    h = l > 239 ? 4 : l > 223 ? 3 : l > 191 ? 2 : 1;
                if (r + h <= n) switch (h) {
                    case 1:
                        l < 128 && (u = l);
                        break;
                    case 2:
                        128 == (192 & (o = e[r + 1])) && (c = (31 & l) << 6 | 63 & o) > 127 && (u = c);
                        break;
                    case 3:
                        o = e[r + 1], a = e[r + 2], 128 == (192 & o) && 128 == (192 & a) && (c = (15 & l) << 12 | (63 & o) << 6 | 63 & a) > 2047 && (c < 55296 || c > 57343) && (u = c);
                        break;
                    case 4:
                        o = e[r + 1], a = e[r + 2], s = e[r + 3], 128 == (192 & o) && 128 == (192 & a) && 128 == (192 & s) && (c = (15 & l) << 18 | (63 & o) << 12 | (63 & a) << 6 | 63 & s) > 65535 && c < 1114112 && (u = c)
                }
                null === u ? (u = 65533, h = 1) : u > 65535 && (u -= 65536, i.push(u >>> 10 & 1023 | 55296), u = 56320 | 1023 & u), i.push(u), r += h
            }
            return function(e) {
                var t = e.length;
                if (t <= 4096) return String.fromCharCode.apply(String, e);
                var n = "",
                    i = 0;
                for (; i < t;) n += String.fromCharCode.apply(String, e.slice(i, i += 4096));
                return n
            }(i)
        }
        t.Buffer = c, t.SlowBuffer = function(e) {
            +e != e && (e = 0);
            return c.alloc(+e)
        }, t.INSPECT_MAX_BYTES = 50, c.TYPED_ARRAY_SUPPORT = void 0 !== e.TYPED_ARRAY_SUPPORT ? e.TYPED_ARRAY_SUPPORT : function() {
            try {
                var e = new Uint8Array(1);
                return e.__proto__ = {
                    __proto__: Uint8Array.prototype,
                    foo: function() {
                        return 42
                    }
                }, 42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength
            } catch (e) {
                return !1
            }
        }(), t.kMaxLength = a(), c.poolSize = 8192, c._augment = function(e) {
            return e.__proto__ = c.prototype, e
        }, c.from = function(e, t, n) {
            return l(null, e, t, n)
        }, c.TYPED_ARRAY_SUPPORT && (c.prototype.__proto__ = Uint8Array.prototype, c.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && c[Symbol.species] === c && Object.defineProperty(c, Symbol.species, {
            value: null,
            configurable: !0
        })), c.alloc = function(e, t, n) {
            return function(e, t, n, i) {
                return u(t), t <= 0 ? s(e, t) : void 0 !== n ? "string" == typeof i ? s(e, t).fill(n, i) : s(e, t).fill(n) : s(e, t)
            }(null, e, t, n)
        }, c.allocUnsafe = function(e) {
            return h(null, e)
        }, c.allocUnsafeSlow = function(e) {
            return h(null, e)
        }, c.isBuffer = function(e) {
            return !(null == e || !e._isBuffer)
        }, c.compare = function(e, t) {
            if (!c.isBuffer(e) || !c.isBuffer(t)) throw new TypeError("Arguments must be Buffers");
            if (e === t) return 0;
            for (var n = e.length, i = t.length, r = 0, o = Math.min(n, i); r < o; ++r)
                if (e[r] !== t[r]) {
                    n = e[r], i = t[r];
                    break
                }
            return n < i ? -1 : i < n ? 1 : 0
        }, c.isEncoding = function(e) {
            switch (String(e).toLowerCase()) {
                case "hex":
                case "utf8":
                case "utf-8":
                case "ascii":
                case "latin1":
                case "binary":
                case "base64":
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return !0;
                default:
                    return !1
            }
        }, c.concat = function(e, t) {
            if (!o(e)) throw new TypeError('"list" argument must be an Array of Buffers');
            if (0 === e.length) return c.alloc(0);
            var n;
            if (void 0 === t)
                for (t = 0, n = 0; n < e.length; ++n) t += e[n].length;
            var i = c.allocUnsafe(t),
                r = 0;
            for (n = 0; n < e.length; ++n) {
                var a = e[n];
                if (!c.isBuffer(a)) throw new TypeError('"list" argument must be an Array of Buffers');
                a.copy(i, r), r += a.length
            }
            return i
        }, c.byteLength = f, c.prototype._isBuffer = !0, c.prototype.swap16 = function() {
            var e = this.length;
            if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var t = 0; t < e; t += 2) v(this, t, t + 1);
            return this
        }, c.prototype.swap32 = function() {
            var e = this.length;
            if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var t = 0; t < e; t += 4) v(this, t, t + 3), v(this, t + 1, t + 2);
            return this
        }, c.prototype.swap64 = function() {
            var e = this.length;
            if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var t = 0; t < e; t += 8) v(this, t, t + 7), v(this, t + 1, t + 6), v(this, t + 2, t + 5), v(this, t + 3, t + 4);
            return this
        }, c.prototype.toString = function() {
            var e = 0 | this.length;
            return 0 === e ? "" : 0 === arguments.length ? E(this, 0, e) : m.apply(this, arguments)
        }, c.prototype.equals = function(e) {
            if (!c.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
            return this === e || 0 === c.compare(this, e)
        }, c.prototype.inspect = function() {
            var e = "",
                n = t.INSPECT_MAX_BYTES;
            return this.length > 0 && (e = this.toString("hex", 0, n).match(/.{2}/g).join(" "), this.length > n && (e += " ... ")), "<Buffer " + e + ">"
        }, c.prototype.compare = function(e, t, n, i, r) {
            if (!c.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
            if (void 0 === t && (t = 0), void 0 === n && (n = e ? e.length : 0), void 0 === i && (i = 0), void 0 === r && (r = this.length), t < 0 || n > e.length || i < 0 || r > this.length) throw new RangeError("out of range index");
            if (i >= r && t >= n) return 0;
            if (i >= r) return -1;
            if (t >= n) return 1;
            if (this === e) return 0;
            for (var o = (r >>>= 0) - (i >>>= 0), a = (n >>>= 0) - (t >>>= 0), s = Math.min(o, a), l = this.slice(i, r), u = e.slice(t, n), h = 0; h < s; ++h)
                if (l[h] !== u[h]) {
                    o = l[h], a = u[h];
                    break
                }
            return o < a ? -1 : a < o ? 1 : 0
        }, c.prototype.includes = function(e, t, n) {
            return -1 !== this.indexOf(e, t, n)
        }, c.prototype.indexOf = function(e, t, n) {
            return g(this, e, t, n, !0)
        }, c.prototype.lastIndexOf = function(e, t, n) {
            return g(this, e, t, n, !1)
        }, c.prototype.write = function(e, t, n, i) {
            if (void 0 === t) i = "utf8", n = this.length, t = 0;
            else if (void 0 === n && "string" == typeof t) i = t, n = this.length, t = 0;
            else {
                if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                t |= 0, isFinite(n) ? (n |= 0, void 0 === i && (i = "utf8")) : (i = n, n = void 0)
            }
            var r = this.length - t;
            if ((void 0 === n || n > r) && (n = r), e.length > 0 && (n < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds");
            i || (i = "utf8");
            for (var o = !1;;) switch (i) {
                case "hex":
                    return b(this, e, t, n);
                case "utf8":
                case "utf-8":
                    return x(this, e, t, n);
                case "ascii":
                    return w(this, e, t, n);
                case "latin1":
                case "binary":
                    return _(this, e, t, n);
                case "base64":
                    return M(this, e, t, n);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return T(this, e, t, n);
                default:
                    if (o) throw new TypeError("Unknown encoding: " + i);
                    i = ("" + i).toLowerCase(), o = !0
            }
        }, c.prototype.toJSON = function() {
            return {
                type: "Buffer",
                data: Array.prototype.slice.call(this._arr || this, 0)
            }
        };

        function A(e, t, n) {
            var i = "";
            n = Math.min(e.length, n);
            for (var r = t; r < n; ++r) i += String.fromCharCode(127 & e[r]);
            return i
        }

        function P(e, t, n) {
            var i = "";
            n = Math.min(e.length, n);
            for (var r = t; r < n; ++r) i += String.fromCharCode(e[r]);
            return i
        }

        function L(e, t, n) {
            var i = e.length;
            (!t || t < 0) && (t = 0), (!n || n < 0 || n > i) && (n = i);
            for (var r = "", o = t; o < n; ++o) r += z(e[o]);
            return r
        }

        function C(e, t, n) {
            for (var i = e.slice(t, n), r = "", o = 0; o < i.length; o += 2) r += String.fromCharCode(i[o] + 256 * i[o + 1]);
            return r
        }

        function R(e, t, n) {
            if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint");
            if (e + t > n) throw new RangeError("Trying to access beyond buffer length")
        }

        function O(e, t, n, i, r, o) {
            if (!c.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance');
            if (t > r || t < o) throw new RangeError('"value" argument is out of bounds');
            if (n + i > e.length) throw new RangeError("Index out of range")
        }

        function D(e, t, n, i) {
            t < 0 && (t = 65535 + t + 1);
            for (var r = 0, o = Math.min(e.length - n, 2); r < o; ++r) e[n + r] = (t & 255 << 8 * (i ? r : 1 - r)) >>> 8 * (i ? r : 1 - r)
        }

        function I(e, t, n, i) {
            t < 0 && (t = 4294967295 + t + 1);
            for (var r = 0, o = Math.min(e.length - n, 4); r < o; ++r) e[n + r] = t >>> 8 * (i ? r : 3 - r) & 255
        }

        function j(e, t, n, i, r, o) {
            if (n + i > e.length) throw new RangeError("Index out of range");
            if (n < 0) throw new RangeError("Index out of range")
        }

        function k(e, t, n, i, o) {
            return o || j(e, 0, n, 4), r.write(e, t, n, i, 23, 4), n + 4
        }

        function F(e, t, n, i, o) {
            return o || j(e, 0, n, 8), r.write(e, t, n, i, 52, 8), n + 8
        }
        c.prototype.slice = function(e, t) {
            var n, i = this.length;
            if ((e = ~~e) < 0 ? (e += i) < 0 && (e = 0) : e > i && (e = i), (t = void 0 === t ? i : ~~t) < 0 ? (t += i) < 0 && (t = 0) : t > i && (t = i), t < e && (t = e), c.TYPED_ARRAY_SUPPORT)(n = this.subarray(e, t)).__proto__ = c.prototype;
            else {
                var r = t - e;
                n = new c(r, void 0);
                for (var o = 0; o < r; ++o) n[o] = this[o + e]
            }
            return n
        }, c.prototype.readUIntLE = function(e, t, n) {
            e |= 0, t |= 0, n || R(e, t, this.length);
            for (var i = this[e], r = 1, o = 0; ++o < t && (r *= 256);) i += this[e + o] * r;
            return i
        }, c.prototype.readUIntBE = function(e, t, n) {
            e |= 0, t |= 0, n || R(e, t, this.length);
            for (var i = this[e + --t], r = 1; t > 0 && (r *= 256);) i += this[e + --t] * r;
            return i
        }, c.prototype.readUInt8 = function(e, t) {
            return t || R(e, 1, this.length), this[e]
        }, c.prototype.readUInt16LE = function(e, t) {
            return t || R(e, 2, this.length), this[e] | this[e + 1] << 8
        }, c.prototype.readUInt16BE = function(e, t) {
            return t || R(e, 2, this.length), this[e] << 8 | this[e + 1]
        }, c.prototype.readUInt32LE = function(e, t) {
            return t || R(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
        }, c.prototype.readUInt32BE = function(e, t) {
            return t || R(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
        }, c.prototype.readIntLE = function(e, t, n) {
            e |= 0, t |= 0, n || R(e, t, this.length);
            for (var i = this[e], r = 1, o = 0; ++o < t && (r *= 256);) i += this[e + o] * r;
            return i >= (r *= 128) && (i -= Math.pow(2, 8 * t)), i
        }, c.prototype.readIntBE = function(e, t, n) {
            e |= 0, t |= 0, n || R(e, t, this.length);
            for (var i = t, r = 1, o = this[e + --i]; i > 0 && (r *= 256);) o += this[e + --i] * r;
            return o >= (r *= 128) && (o -= Math.pow(2, 8 * t)), o
        }, c.prototype.readInt8 = function(e, t) {
            return t || R(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
        }, c.prototype.readInt16LE = function(e, t) {
            t || R(e, 2, this.length);
            var n = this[e] | this[e + 1] << 8;
            return 32768 & n ? 4294901760 | n : n
        }, c.prototype.readInt16BE = function(e, t) {
            t || R(e, 2, this.length);
            var n = this[e + 1] | this[e] << 8;
            return 32768 & n ? 4294901760 | n : n
        }, c.prototype.readInt32LE = function(e, t) {
            return t || R(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
        }, c.prototype.readInt32BE = function(e, t) {
            return t || R(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
        }, c.prototype.readFloatLE = function(e, t) {
            return t || R(e, 4, this.length), r.read(this, e, !0, 23, 4)
        }, c.prototype.readFloatBE = function(e, t) {
            return t || R(e, 4, this.length), r.read(this, e, !1, 23, 4)
        }, c.prototype.readDoubleLE = function(e, t) {
            return t || R(e, 8, this.length), r.read(this, e, !0, 52, 8)
        }, c.prototype.readDoubleBE = function(e, t) {
            return t || R(e, 8, this.length), r.read(this, e, !1, 52, 8)
        }, c.prototype.writeUIntLE = function(e, t, n, i) {
            (e = +e, t |= 0, n |= 0, i) || O(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
            var r = 1,
                o = 0;
            for (this[t] = 255 & e; ++o < n && (r *= 256);) this[t + o] = e / r & 255;
            return t + n
        }, c.prototype.writeUIntBE = function(e, t, n, i) {
            (e = +e, t |= 0, n |= 0, i) || O(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
            var r = n - 1,
                o = 1;
            for (this[t + r] = 255 & e; --r >= 0 && (o *= 256);) this[t + r] = e / o & 255;
            return t + n
        }, c.prototype.writeUInt8 = function(e, t, n) {
            return e = +e, t |= 0, n || O(this, e, t, 1, 255, 0), c.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), this[t] = 255 & e, t + 1
        }, c.prototype.writeUInt16LE = function(e, t, n) {
            return e = +e, t |= 0, n || O(this, e, t, 2, 65535, 0), c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : D(this, e, t, !0), t + 2
        }, c.prototype.writeUInt16BE = function(e, t, n) {
            return e = +e, t |= 0, n || O(this, e, t, 2, 65535, 0), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : D(this, e, t, !1), t + 2
        }, c.prototype.writeUInt32LE = function(e, t, n) {
            return e = +e, t |= 0, n || O(this, e, t, 4, 4294967295, 0), c.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e) : I(this, e, t, !0), t + 4
        }, c.prototype.writeUInt32BE = function(e, t, n) {
            return e = +e, t |= 0, n || O(this, e, t, 4, 4294967295, 0), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : I(this, e, t, !1), t + 4
        }, c.prototype.writeIntLE = function(e, t, n, i) {
            if (e = +e, t |= 0, !i) {
                var r = Math.pow(2, 8 * n - 1);
                O(this, e, t, n, r - 1, -r)
            }
            var o = 0,
                a = 1,
                s = 0;
            for (this[t] = 255 & e; ++o < n && (a *= 256);) e < 0 && 0 === s && 0 !== this[t + o - 1] && (s = 1), this[t + o] = (e / a >> 0) - s & 255;
            return t + n
        }, c.prototype.writeIntBE = function(e, t, n, i) {
            if (e = +e, t |= 0, !i) {
                var r = Math.pow(2, 8 * n - 1);
                O(this, e, t, n, r - 1, -r)
            }
            var o = n - 1,
                a = 1,
                s = 0;
            for (this[t + o] = 255 & e; --o >= 0 && (a *= 256);) e < 0 && 0 === s && 0 !== this[t + o + 1] && (s = 1), this[t + o] = (e / a >> 0) - s & 255;
            return t + n
        }, c.prototype.writeInt8 = function(e, t, n) {
            return e = +e, t |= 0, n || O(this, e, t, 1, 127, -128), c.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1
        }, c.prototype.writeInt16LE = function(e, t, n) {
            return e = +e, t |= 0, n || O(this, e, t, 2, 32767, -32768), c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : D(this, e, t, !0), t + 2
        }, c.prototype.writeInt16BE = function(e, t, n) {
            return e = +e, t |= 0, n || O(this, e, t, 2, 32767, -32768), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : D(this, e, t, !1), t + 2
        }, c.prototype.writeInt32LE = function(e, t, n) {
            return e = +e, t |= 0, n || O(this, e, t, 4, 2147483647, -2147483648), c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24) : I(this, e, t, !0), t + 4
        }, c.prototype.writeInt32BE = function(e, t, n) {
            return e = +e, t |= 0, n || O(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : I(this, e, t, !1), t + 4
        }, c.prototype.writeFloatLE = function(e, t, n) {
            return k(this, e, t, !0, n)
        }, c.prototype.writeFloatBE = function(e, t, n) {
            return k(this, e, t, !1, n)
        }, c.prototype.writeDoubleLE = function(e, t, n) {
            return F(this, e, t, !0, n)
        }, c.prototype.writeDoubleBE = function(e, t, n) {
            return F(this, e, t, !1, n)
        }, c.prototype.copy = function(e, t, n, i) {
            if (n || (n = 0), i || 0 === i || (i = this.length), t >= e.length && (t = e.length), t || (t = 0), i > 0 && i < n && (i = n), i === n) return 0;
            if (0 === e.length || 0 === this.length) return 0;
            if (t < 0) throw new RangeError("targetStart out of bounds");
            if (n < 0 || n >= this.length) throw new RangeError("sourceStart out of bounds");
            if (i < 0) throw new RangeError("sourceEnd out of bounds");
            i > this.length && (i = this.length), e.length - t < i - n && (i = e.length - t + n);
            var r, o = i - n;
            if (this === e && n < t && t < i)
                for (r = o - 1; r >= 0; --r) e[r + t] = this[r + n];
            else if (o < 1e3 || !c.TYPED_ARRAY_SUPPORT)
                for (r = 0; r < o; ++r) e[r + t] = this[r + n];
            else Uint8Array.prototype.set.call(e, this.subarray(n, n + o), t);
            return o
        }, c.prototype.fill = function(e, t, n, i) {
            if ("string" == typeof e) {
                if ("string" == typeof t ? (i = t, t = 0, n = this.length) : "string" == typeof n && (i = n, n = this.length), 1 === e.length) {
                    var r = e.charCodeAt(0);
                    r < 256 && (e = r)
                }
                if (void 0 !== i && "string" != typeof i) throw new TypeError("encoding must be a string");
                if ("string" == typeof i && !c.isEncoding(i)) throw new TypeError("Unknown encoding: " + i)
            } else "number" == typeof e && (e &= 255);
            if (t < 0 || this.length < t || this.length < n) throw new RangeError("Out of range index");
            if (n <= t) return this;
            var o;
            if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, e || (e = 0), "number" == typeof e)
                for (o = t; o < n; ++o) this[o] = e;
            else {
                var a = c.isBuffer(e) ? e : B(new c(e, i).toString()),
                    s = a.length;
                for (o = 0; o < n - t; ++o) this[o + t] = a[o % s]
            }
            return this
        };
        var N = /[^+\/0-9A-Za-z-_]/g;

        function z(e) {
            return e < 16 ? "0" + e.toString(16) : e.toString(16)
        }

        function B(e, t) {
            var n;
            t = t || 1 / 0;
            for (var i = e.length, r = null, o = [], a = 0; a < i; ++a) {
                if ((n = e.charCodeAt(a)) > 55295 && n < 57344) {
                    if (!r) {
                        if (n > 56319) {
                            (t -= 3) > -1 && o.push(239, 191, 189);
                            continue
                        }
                        if (a + 1 === i) {
                            (t -= 3) > -1 && o.push(239, 191, 189);
                            continue
                        }
                        r = n;
                        continue
                    }
                    if (n < 56320) {
                        (t -= 3) > -1 && o.push(239, 191, 189), r = n;
                        continue
                    }
                    n = 65536 + (r - 55296 << 10 | n - 56320)
                } else r && (t -= 3) > -1 && o.push(239, 191, 189);
                if (r = null, n < 128) {
                    if ((t -= 1) < 0) break;
                    o.push(n)
                } else if (n < 2048) {
                    if ((t -= 2) < 0) break;
                    o.push(n >> 6 | 192, 63 & n | 128)
                } else if (n < 65536) {
                    if ((t -= 3) < 0) break;
                    o.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
                } else {
                    if (!(n < 1114112)) throw new Error("Invalid code point");
                    if ((t -= 4) < 0) break;
                    o.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
                }
            }
            return o
        }

        function U(e) {
            return i.toByteArray(function(e) {
                if ((e = function(e) {
                        return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
                    }(e).replace(N, "")).length < 2) return "";
                for (; e.length % 4 != 0;) e += "=";
                return e
            }(e))
        }

        function V(e, t, n, i) {
            for (var r = 0; r < i && !(r + n >= t.length || r >= e.length); ++r) t[r + n] = e[r];
            return r
        }
    }).call(this, n(31))
}, function(e, t) {
    e.exports = function() {
        for (var e = {}, t = 0; t < arguments.length; t++) {
            var i = arguments[t];
            for (var r in i) n.call(i, r) && (e[r] = i[r])
        }
        return e
    };
    var n = Object.prototype.hasOwnProperty
}, function(e, t, n) {
    (function() {
        "use strict";
        var i = this.THREE || n(0);
        if (!i) throw new Error("MeshLine requires three.js");

        function r() {
            i.BufferGeometry.call(this), this.type = "MeshLine", this.positions = [], this.previous = [], this.next = [], this.side = [], this.width = [], this.indices_array = [], this.uvs = [], this.counters = [], this._points = [], this._geom = null, this.widthCallback = null, this.matrixWorld = new i.Matrix4, Object.defineProperties(this, {
                geometry: {
                    enumerable: !0,
                    get: function() {
                        return this
                    }
                },
                geom: {
                    enumerable: !0,
                    get: function() {
                        return this._geom
                    },
                    set: function(e) {
                        this.setGeometry(e, this.widthCallback)
                    }
                },
                points: {
                    enumerable: !0,
                    get: function() {
                        return this._points
                    },
                    set: function(e) {
                        this.setPoints(e, this.widthCallback)
                    }
                }
            })
        }

        function o(e, t) {
            var n = new i.Matrix4,
                r = new i.Ray,
                o = new i.Sphere,
                a = new i.Vector3,
                s = this.geometry;
            if (o.copy(s.boundingSphere), o.applyMatrix4(this.matrixWorld), !1 !== e.ray.intersectSphere(o, a)) {
                n.getInverse(this.matrixWorld), r.copy(e.ray).applyMatrix4(n);
                var c = new i.Vector3,
                    l = new i.Vector3,
                    u = new i.Vector3,
                    h = this instanceof i.LineSegments ? 2 : 1,
                    d = s.index,
                    p = s.attributes;
                if (null !== d)
                    for (var f = d.array, m = p.position.array, v = p.width.array, g = 0, y = f.length - 1; g < y; g += h) {
                        var b = f[g],
                            x = f[g + 1];
                        c.fromArray(m, 3 * b), l.fromArray(m, 3 * x);
                        var w = null != v[Math.floor(g / 3)] ? v[Math.floor(g / 3)] : 1,
                            _ = e.params.Line.threshold + this.material.lineWidth * w / 2,
                            M = _ * _;
                        if (!(r.distanceSqToSegment(c, l, a, u) > M)) {
                            a.applyMatrix4(this.matrixWorld);
                            var T = e.ray.origin.distanceTo(a);
                            T < e.near || T > e.far || (t.push({
                                distance: T,
                                point: u.clone().applyMatrix4(this.matrixWorld),
                                index: g,
                                face: null,
                                faceIndex: null,
                                object: this
                            }), g = y)
                        }
                    }
            }
        }

        function a(e, t, n, i, r) {
            var o;
            if (e = e.subarray || e.slice ? e : e.buffer, n = n.subarray || n.slice ? n : n.buffer, e = t ? e.subarray ? e.subarray(t, r && t + r) : e.slice(t, r && t + r) : e, n.set) n.set(e, i);
            else
                for (o = 0; o < e.length; o++) n[o + i] = e[o];
            return n
        }

        function s(e) {
            i.ShaderMaterial.call(this, {
                uniforms: Object.assign({}, i.UniformsLib.fog, {
                    lineWidth: {
                        value: 1
                    },
                    map: {
                        value: null
                    },
                    useMap: {
                        value: 0
                    },
                    alphaMap: {
                        value: null
                    },
                    useAlphaMap: {
                        value: 0
                    },
                    color: {
                        value: new i.Color(16777215)
                    },
                    opacity: {
                        value: 1
                    },
                    resolution: {
                        value: new i.Vector2(1, 1)
                    },
                    sizeAttenuation: {
                        value: 1
                    },
                    dashArray: {
                        value: 0
                    },
                    dashOffset: {
                        value: 0
                    },
                    dashRatio: {
                        value: .5
                    },
                    useDash: {
                        value: 0
                    },
                    visibility: {
                        value: 1
                    },
                    alphaTest: {
                        value: 0
                    },
                    repeat: {
                        value: new i.Vector2(1, 1)
                    }
                }),
                vertexShader: i.ShaderChunk.meshline_vert,
                fragmentShader: i.ShaderChunk.meshline_frag
            }), this.type = "MeshLineMaterial", Object.defineProperties(this, {
                lineWidth: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.lineWidth.value
                    },
                    set: function(e) {
                        this.uniforms.lineWidth.value = e
                    }
                },
                map: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.map.value
                    },
                    set: function(e) {
                        this.uniforms.map.value = e
                    }
                },
                useMap: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.useMap.value
                    },
                    set: function(e) {
                        this.uniforms.useMap.value = e
                    }
                },
                alphaMap: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.alphaMap.value
                    },
                    set: function(e) {
                        this.uniforms.alphaMap.value = e
                    }
                },
                useAlphaMap: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.useAlphaMap.value
                    },
                    set: function(e) {
                        this.uniforms.useAlphaMap.value = e
                    }
                },
                color: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.color.value
                    },
                    set: function(e) {
                        this.uniforms.color.value = e
                    }
                },
                opacity: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.opacity.value
                    },
                    set: function(e) {
                        this.uniforms.opacity.value = e
                    }
                },
                resolution: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.resolution.value
                    },
                    set: function(e) {
                        this.uniforms.resolution.value.copy(e)
                    }
                },
                sizeAttenuation: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.sizeAttenuation.value
                    },
                    set: function(e) {
                        this.uniforms.sizeAttenuation.value = e
                    }
                },
                dashArray: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.dashArray.value
                    },
                    set: function(e) {
                        this.uniforms.dashArray.value = e, this.useDash = 0 !== e ? 1 : 0
                    }
                },
                dashOffset: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.dashOffset.value
                    },
                    set: function(e) {
                        this.uniforms.dashOffset.value = e
                    }
                },
                dashRatio: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.dashRatio.value
                    },
                    set: function(e) {
                        this.uniforms.dashRatio.value = e
                    }
                },
                useDash: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.useDash.value
                    },
                    set: function(e) {
                        this.uniforms.useDash.value = e
                    }
                },
                visibility: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.visibility.value
                    },
                    set: function(e) {
                        this.uniforms.visibility.value = e
                    }
                },
                alphaTest: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.alphaTest.value
                    },
                    set: function(e) {
                        this.uniforms.alphaTest.value = e
                    }
                },
                repeat: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.repeat.value
                    },
                    set: function(e) {
                        this.uniforms.repeat.value.copy(e)
                    }
                }
            }), this.setValues(e)
        }
        r.prototype = Object.create(i.BufferGeometry.prototype), r.prototype.constructor = r, r.prototype.isMeshLine = !0, r.prototype.setMatrixWorld = function(e) {
            this.matrixWorld = e
        }, r.prototype.setGeometry = function(e, t) {
            this._geometry = e, e instanceof i.Geometry ? this.setPoints(e.vertices, t) : e instanceof i.BufferGeometry ? this.setPoints(e.getAttribute("position").array, t) : this.setPoints(e, t)
        }, r.prototype.setPoints = function(e, t) {
            if (e instanceof Float32Array || e instanceof Array) {
                if (this._points = e, this.widthCallback = t, this.positions = [], this.counters = [], e.length && e[0] instanceof i.Vector3)
                    for (var n = 0; n < e.length; n++) {
                        var r = e[n],
                            o = n / e.length;
                        this.positions.push(r.x, r.y, r.z), this.positions.push(r.x, r.y, r.z), this.counters.push(o), this.counters.push(o)
                    } else
                        for (n = 0; n < e.length; n += 3) {
                            o = n / e.length;
                            this.positions.push(e[n], e[n + 1], e[n + 2]), this.positions.push(e[n], e[n + 1], e[n + 2]), this.counters.push(o), this.counters.push(o)
                        }
                this.process()
            } else console.error("ERROR: The BufferArray of points is not instancied correctly.")
        }, r.prototype.raycast = o, r.prototype.compareV3 = function(e, t) {
            var n = 6 * e,
                i = 6 * t;
            return this.positions[n] === this.positions[i] && this.positions[n + 1] === this.positions[i + 1] && this.positions[n + 2] === this.positions[i + 2]
        }, r.prototype.copyV3 = function(e) {
            var t = 6 * e;
            return [this.positions[t], this.positions[t + 1], this.positions[t + 2]]
        }, r.prototype.process = function() {
            var e, t, n = this.positions.length / 6;
            this.previous = [], this.next = [], this.side = [], this.width = [], this.indices_array = [], this.uvs = [], t = this.compareV3(0, n - 1) ? this.copyV3(n - 2) : this.copyV3(0), this.previous.push(t[0], t[1], t[2]), this.previous.push(t[0], t[1], t[2]);
            for (var r = 0; r < n; r++) {
                if (this.side.push(1), this.side.push(-1), e = this.widthCallback ? this.widthCallback(r / (n - 1)) : 1, this.width.push(e), this.width.push(e), this.uvs.push(r / (n - 1), 0), this.uvs.push(r / (n - 1), 1), r < n - 1) {
                    t = this.copyV3(r), this.previous.push(t[0], t[1], t[2]), this.previous.push(t[0], t[1], t[2]);
                    var o = 2 * r;
                    this.indices_array.push(o, o + 1, o + 2), this.indices_array.push(o + 2, o + 1, o + 3)
                }
                r > 0 && (t = this.copyV3(r), this.next.push(t[0], t[1], t[2]), this.next.push(t[0], t[1], t[2]))
            }
            t = this.compareV3(n - 1, 0) ? this.copyV3(1) : this.copyV3(n - 1), this.next.push(t[0], t[1], t[2]), this.next.push(t[0], t[1], t[2]), this._attributes && this._attributes.position.count === this.positions.length ? (this._attributes.position.copyArray(new Float32Array(this.positions)), this._attributes.position.needsUpdate = !0, this._attributes.previous.copyArray(new Float32Array(this.previous)), this._attributes.previous.needsUpdate = !0, this._attributes.next.copyArray(new Float32Array(this.next)), this._attributes.next.needsUpdate = !0, this._attributes.side.copyArray(new Float32Array(this.side)), this._attributes.side.needsUpdate = !0, this._attributes.width.copyArray(new Float32Array(this.width)), this._attributes.width.needsUpdate = !0, this._attributes.uv.copyArray(new Float32Array(this.uvs)), this._attributes.uv.needsUpdate = !0, this._attributes.index.copyArray(new Uint16Array(this.indices_array)), this._attributes.index.needsUpdate = !0) : this._attributes = {
                position: new i.BufferAttribute(new Float32Array(this.positions), 3),
                previous: new i.BufferAttribute(new Float32Array(this.previous), 3),
                next: new i.BufferAttribute(new Float32Array(this.next), 3),
                side: new i.BufferAttribute(new Float32Array(this.side), 1),
                width: new i.BufferAttribute(new Float32Array(this.width), 1),
                uv: new i.BufferAttribute(new Float32Array(this.uvs), 2),
                index: new i.BufferAttribute(new Uint16Array(this.indices_array), 1),
                counters: new i.BufferAttribute(new Float32Array(this.counters), 1)
            }, this.setAttribute("position", this._attributes.position), this.setAttribute("previous", this._attributes.previous), this.setAttribute("next", this._attributes.next), this.setAttribute("side", this._attributes.side), this.setAttribute("width", this._attributes.width), this.setAttribute("uv", this._attributes.uv), this.setAttribute("counters", this._attributes.counters), this.setIndex(this._attributes.index), this.computeBoundingSphere(), this.computeBoundingBox()
        }, r.prototype.advance = function(e) {
            var t = this._attributes.position.array,
                n = this._attributes.previous.array,
                i = this._attributes.next.array,
                r = t.length;
            a(t, 0, n, 0, r), a(t, 6, t, 0, r - 6), t[r - 6] = e.x, t[r - 5] = e.y, t[r - 4] = e.z, t[r - 3] = e.x, t[r - 2] = e.y, t[r - 1] = e.z, a(t, 6, i, 0, r - 6), i[r - 6] = e.x, i[r - 5] = e.y, i[r - 4] = e.z, i[r - 3] = e.x, i[r - 2] = e.y, i[r - 1] = e.z, this._attributes.position.needsUpdate = !0, this._attributes.previous.needsUpdate = !0, this._attributes.next.needsUpdate = !0
        }, i.ShaderChunk.meshline_vert = ["", i.ShaderChunk.logdepthbuf_pars_vertex, i.ShaderChunk.fog_pars_vertex, "", "attribute vec3 previous;", "attribute vec3 next;", "attribute float side;", "attribute float width;", "attribute float counters;", "", "uniform vec2 resolution;", "uniform float lineWidth;", "uniform vec3 color;", "uniform float opacity;", "uniform float sizeAttenuation;", "", "varying vec2 vUV;", "varying vec4 vColor;", "varying float vCounters;", "", "vec2 fix( vec4 i, float aspect ) {", "", "    vec2 res = i.xy / i.w;", "    res.x *= aspect;", "\t vCounters = counters;", "    return res;", "", "}", "", "void main() {", "", "    float aspect = resolution.x / resolution.y;", "", "    vColor = vec4( color, opacity );", "    vUV = uv;", "", "    mat4 m = projectionMatrix * modelViewMatrix;", "    vec4 finalPosition = m * vec4( position, 1.0 );", "    vec4 prevPos = m * vec4( previous, 1.0 );", "    vec4 nextPos = m * vec4( next, 1.0 );", "", "    vec2 currentP = fix( finalPosition, aspect );", "    vec2 prevP = fix( prevPos, aspect );", "    vec2 nextP = fix( nextPos, aspect );", "", "    float w = lineWidth * width;", "", "    vec2 dir;", "    if( nextP == currentP ) dir = normalize( currentP - prevP );", "    else if( prevP == currentP ) dir = normalize( nextP - currentP );", "    else {", "        vec2 dir1 = normalize( currentP - prevP );", "        vec2 dir2 = normalize( nextP - currentP );", "        dir = normalize( dir1 + dir2 );", "", "        vec2 perp = vec2( -dir1.y, dir1.x );", "        vec2 miter = vec2( -dir.y, dir.x );", "        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );", "", "    }", "", "    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;", "    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );", "    normal.xy *= .5 * w;", "    normal *= projectionMatrix;", "    if( sizeAttenuation == 0. ) {", "        normal.xy *= finalPosition.w;", "        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;", "    }", "", "    finalPosition.xy += normal.xy * side;", "", "    gl_Position = finalPosition;", "", i.ShaderChunk.logdepthbuf_vertex, i.ShaderChunk.fog_vertex && "    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );", i.ShaderChunk.fog_vertex, "}"].join("\n"), i.ShaderChunk.meshline_frag = ["", i.ShaderChunk.fog_pars_fragment, i.ShaderChunk.logdepthbuf_pars_fragment, "", "uniform sampler2D map;", "uniform sampler2D alphaMap;", "uniform float useMap;", "uniform float useAlphaMap;", "uniform float useDash;", "uniform float dashArray;", "uniform float dashOffset;", "uniform float dashRatio;", "uniform float visibility;", "uniform float alphaTest;", "uniform vec2 repeat;", "", "varying vec2 vUV;", "varying vec4 vColor;", "varying float vCounters;", "", "void main() {", "", i.ShaderChunk.logdepthbuf_fragment, "", "    vec4 c = vColor;", "    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );", "    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;", "    if( c.a < alphaTest ) discard;", "    if( useDash == 1. ){", "        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));", "    }", "    gl_FragColor = c;", "    gl_FragColor.a *= step(vCounters, visibility);", "", i.ShaderChunk.fog_fragment, "}"].join("\n"), s.prototype = Object.create(i.ShaderMaterial.prototype), s.prototype.constructor = s, s.prototype.isMeshLineMaterial = !0, s.prototype.copy = function(e) {
            return i.ShaderMaterial.prototype.copy.call(this, e), this.lineWidth = e.lineWidth, this.map = e.map, this.useMap = e.useMap, this.alphaMap = e.alphaMap, this.useAlphaMap = e.useAlphaMap, this.color.copy(e.color), this.opacity = e.opacity, this.resolution.copy(e.resolution), this.sizeAttenuation = e.sizeAttenuation, this.dashArray.copy(e.dashArray), this.dashOffset.copy(e.dashOffset), this.dashRatio.copy(e.dashRatio), this.useDash = e.useDash, this.visibility = e.visibility, this.alphaTest = e.alphaTest, this.repeat.copy(e.repeat), this
        }, e.exports && (t = e.exports = {
            MeshLine: r,
            MeshLineMaterial: s,
            MeshLineRaycast: o
        }), t.MeshLine = r, t.MeshLineMaterial = s, t.MeshLineRaycast = o
    }).call(this)
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return v
        }));
        var i = n(13),
            r = n(7),
            o = n(2),
            a = n(24),
            s = n.n(a),
            c = n(21),
            l = n.n(c),
            u = n(1),
            h = n(40),
            d = n(41);

        function p(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function f(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function m(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var v = function() {
            function t(n) {
                var o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "title";
                p(this, t), m(this, "offsetY", 4), m(this, "guiController", {
                    y: .78
                }), this.context = n;
                var a = "title" === o ? n.data.title : n.data.subtitle,
                    c = i.a.subjects.roadgeek.bmfont,
                    f = new e.RawShaderMaterial(l()({
                        vertexShader: h.a,
                        fragmentShader: d.a,
                        map: i.a.subjects.roadgeek_glyph.texture,
                        color: 0,
                        side: e.BackSide,
                        transparent: !0,
                        negate: !1
                    })),
                    v = .08;
                "subtitle" === o && (c = i.a.subjects.alvar.bmfont, f = new e.RawShaderMaterial(l()({
                    vertexShader: h.a,
                    fragmentShader: d.a,
                    map: i.a.subjects.alvar_glyph.texture,
                    color: u.h,
                    side: e.BackSide,
                    transparent: !0,
                    negate: !1
                })), v = .055);
                var g = s()({
                    font: c,
                    text: a,
                    width: 600,
                    lineHeight: 1
                });
                g.computeBoundingBox();
                var y = 2,
                    b = new e.Mesh(g, f);
                b.scale.set(v, -v, v), b.index = n.index, b.position.copy(n.stickHighestPoint);
                var x = 0;
                1 === n.directionCenter && (x = .2), b.position.y += "title" === o ? .78 + x : -2.86 + x, b.position.y += x, b.lookAt(n.lookAt), 1 === n.directionCenter && (y += g.boundingBox.max.x * v);
                var w = new e.Vector3;
                w.subVectors(n.lookAt, b.position).normalize(), w.applyAxisAngle(new e.Vector3(0, 1, 0), Object(r.a)(90 * -n.directionCenter)), w.multiplyScalar(y), w.y = 0, b.position.add(w), n.object3d.add(b), this.mesh = b, this.initY = this.mesh.position.y
            }
            var n, a, c;
            return n = t, (a = [{
                key: "fadeIn",
                value: function() {
                    var e;
                    null === (e = this.tlFadeOut) || void 0 === e || e.kill(), this.mesh.position.y -= this.offsetY;
                    var t = new o.c;
                    t.to(this.mesh.position, {
                        y: this.initY,
                        ease: "quart.out",
                        duration: 1.2
                    }, 0), t.to(this.mesh.material.uniforms.opacity, {
                        value: .6,
                        ease: "linear",
                        duration: 1
                    }, 0), this.tlFadeIn = t
                }
            }, {
                key: "fadeOut",
                value: function() {
                    var e;
                    null === (e = this.tlFadeIn) || void 0 === e || e.kill();
                    var t = new o.c;
                    t.to(this.mesh.material.uniforms.opacity, {
                        value: 0,
                        ease: "linear",
                        duration: .5
                    }, 0), this.tlFadeOut = t
                }
            }]) && f(n.prototype, a), c && f(n, c), t
        }()
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    t.a = "#define GLSLIFY 1\n// Variable qualifiers that come with the msdf shader\nattribute vec2 uv;\nattribute vec4 position;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nvarying vec2 vUv;\n// We passed this one\nuniform float time;\n\nvoid main() {\n  vUv = uv;\n\n  vec3 p = vec3(position.x, position.y, position.z);\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(p, 1.0);\n}\n"
}, function(e, t, n) {
    "use strict";
    t.a = "#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n// Variable qualifiers that come with the shader\nprecision highp float;\n#define GLSLIFY 1\nuniform float opacity;\nuniform vec3 color;\nuniform sampler2D map;\nvarying vec2 vUv;\n// We passed this one\nuniform float time;\n\nfloat median(float r, float g, float b) {\n  return max(min(r, g), min(max(r, g), b));\n}\n\nvoid main() {\n  // This is the code that comes to produce msdf\n  vec3 sample = texture2D(map, vUv).rgb;\n  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;\n  float alpha = clamp(sigDist/fwidth(sigDist) + 0.5, 0.0, 1.0);\n\n  gl_FragColor = vec4(color, alpha * opacity);\n  if (gl_FragColor.a < 0.0001) discard;\n}\n"
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return h
        }));
        var i = n(13),
            r = n(1),
            o = n(7),
            a = n(2);

        function s(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function l(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var u = new e.CylinderGeometry(1, 1, .6, 32),
            h = function() {
                function t(n) {
                    var c = this,
                        h = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "prev",
                        d = arguments.length > 2 ? arguments[2] : void 0;
                    s(this, t), l(this, "object3D", new e.Object3D), l(this, "onClick", (function() {
                        var e;
                        null === (e = c.tlClick) || void 0 === e || e.kill();
                        var t = {
                            value: 2
                        };
                        c.tlClick = new a.c, c.tlClick.to(t, {
                            value: .1,
                            duration: .3,
                            onUpdate: function() {
                                c.object3D.scale.set(2, 2, t.value)
                            }
                        }), c.tlClick.to(t, {
                            value: 2,
                            duration: .3,
                            onUpdate: function() {
                                c.object3D.scale.set(2, 2, t.value)
                            }
                        })
                    }));
                    var p = 4,
                        f = i.a.subjects.arrow.texture,
                        m = new e.MeshBasicMaterial({
                            transparent: !0,
                            opacity: 0,
                            map: f
                        });
                    this.arrowMesh = new e.Mesh(r.b, m), this.arrowMesh.name = "project-".concat(n.index, "-").concat(h), this.arrowMesh.position.z = .3 + .04, "prev" === h && this.arrowMesh.scale.set(1, -1, 1);
                    var v = r.g[0];
                    "lab" === d.type && (v = r.f[0]);
                    var g = new e.MeshBasicMaterial({
                        color: new e.Color("rgb(".concat(v.r, ", ").concat(v.g, ", ").concat(v.b, ")")),
                        transparent: !0,
                        opacity: 0
                    });
                    this.cylinderMesh = new e.Mesh(u, g), this.cylinderMesh.rotation.x += Object(o.a)(-90), this.object3D.add(this.cylinderMesh), this.object3D.add(this.arrowMesh);
                    var y = 2;
                    this.object3D.scale.set(y, y, y), this.object3D.position.copy(d.object3d.position), "next" === h ? this.object3D.position.y += d.height / 2 + p : "prev" === h && (this.object3D.position.y -= d.height / 2 + p), this.object3D.rotation.copy(d.object3d.rotation), n.object3d.add(this.object3D)
                }
                var n, h, d;
                return n = t, (h = [{
                    key: "fadeArrowOut",
                    value: function() {
                        var e = new a.c;
                        e.to(this.cylinderMesh.material, {
                            opacity: 0,
                            duration: .2
                        }, 0), e.to(this.arrowMesh.material, {
                            opacity: 0,
                            duration: .2
                        }, 0)
                    }
                }, {
                    key: "fadeArrowIn",
                    value: function() {
                        var e = new a.c;
                        e.to(this.cylinderMesh.material, {
                            opacity: 1,
                            duration: .5
                        }, 0), e.to(this.arrowMesh.material, {
                            opacity: 1,
                            duration: .5
                        }, 0)
                    }
                }]) && c(n.prototype, h), d && c(n, d), t
            }()
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return g
        }));
        var i = n(2),
            r = n(6),
            o = n(3),
            a = n(25);

        function s(e) {
            return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function l(e, t) {
            return (l = Object.setPrototypeOf || function(e, t) {
                return e.__proto__ = t, e
            })(e, t)
        }

        function u(e) {
            var t = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}))), !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var n, i = f(e);
                if (t) {
                    var r = f(this).constructor;
                    n = Reflect.construct(i, arguments, r)
                } else n = i.apply(this, arguments);
                return h(this, n)
            }
        }

        function h(e, t) {
            return !t || "object" !== s(t) && "function" != typeof t ? d(e) : t
        }

        function d(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }

        function p(e, t, n) {
            return (p = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
                var i = function(e, t) {
                    for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = f(e)););
                    return e
                }(e, t);
                if (i) {
                    var r = Object.getOwnPropertyDescriptor(i, t);
                    return r.get ? r.get.call(n) : r.value
                }
            })(e, t, n || e)
        }

        function f(e) {
            return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            })(e)
        }

        function m(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var v = new e.BoxBufferGeometry(1, 1, 1);
        v.translate(0, .5, 0), v.computeBoundingBox();
        var g = function(t) {
            ! function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        writable: !0,
                        configurable: !0
                    }
                }), t && l(e, t)
            }(g, t);
            var n, a, s, h = u(g);

            function g(t, n, r) {
                var a, s;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, g), m(d(s = h.call(this, n)), "offset", 0), m(d(s), "s", 10), m(d(s), "halfS", 5), m(d(s), "positionBox", (function(e, t) {
                    var n = e;
                    switch (t) {
                        case 1:
                            n.position.x = v.boundingBox.max.y * s.halfS;
                            break;
                        case 2:
                            n.position.z = v.boundingBox.max.y * s.halfS;
                            break;
                        case 3:
                            n.position.z = v.boundingBox.max.y * s.halfS, n.position.x = v.boundingBox.max.y * s.halfS;
                            break;
                        case 4:
                            n.position.y = v.boundingBox.max.y * s.halfS;
                            break;
                        case 5:
                            n.position.x = v.boundingBox.max.y * s.halfS, n.position.y = v.boundingBox.max.y * s.halfS;
                            break;
                        case 6:
                            n.position.z = v.boundingBox.max.y * s.halfS, n.position.y = v.boundingBox.max.y * s.halfS;
                            break;
                        case 7:
                            n.position.z = v.boundingBox.max.y * s.halfS, n.position.x = v.boundingBox.max.y * s.halfS, n.position.y = v.boundingBox.max.y * s.halfS
                    }
                    n.rotation.y = 0, n.rotation.x = 0
                })), m(d(s), "triggered", (function() {
                    if (!s.isTriggered) {
                        p((a = d(s), f(g.prototype)), "triggered", a).call(a);
                        for (var t = new i.c, n = function(n) {
                                var i = new e.Vector3(0),
                                    r = new e.Vector3(0),
                                    a = s.innerBoxes[n + 4],
                                    c = s.innerBoxes[n];
                                i.copy(a.position), i.x += Object(o.c)(0, 2) - s.halfS, i.y += Object(o.c)(0, 2), i.z += Object(o.c)(0, 2) - s.halfS, i.normalize(), r.copy(a.position), r.x += Object(o.c)(0, 2) - s.halfS, r.y += Object(o.c)(0, 2), r.z += Object(o.c)(0, 2) - s.halfS, r.normalize();
                                var l = 0,
                                    u = Object(o.c)(1.4, 1.8),
                                    h = Object(o.c)(.01, .1),
                                    d = Object(o.c)(.01, .1),
                                    p = Object(o.c)(.01, .07);
                                t.to({
                                    value: 0
                                }, {
                                    duration: 5,
                                    value: 1,
                                    onUpdate: function() {
                                        a.position.addScaledVector(i, u), l += -.04, a.position.y += l, a.rotation.y += h, a.rotation.x += d
                                    }
                                }, p);
                                var f = 0,
                                    m = Object(o.c)(1, 1.4),
                                    v = Object(o.c)(.01, .1),
                                    g = Object(o.c)(.01, .1),
                                    y = Object(o.c)(.01, .07);
                                t.to({
                                    value: 0
                                }, {
                                    duration: 5,
                                    value: 1,
                                    onUpdate: function() {
                                        c.position.addScaledVector(r, m), f += -.04, c.position.y += f, c.rotation.y += v, c.rotation.x += g
                                    }
                                }, y)
                            }, r = 0; r < 4; r++) n(r);
                        s.tlExplode = t
                    }
                }));
                s.s;
                var c = s.halfS;
                s.object3D.position.copy(s.position), s.innerBoxes = [];
                for (var l = 0; l < 8; l++) {
                    var u = new e.Mesh(v, t);
                    s.positionBox(u, l), u.name = "obstacle_box_".concat(r), u.scale.set(c, c, c), s.object3D.add(u), s.innerBoxes.push(u)
                }
                return s.object3D.scale.set(.01, .01, .01), s
            }
            return n = g, (a = [{
                key: "render",
                value: function() {
                    this.isTriggered
                }
            }, {
                key: "fadeIn",
                value: function() {
                    var e = this;
                    if (!this.isFadedIn) {
                        p(f(g.prototype), "fadeIn", this).call(this), this.object3D.visible = !0;
                        var t = {
                            value: .01
                        };
                        i.d.to(t, {
                            duration: 1.4,
                            value: 1,
                            ease: "bounce.out",
                            onUpdate: function() {
                                e.object3D.scale.set(t.value, t.value, t.value)
                            }
                        })
                    }
                }
            }, {
                key: "click",
                value: function() {
                    this.triggered(), r.b.trigger(r.a.CLICK)
                }
            }, {
                key: "reset",
                value: function() {
                    if (!this.isReset) {
                        p(f(g.prototype), "reset", this).call(this), this.tlExplode && this.tlExplode.kill();
                        for (var e = 0; e < 8; e++) this.innerBoxes[e].position.x = 0, this.innerBoxes[e].position.y = 0, this.innerBoxes[e].position.z = 0, this.positionBox(this.innerBoxes[e], e);
                        this.object3D.visible = !1
                    }
                }
            }]) && c(n.prototype, a), s && c(n, s), g
        }(a.a)
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return y
        }));
        var i = n(2),
            r = n(3),
            o = n(12),
            a = n(25),
            s = n(6);

        function c(e) {
            return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function u(e, t, n) {
            return (u = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
                var i = function(e, t) {
                    for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = m(e)););
                    return e
                }(e, t);
                if (i) {
                    var r = Object.getOwnPropertyDescriptor(i, t);
                    return r.get ? r.get.call(n) : r.value
                }
            })(e, t, n || e)
        }

        function h(e, t) {
            return (h = Object.setPrototypeOf || function(e, t) {
                return e.__proto__ = t, e
            })(e, t)
        }

        function d(e) {
            var t = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}))), !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var n, i = m(e);
                if (t) {
                    var r = m(this).constructor;
                    n = Reflect.construct(i, arguments, r)
                } else n = i.apply(this, arguments);
                return p(this, n)
            }
        }

        function p(e, t) {
            return !t || "object" !== c(t) && "function" != typeof t ? f(e) : t
        }

        function f(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }

        function m(e) {
            return (m = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            })(e)
        }

        function v(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var g = new e.CylinderGeometry(3, 3, 15.5, 32);
        g.translate(0, 7.75, 0);
        var y = function(t) {
            ! function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        writable: !0,
                        configurable: !0
                    }
                }), t && h(e, t)
            }(y, t);
            var n, a, c, p = d(y);

            function y(t, n, i) {
                var a;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, y), v(f(a = p.call(this, n)), "nbColumns", 6), v(f(a), "columns", []);
                var s = o.a.mainRoad.points;
                a.object3D.visible = !1;
                for (var c = 0; c < a.nbColumns; c++) {
                    var l = s[Math.round(s.length * (n + .01 * c))],
                        u = l.angle,
                        h = l.position,
                        d = l.center,
                        m = l.directionCenter,
                        b = c % 2 ? -1 : 1,
                        x = 8.5 + Object(r.c)(0, 6),
                        w = Math.cos(e.MathUtils.degToRad(u)) * (100 + m * x * b) + d.x,
                        _ = Math.sin(e.MathUtils.degToRad(u)) * (100 + m * x * b),
                        M = new e.Vector3(w, h.y, _),
                        T = new e.Mesh(g, t);
                    T.position.copy(M);
                    var S = Object(r.c)(.4, .6),
                        E = Object(r.c)(.6, 1);
                    T.scaleR = S, T.scaleH = E, T.scale.set(S, 1e-5, S), T.name = "obstacle_column_".concat(i, "_").concat(c), a.columns.push(T), a.object3D.add(T)
                }
                return a
            }
            return n = y, (a = [{
                key: "fadeIn",
                value: function() {
                    this.isFadedIn || (u(m(y.prototype), "fadeIn", this).call(this), this.object3D.visible = !0)
                }
            }, {
                key: "click",
                value: function(e) {
                    if (!e.isScaling) {
                        s.b.trigger(s.a.CLICK);
                        var t = new i.c;
                        e.isScaling = !0;
                        var n = {
                            value: e.scaleH
                        };
                        t.to(n, {
                            duration: .5,
                            value: 1e-4,
                            ease: "expo.out",
                            onUpdate: function() {
                                e.scale.set(e.scaleR, n.value, e.scaleR)
                            }
                        }, 0), t.to(n, {
                            duration: 1.4,
                            value: e.scaleH,
                            ease: "bounce.out",
                            onUpdate: function() {
                                e.scale.set(e.scaleR, n.value, e.scaleR)
                            }
                        }, .35), t.add((function() {
                            e.isScaling = !1
                        }), .8)
                    }
                }
            }, {
                key: "triggered",
                value: function() {
                    var e = this;
                    if (!this.isTriggered) {
                        u(m(y.prototype), "triggered", this).call(this);
                        for (var t = new i.c, n = function(n) {
                                var i = e.columns[n],
                                    r = {
                                        value: 1e-4
                                    };
                                t.to(r, {
                                    duration: 1.4,
                                    value: i.scaleH,
                                    ease: "bounce.out",
                                    onUpdate: function() {
                                        i.scale.set(i.scaleR, r.value, i.scaleR)
                                    }
                                }, .15 * n)
                            }, r = 0; r < this.columns.length; r++) n(r);
                        this.tlTriggered = t
                    }
                }
            }, {
                key: "reset",
                value: function() {
                    if (this.tlTriggered && this.tlTriggered.kill(), this.tlTriggered = null, !this.isReset) {
                        u(m(y.prototype), "reset", this).call(this);
                        for (var e = 0; e < this.columns.length; e++) {
                            var t = this.columns[e];
                            t.scale.set(t.scaleR, 1e-5, t.scaleR)
                        }
                        this.object3D.visible = !1
                    }
                }
            }]) && l(n.prototype, a), c && l(n, c), y
        }(a.a)
    }).call(this, n(0))
}, function(e, t, n) {
    var i = n(91),
        r = "object" == typeof self && self && self.Object === Object && self,
        o = i || r || Function("return this")();
    e.exports = o
}, function(e, t, n) {
    var i = n(45).Symbol;
    e.exports = i
}, function(e, t, n) {
    var i = n(27);
    e.exports = function() {
        var e = new i.Template({
            code: function(e, t, n) {
                var i = this;
                return i.b(n = n || ""), i.b('  <div class="project__overlay">'), i.b("\n" + n), i.b('    <div class="project__back" data-project-back-cta>'), i.b("\n" + n), i.b('      <div class="project__back-cta t-cta">Back</div>'), i.b("\n" + n), i.b('      <div class="project__back-circle"></div>'), i.b("\n" + n), i.b("    </div>"), i.b("\n" + n), i.b('    <div class="project__outer">'), i.b("\n" + n), i.b('      <div class="project__container">'), i.b("\n" + n), i.b('        <div class="project__content">'), i.b("\n" + n), i.b('          <h2 class="project__title t-h1 split-text" data-split-text>'), i.b(i.v(i.f("title", e, t, 0))), i.b("</h2>"), i.b("\n" + n), i.b('          <div class="project__block appear-side" data-appear>'), i.b("\n" + n), i.b('            <div class="project__subtitle t-h2">Client</div>'), i.b("\n" + n), i.b('            <div class="project__subtitle-text t-h3">'), i.b(i.v(i.f("client", e, t, 0))), i.b("</div>"), i.b("\n" + n), i.b("          </div>"), i.b("\n" + n), i.b('          <div class="project__block appear-side" data-appear>'), i.b("\n" + n), i.b('            <div class="project__subtitle t-h2">Year</div>'), i.b("\n" + n), i.b('            <div class="project__subtitle-text t-h3">'), i.b(i.v(i.f("year", e, t, 0))), i.b("</div>"), i.b("\n" + n), i.b("          </div>"), i.b("\n" + n), i.b('          <div class="project__block appear-side" data-appear>'), i.b("\n" + n), i.b('            <div class="project__subtitle t-h2">Technologies</div>'), i.b("\n" + n), i.b('            <div class="project__subtitle-text t-h3">'), i.b(i.v(i.f("technologies", e, t, 0))), i.b("</div>"), i.b("\n" + n), i.b("          </div>"), i.b("\n" + n), i.b('          <div class="project__block appear-side" data-appear>'), i.b("\n" + n), i.b('            <div class="project__description t-text">'), i.b(i.v(i.f("description", e, t, 0))), i.b("</div>"), i.b("\n" + n), i.b("          </div>"), i.b("\n"), i.b("\n" + n), i.b('          <div class="project__block appear-side" data-appear>'), i.b("\n" + n), i.b('            <a target="_blank" href="'), i.b(i.v(i.f("url", e, t, 0))), i.b('" class="project__link t-cta-small">'), i.b("\n" + n), i.b("              <span>Visit website</span>"), i.b("\n" + n), i.b('              <svg class="project__link__svg" data-project-link-svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"'), i.b("\n" + n), i.b('          viewBox="0 0 504 198" xml:space="preserve">'), i.b("\n" + n), i.b('                <path class="project__link__path" shape-rendering="optimizeQuality" d="M18,99c0,49.7,40.3,90,90,90s90-40.3,90-90c0-29.8,24.2-54,54-54s54,24.2,54,54'), i.b("\n" + n), i.b('                  c0,49.7,40.3,90,90,90s90-40.3,90-90"/>'), i.b("\n" + n), i.b('                <path class="project__link__path" shape-rendering="optimizeQuality" d="M486,99c0-49.7-40.3-90-90-90s-90,40.3-90,90c0,29.8-24.2,54-54,54s-54-24.2-54-54l0,0'), i.b("\n" + n), i.b('                  c0-49.7-40.3-90-90-90S18,49.3,18,99"/>'), i.b("\n" + n), i.b('                <path class="project__link__path" shape-rendering="optimizeQuality" d="M467.2,99c0-39.8-32.2-72-72-72c-39.8,0-72,32.2-72,72s-32.2,72-72,72s-72-32.2-72-72'), i.b("\n" + n), i.b('                  s-32.2-72-72-72c-39.8,0-72,32.2-72,72"/>'), i.b("\n" + n), i.b('                <path class="project__link__path" shape-rendering="optimizeQuality" d="M35.2,99c0,39.8,32.3,72,72,72c39.8,0,72-32.2,72-72c0-39.8,32.3-72,72-72'), i.b("\n" + n), i.b('                  c39.7,0,71.9,32.2,72,72c0,39.8,32.2,72,72,72s72-32.2,72-72l0,0"/>'), i.b("\n" + n), i.b('                <path class="project__link__path" shape-rendering="optimizeQuality" d="M449.2,99L449.2,99c0-29.8-24.2-54-54-54s-54,24.2-54,54c0,49.7-40.3,90-90,90'), i.b("\n" + n), i.b('                  s-90-40.3-90-90c0-29.8-24.2-54-54-54s-54,24.2-54,54"/>'), i.b("\n" + n), i.b('                <path class="project__link__path" shape-rendering="optimizeQuality" d="M53.2,99L53.2,99c0,29.8,24.2,54,54,54c29.8,0,54-24.2,54-54c0,0,0,0,0,0'), i.b("\n" + n), i.b('                  c0-49.7,40.3-90,90-90c49.7,0,89.9,40.3,90,90c0,29.8,24.2,54,54,54s54-24.2,54-54"/>'), i.b("\n" + n), i.b("              </svg>"), i.b("\n" + n), i.b("            </a>"), i.b("\n" + n), i.b("          </div>"), i.b("\n"), i.b("\n" + n), i.b('          <div class="project__block appear-side" data-appear>'), i.b("\n" + n), i.b('            <ul class="project__awards t-award">'), i.b("\n" + n), i.s(i.f("awards", e, t, 1), e, t, 0, 3228, 3298, "{{ }}") && (i.rs(e, t, (function(e, t, i) {
                    i.b('              <li class="project__award">1x '), i.b(i.v(i.d(".", e, t, 0))), i.b("</li>"), i.b("\n" + n)
                })), e.pop()), i.b("            </ul>"), i.b("\n" + n), i.b("          </div>"), i.b("\n" + n), i.b("        </div>"), i.b("\n"), i.b("\n" + n), i.b('        <div class="project__next" data-project-next>'), i.b("\n" + n), i.b('          <div class="project__next-cta t-cta">Next <br> project</div>'), i.b("\n" + n), i.b('          <div class="project__next-circle"></div>'), i.b("\n" + n), i.b("        </div>"), i.b("\n" + n), i.b("      </div>"), i.b("\n" + n), i.b("    </div>"), i.b("\n"), i.b("\n" + n), i.b("  </div>"), i.b("\n"), i.fl()
            },
            partials: {},
            subs: {}
        }, '  <div class="project__overlay">\n    <div class="project__back" data-project-back-cta>\n      <div class="project__back-cta t-cta">Back</div>\n      <div class="project__back-circle"></div>\n    </div>\n    <div class="project__outer">\n      <div class="project__container">\n        <div class="project__content">\n          <h2 class="project__title t-h1 split-text" data-split-text>{{title}}</h2>\n          <div class="project__block appear-side" data-appear>\n            <div class="project__subtitle t-h2">Client</div>\n            <div class="project__subtitle-text t-h3">{{client}}</div>\n          </div>\n          <div class="project__block appear-side" data-appear>\n            <div class="project__subtitle t-h2">Year</div>\n            <div class="project__subtitle-text t-h3">{{year}}</div>\n          </div>\n          <div class="project__block appear-side" data-appear>\n            <div class="project__subtitle t-h2">Technologies</div>\n            <div class="project__subtitle-text t-h3">{{technologies}}</div>\n          </div>\n          <div class="project__block appear-side" data-appear>\n            <div class="project__description t-text">{{description}}</div>\n          </div>\n\n          <div class="project__block appear-side" data-appear>\n            <a target="_blank" href="{{url}}" class="project__link t-cta-small">\n              <span>Visit website</span>\n              <svg class="project__link__svg" data-project-link-svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n          viewBox="0 0 504 198" xml:space="preserve">\n                <path class="project__link__path" shape-rendering="optimizeQuality" d="M18,99c0,49.7,40.3,90,90,90s90-40.3,90-90c0-29.8,24.2-54,54-54s54,24.2,54,54\n                  c0,49.7,40.3,90,90,90s90-40.3,90-90"/>\n                <path class="project__link__path" shape-rendering="optimizeQuality" d="M486,99c0-49.7-40.3-90-90-90s-90,40.3-90,90c0,29.8-24.2,54-54,54s-54-24.2-54-54l0,0\n                  c0-49.7-40.3-90-90-90S18,49.3,18,99"/>\n                <path class="project__link__path" shape-rendering="optimizeQuality" d="M467.2,99c0-39.8-32.2-72-72-72c-39.8,0-72,32.2-72,72s-32.2,72-72,72s-72-32.2-72-72\n                  s-32.2-72-72-72c-39.8,0-72,32.2-72,72"/>\n                <path class="project__link__path" shape-rendering="optimizeQuality" d="M35.2,99c0,39.8,32.3,72,72,72c39.8,0,72-32.2,72-72c0-39.8,32.3-72,72-72\n                  c39.7,0,71.9,32.2,72,72c0,39.8,32.2,72,72,72s72-32.2,72-72l0,0"/>\n                <path class="project__link__path" shape-rendering="optimizeQuality" d="M449.2,99L449.2,99c0-29.8-24.2-54-54-54s-54,24.2-54,54c0,49.7-40.3,90-90,90\n                  s-90-40.3-90-90c0-29.8-24.2-54-54-54s-54,24.2-54,54"/>\n                <path class="project__link__path" shape-rendering="optimizeQuality" d="M53.2,99L53.2,99c0,29.8,24.2,54,54,54c29.8,0,54-24.2,54-54c0,0,0,0,0,0\n                  c0-49.7,40.3-90,90-90c49.7,0,89.9,40.3,90,90c0,29.8,24.2,54,54,54s54-24.2,54-54"/>\n              </svg>\n            </a>\n          </div>\n\n          <div class="project__block appear-side" data-appear>\n            <ul class="project__awards t-award">\n              {{#awards}}\n              <li class="project__award">1x {{.}}</li>\n              {{/awards}}\n            </ul>\n          </div>\n        </div>\n\n        <div class="project__next" data-project-next>\n          <div class="project__next-cta t-cta">Next <br> project</div>\n          <div class="project__next-circle"></div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n', i);
        return e.render.apply(e, arguments)
    }
}, function(e, t, n) {
    var i = n(27);
    e.exports = function() {
        var e = new i.Template({
            code: function(e, t, n) {
                var i = this;
                return i.b(n = n || ""), i.b('  <div class="project__overlay">'), i.b("\n" + n), i.b('    <div class="project__back" data-project-back-cta>'), i.b("\n" + n), i.b('      <div class="project__back-cta t-cta">Back</div>'), i.b("\n" + n), i.b('      <div class="project__back-circle"></div>'), i.b("\n" + n), i.b("    </div>"), i.b("\n" + n), i.b('    <div class="project__stripes"></div>'), i.b("\n" + n), i.b('    <div class="project__outer">'), i.b("\n" + n), i.b('      <div class="project__container">'), i.b("\n" + n), i.b('        <div class="project__content">'), i.b("\n" + n), i.b('          <h2 class="project__title t-h1 split-text" data-split-text>'), i.b(i.v(i.f("title", e, t, 0))), i.b("</h2>"), i.b("\n" + n), i.b('          <div class="project__block appear-side" data-appear>'), i.b("\n" + n), i.b('            <div class="project__subtitle t-h2">Year</div>'), i.b("\n" + n), i.b('            <div class="project__subtitle-text t-h3">'), i.b(i.v(i.f("year", e, t, 0))), i.b("</div>"), i.b("\n" + n), i.b("          </div>"), i.b("\n" + n), i.b('          <div class="project__block appear-side" data-appear>'), i.b("\n" + n), i.b('            <div class="project__subtitle t-h2">Technologies</div>'), i.b("\n" + n), i.b('            <div class="project__subtitle-text t-h3">'), i.b(i.v(i.f("technologies", e, t, 0))), i.b("</div>"), i.b("\n" + n), i.b("          </div>"), i.b("\n" + n), i.b('          <div class="project__block appear-side" data-appear>'), i.b("\n" + n), i.b('            <div class="project__description t-text">'), i.b(i.v(i.f("description", e, t, 0))), i.b("</div>"), i.b("\n" + n), i.b("          </div>"), i.b("\n"), i.b("\n" + n), i.b('          <div class="project__block appear-side" data-appear>'), i.b("\n" + n), i.b('            <a target="_blank" href="'), i.b(i.v(i.f("url", e, t, 0))), i.b('" class="project__link t-cta-small">'), i.b("\n" + n), i.b("              <span>Visit website</span>"), i.b("\n" + n), i.b('              <svg class="project__link__svg" data-project-link-svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"'), i.b("\n" + n), i.b('          viewBox="0 0 504 198" xml:space="preserve">'), i.b("\n" + n), i.b('                <path class="project__link__path" shape-rendering="optimizeQuality" d="M18,99c0,49.7,40.3,90,90,90s90-40.3,90-90c0-29.8,24.2-54,54-54s54,24.2,54,54'), i.b("\n" + n), i.b('                  c0,49.7,40.3,90,90,90s90-40.3,90-90"/>'), i.b("\n" + n), i.b('                <path class="project__link__path" shape-rendering="optimizeQuality" d="M486,99c0-49.7-40.3-90-90-90s-90,40.3-90,90c0,29.8-24.2,54-54,54s-54-24.2-54-54l0,0'), i.b("\n" + n), i.b('                  c0-49.7-40.3-90-90-90S18,49.3,18,99"/>'), i.b("\n" + n), i.b('                <path class="project__link__path" shape-rendering="optimizeQuality" d="M467.2,99c0-39.8-32.2-72-72-72c-39.8,0-72,32.2-72,72s-32.2,72-72,72s-72-32.2-72-72'), i.b("\n" + n), i.b('                  s-32.2-72-72-72c-39.8,0-72,32.2-72,72"/>'), i.b("\n" + n), i.b('                <path class="project__link__path" shape-rendering="optimizeQuality" d="M35.2,99c0,39.8,32.3,72,72,72c39.8,0,72-32.2,72-72c0-39.8,32.3-72,72-72'), i.b("\n" + n), i.b('                  c39.7,0,71.9,32.2,72,72c0,39.8,32.2,72,72,72s72-32.2,72-72l0,0"/>'), i.b("\n" + n), i.b('                <path class="project__link__path" shape-rendering="optimizeQuality" d="M449.2,99L449.2,99c0-29.8-24.2-54-54-54s-54,24.2-54,54c0,49.7-40.3,90-90,90'), i.b("\n" + n), i.b('                  s-90-40.3-90-90c0-29.8-24.2-54-54-54s-54,24.2-54,54"/>'), i.b("\n" + n), i.b('                <path class="project__link__path" shape-rendering="optimizeQuality" d="M53.2,99L53.2,99c0,29.8,24.2,54,54,54c29.8,0,54-24.2,54-54c0,0,0,0,0,0'), i.b("\n" + n), i.b('                  c0-49.7,40.3-90,90-90c49.7,0,89.9,40.3,90,90c0,29.8,24.2,54,54,54s54-24.2,54-54"/>'), i.b("\n" + n), i.b("              </svg>"), i.b("\n" + n), i.b("            </a>"), i.b("\n" + n), i.b("          </div>"), i.b("\n"), i.b("\n" + n), i.b('          <div class="project__block appear-side" data-appear>'), i.b("\n" + n), i.b('            <ul class="project__awards t-award">'), i.b("\n" + n), i.s(i.f("awards", e, t, 1), e, t, 0, 3058, 3128, "{{ }}") && (i.rs(e, t, (function(e, t, i) {
                    i.b('              <li class="project__award">1x '), i.b(i.v(i.d(".", e, t, 0))), i.b("</li>"), i.b("\n" + n)
                })), e.pop()), i.b("            </ul>"), i.b("\n" + n), i.b("          </div>"), i.b("\n" + n), i.b("        </div>"), i.b("\n"), i.b("\n" + n), i.b('        <div class="project__next" data-project-next>'), i.b("\n" + n), i.b('          <div class="project__next-cta t-cta">Next <br> project</div>'), i.b("\n" + n), i.b('          <div class="project__next-circle"></div>'), i.b("\n" + n), i.b("        </div>"), i.b("\n" + n), i.b("      </div>"), i.b("\n" + n), i.b("    </div>"), i.b("\n"), i.b("\n" + n), i.b("  </div>"), i.b("\n"), i.fl()
            },
            partials: {},
            subs: {}
        }, '  <div class="project__overlay">\n    <div class="project__back" data-project-back-cta>\n      <div class="project__back-cta t-cta">Back</div>\n      <div class="project__back-circle"></div>\n    </div>\n    <div class="project__stripes"></div>\n    <div class="project__outer">\n      <div class="project__container">\n        <div class="project__content">\n          <h2 class="project__title t-h1 split-text" data-split-text>{{title}}</h2>\n          <div class="project__block appear-side" data-appear>\n            <div class="project__subtitle t-h2">Year</div>\n            <div class="project__subtitle-text t-h3">{{year}}</div>\n          </div>\n          <div class="project__block appear-side" data-appear>\n            <div class="project__subtitle t-h2">Technologies</div>\n            <div class="project__subtitle-text t-h3">{{technologies}}</div>\n          </div>\n          <div class="project__block appear-side" data-appear>\n            <div class="project__description t-text">{{description}}</div>\n          </div>\n\n          <div class="project__block appear-side" data-appear>\n            <a target="_blank" href="{{url}}" class="project__link t-cta-small">\n              <span>Visit website</span>\n              <svg class="project__link__svg" data-project-link-svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n          viewBox="0 0 504 198" xml:space="preserve">\n                <path class="project__link__path" shape-rendering="optimizeQuality" d="M18,99c0,49.7,40.3,90,90,90s90-40.3,90-90c0-29.8,24.2-54,54-54s54,24.2,54,54\n                  c0,49.7,40.3,90,90,90s90-40.3,90-90"/>\n                <path class="project__link__path" shape-rendering="optimizeQuality" d="M486,99c0-49.7-40.3-90-90-90s-90,40.3-90,90c0,29.8-24.2,54-54,54s-54-24.2-54-54l0,0\n                  c0-49.7-40.3-90-90-90S18,49.3,18,99"/>\n                <path class="project__link__path" shape-rendering="optimizeQuality" d="M467.2,99c0-39.8-32.2-72-72-72c-39.8,0-72,32.2-72,72s-32.2,72-72,72s-72-32.2-72-72\n                  s-32.2-72-72-72c-39.8,0-72,32.2-72,72"/>\n                <path class="project__link__path" shape-rendering="optimizeQuality" d="M35.2,99c0,39.8,32.3,72,72,72c39.8,0,72-32.2,72-72c0-39.8,32.3-72,72-72\n                  c39.7,0,71.9,32.2,72,72c0,39.8,32.2,72,72,72s72-32.2,72-72l0,0"/>\n                <path class="project__link__path" shape-rendering="optimizeQuality" d="M449.2,99L449.2,99c0-29.8-24.2-54-54-54s-54,24.2-54,54c0,49.7-40.3,90-90,90\n                  s-90-40.3-90-90c0-29.8-24.2-54-54-54s-54,24.2-54,54"/>\n                <path class="project__link__path" shape-rendering="optimizeQuality" d="M53.2,99L53.2,99c0,29.8,24.2,54,54,54c29.8,0,54-24.2,54-54c0,0,0,0,0,0\n                  c0-49.7,40.3-90,90-90c49.7,0,89.9,40.3,90,90c0,29.8,24.2,54,54,54s54-24.2,54-54"/>\n              </svg>\n            </a>\n          </div>\n\n          <div class="project__block appear-side" data-appear>\n            <ul class="project__awards t-award">\n              {{#awards}}\n              <li class="project__award">1x {{.}}</li>\n              {{/awards}}\n            </ul>\n          </div>\n        </div>\n\n        <div class="project__next" data-project-next>\n          <div class="project__next-cta t-cta">Next <br> project</div>\n          <div class="project__next-circle"></div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n', i);
        return e.render.apply(e, arguments)
    }
}, function(e, t, n) {
    var i = n(89),
        r = n(35);
    e.exports = function(e, t, n) {
        var o = !0,
            a = !0;
        if ("function" != typeof e) throw new TypeError("Expected a function");
        return r(n) && (o = "leading" in n ? !!n.leading : o, a = "trailing" in n ? !!n.trailing : a), i(e, t, {
            leading: o,
            maxWait: t,
            trailing: a
        })
    }
}, function(e, t, n) {
    (function(n) {
        var i;
        /*!
         *  howler.js v2.2.3
         *  howlerjs.com
         *
         *  (c) 2013-2020, James Simpson of GoldFire Studios
         *  goldfirestudios.com
         *
         *  MIT License
         */
        ! function() {
            "use strict";
            var r = function() {
                this.init()
            };
            r.prototype = {
                init: function() {
                    var e = this || o;
                    return e._counter = 1e3, e._html5AudioPool = [], e.html5PoolSize = 10, e._codecs = {}, e._howls = [], e._muted = !1, e._volume = 1, e._canPlayEvent = "canplaythrough", e._navigator = "undefined" != typeof window && window.navigator ? window.navigator : null, e.masterGain = null, e.noAudio = !1, e.usingWebAudio = !0, e.autoSuspend = !0, e.ctx = null, e.autoUnlock = !0, e._setup(), e
                },
                volume: function(e) {
                    var t = this || o;
                    if (e = parseFloat(e), t.ctx || p(), void 0 !== e && e >= 0 && e <= 1) {
                        if (t._volume = e, t._muted) return t;
                        t.usingWebAudio && t.masterGain.gain.setValueAtTime(e, o.ctx.currentTime);
                        for (var n = 0; n < t._howls.length; n++)
                            if (!t._howls[n]._webAudio)
                                for (var i = t._howls[n]._getSoundIds(), r = 0; r < i.length; r++) {
                                    var a = t._howls[n]._soundById(i[r]);
                                    a && a._node && (a._node.volume = a._volume * e)
                                }
                        return t
                    }
                    return t._volume
                },
                mute: function(e) {
                    var t = this || o;
                    t.ctx || p(), t._muted = e, t.usingWebAudio && t.masterGain.gain.setValueAtTime(e ? 0 : t._volume, o.ctx.currentTime);
                    for (var n = 0; n < t._howls.length; n++)
                        if (!t._howls[n]._webAudio)
                            for (var i = t._howls[n]._getSoundIds(), r = 0; r < i.length; r++) {
                                var a = t._howls[n]._soundById(i[r]);
                                a && a._node && (a._node.muted = !!e || a._muted)
                            }
                    return t
                },
                stop: function() {
                    for (var e = this || o, t = 0; t < e._howls.length; t++) e._howls[t].stop();
                    return e
                },
                unload: function() {
                    for (var e = this || o, t = e._howls.length - 1; t >= 0; t--) e._howls[t].unload();
                    return e.usingWebAudio && e.ctx && void 0 !== e.ctx.close && (e.ctx.close(), e.ctx = null, p()), e
                },
                codecs: function(e) {
                    return (this || o)._codecs[e.replace(/^x-/, "")]
                },
                _setup: function() {
                    var e = this || o;
                    if (e.state = e.ctx && e.ctx.state || "suspended", e._autoSuspend(), !e.usingWebAudio)
                        if ("undefined" != typeof Audio) try {
                            void 0 === (new Audio).oncanplaythrough && (e._canPlayEvent = "canplay")
                        } catch (t) {
                            e.noAudio = !0
                        } else e.noAudio = !0;
                    try {
                        (new Audio).muted && (e.noAudio = !0)
                    } catch (e) {}
                    return e.noAudio || e._setupCodecs(), e
                },
                _setupCodecs: function() {
                    var e = this || o,
                        t = null;
                    try {
                        t = "undefined" != typeof Audio ? new Audio : null
                    } catch (t) {
                        return e
                    }
                    if (!t || "function" != typeof t.canPlayType) return e;
                    var n = t.canPlayType("audio/mpeg;").replace(/^no$/, ""),
                        i = e._navigator ? e._navigator.userAgent : "",
                        r = i.match(/OPR\/([0-6].)/g),
                        a = r && parseInt(r[0].split("/")[1], 10) < 33,
                        s = -1 !== i.indexOf("Safari") && -1 === i.indexOf("Chrome"),
                        c = i.match(/Version\/(.*?) /),
                        l = s && c && parseInt(c[1], 10) < 15;
                    return e._codecs = {
                        mp3: !(a || !n && !t.canPlayType("audio/mp3;").replace(/^no$/, "")),
                        mpeg: !!n,
                        opus: !!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
                        ogg: !!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                        oga: !!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                        wav: !!(t.canPlayType('audio/wav; codecs="1"') || t.canPlayType("audio/wav")).replace(/^no$/, ""),
                        aac: !!t.canPlayType("audio/aac;").replace(/^no$/, ""),
                        caf: !!t.canPlayType("audio/x-caf;").replace(/^no$/, ""),
                        m4a: !!(t.canPlayType("audio/x-m4a;") || t.canPlayType("audio/m4a;") || t.canPlayType("audio/aac;")).replace(/^no$/, ""),
                        m4b: !!(t.canPlayType("audio/x-m4b;") || t.canPlayType("audio/m4b;") || t.canPlayType("audio/aac;")).replace(/^no$/, ""),
                        mp4: !!(t.canPlayType("audio/x-mp4;") || t.canPlayType("audio/mp4;") || t.canPlayType("audio/aac;")).replace(/^no$/, ""),
                        weba: !(l || !t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
                        webm: !(l || !t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
                        dolby: !!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
                        flac: !!(t.canPlayType("audio/x-flac;") || t.canPlayType("audio/flac;")).replace(/^no$/, "")
                    }, e
                },
                _unlockAudio: function() {
                    var e = this || o;
                    if (!e._audioUnlocked && e.ctx) {
                        e._audioUnlocked = !1, e.autoUnlock = !1, e._mobileUnloaded || 44100 === e.ctx.sampleRate || (e._mobileUnloaded = !0, e.unload()), e._scratchBuffer = e.ctx.createBuffer(1, 1, 22050);
                        var t = function(n) {
                            for (; e._html5AudioPool.length < e.html5PoolSize;) try {
                                var i = new Audio;
                                i._unlocked = !0, e._releaseHtml5Audio(i)
                            } catch (n) {
                                e.noAudio = !0;
                                break
                            }
                            for (var r = 0; r < e._howls.length; r++)
                                if (!e._howls[r]._webAudio)
                                    for (var o = e._howls[r]._getSoundIds(), a = 0; a < o.length; a++) {
                                        var s = e._howls[r]._soundById(o[a]);
                                        s && s._node && !s._node._unlocked && (s._node._unlocked = !0, s._node.load())
                                    }
                            e._autoResume();
                            var c = e.ctx.createBufferSource();
                            c.buffer = e._scratchBuffer, c.connect(e.ctx.destination), void 0 === c.start ? c.noteOn(0) : c.start(0), "function" == typeof e.ctx.resume && e.ctx.resume(), c.onended = function() {
                                c.disconnect(0), e._audioUnlocked = !0, document.removeEventListener("touchstart", t, !0), document.removeEventListener("touchend", t, !0), document.removeEventListener("click", t, !0), document.removeEventListener("keydown", t, !0);
                                for (var n = 0; n < e._howls.length; n++) e._howls[n]._emit("unlock")
                            }
                        };
                        return document.addEventListener("touchstart", t, !0), document.addEventListener("touchend", t, !0), document.addEventListener("click", t, !0), document.addEventListener("keydown", t, !0), e
                    }
                },
                _obtainHtml5Audio: function() {
                    var e = this || o;
                    if (e._html5AudioPool.length) return e._html5AudioPool.pop();
                    var t = (new Audio).play();
                    return t && "undefined" != typeof Promise && (t instanceof Promise || "function" == typeof t.then) && t.catch((function() {
                        console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")
                    })), new Audio
                },
                _releaseHtml5Audio: function(e) {
                    var t = this || o;
                    return e._unlocked && t._html5AudioPool.push(e), t
                },
                _autoSuspend: function() {
                    var e = this;
                    if (e.autoSuspend && e.ctx && void 0 !== e.ctx.suspend && o.usingWebAudio) {
                        for (var t = 0; t < e._howls.length; t++)
                            if (e._howls[t]._webAudio)
                                for (var n = 0; n < e._howls[t]._sounds.length; n++)
                                    if (!e._howls[t]._sounds[n]._paused) return e;
                        return e._suspendTimer && clearTimeout(e._suspendTimer), e._suspendTimer = setTimeout((function() {
                            if (e.autoSuspend) {
                                e._suspendTimer = null, e.state = "suspending";
                                var t = function() {
                                    e.state = "suspended", e._resumeAfterSuspend && (delete e._resumeAfterSuspend, e._autoResume())
                                };
                                e.ctx.suspend().then(t, t)
                            }
                        }), 3e4), e
                    }
                },
                _autoResume: function() {
                    var e = this;
                    if (e.ctx && void 0 !== e.ctx.resume && o.usingWebAudio) return "running" === e.state && "interrupted" !== e.ctx.state && e._suspendTimer ? (clearTimeout(e._suspendTimer), e._suspendTimer = null) : "suspended" === e.state || "running" === e.state && "interrupted" === e.ctx.state ? (e.ctx.resume().then((function() {
                        e.state = "running";
                        for (var t = 0; t < e._howls.length; t++) e._howls[t]._emit("resume")
                    })), e._suspendTimer && (clearTimeout(e._suspendTimer), e._suspendTimer = null)) : "suspending" === e.state && (e._resumeAfterSuspend = !0), e
                }
            };
            var o = new r,
                a = function(e) {
                    e.src && 0 !== e.src.length ? this.init(e) : console.error("An array of source files must be passed with any new Howl.")
                };
            a.prototype = {
                init: function(e) {
                    var t = this;
                    return o.ctx || p(), t._autoplay = e.autoplay || !1, t._format = "string" != typeof e.format ? e.format : [e.format], t._html5 = e.html5 || !1, t._muted = e.mute || !1, t._loop = e.loop || !1, t._pool = e.pool || 5, t._preload = "boolean" != typeof e.preload && "metadata" !== e.preload || e.preload, t._rate = e.rate || 1, t._sprite = e.sprite || {}, t._src = "string" != typeof e.src ? e.src : [e.src], t._volume = void 0 !== e.volume ? e.volume : 1, t._xhr = {
                        method: e.xhr && e.xhr.method ? e.xhr.method : "GET",
                        headers: e.xhr && e.xhr.headers ? e.xhr.headers : null,
                        withCredentials: !(!e.xhr || !e.xhr.withCredentials) && e.xhr.withCredentials
                    }, t._duration = 0, t._state = "unloaded", t._sounds = [], t._endTimers = {}, t._queue = [], t._playLock = !1, t._onend = e.onend ? [{
                        fn: e.onend
                    }] : [], t._onfade = e.onfade ? [{
                        fn: e.onfade
                    }] : [], t._onload = e.onload ? [{
                        fn: e.onload
                    }] : [], t._onloaderror = e.onloaderror ? [{
                        fn: e.onloaderror
                    }] : [], t._onplayerror = e.onplayerror ? [{
                        fn: e.onplayerror
                    }] : [], t._onpause = e.onpause ? [{
                        fn: e.onpause
                    }] : [], t._onplay = e.onplay ? [{
                        fn: e.onplay
                    }] : [], t._onstop = e.onstop ? [{
                        fn: e.onstop
                    }] : [], t._onmute = e.onmute ? [{
                        fn: e.onmute
                    }] : [], t._onvolume = e.onvolume ? [{
                        fn: e.onvolume
                    }] : [], t._onrate = e.onrate ? [{
                        fn: e.onrate
                    }] : [], t._onseek = e.onseek ? [{
                        fn: e.onseek
                    }] : [], t._onunlock = e.onunlock ? [{
                        fn: e.onunlock
                    }] : [], t._onresume = [], t._webAudio = o.usingWebAudio && !t._html5, void 0 !== o.ctx && o.ctx && o.autoUnlock && o._unlockAudio(), o._howls.push(t), t._autoplay && t._queue.push({
                        event: "play",
                        action: function() {
                            t.play()
                        }
                    }), t._preload && "none" !== t._preload && t.load(), t
                },
                load: function() {
                    var e = null;
                    if (o.noAudio) this._emit("loaderror", null, "No audio support.");
                    else {
                        "string" == typeof this._src && (this._src = [this._src]);
                        for (var t = 0; t < this._src.length; t++) {
                            var n, i;
                            if (this._format && this._format[t]) n = this._format[t];
                            else {
                                if ("string" != typeof(i = this._src[t])) {
                                    this._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                                    continue
                                }(n = /^data:audio\/([^;,]+);/i.exec(i)) || (n = /\.([^.]+)$/.exec(i.split("?", 1)[0])), n && (n = n[1].toLowerCase())
                            }
                            if (n || console.warn('No file extension was found. Consider using the "format" property or specify an extension.'), n && o.codecs(n)) {
                                e = this._src[t];
                                break
                            }
                        }
                        if (e) return this._src = e, this._state = "loading", "https:" === window.location.protocol && "http:" === e.slice(0, 5) && (this._html5 = !0, this._webAudio = !1), new s(this), this._webAudio && l(this), this;
                        this._emit("loaderror", null, "No codec support for selected audio sources.")
                    }
                },
                play: function(e, t) {
                    var n = this,
                        i = null;
                    if ("number" == typeof e) i = e, e = null;
                    else {
                        if ("string" == typeof e && "loaded" === n._state && !n._sprite[e]) return null;
                        if (void 0 === e && (e = "__default", !n._playLock)) {
                            for (var r = 0, a = 0; a < n._sounds.length; a++) n._sounds[a]._paused && !n._sounds[a]._ended && (r++, i = n._sounds[a]._id);
                            1 === r ? e = null : i = null
                        }
                    }
                    var s = i ? n._soundById(i) : n._inactiveSound();
                    if (!s) return null;
                    if (i && !e && (e = s._sprite || "__default"), "loaded" !== n._state) {
                        s._sprite = e, s._ended = !1;
                        var c = s._id;
                        return n._queue.push({
                            event: "play",
                            action: function() {
                                n.play(c)
                            }
                        }), c
                    }
                    if (i && !s._paused) return t || n._loadQueue("play"), s._id;
                    n._webAudio && o._autoResume();
                    var l = Math.max(0, s._seek > 0 ? s._seek : n._sprite[e][0] / 1e3),
                        u = Math.max(0, (n._sprite[e][0] + n._sprite[e][1]) / 1e3 - l),
                        h = 1e3 * u / Math.abs(s._rate),
                        d = n._sprite[e][0] / 1e3,
                        p = (n._sprite[e][0] + n._sprite[e][1]) / 1e3;
                    s._sprite = e, s._ended = !1;
                    var f = function() {
                        s._paused = !1, s._seek = l, s._start = d, s._stop = p, s._loop = !(!s._loop && !n._sprite[e][2])
                    };
                    if (!(l >= p)) {
                        var m = s._node;
                        if (n._webAudio) {
                            var v = function() {
                                n._playLock = !1, f(), n._refreshBuffer(s);
                                var e = s._muted || n._muted ? 0 : s._volume;
                                m.gain.setValueAtTime(e, o.ctx.currentTime), s._playStart = o.ctx.currentTime, void 0 === m.bufferSource.start ? s._loop ? m.bufferSource.noteGrainOn(0, l, 86400) : m.bufferSource.noteGrainOn(0, l, u) : s._loop ? m.bufferSource.start(0, l, 86400) : m.bufferSource.start(0, l, u), h !== 1 / 0 && (n._endTimers[s._id] = setTimeout(n._ended.bind(n, s), h)), t || setTimeout((function() {
                                    n._emit("play", s._id), n._loadQueue()
                                }), 0)
                            };
                            "running" === o.state && "interrupted" !== o.ctx.state ? v() : (n._playLock = !0, n.once("resume", v), n._clearTimer(s._id))
                        } else {
                            var g = function() {
                                m.currentTime = l, m.muted = s._muted || n._muted || o._muted || m.muted, m.volume = s._volume * o.volume(), m.playbackRate = s._rate;
                                try {
                                    var i = m.play();
                                    if (i && "undefined" != typeof Promise && (i instanceof Promise || "function" == typeof i.then) ? (n._playLock = !0, f(), i.then((function() {
                                            n._playLock = !1, m._unlocked = !0, t ? n._loadQueue() : n._emit("play", s._id)
                                        })).catch((function() {
                                            n._playLock = !1, n._emit("playerror", s._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."), s._ended = !0, s._paused = !0
                                        }))) : t || (n._playLock = !1, f(), n._emit("play", s._id)), m.playbackRate = s._rate, m.paused) return void n._emit("playerror", s._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                                    "__default" !== e || s._loop ? n._endTimers[s._id] = setTimeout(n._ended.bind(n, s), h) : (n._endTimers[s._id] = function() {
                                        n._ended(s), m.removeEventListener("ended", n._endTimers[s._id], !1)
                                    }, m.addEventListener("ended", n._endTimers[s._id], !1))
                                } catch (e) {
                                    n._emit("playerror", s._id, e)
                                }
                            };
                            "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA" === m.src && (m.src = n._src, m.load());
                            var y = window && window.ejecta || !m.readyState && o._navigator.isCocoonJS;
                            if (m.readyState >= 3 || y) g();
                            else {
                                n._playLock = !0, n._state = "loading";
                                var b = function() {
                                    n._state = "loaded", g(), m.removeEventListener(o._canPlayEvent, b, !1)
                                };
                                m.addEventListener(o._canPlayEvent, b, !1), n._clearTimer(s._id)
                            }
                        }
                        return s._id
                    }
                    n._ended(s)
                },
                pause: function(e) {
                    var t = this;
                    if ("loaded" !== t._state || t._playLock) return t._queue.push({
                        event: "pause",
                        action: function() {
                            t.pause(e)
                        }
                    }), t;
                    for (var n = t._getSoundIds(e), i = 0; i < n.length; i++) {
                        t._clearTimer(n[i]);
                        var r = t._soundById(n[i]);
                        if (r && !r._paused && (r._seek = t.seek(n[i]), r._rateSeek = 0, r._paused = !0, t._stopFade(n[i]), r._node))
                            if (t._webAudio) {
                                if (!r._node.bufferSource) continue;
                                void 0 === r._node.bufferSource.stop ? r._node.bufferSource.noteOff(0) : r._node.bufferSource.stop(0), t._cleanBuffer(r._node)
                            } else isNaN(r._node.duration) && r._node.duration !== 1 / 0 || r._node.pause();
                        arguments[1] || t._emit("pause", r ? r._id : null)
                    }
                    return t
                },
                stop: function(e, t) {
                    var n = this;
                    if ("loaded" !== n._state || n._playLock) return n._queue.push({
                        event: "stop",
                        action: function() {
                            n.stop(e)
                        }
                    }), n;
                    for (var i = n._getSoundIds(e), r = 0; r < i.length; r++) {
                        n._clearTimer(i[r]);
                        var o = n._soundById(i[r]);
                        o && (o._seek = o._start || 0, o._rateSeek = 0, o._paused = !0, o._ended = !0, n._stopFade(i[r]), o._node && (n._webAudio ? o._node.bufferSource && (void 0 === o._node.bufferSource.stop ? o._node.bufferSource.noteOff(0) : o._node.bufferSource.stop(0), n._cleanBuffer(o._node)) : isNaN(o._node.duration) && o._node.duration !== 1 / 0 || (o._node.currentTime = o._start || 0, o._node.pause(), o._node.duration === 1 / 0 && n._clearSound(o._node))), t || n._emit("stop", o._id))
                    }
                    return n
                },
                mute: function(e, t) {
                    var n = this;
                    if ("loaded" !== n._state || n._playLock) return n._queue.push({
                        event: "mute",
                        action: function() {
                            n.mute(e, t)
                        }
                    }), n;
                    if (void 0 === t) {
                        if ("boolean" != typeof e) return n._muted;
                        n._muted = e
                    }
                    for (var i = n._getSoundIds(t), r = 0; r < i.length; r++) {
                        var a = n._soundById(i[r]);
                        a && (a._muted = e, a._interval && n._stopFade(a._id), n._webAudio && a._node ? a._node.gain.setValueAtTime(e ? 0 : a._volume, o.ctx.currentTime) : a._node && (a._node.muted = !!o._muted || e), n._emit("mute", a._id))
                    }
                    return n
                },
                volume: function() {
                    var e, t, n, i = this,
                        r = arguments;
                    if (0 === r.length) return i._volume;
                    if (1 === r.length || 2 === r.length && void 0 === r[1]) {
                        var a = i._getSoundIds(),
                            s = a.indexOf(r[0]);
                        s >= 0 ? t = parseInt(r[0], 10) : e = parseFloat(r[0])
                    } else r.length >= 2 && (e = parseFloat(r[0]), t = parseInt(r[1], 10));
                    if (!(void 0 !== e && e >= 0 && e <= 1)) return (n = t ? i._soundById(t) : i._sounds[0]) ? n._volume : 0;
                    if ("loaded" !== i._state || i._playLock) return i._queue.push({
                        event: "volume",
                        action: function() {
                            i.volume.apply(i, r)
                        }
                    }), i;
                    void 0 === t && (i._volume = e), t = i._getSoundIds(t);
                    for (var c = 0; c < t.length; c++)(n = i._soundById(t[c])) && (n._volume = e, r[2] || i._stopFade(t[c]), i._webAudio && n._node && !n._muted ? n._node.gain.setValueAtTime(e, o.ctx.currentTime) : n._node && !n._muted && (n._node.volume = e * o.volume()), i._emit("volume", n._id));
                    return i
                },
                fade: function(e, t, n, i) {
                    var r = this;
                    if ("loaded" !== r._state || r._playLock) return r._queue.push({
                        event: "fade",
                        action: function() {
                            r.fade(e, t, n, i)
                        }
                    }), r;
                    e = Math.min(Math.max(0, parseFloat(e)), 1), t = Math.min(Math.max(0, parseFloat(t)), 1), n = parseFloat(n), r.volume(e, i);
                    for (var a = r._getSoundIds(i), s = 0; s < a.length; s++) {
                        var c = r._soundById(a[s]);
                        if (c) {
                            if (i || r._stopFade(a[s]), r._webAudio && !c._muted) {
                                var l = o.ctx.currentTime,
                                    u = l + n / 1e3;
                                c._volume = e, c._node.gain.setValueAtTime(e, l), c._node.gain.linearRampToValueAtTime(t, u)
                            }
                            r._startFadeInterval(c, e, t, n, a[s], void 0 === i)
                        }
                    }
                    return r
                },
                _startFadeInterval: function(e, t, n, i, r, o) {
                    var a = this,
                        s = t,
                        c = n - t,
                        l = Math.abs(c / .01),
                        u = Math.max(4, l > 0 ? i / l : i),
                        h = Date.now();
                    e._fadeTo = n, e._interval = setInterval((function() {
                        var r = (Date.now() - h) / i;
                        h = Date.now(), s += c * r, s = Math.round(100 * s) / 100, s = c < 0 ? Math.max(n, s) : Math.min(n, s), a._webAudio ? e._volume = s : a.volume(s, e._id, !0), o && (a._volume = s), (n < t && s <= n || n > t && s >= n) && (clearInterval(e._interval), e._interval = null, e._fadeTo = null, a.volume(n, e._id), a._emit("fade", e._id))
                    }), u)
                },
                _stopFade: function(e) {
                    var t = this._soundById(e);
                    return t && t._interval && (this._webAudio && t._node.gain.cancelScheduledValues(o.ctx.currentTime), clearInterval(t._interval), t._interval = null, this.volume(t._fadeTo, e), t._fadeTo = null, this._emit("fade", e)), this
                },
                loop: function() {
                    var e, t, n, i = this,
                        r = arguments;
                    if (0 === r.length) return i._loop;
                    if (1 === r.length) {
                        if ("boolean" != typeof r[0]) return !!(n = i._soundById(parseInt(r[0], 10))) && n._loop;
                        e = r[0], i._loop = e
                    } else 2 === r.length && (e = r[0], t = parseInt(r[1], 10));
                    for (var o = i._getSoundIds(t), a = 0; a < o.length; a++)(n = i._soundById(o[a])) && (n._loop = e, i._webAudio && n._node && n._node.bufferSource && (n._node.bufferSource.loop = e, e && (n._node.bufferSource.loopStart = n._start || 0, n._node.bufferSource.loopEnd = n._stop, i.playing(o[a]) && (i.pause(o[a], !0), i.play(o[a], !0)))));
                    return i
                },
                rate: function() {
                    var e, t, n, i = this,
                        r = arguments;
                    if (0 === r.length) t = i._sounds[0]._id;
                    else if (1 === r.length) {
                        var a = i._getSoundIds(),
                            s = a.indexOf(r[0]);
                        s >= 0 ? t = parseInt(r[0], 10) : e = parseFloat(r[0])
                    } else 2 === r.length && (e = parseFloat(r[0]), t = parseInt(r[1], 10));
                    if ("number" != typeof e) return (n = i._soundById(t)) ? n._rate : i._rate;
                    if ("loaded" !== i._state || i._playLock) return i._queue.push({
                        event: "rate",
                        action: function() {
                            i.rate.apply(i, r)
                        }
                    }), i;
                    void 0 === t && (i._rate = e), t = i._getSoundIds(t);
                    for (var c = 0; c < t.length; c++)
                        if (n = i._soundById(t[c])) {
                            i.playing(t[c]) && (n._rateSeek = i.seek(t[c]), n._playStart = i._webAudio ? o.ctx.currentTime : n._playStart), n._rate = e, i._webAudio && n._node && n._node.bufferSource ? n._node.bufferSource.playbackRate.setValueAtTime(e, o.ctx.currentTime) : n._node && (n._node.playbackRate = e);
                            var l = i.seek(t[c]),
                                u = (i._sprite[n._sprite][0] + i._sprite[n._sprite][1]) / 1e3 - l,
                                h = 1e3 * u / Math.abs(n._rate);
                            !i._endTimers[t[c]] && n._paused || (i._clearTimer(t[c]), i._endTimers[t[c]] = setTimeout(i._ended.bind(i, n), h)), i._emit("rate", n._id)
                        }
                    return i
                },
                seek: function() {
                    var e, t, n = this,
                        i = arguments;
                    if (0 === i.length) n._sounds.length && (t = n._sounds[0]._id);
                    else if (1 === i.length) {
                        var r = n._getSoundIds(),
                            a = r.indexOf(i[0]);
                        a >= 0 ? t = parseInt(i[0], 10) : n._sounds.length && (t = n._sounds[0]._id, e = parseFloat(i[0]))
                    } else 2 === i.length && (e = parseFloat(i[0]), t = parseInt(i[1], 10));
                    if (void 0 === t) return 0;
                    if ("number" == typeof e && ("loaded" !== n._state || n._playLock)) return n._queue.push({
                        event: "seek",
                        action: function() {
                            n.seek.apply(n, i)
                        }
                    }), n;
                    var s = n._soundById(t);
                    if (s) {
                        if (!("number" == typeof e && e >= 0)) {
                            if (n._webAudio) {
                                var c = n.playing(t) ? o.ctx.currentTime - s._playStart : 0,
                                    l = s._rateSeek ? s._rateSeek - s._seek : 0;
                                return s._seek + (l + c * Math.abs(s._rate))
                            }
                            return s._node.currentTime
                        }
                        var u = n.playing(t);
                        u && n.pause(t, !0), s._seek = e, s._ended = !1, n._clearTimer(t), n._webAudio || !s._node || isNaN(s._node.duration) || (s._node.currentTime = e);
                        var h = function() {
                            u && n.play(t, !0), n._emit("seek", t)
                        };
                        if (u && !n._webAudio) {
                            var d = function() {
                                n._playLock ? setTimeout(d, 0) : h()
                            };
                            setTimeout(d, 0)
                        } else h()
                    }
                    return n
                },
                playing: function(e) {
                    if ("number" == typeof e) {
                        var t = this._soundById(e);
                        return !!t && !t._paused
                    }
                    for (var n = 0; n < this._sounds.length; n++)
                        if (!this._sounds[n]._paused) return !0;
                    return !1
                },
                duration: function(e) {
                    var t = this._duration,
                        n = this._soundById(e);
                    return n && (t = this._sprite[n._sprite][1] / 1e3), t
                },
                state: function() {
                    return this._state
                },
                unload: function() {
                    for (var e = this, t = e._sounds, n = 0; n < t.length; n++) t[n]._paused || e.stop(t[n]._id), e._webAudio || (e._clearSound(t[n]._node), t[n]._node.removeEventListener("error", t[n]._errorFn, !1), t[n]._node.removeEventListener(o._canPlayEvent, t[n]._loadFn, !1), t[n]._node.removeEventListener("ended", t[n]._endFn, !1), o._releaseHtml5Audio(t[n]._node)), delete t[n]._node, e._clearTimer(t[n]._id);
                    var i = o._howls.indexOf(e);
                    i >= 0 && o._howls.splice(i, 1);
                    var r = !0;
                    for (n = 0; n < o._howls.length; n++)
                        if (o._howls[n]._src === e._src || e._src.indexOf(o._howls[n]._src) >= 0) {
                            r = !1;
                            break
                        }
                    return c && r && delete c[e._src], o.noAudio = !1, e._state = "unloaded", e._sounds = [], e = null, null
                },
                on: function(e, t, n, i) {
                    var r = this["_on" + e];
                    return "function" == typeof t && r.push(i ? {
                        id: n,
                        fn: t,
                        once: i
                    } : {
                        id: n,
                        fn: t
                    }), this
                },
                off: function(e, t, n) {
                    var i = this["_on" + e],
                        r = 0;
                    if ("number" == typeof t && (n = t, t = null), t || n)
                        for (r = 0; r < i.length; r++) {
                            var o = n === i[r].id;
                            if (t === i[r].fn && o || !t && o) {
                                i.splice(r, 1);
                                break
                            }
                        } else if (e) this["_on" + e] = [];
                        else {
                            var a = Object.keys(this);
                            for (r = 0; r < a.length; r++) 0 === a[r].indexOf("_on") && Array.isArray(this[a[r]]) && (this[a[r]] = [])
                        }
                    return this
                },
                once: function(e, t, n) {
                    return this.on(e, t, n, 1), this
                },
                _emit: function(e, t, n) {
                    for (var i = this["_on" + e], r = i.length - 1; r >= 0; r--) i[r].id && i[r].id !== t && "load" !== e || (setTimeout(function(e) {
                        e.call(this, t, n)
                    }.bind(this, i[r].fn), 0), i[r].once && this.off(e, i[r].fn, i[r].id));
                    return this._loadQueue(e), this
                },
                _loadQueue: function(e) {
                    if (this._queue.length > 0) {
                        var t = this._queue[0];
                        t.event === e && (this._queue.shift(), this._loadQueue()), e || t.action()
                    }
                    return this
                },
                _ended: function(e) {
                    var t = e._sprite;
                    if (!this._webAudio && e._node && !e._node.paused && !e._node.ended && e._node.currentTime < e._stop) return setTimeout(this._ended.bind(this, e), 100), this;
                    var n = !(!e._loop && !this._sprite[t][2]);
                    if (this._emit("end", e._id), !this._webAudio && n && this.stop(e._id, !0).play(e._id), this._webAudio && n) {
                        this._emit("play", e._id), e._seek = e._start || 0, e._rateSeek = 0, e._playStart = o.ctx.currentTime;
                        var i = 1e3 * (e._stop - e._start) / Math.abs(e._rate);
                        this._endTimers[e._id] = setTimeout(this._ended.bind(this, e), i)
                    }
                    return this._webAudio && !n && (e._paused = !0, e._ended = !0, e._seek = e._start || 0, e._rateSeek = 0, this._clearTimer(e._id), this._cleanBuffer(e._node), o._autoSuspend()), this._webAudio || n || this.stop(e._id, !0), this
                },
                _clearTimer: function(e) {
                    if (this._endTimers[e]) {
                        if ("function" != typeof this._endTimers[e]) clearTimeout(this._endTimers[e]);
                        else {
                            var t = this._soundById(e);
                            t && t._node && t._node.removeEventListener("ended", this._endTimers[e], !1)
                        }
                        delete this._endTimers[e]
                    }
                    return this
                },
                _soundById: function(e) {
                    for (var t = 0; t < this._sounds.length; t++)
                        if (e === this._sounds[t]._id) return this._sounds[t];
                    return null
                },
                _inactiveSound: function() {
                    this._drain();
                    for (var e = 0; e < this._sounds.length; e++)
                        if (this._sounds[e]._ended) return this._sounds[e].reset();
                    return new s(this)
                },
                _drain: function() {
                    var e = this._pool,
                        t = 0,
                        n = 0;
                    if (!(this._sounds.length < e)) {
                        for (n = 0; n < this._sounds.length; n++) this._sounds[n]._ended && t++;
                        for (n = this._sounds.length - 1; n >= 0; n--) {
                            if (t <= e) return;
                            this._sounds[n]._ended && (this._webAudio && this._sounds[n]._node && this._sounds[n]._node.disconnect(0), this._sounds.splice(n, 1), t--)
                        }
                    }
                },
                _getSoundIds: function(e) {
                    if (void 0 === e) {
                        for (var t = [], n = 0; n < this._sounds.length; n++) t.push(this._sounds[n]._id);
                        return t
                    }
                    return [e]
                },
                _refreshBuffer: function(e) {
                    return e._node.bufferSource = o.ctx.createBufferSource(), e._node.bufferSource.buffer = c[this._src], e._panner ? e._node.bufferSource.connect(e._panner) : e._node.bufferSource.connect(e._node), e._node.bufferSource.loop = e._loop, e._loop && (e._node.bufferSource.loopStart = e._start || 0, e._node.bufferSource.loopEnd = e._stop || 0), e._node.bufferSource.playbackRate.setValueAtTime(e._rate, o.ctx.currentTime), this
                },
                _cleanBuffer: function(e) {
                    var t = o._navigator && o._navigator.vendor.indexOf("Apple") >= 0;
                    if (o._scratchBuffer && e.bufferSource && (e.bufferSource.onended = null, e.bufferSource.disconnect(0), t)) try {
                        e.bufferSource.buffer = o._scratchBuffer
                    } catch (e) {}
                    return e.bufferSource = null, this
                },
                _clearSound: function(e) {
                    /MSIE |Trident\//.test(o._navigator && o._navigator.userAgent) || (e.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")
                }
            };
            var s = function(e) {
                this._parent = e, this.init()
            };
            s.prototype = {
                init: function() {
                    var e = this._parent;
                    return this._muted = e._muted, this._loop = e._loop, this._volume = e._volume, this._rate = e._rate, this._seek = 0, this._paused = !0, this._ended = !0, this._sprite = "__default", this._id = ++o._counter, e._sounds.push(this), this.create(), this
                },
                create: function() {
                    var e = this._parent,
                        t = o._muted || this._muted || this._parent._muted ? 0 : this._volume;
                    return e._webAudio ? (this._node = void 0 === o.ctx.createGain ? o.ctx.createGainNode() : o.ctx.createGain(), this._node.gain.setValueAtTime(t, o.ctx.currentTime), this._node.paused = !0, this._node.connect(o.masterGain)) : o.noAudio || (this._node = o._obtainHtml5Audio(), this._errorFn = this._errorListener.bind(this), this._node.addEventListener("error", this._errorFn, !1), this._loadFn = this._loadListener.bind(this), this._node.addEventListener(o._canPlayEvent, this._loadFn, !1), this._endFn = this._endListener.bind(this), this._node.addEventListener("ended", this._endFn, !1), this._node.src = e._src, this._node.preload = !0 === e._preload ? "auto" : e._preload, this._node.volume = t * o.volume(), this._node.load()), this
                },
                reset: function() {
                    var e = this._parent;
                    return this._muted = e._muted, this._loop = e._loop, this._volume = e._volume, this._rate = e._rate, this._seek = 0, this._rateSeek = 0, this._paused = !0, this._ended = !0, this._sprite = "__default", this._id = ++o._counter, this
                },
                _errorListener: function() {
                    this._parent._emit("loaderror", this._id, this._node.error ? this._node.error.code : 0), this._node.removeEventListener("error", this._errorFn, !1)
                },
                _loadListener: function() {
                    var e = this._parent;
                    e._duration = Math.ceil(10 * this._node.duration) / 10, 0 === Object.keys(e._sprite).length && (e._sprite = {
                        __default: [0, 1e3 * e._duration]
                    }), "loaded" !== e._state && (e._state = "loaded", e._emit("load"), e._loadQueue()), this._node.removeEventListener(o._canPlayEvent, this._loadFn, !1)
                },
                _endListener: function() {
                    var e = this._parent;
                    e._duration === 1 / 0 && (e._duration = Math.ceil(10 * this._node.duration) / 10, e._sprite.__default[1] === 1 / 0 && (e._sprite.__default[1] = 1e3 * e._duration), e._ended(this)), this._node.removeEventListener("ended", this._endFn, !1)
                }
            };
            var c = {},
                l = function(e) {
                    var t = e._src;
                    if (c[t]) return e._duration = c[t].duration, void d(e);
                    if (/^data:[^;]+;base64,/.test(t)) {
                        for (var n = atob(t.split(",")[1]), i = new Uint8Array(n.length), r = 0; r < n.length; ++r) i[r] = n.charCodeAt(r);
                        h(i.buffer, e)
                    } else {
                        var o = new XMLHttpRequest;
                        o.open(e._xhr.method, t, !0), o.withCredentials = e._xhr.withCredentials, o.responseType = "arraybuffer", e._xhr.headers && Object.keys(e._xhr.headers).forEach((function(t) {
                            o.setRequestHeader(t, e._xhr.headers[t])
                        })), o.onload = function() {
                            var t = (o.status + "")[0];
                            "0" === t || "2" === t || "3" === t ? h(o.response, e) : e._emit("loaderror", null, "Failed loading audio file with status: " + o.status + ".")
                        }, o.onerror = function() {
                            e._webAudio && (e._html5 = !0, e._webAudio = !1, e._sounds = [], delete c[t], e.load())
                        }, u(o)
                    }
                },
                u = function(e) {
                    try {
                        e.send()
                    } catch (t) {
                        e.onerror()
                    }
                },
                h = function(e, t) {
                    var n = function() {
                            t._emit("loaderror", null, "Decoding audio data failed.")
                        },
                        i = function(e) {
                            e && t._sounds.length > 0 ? (c[t._src] = e, d(t, e)) : n()
                        };
                    "undefined" != typeof Promise && 1 === o.ctx.decodeAudioData.length ? o.ctx.decodeAudioData(e).then(i).catch(n) : o.ctx.decodeAudioData(e, i, n)
                },
                d = function(e, t) {
                    t && !e._duration && (e._duration = t.duration), 0 === Object.keys(e._sprite).length && (e._sprite = {
                        __default: [0, 1e3 * e._duration]
                    }), "loaded" !== e._state && (e._state = "loaded", e._emit("load"), e._loadQueue())
                },
                p = function() {
                    if (o.usingWebAudio) {
                        try {
                            "undefined" != typeof AudioContext ? o.ctx = new AudioContext : "undefined" != typeof webkitAudioContext ? o.ctx = new webkitAudioContext : o.usingWebAudio = !1
                        } catch (e) {
                            o.usingWebAudio = !1
                        }
                        o.ctx || (o.usingWebAudio = !1);
                        var e = /iP(hone|od|ad)/.test(o._navigator && o._navigator.platform),
                            t = o._navigator && o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),
                            n = t ? parseInt(t[1], 10) : null;
                        if (e && n && n < 9) {
                            var i = /safari/.test(o._navigator && o._navigator.userAgent.toLowerCase());
                            o._navigator && !i && (o.usingWebAudio = !1)
                        }
                        o.usingWebAudio && (o.masterGain = void 0 === o.ctx.createGain ? o.ctx.createGainNode() : o.ctx.createGain(), o.masterGain.gain.setValueAtTime(o._muted ? 0 : o._volume, o.ctx.currentTime), o.masterGain.connect(o.ctx.destination)), o._setup()
                    }
                };
            void 0 === (i = function() {
                return {
                    Howler: o,
                    Howl: a
                }
            }.apply(t, [])) || (e.exports = i), t.Howler = o, t.Howl = a, void 0 !== n ? (n.HowlerGlobal = r, n.Howler = o, n.Howl = a, n.Sound = s) : "undefined" != typeof window && (window.HowlerGlobal = r, window.Howler = o, window.Howl = a, window.Sound = s)
        }(),
        /*!
         *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
         *  
         *  howler.js v2.2.3
         *  howlerjs.com
         *
         *  (c) 2013-2020, James Simpson of GoldFire Studios
         *  goldfirestudios.com
         *
         *  MIT License
         */
        function() {
            "use strict";
            var e;
            HowlerGlobal.prototype._pos = [0, 0, 0], HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0], HowlerGlobal.prototype.stereo = function(e) {
                if (!this.ctx || !this.ctx.listener) return this;
                for (var t = this._howls.length - 1; t >= 0; t--) this._howls[t].stereo(e);
                return this
            }, HowlerGlobal.prototype.pos = function(e, t, n) {
                return this.ctx && this.ctx.listener ? (t = "number" != typeof t ? this._pos[1] : t, n = "number" != typeof n ? this._pos[2] : n, "number" != typeof e ? this._pos : (this._pos = [e, t, n], void 0 !== this.ctx.listener.positionX ? (this.ctx.listener.positionX.setTargetAtTime(this._pos[0], Howler.ctx.currentTime, .1), this.ctx.listener.positionY.setTargetAtTime(this._pos[1], Howler.ctx.currentTime, .1), this.ctx.listener.positionZ.setTargetAtTime(this._pos[2], Howler.ctx.currentTime, .1)) : this.ctx.listener.setPosition(this._pos[0], this._pos[1], this._pos[2]), this)) : this
            }, HowlerGlobal.prototype.orientation = function(e, t, n, i, r, o) {
                if (!this.ctx || !this.ctx.listener) return this;
                var a = this._orientation;
                return t = "number" != typeof t ? a[1] : t, n = "number" != typeof n ? a[2] : n, i = "number" != typeof i ? a[3] : i, r = "number" != typeof r ? a[4] : r, o = "number" != typeof o ? a[5] : o, "number" != typeof e ? a : (this._orientation = [e, t, n, i, r, o], void 0 !== this.ctx.listener.forwardX ? (this.ctx.listener.forwardX.setTargetAtTime(e, Howler.ctx.currentTime, .1), this.ctx.listener.forwardY.setTargetAtTime(t, Howler.ctx.currentTime, .1), this.ctx.listener.forwardZ.setTargetAtTime(n, Howler.ctx.currentTime, .1), this.ctx.listener.upX.setTargetAtTime(i, Howler.ctx.currentTime, .1), this.ctx.listener.upY.setTargetAtTime(r, Howler.ctx.currentTime, .1), this.ctx.listener.upZ.setTargetAtTime(o, Howler.ctx.currentTime, .1)) : this.ctx.listener.setOrientation(e, t, n, i, r, o), this)
            }, Howl.prototype.init = (e = Howl.prototype.init, function(t) {
                return this._orientation = t.orientation || [1, 0, 0], this._stereo = t.stereo || null, this._pos = t.pos || null, this._pannerAttr = {
                    coneInnerAngle: void 0 !== t.coneInnerAngle ? t.coneInnerAngle : 360,
                    coneOuterAngle: void 0 !== t.coneOuterAngle ? t.coneOuterAngle : 360,
                    coneOuterGain: void 0 !== t.coneOuterGain ? t.coneOuterGain : 0,
                    distanceModel: void 0 !== t.distanceModel ? t.distanceModel : "inverse",
                    maxDistance: void 0 !== t.maxDistance ? t.maxDistance : 1e4,
                    panningModel: void 0 !== t.panningModel ? t.panningModel : "HRTF",
                    refDistance: void 0 !== t.refDistance ? t.refDistance : 1,
                    rolloffFactor: void 0 !== t.rolloffFactor ? t.rolloffFactor : 1
                }, this._onstereo = t.onstereo ? [{
                    fn: t.onstereo
                }] : [], this._onpos = t.onpos ? [{
                    fn: t.onpos
                }] : [], this._onorientation = t.onorientation ? [{
                    fn: t.onorientation
                }] : [], e.call(this, t)
            }), Howl.prototype.stereo = function(e, n) {
                var i = this;
                if (!i._webAudio) return i;
                if ("loaded" !== i._state) return i._queue.push({
                    event: "stereo",
                    action: function() {
                        i.stereo(e, n)
                    }
                }), i;
                var r = void 0 === Howler.ctx.createStereoPanner ? "spatial" : "stereo";
                if (void 0 === n) {
                    if ("number" != typeof e) return i._stereo;
                    i._stereo = e, i._pos = [e, 0, 0]
                }
                for (var o = i._getSoundIds(n), a = 0; a < o.length; a++) {
                    var s = i._soundById(o[a]);
                    if (s) {
                        if ("number" != typeof e) return s._stereo;
                        s._stereo = e, s._pos = [e, 0, 0], s._node && (s._pannerAttr.panningModel = "equalpower", s._panner && s._panner.pan || t(s, r), "spatial" === r ? void 0 !== s._panner.positionX ? (s._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime), s._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime), s._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime)) : s._panner.setPosition(e, 0, 0) : s._panner.pan.setValueAtTime(e, Howler.ctx.currentTime)), i._emit("stereo", s._id)
                    }
                }
                return i
            }, Howl.prototype.pos = function(e, n, i, r) {
                var o = this;
                if (!o._webAudio) return o;
                if ("loaded" !== o._state) return o._queue.push({
                    event: "pos",
                    action: function() {
                        o.pos(e, n, i, r)
                    }
                }), o;
                if (n = "number" != typeof n ? 0 : n, i = "number" != typeof i ? -.5 : i, void 0 === r) {
                    if ("number" != typeof e) return o._pos;
                    o._pos = [e, n, i]
                }
                for (var a = o._getSoundIds(r), s = 0; s < a.length; s++) {
                    var c = o._soundById(a[s]);
                    if (c) {
                        if ("number" != typeof e) return c._pos;
                        c._pos = [e, n, i], c._node && (c._panner && !c._panner.pan || t(c, "spatial"), void 0 !== c._panner.positionX ? (c._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime), c._panner.positionY.setValueAtTime(n, Howler.ctx.currentTime), c._panner.positionZ.setValueAtTime(i, Howler.ctx.currentTime)) : c._panner.setPosition(e, n, i)), o._emit("pos", c._id)
                    }
                }
                return o
            }, Howl.prototype.orientation = function(e, n, i, r) {
                var o = this;
                if (!o._webAudio) return o;
                if ("loaded" !== o._state) return o._queue.push({
                    event: "orientation",
                    action: function() {
                        o.orientation(e, n, i, r)
                    }
                }), o;
                if (n = "number" != typeof n ? o._orientation[1] : n, i = "number" != typeof i ? o._orientation[2] : i, void 0 === r) {
                    if ("number" != typeof e) return o._orientation;
                    o._orientation = [e, n, i]
                }
                for (var a = o._getSoundIds(r), s = 0; s < a.length; s++) {
                    var c = o._soundById(a[s]);
                    if (c) {
                        if ("number" != typeof e) return c._orientation;
                        c._orientation = [e, n, i], c._node && (c._panner || (c._pos || (c._pos = o._pos || [0, 0, -.5]), t(c, "spatial")), void 0 !== c._panner.orientationX ? (c._panner.orientationX.setValueAtTime(e, Howler.ctx.currentTime), c._panner.orientationY.setValueAtTime(n, Howler.ctx.currentTime), c._panner.orientationZ.setValueAtTime(i, Howler.ctx.currentTime)) : c._panner.setOrientation(e, n, i)), o._emit("orientation", c._id)
                    }
                }
                return o
            }, Howl.prototype.pannerAttr = function() {
                var e, n, i, r = this,
                    o = arguments;
                if (!r._webAudio) return r;
                if (0 === o.length) return r._pannerAttr;
                if (1 === o.length) {
                    if ("object" != typeof o[0]) return (i = r._soundById(parseInt(o[0], 10))) ? i._pannerAttr : r._pannerAttr;
                    e = o[0], void 0 === n && (e.pannerAttr || (e.pannerAttr = {
                        coneInnerAngle: e.coneInnerAngle,
                        coneOuterAngle: e.coneOuterAngle,
                        coneOuterGain: e.coneOuterGain,
                        distanceModel: e.distanceModel,
                        maxDistance: e.maxDistance,
                        refDistance: e.refDistance,
                        rolloffFactor: e.rolloffFactor,
                        panningModel: e.panningModel
                    }), r._pannerAttr = {
                        coneInnerAngle: void 0 !== e.pannerAttr.coneInnerAngle ? e.pannerAttr.coneInnerAngle : r._coneInnerAngle,
                        coneOuterAngle: void 0 !== e.pannerAttr.coneOuterAngle ? e.pannerAttr.coneOuterAngle : r._coneOuterAngle,
                        coneOuterGain: void 0 !== e.pannerAttr.coneOuterGain ? e.pannerAttr.coneOuterGain : r._coneOuterGain,
                        distanceModel: void 0 !== e.pannerAttr.distanceModel ? e.pannerAttr.distanceModel : r._distanceModel,
                        maxDistance: void 0 !== e.pannerAttr.maxDistance ? e.pannerAttr.maxDistance : r._maxDistance,
                        refDistance: void 0 !== e.pannerAttr.refDistance ? e.pannerAttr.refDistance : r._refDistance,
                        rolloffFactor: void 0 !== e.pannerAttr.rolloffFactor ? e.pannerAttr.rolloffFactor : r._rolloffFactor,
                        panningModel: void 0 !== e.pannerAttr.panningModel ? e.pannerAttr.panningModel : r._panningModel
                    })
                } else 2 === o.length && (e = o[0], n = parseInt(o[1], 10));
                for (var a = r._getSoundIds(n), s = 0; s < a.length; s++)
                    if (i = r._soundById(a[s])) {
                        var c = i._pannerAttr;
                        c = {
                            coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : c.coneInnerAngle,
                            coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : c.coneOuterAngle,
                            coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : c.coneOuterGain,
                            distanceModel: void 0 !== e.distanceModel ? e.distanceModel : c.distanceModel,
                            maxDistance: void 0 !== e.maxDistance ? e.maxDistance : c.maxDistance,
                            refDistance: void 0 !== e.refDistance ? e.refDistance : c.refDistance,
                            rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : c.rolloffFactor,
                            panningModel: void 0 !== e.panningModel ? e.panningModel : c.panningModel
                        };
                        var l = i._panner;
                        l ? (l.coneInnerAngle = c.coneInnerAngle, l.coneOuterAngle = c.coneOuterAngle, l.coneOuterGain = c.coneOuterGain, l.distanceModel = c.distanceModel, l.maxDistance = c.maxDistance, l.refDistance = c.refDistance, l.rolloffFactor = c.rolloffFactor, l.panningModel = c.panningModel) : (i._pos || (i._pos = r._pos || [0, 0, -.5]), t(i, "spatial"))
                    }
                return r
            }, Sound.prototype.init = function(e) {
                return function() {
                    var t = this._parent;
                    this._orientation = t._orientation, this._stereo = t._stereo, this._pos = t._pos, this._pannerAttr = t._pannerAttr, e.call(this), this._stereo ? t.stereo(this._stereo) : this._pos && t.pos(this._pos[0], this._pos[1], this._pos[2], this._id)
                }
            }(Sound.prototype.init), Sound.prototype.reset = function(e) {
                return function() {
                    var t = this._parent;
                    return this._orientation = t._orientation, this._stereo = t._stereo, this._pos = t._pos, this._pannerAttr = t._pannerAttr, this._stereo ? t.stereo(this._stereo) : this._pos ? t.pos(this._pos[0], this._pos[1], this._pos[2], this._id) : this._panner && (this._panner.disconnect(0), this._panner = void 0, t._refreshBuffer(this)), e.call(this)
                }
            }(Sound.prototype.reset);
            var t = function(e, t) {
                "spatial" === (t = t || "spatial") ? (e._panner = Howler.ctx.createPanner(), e._panner.coneInnerAngle = e._pannerAttr.coneInnerAngle, e._panner.coneOuterAngle = e._pannerAttr.coneOuterAngle, e._panner.coneOuterGain = e._pannerAttr.coneOuterGain, e._panner.distanceModel = e._pannerAttr.distanceModel, e._panner.maxDistance = e._pannerAttr.maxDistance, e._panner.refDistance = e._pannerAttr.refDistance, e._panner.rolloffFactor = e._pannerAttr.rolloffFactor, e._panner.panningModel = e._pannerAttr.panningModel, void 0 !== e._panner.positionX ? (e._panner.positionX.setValueAtTime(e._pos[0], Howler.ctx.currentTime), e._panner.positionY.setValueAtTime(e._pos[1], Howler.ctx.currentTime), e._panner.positionZ.setValueAtTime(e._pos[2], Howler.ctx.currentTime)) : e._panner.setPosition(e._pos[0], e._pos[1], e._pos[2]), void 0 !== e._panner.orientationX ? (e._panner.orientationX.setValueAtTime(e._orientation[0], Howler.ctx.currentTime), e._panner.orientationY.setValueAtTime(e._orientation[1], Howler.ctx.currentTime), e._panner.orientationZ.setValueAtTime(e._orientation[2], Howler.ctx.currentTime)) : e._panner.setOrientation(e._orientation[0], e._orientation[1], e._orientation[2])) : (e._panner = Howler.ctx.createStereoPanner(), e._panner.pan.setValueAtTime(e._stereo, Howler.ctx.currentTime)), e._panner.connect(e._node), e._paused || e._parent.pause(e._id, !0).play(e._id, !0)
            }
        }()
    }).call(this, n(31))
}, function(e, t, n) {
    var i = n(27);
    e.exports = function() {
        var e = new i.Template({
            code: function(e, t, n) {
                var i = this;
                return i.b(n = n || ""), i.b('<div class="listview" data-listview>'), i.b("\n" + n), i.b('  <div class="listview__head listview__head--project t-head-listview split-text" data-split-text>PROJECTS</div>'), i.b("\n" + n), i.b('  <ul class="listview__block">'), i.b("\n" + n), i.s(i.f("projects", e, t, 1), e, t, 0, 197, 657, "{{ }}") && (i.rs(e, t, (function(e, t, i) {
                    i.b('      <li class="listview__project" data-listview-item="project">'), i.b("\n" + n), i.b('        <h3 class="listview__project__title t-title-listview" data-listview-title="project">'), i.b(i.v(i.f("title", e, t, 0))), i.b("</h3>"), i.b("\n" + n), i.b('        <h4 class="listview__project__subtitle t-subtitle-listview">'), i.b(i.v(i.f("subtitle", e, t, 0))), i.b("</h4>"), i.b("\n" + n), i.b('        <p class="listview__project__awards t-award-listview">'), i.b("\n" + n), i.s(i.f("awards", e, t, 1), e, t, 0, 541, 616, "{{ }}") && (i.rs(e, t, (function(e, t, i) {
                        i.b('            <span class="listview__project__award">'), i.b(i.v(i.d(".", e, t, 0))), i.b("</span>"), i.b("\n" + n)
                    })), e.pop()), i.b("        </p>"), i.b("\n" + n), i.b("      </li>"), i.b("\n" + n)
                })), e.pop()), i.b("  </ul>"), i.b("\n" + n), i.b('  <div class="listview__head listview__head--lab t-head-listview split-text" data-split-text data-change-color="true">MILESTONES</div>'), i.b("\n" + n), i.b('  <ul class="listview__block">'), i.b("\n" + n), i.s(i.f("labs", e, t, 1), e, t, 0, 851, 1033, "{{ }}") && (i.rs(e, t, (function(e, t, i) {
                    i.b('      <li class="listview__project" data-listview-item="lab">'), i.b("\n" + n), i.b('        <h3 class="listview__project__title t-title-listview" data-listview-title="lab">'), i.b(i.v(i.f("title", e, t, 0))), i.b("</h3>"), i.b("\n" + n), i.b("      </li>"), i.b("\n" + n)
                })), e.pop()), i.b("  </ul>"), i.b("\n" + n), i.b("</div>"), i.b("\n"), i.fl()
            },
            partials: {},
            subs: {}
        }, '<div class="listview" data-listview>\n  <div class="listview__head listview__head--project t-head-listview split-text" data-split-text>PROJECTS</div>\n  <ul class="listview__block">\n    {{#projects}}\n      <li class="listview__project" data-listview-item="project">\n        <h3 class="listview__project__title t-title-listview" data-listview-title="project">{{title}}</h3>\n        <h4 class="listview__project__subtitle t-subtitle-listview">{{subtitle}}</h4>\n        <p class="listview__project__awards t-award-listview">\n          {{#awards}}\n            <span class="listview__project__award">{{.}}</span>\n          {{/awards}}\n        </p>\n      </li>\n    {{/projects}}\n  </ul>\n  <div class="listview__head listview__head--lab t-head-listview split-text" data-split-text data-change-color="true">LAB</div>\n  <ul class="listview__block">\n    {{#labs}}\n      <li class="listview__project" data-listview-item="lab">\n        <h3 class="listview__project__title t-title-listview" data-listview-title="lab">{{title}}</h3>\n      </li>\n    {{/labs}}\n  </ul>\n</div>\n', i);
        return e.render.apply(e, arguments)
    }
}, function(e, t, n) {
    var i = n(27);
    e.exports = function() {
        var e = new i.Template({
            code: function(e, t, n) {
                var i = this;
                return i.b(n = n || ""), i.b('<div class="menu" data-menu>'), i.b("\n" + n), i.b('  <div class="menu__icon t-title-sb" data-menu-icon>'), i.b("\n" + n), i.b("    <span>OVERVIEW</span>"), i.b("\n" + n), i.b("  </div>"), i.b("\n" + n), i.b('  <div class="sidebar" data-sidebar>'), i.b("\n" + n), i.b('    <div class="sidebar__title t-title-sb" data-sidebar-listview>LISTVIEW</div>'), i.b("\n" + n), i.b('    <div class="sidebar__title t-title-sb" data-sidebar-roadview>ROADVIEW</div>'), i.b("\n" + n), i.b('    <div class="sidebar__title t-title-sb" data-sidebar-about>ABOUT</div>'), i.b("\n" + n), i.b("  </div>"), i.b("\n" + n), i.b("</div>"), i.b("\n"), i.b("\n" + n), i.b('<div class="overview-projects" data-overview-projects>'), i.b("\n" + n), i.b('  <h3 class="overview-projects__title t-title-overview" data-overview-projects-title></h3>'), i.b("\n" + n), i.b('  <h4 class="overview-projects__subtitle t-subtitle-overview" data-overview-projects-subtitle></h4>'), i.b("\n" + n), i.b("</div>"), i.b("\n"), i.fl()
            },
            partials: {},
            subs: {}
        }, '<div class="menu" data-menu>\n  <div class="menu__icon t-title-sb" data-menu-icon>\n    <span>OVERVIEW</span>\n  </div>\n  <div class="sidebar" data-sidebar>\n    <div class="sidebar__title t-title-sb" data-sidebar-listview>LISTVIEW</div>\n    <div class="sidebar__title t-title-sb" data-sidebar-roadview>ROADVIEW</div>\n    <div class="sidebar__title t-title-sb" data-sidebar-about>ABOUT</div>\n  </div>\n</div>\n\n<div class="overview-projects" data-overview-projects>\n  <h3 class="overview-projects__title t-title-overview" data-overview-projects-title></h3>\n  <h4 class="overview-projects__subtitle t-subtitle-overview" data-overview-projects-subtitle></h4>\n</div>\n', i);
        return e.render.apply(e, arguments)
    }
}, function(e, t, n) {
    var i = n(27);
    e.exports = function() {
        var e = new i.Template({
            code: function(e, t, n) {
                var i = this;
                return i.b(n = n || ""), i.b('<div class="footer">'), i.b("\n" + n), i.b('  <div class="footer__left">'), i.b("\n" + n), i.b('    <div class="footer__indicators">'), i.b("\n" + n), i.b('      <svg class="footer__indicator footer__indicator--bkg" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"'), i.b("\n" + n), i.b('        viewBox="0 0 448 160" style="enable-background:new 0 0 448 160;" xml:space="preserve">'), i.b("\n" + n), i.b('      <path shape-rendering="optimizeQuality" class="st0" d="M440,80L440,80c0,39.8-32.2,72-72,72s-72-32.2-72-72'), i.b("\n" + n), i.b("        c-0.1-39.8-32.3-72-72-72s-72,32.2-72,72s-32.2,72-72,72c-39.7,0-72-32.2-72-72C8,40.2,40.2,8,80,8s72,32.2,72,72s32.2,72,72,72"), i.b("\n" + n), i.b('        s72-32.2,72-72s32.2-72,72-72S440,40.2,440,80z"/>'), i.b("\n" + n), i.b("      </svg>"), i.b("\n" + n), i.b('      <svg class="footer__indicator footer__indicator--progress" data-progress-indicator version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"'), i.b("\n" + n), i.b('        viewBox="0 0 448 160" style="enable-background:new 0 0 448 160;" xml:space="preserve">'), i.b("\n" + n), i.b('      <path shape-rendering="optimizeQuality" class="st0" d="M440,80L440,80c0,39.8-32.2,72-72,72s-72-32.2-72-72'), i.b("\n" + n), i.b("        c-0.1-39.8-32.3-72-72-72s-72,32.2-72,72s-32.2,72-72,72c-39.7,0-72-32.2-72-72C8,40.2,40.2,8,80,8s72,32.2,72,72s32.2,72,72,72"), i.b("\n" + n), i.b('        s72-32.2,72-72s32.2-72,72-72S440,40.2,440,80z"/>'), i.b("\n" + n), i.b("      </svg>"), i.b("\n" + n), i.b("    </div>"), i.b("\n" + n), i.b('    <svg class="equalizer" data-equalizer x="0px" y="0px"'), i.b("\n" + n), i.b('\t viewBox="0 0 99 62" style="enable-background:new 0 0 99 62;" xml:space="preserve">'), i.b("\n" + n), i.b('      <line stroke-width="2" x1="99" y1="0" x2="0" y2="0"/>'), i.b("\n" + n), i.b('      <line data-equalizer-line class="equalizer__line" stroke-width="12" x1="85.6" y1="60" x2="85.6" y2="0"/>'), i.b("\n" + n), i.b('      <line data-equalizer-line class="equalizer__line" stroke-width="12" x1="67.6" y1="60" x2="67.6" y2="0"/>'), i.b("\n" + n), i.b('      <line data-equalizer-line class="equalizer__line" stroke-width="12" x1="49.6" y1="60" x2="49.6" y2="0"/>'), i.b("\n" + n), i.b('      <line data-equalizer-line class="equalizer__line" stroke-width="12" x1="31.6" y1="60" x2="31.6" y2="0"/>'), i.b("\n" + n), i.b('      <line data-equalizer-line class="equalizer__line" stroke-width="12" x1="13.6" y1="60" x2="13.6" y2="0"/>'), i.b("\n" + n), i.b("    </svg>"), i.b("\n" + n), i.b("  </div>"), i.b("\n" + n), i.b('  <div class="footer__links">'), i.b("\n" + n), i.b('    <a href="'), i.b(i.v(i.d("socials.0.link", e, t, 0))), i.b('" target="_blank" rel="noopener" class="footer__link">'), i.b("\n" + n), i.b('      <svg class="footer__icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg>'), i.b("\n" + n), i.b("    </a>"), i.b("\n" + n), i.b('    <a href="'), i.b(i.v(i.d("socials.1.link", e, t, 0))), i.b('" target="_blank" rel="noopener" class="footer__link">'), i.b("\n" + n), i.b('      <svg class="footer__icon" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.58 31.77"><defs><style>.cls-1{fill:#191717;fill-rule:evenodd;}</style></defs><path class="cls-1" d="M16.29,0a16.29,16.29,0,0,0-5.15,31.75c.82.15,1.11-.36,1.11-.79s0-1.41,0-2.77C7.7,29.18,6.74,26,6.74,26a4.36,4.36,0,0,0-1.81-2.39c-1.47-1,.12-1,.12-1a3.43,3.43,0,0,1,2.49,1.68,3.48,3.48,0,0,0,4.74,1.36,3.46,3.46,0,0,1,1-2.18c-3.62-.41-7.42-1.81-7.42-8a6.3,6.3,0,0,1,1.67-4.37,5.94,5.94,0,0,1,.16-4.31s1.37-.44,4.48,1.67a15.41,15.41,0,0,1,8.16,0c3.11-2.11,4.47-1.67,4.47-1.67A5.91,5.91,0,0,1,25,11.07a6.3,6.3,0,0,1,1.67,4.37c0,6.26-3.81,7.63-7.44,8a3.85,3.85,0,0,1,1.11,3c0,2.18,0,3.94,0,4.47s.29.94,1.12.78A16.29,16.29,0,0,0,16.29,0Z"/></svg>'), i.b("\n" + n), i.b("    </a>"), i.b("\n" + n), i.b('    <a href="'), i.b(i.v(i.d("socials.2.link", e, t, 0))), i.b('" target="_blank" rel="noopener" class="footer__link">'), i.b("\n" + n), i.b('      <svg class="footer__icon" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 492 318.2"><path d="M143.6,83.9q51.3,33.15,102.5,66.2a21.41,21.41,0,0,0,1.9-1.3q67-43.35,134-86.6L477.1.7a19,19,0,0,0-5.4-.7H20.4A23.47,23.47,0,0,0,15,.7Q79.35,42.4,143.6,83.9Z"/><path d="M389.6,203.9q51.15,48.15,102.3,96.2a17.7,17.7,0,0,0,.1-2.3V20.4a20.1,20.1,0,0,0-2.5-9.8Q422.75,53.65,356.1,96.8c-15.9,10.3-31.7,20.5-47.6,30.8Z"/><path d="M348.6,191.3q-28.2-26.55-56.4-53l-42.3,27.3a7.4,7.4,0,0,1-7.6,0c-1.9-1.2-3.8-2.5-5.7-3.7q-18.3-11.85-36.6-23.6l-89.9,84.5Q60.6,269.3,11,315.9a21,21,0,0,0,9.3,2.3H471.6a19.41,19.41,0,0,0,9.3-2.3Q414.9,253.5,348.6,191.3Z"/><path d="M2,298.4q67.05-63,134-126c15.9-14.9,31.7-29.8,47.6-44.8q-40.5-26.25-81.1-52.4Q52.55,43,2.5,10.6A20.1,20.1,0,0,0,0,20.4V297.7c0,.8.1,1.6.1,2.3A14.62,14.62,0,0,0,2,298.4Z"/></svg>'), i.b("\n" + n), i.b("    </a>"), i.b("\n" + n), i.b("  </div>"), i.b("\n" + n), i.b("</div>"), i.b("\n"), i.fl()
            },
            partials: {},
            subs: {}
        }, '<div class="footer">\n  <div class="footer__left">\n    <div class="footer__indicators">\n      <svg class="footer__indicator footer__indicator--bkg" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n        viewBox="0 0 448 160" style="enable-background:new 0 0 448 160;" xml:space="preserve">\n      <path shape-rendering="optimizeQuality" class="st0" d="M440,80L440,80c0,39.8-32.2,72-72,72s-72-32.2-72-72\n        c-0.1-39.8-32.3-72-72-72s-72,32.2-72,72s-32.2,72-72,72c-39.7,0-72-32.2-72-72C8,40.2,40.2,8,80,8s72,32.2,72,72s32.2,72,72,72\n        s72-32.2,72-72s32.2-72,72-72S440,40.2,440,80z"/>\n      </svg>\n      <svg class="footer__indicator footer__indicator--progress" data-progress-indicator version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n        viewBox="0 0 448 160" style="enable-background:new 0 0 448 160;" xml:space="preserve">\n      <path shape-rendering="optimizeQuality" class="st0" d="M440,80L440,80c0,39.8-32.2,72-72,72s-72-32.2-72-72\n        c-0.1-39.8-32.3-72-72-72s-72,32.2-72,72s-32.2,72-72,72c-39.7,0-72-32.2-72-72C8,40.2,40.2,8,80,8s72,32.2,72,72s32.2,72,72,72\n        s72-32.2,72-72s32.2-72,72-72S440,40.2,440,80z"/>\n      </svg>\n    </div>\n    <svg class="equalizer" data-equalizer x="0px" y="0px"\n\t viewBox="0 0 99 62" style="enable-background:new 0 0 99 62;" xml:space="preserve">\n      <line stroke-width="2" x1="99" y1="0" x2="0" y2="0"/>\n      <line data-equalizer-line class="equalizer__line" stroke-width="12" x1="85.6" y1="60" x2="85.6" y2="0"/>\n      <line data-equalizer-line class="equalizer__line" stroke-width="12" x1="67.6" y1="60" x2="67.6" y2="0"/>\n      <line data-equalizer-line class="equalizer__line" stroke-width="12" x1="49.6" y1="60" x2="49.6" y2="0"/>\n      <line data-equalizer-line class="equalizer__line" stroke-width="12" x1="31.6" y1="60" x2="31.6" y2="0"/>\n      <line data-equalizer-line class="equalizer__line" stroke-width="12" x1="13.6" y1="60" x2="13.6" y2="0"/>\n    </svg>\n  </div>\n  <div class="footer__links">\n    <a href="{{socials.0.link}}" target="_blank" rel="noopener" class="footer__link">\n      <svg class="footer__icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg>\n    </a>\n    <a href="{{socials.1.link}}" target="_blank" rel="noopener" class="footer__link">\n      <svg class="footer__icon" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.58 31.77"><defs><style>.cls-1{fill:#191717;fill-rule:evenodd;}</style></defs><path class="cls-1" d="M16.29,0a16.29,16.29,0,0,0-5.15,31.75c.82.15,1.11-.36,1.11-.79s0-1.41,0-2.77C7.7,29.18,6.74,26,6.74,26a4.36,4.36,0,0,0-1.81-2.39c-1.47-1,.12-1,.12-1a3.43,3.43,0,0,1,2.49,1.68,3.48,3.48,0,0,0,4.74,1.36,3.46,3.46,0,0,1,1-2.18c-3.62-.41-7.42-1.81-7.42-8a6.3,6.3,0,0,1,1.67-4.37,5.94,5.94,0,0,1,.16-4.31s1.37-.44,4.48,1.67a15.41,15.41,0,0,1,8.16,0c3.11-2.11,4.47-1.67,4.47-1.67A5.91,5.91,0,0,1,25,11.07a6.3,6.3,0,0,1,1.67,4.37c0,6.26-3.81,7.63-7.44,8a3.85,3.85,0,0,1,1.11,3c0,2.18,0,3.94,0,4.47s.29.94,1.12.78A16.29,16.29,0,0,0,16.29,0Z"/></svg>\n    </a>\n    <a href="{{socials.2.link}}" target="_blank" rel="noopener" class="footer__link">\n      <svg class="footer__icon" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 492 318.2"><path d="M143.6,83.9q51.3,33.15,102.5,66.2a21.41,21.41,0,0,0,1.9-1.3q67-43.35,134-86.6L477.1.7a19,19,0,0,0-5.4-.7H20.4A23.47,23.47,0,0,0,15,.7Q79.35,42.4,143.6,83.9Z"/><path d="M389.6,203.9q51.15,48.15,102.3,96.2a17.7,17.7,0,0,0,.1-2.3V20.4a20.1,20.1,0,0,0-2.5-9.8Q422.75,53.65,356.1,96.8c-15.9,10.3-31.7,20.5-47.6,30.8Z"/><path d="M348.6,191.3q-28.2-26.55-56.4-53l-42.3,27.3a7.4,7.4,0,0,1-7.6,0c-1.9-1.2-3.8-2.5-5.7-3.7q-18.3-11.85-36.6-23.6l-89.9,84.5Q60.6,269.3,11,315.9a21,21,0,0,0,9.3,2.3H471.6a19.41,19.41,0,0,0,9.3-2.3Q414.9,253.5,348.6,191.3Z"/><path d="M2,298.4q67.05-63,134-126c15.9-14.9,31.7-29.8,47.6-44.8q-40.5-26.25-81.1-52.4Q52.55,43,2.5,10.6A20.1,20.1,0,0,0,0,20.4V297.7c0,.8.1,1.6.1,2.3A14.62,14.62,0,0,0,2,298.4Z"/></svg>\n    </a>\n  </div>\n</div>\n', i);
        return e.render.apply(e, arguments)
    }
}, function(e, t, n) {
    e.exports = function() {
        "use strict";
        var e = function() {
            var t = 0,
                n = document.createElement("div");

            function i(e) {
                return n.appendChild(e.dom), e
            }

            function r(e) {
                for (var i = 0; i < n.children.length; i++) n.children[i].style.display = i === e ? "block" : "none";
                t = e
            }
            n.style.cssText = "position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000", n.addEventListener("click", (function(e) {
                e.preventDefault(), r(++t % n.children.length)
            }), !1);
            var o = (performance || Date).now(),
                a = o,
                s = 0,
                c = i(new e.Panel("FPS", "#0ff", "#002")),
                l = i(new e.Panel("MS", "#0f0", "#020"));
            if (self.performance && self.performance.memory) var u = i(new e.Panel("MB", "#f08", "#201"));
            return r(0), {
                REVISION: 16,
                dom: n,
                addPanel: i,
                showPanel: r,
                begin: function() {
                    o = (performance || Date).now()
                },
                end: function() {
                    s++;
                    var e = (performance || Date).now();
                    if (l.update(e - o, 200), a + 1e3 <= e && (c.update(1e3 * s / (e - a), 100), a = e, s = 0, u)) {
                        var t = performance.memory;
                        u.update(t.usedJSHeapSize / 1048576, t.jsHeapSizeLimit / 1048576)
                    }
                    return e
                },
                update: function() {
                    o = this.end()
                },
                domElement: n,
                setMode: r
            }
        };
        return e.Panel = function(e, t, n) {
            var i = 1 / 0,
                r = 0,
                o = Math.round,
                a = o(window.devicePixelRatio || 1),
                s = 80 * a,
                c = 48 * a,
                l = 3 * a,
                u = 2 * a,
                h = 3 * a,
                d = 15 * a,
                p = 74 * a,
                f = 30 * a,
                m = document.createElement("canvas");
            m.width = s, m.height = c, m.style.cssText = "width:80px;height:48px";
            var v = m.getContext("2d");
            return v.font = "bold " + 9 * a + "px Helvetica,Arial,sans-serif", v.textBaseline = "top", v.fillStyle = n, v.fillRect(0, 0, s, c), v.fillStyle = t, v.fillText(e, l, u), v.fillRect(h, d, p, f), v.fillStyle = n, v.globalAlpha = .9, v.fillRect(h, d, p, f), {
                dom: m,
                update: function(c, g) {
                    i = Math.min(i, c), r = Math.max(r, c), v.fillStyle = n, v.globalAlpha = 1, v.fillRect(0, 0, s, d), v.fillStyle = t, v.fillText(o(c) + " " + e + " (" + o(i) + "-" + o(r) + ")", l, u), v.drawImage(m, h + a, d, p - a, f, h, d, p - a, f), v.fillRect(h + p - a, d, a, f), v.fillStyle = n, v.globalAlpha = .9, v.fillRect(h + p - a, d, a, o((1 - c / g) * f))
                }
            }
        }, e
    }()
}, function(e, t, n) {
    (function(t) {
        var i = n(101),
            r = function() {},
            o = n(105),
            a = n(106),
            s = n(109),
            c = n(110),
            l = n(37),
            u = self.XMLHttpRequest && "withCredentials" in new XMLHttpRequest;
        e.exports = function(e, n) {
            n = "function" == typeof n ? n : r, "string" == typeof e ? e = {
                uri: e
            } : e || (e = {}), e.binary && (e = function(e) {
                if (u) return l(e, {
                    responseType: "arraybuffer"
                });
                if (void 0 === self.XMLHttpRequest) throw new Error("your browser does not support XHR loading");
                var t = new self.XMLHttpRequest;
                return t.overrideMimeType("text/plain; charset=x-user-defined"), l({
                    xhr: t
                }, e)
            }(e)), i(e, (function(i, l, u) {
                if (i) return n(i);
                if (!/^2/.test(l.statusCode)) return n(new Error("http status code: " + l.statusCode));
                if (!u) return n(new Error("no body result"));
                var h, d, p = !1;
                if (h = u, "[object ArrayBuffer]" === Object.prototype.toString.call(h)) {
                    var f = new Uint8Array(u);
                    u = t.from(f, "binary")
                }
                c(u) && (p = !0, "string" == typeof u && (u = t.from(u, "binary"))), p || (t.isBuffer(u) && (u = u.toString(e.encoding)), u = u.trim());
                try {
                    var m = l.headers["content-type"];
                    d = p ? s(u) : /json/.test(m) || "{" === u.charAt(0) ? JSON.parse(u) : /xml/.test(m) || "<" === u.charAt(0) ? a(u) : o(u)
                } catch (e) {
                    n(new Error("error parsing font " + e.message)), n = r
                }
                n(null, d)
            }))
        }
    }).call(this, n(36).Buffer)
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return w
        }));
        var i = n(33),
            r = n(14),
            o = n(16),
            a = n(4),
            s = n(1),
            c = n(13),
            l = n(2),
            u = n(0);

        function h(e) {
            return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function d(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var i = Object.getOwnPropertySymbols(e);
                t && (i = i.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }))), n.push.apply(n, i)
            }
            return n
        }

        function p(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? d(Object(n), !0).forEach((function(t) {
                    f(e, t, n[t])
                })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : d(Object(n)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                }))
            }
            return e
        }

        function f(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function m(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function v(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function g(e, t) {
            return (g = Object.setPrototypeOf || function(e, t) {
                return e.__proto__ = t, e
            })(e, t)
        }

        function y(e) {
            var t = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}))), !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var n, i = x(e);
                if (t) {
                    var r = x(this).constructor;
                    n = Reflect.construct(i, arguments, r)
                } else n = i.apply(this, arguments);
                return b(this, n)
            }
        }

        function b(e, t) {
            return !t || "object" !== h(t) && "function" != typeof t ? function(e) {
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(e) : t
        }

        function x(e) {
            return (x = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            })(e)
        }
        var w = function(t) {
            ! function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        writable: !0,
                        configurable: !0
                    }
                }), t && g(e, t)
            }(f, t);
            var n, i, h, d = y(f);

            function f(e) {
                var t, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                    i = arguments.length > 2 ? arguments[2] : void 0,
                    r = arguments.length > 3 ? arguments[3] : void 0,
                    o = arguments.length > 4 ? arguments[4] : void 0;
                return m(this, f), t = d.call(this, e, n, i, r, o), window.addEventListener(s.N, (function(e) {
                    var n = e.detail.type;
                    n === s.x || n === s.I ? t.hide() : n === s.q && t.show()
                })), t.hide(), t.setUniforms(), t
            }
            return n = f, (i = [{
                key: "hide",
                value: function() {
                    this.object3d.visible = !1
                }
            }, {
                key: "show",
                value: function() {
                    this.setTextures(), this.object3d.visible = !0
                }
            }, {
                key: "setTextures",
                value: function() {
                    var e = this;
                    if (!this.textureSet) {
                        this.textureSet = !0, this.index = 0, this.textures = [];
                        var t = a.b.breakpoint === s.r ? "mobile" : "images",
                            n = a.b.breakpoint === s.r ? "mobile/" : "";
                        this.currentColor = s.g[0], r.forEach((function(i, o) {
                            var a = i[t][0],
                                s = {
                                    source: null,
                                    video: null
                                };
                            /mp4?$/.test(a) ? s = e.createVideoTexture(a) : c.a.loadTexture("assets-scene/projects/".concat(n).concat(a), "".concat(r[o].id, "_0"), !0).then((function(e) {
                                s.source = e, s.source.minFilter = u.LinearFilter, s.source.needsUpdate = !1
                            })), e.textures.push(s)
                        })), o.forEach((function(i, r) {
                            var a = i[t][0],
                                s = {
                                    source: null,
                                    video: null
                                };
                            /mp4?$/.test(a) ? s = e.createVideoTexture(a) : c.a.loadTexture("assets-scene/projects/".concat(n).concat(a), "".concat(o[r].id, "_0"), !0).then((function(e) {
                                s.source = e, s.source.minFilter = u.LinearFilter, s.source.needsUpdate = !1
                            })), e.textures.push(s)
                        })), this.texture = this.textures[0].source
                    }
                }
            }, {
                key: "setUniforms",
                value: function() {
                    this.material.uniforms.uMenuViewProgress.value = 1, this.material.uniforms.uBend.value = .18, this.material.uniforms.uPointSize.value = 4.33, this.material.uniforms.uAmplitude.value = 1.6, this.material.uniforms.uColor.value = new e.Color(this.currentColor.r / 255, this.currentColor.g / 255, this.currentColor.b / 255)
                }
            }, {
                key: "updateTextures",
                value: function(t) {
                    t > r.length - 1 ? this.currentColor = s.f[0] : this.currentColor = s.g[0], this.sliderIndex = t, this.material.uniforms.uTexture.value = this.textures[t].source, this.material.uniforms.uTextureNext.value = this.textures[t].source, this.material.uniforms.uColor.value = new e.Color(this.currentColor.r / 255, this.currentColor.g / 255, this.currentColor.b / 255), this.material.needsUpdate = !0
                }
            }, {
                key: "updateColors",
                value: function(t) {
                    var n, i, o = this,
                        a = p({}, this.currentColor);
                    i = t > r.length - 1 ? p({}, s.f[0]) : p({}, s.g[0]), null === (n = this.tlColor) || void 0 === n || n.kill(), this.tlColor = new l.c, this.tlColor.to(a, {
                        r: i.r,
                        g: i.g,
                        b: i.b,
                        ease: "expo.out",
                        duration: 2,
                        onUpdate: function() {
                            var t = new e.Color(a.r / 255, a.g / 255, a.b / 255);
                            o.material.uniforms.uColor.value = t, o.material.needsUpdate = !0
                        },
                        onComplete: function() {
                            o.currentColor = i
                        }
                    })
                }
            }]) && v(n.prototype, i), h && v(n, h), f
        }(i.a)
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return d
        }));
        var i = n(12),
            r = n(1),
            o = n(18),
            a = n(2);

        function s(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var i = Object.getOwnPropertySymbols(e);
                t && (i = i.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }))), n.push.apply(n, i)
            }
            return n
        }

        function c(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? s(Object(n), !0).forEach((function(t) {
                    u(e, t, n[t])
                })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : s(Object(n)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                }))
            }
            return e
        }

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function u(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var h = new e.SphereGeometry(5, 32, 32),
            d = function() {
                function t(e) {
                    var n = this;
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), u(this, "particlesLines", []), u(this, "lines", []), u(this, "guiController", {
                        spaceBetweenLines: 10,
                        nbLines: 2
                    }), u(this, "canRender", !0), this.scene = e, this.createParticleLines(), window.addEventListener(r.n, (function() {
                        return n.canRender = !1
                    })), window.addEventListener(r.a, (function() {
                        return n.canRender = !0
                    })), window.addEventListener(r.m, (function() {
                        return n.canRender = !0
                    }))
                }
                var n, s, d;
                return n = t, (s = [{
                    key: "createParticleLines",
                    value: function() {
                        var t = this,
                            n = 0,
                            r = i.a.createLine({
                                particle: !0,
                                name: "road"
                            }),
                            o = i.a.createLine({
                                line: !0,
                                name: "road-line",
                                globalIndex: 0
                            });
                        o.points.forEach((function(t) {
                            var n = new e.MeshBasicMaterial({
                                color: t.color
                            });
                            new e.Mesh(h, n).position.copy(t.position)
                        })), this.particlesLines.push(r), this.lines.push(o);
                        for (var a = this.guiController.spaceBetweenLines, s = 0; s < this.guiController.nbLines; s++) {
                            var c = i.a.createLine({
                                    particle: !0,
                                    offsetRadius: -a,
                                    name: "road"
                                }),
                                l = i.a.createLine({
                                    particle: !0,
                                    offsetRadius: a,
                                    name: "road"
                                }),
                                u = i.a.createLine({
                                    line: !0,
                                    offsetRadius: -a,
                                    name: "road-line",
                                    globalIndex: n + 1
                                }),
                                d = i.a.createLine({
                                    line: !0,
                                    offsetRadius: a,
                                    name: "road-line",
                                    globalIndex: n + 2
                                });
                            this.particlesLines.push(c), this.particlesLines.push(l), this.lines.push(u), this.lines.push(d), a += this.guiController.spaceBetweenLines, n += 2
                        }
                        for (var p = 0; p < this.particlesLines.length; p++) {
                            var f = this.particlesLines[p].particles;
                            f.mesh.name = "road", this.scene.add(f.mesh)
                        }
                        for (var m = 0; m < this.lines.length; m++) this.lines[m].lines.forEach((function(e) {
                            e.mesh.name = "road-line", t.scene.add(e.mesh)
                        }))
                    }
                }, {
                    key: "introToDefaultView",
                    value: function() {
                        for (var e = 0; e < this.particlesLines.length; e++) this.particlesLines[e].particles.switchView({
                            detail: {
                                type: "intro"
                            }
                        });
                        for (var t = 0; t < this.lines.length; t++) this.lines[t].lines.forEach((function(e) {
                            e.switchView({
                                detail: {
                                    type: "intro"
                                }
                            })
                        }))
                    }
                }, {
                    key: "render",
                    value: function(e) {
                        if (this.canRender) {
                            for (var t = 0; t < this.particlesLines.length; t++) this.particlesLines[t].particles.render(e);
                            for (var n = 0; n < this.lines.length; n++) this.lines[n].lines.forEach((function(t) {
                                t.render(e)
                            }))
                        }
                    }
                }, {
                    key: "transitionToColor",
                    value: function(t, n) {
                        var i = c({}, o.a[t]),
                            r = c({}, o.a[n]);
                        a.d.to(i, {
                            r: r.r,
                            g: r.g,
                            b: r.b,
                            ease: "expo.out",
                            duration: 2,
                            onUpdate: function() {
                                var t = new e.Color(i.r / 255, i.g / 255, i.b / 255);
                                o.b.color = t
                            }
                        })
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        for (var e = this.scene.children.length - 1; e >= 0; e--) {
                            var t = this.scene.children[e];
                            "road" === t.name && this.scene.remove(t)
                        }
                    }
                }]) && l(n.prototype, s), d && l(n, d), t
            }()
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return m
        }));
        var i = n(59),
            r = n(60),
            o = n(15),
            a = n.n(o),
            s = n(2),
            c = n(1),
            l = n(3);

        function u(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var i = Object.getOwnPropertySymbols(e);
                t && (i = i.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }))), n.push.apply(n, i)
            }
            return n
        }

        function h(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? u(Object(n), !0).forEach((function(t) {
                    p(e, t, n[t])
                })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : u(Object(n)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                }))
            }
            return e
        }

        function d(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function p(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var f = [
                [{
                    r: 116,
                    g: 156,
                    b: 255
                }, {
                    r: 120,
                    g: 173,
                    b: 255
                }], c.f, c.e
            ],
            m = function() {
                function t() {
                    var n = this;
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), p(this, "guiController", {
                        uP1x: .7,
                        uP1y: .32,
                        uColorP0: f[0][0],
                        uColorP1: f[0][1],
                        uNoise: .87,
                        uMaxColor: .75,
                        uMinColor: .5
                    }), p(this, "mouseX", .5), p(this, "mouseXTarget", .5), p(this, "mouseY", .5), p(this, "mouseYTarget", .5), p(this, "handleMouseMove", (function(e) {
                        var t = e.detail,
                            i = t.x,
                            r = t.y;
                        n.mouseXTarget = i / 2 + 1, n.mouseYTarget = -r / 2 + .5
                    })), this.width = 1024, this.height = 1024, this.rTarget = new e.WebGLRenderTarget(this.width, this.height, {
                        minFilter: e.LinearFilter,
                        magFilter: e.NearestFilter,
                        format: e.RGBFormat,
                        depthBuffer: !1,
                        stencilBuffer: !1
                    }), this.initPlane(), window.addEventListener(c.u, this.handleMouseMove)
                }
                var n, o, u;
                return n = t, (o = [{
                    key: "initPlane",
                    value: function() {
                        var t = new e.PlaneGeometry(this.width, this.height);
                        this.uniforms = {
                            uResolution: {
                                value: new e.Vector2(this.width, this.height)
                            },
                            uP1: {
                                value: new e.Vector2(this.guiController.uP1x, this.guiController.uP1y)
                            },
                            uColorP0: {
                                value: new e.Color(this.guiController.uColorP0.r / 255, this.guiController.uColorP0.g / 255, this.guiController.uColorP0.b / 255)
                            },
                            uColorP1: {
                                value: new e.Color(this.guiController.uColorP1.r / 255, this.guiController.uColorP1.g / 255, this.guiController.uColorP1.b / 255)
                            },
                            uTime: {
                                value: 0
                            },
                            uMouseX: {
                                value: 0
                            },
                            uMouseY: {
                                value: 0
                            },
                            uNoise: {
                                value: this.guiController.uNoise
                            },
                            uMaxColor: {
                                value: this.guiController.uMaxColor
                            },
                            uMinColor: {
                                value: this.guiController.uMinColor
                            }
                        }, this.material = new e.RawShaderMaterial({
                            vertexShader: a()(i.a),
                            fragmentShader: a()(r.a),
                            uniforms: this.uniforms
                        });
                        var n = new e.Mesh(t, this.material);
                        n.position.z = -100, this.camera = new e.OrthographicCamera(this.width / -2, this.width / 2, this.height / 2, this.height / -2, -1e4, 1e4), this.camera.position.z = 100, this.scene = new e.Scene, this.scene.add(n)
                    }
                }, {
                    key: "render",
                    value: function(e) {
                        this.material.uniforms.uTime.value += e / 4e3, this.mouseX = Object(l.b)(this.mouseX, this.mouseXTarget, .08), this.uniforms.uMouseX.value = this.mouseX, this.mouseY = Object(l.b)(this.mouseY, this.mouseYTarget, .08), this.uniforms.uMouseY.value = this.mouseY
                    }
                }, {
                    key: "transitionToColor",
                    value: function(t, n) {
                        var i = this,
                            r = h({}, f[t][0]),
                            o = h({}, f[n][0]);
                        s.d.to(r, {
                            r: o.r,
                            g: o.g,
                            b: o.b,
                            ease: "expo.out",
                            duration: 2,
                            onUpdate: function() {
                                i.material.uniforms.uColorP0.value = new e.Color(r.r / 255, r.g / 255, r.b / 255)
                            }
                        });
                        var a = h({}, f[t][1]),
                            c = h({}, f[n][1]);
                        s.d.to(a, {
                            r: c.r,
                            g: c.g,
                            b: c.b,
                            ease: "expo.out",
                            duration: 2,
                            onUpdate: function() {
                                i.material.uniforms.uColorP1.value = new e.Color(a.r / 255, a.g / 255, a.b / 255)
                            }
                        })
                    }
                }]) && d(n.prototype, o), u && d(n, u), t
            }()
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    t.a = "precision highp float;\n#define GLSLIFY 1\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform vec2 uP1;\nuniform float uTime;\nuniform vec3 uColorP0;\nuniform vec3 uColorP1;\nuniform float uMouseX;\nuniform float uMouseY;\n\nvarying vec2 vP0;\nvarying vec2 vP1;\nvarying vec4 vColorA;\nvarying vec4 vColorB;\nvarying vec4 vColorC;\nvarying vec4 vColorD;\n\nattribute vec3 position;\n\nvoid main() {\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\n  float x = sin( uTime * 2.0 ) + 0.5;\n  x = min(x, 0.15);\n  x += uMouseX / 8.;\n  float y = cos( uTime * 2.0 ) + 0.5;\n  y += uMouseY / 4.;\n\n  vP0 = vec2(x, y);\n  vP1 = vec2(uP1.x, 0.3 + sin( uTime * 2.0 ) / 3.0);\n  vP1.x += uMouseX / 4.;\n\n  // manual\n  vColorA = vec4(uColorP0, 1.0);\n  vColorB = vec4(1.0, 1.0, 1.0, 1.0);\n  vColorC = vec4(uColorP1, 1.0);\n  vColorD = vec4(1.0, 1.0, 1.0, 1.0);\n\n  gl_Position = vec4(projectionMatrix * mvPosition);\n}\n\n  // uv *= 4.91 * 100.;\n  // uv += uTime * uNoise;\n\n  // vec3 textureNoise = vec3(snoise2(uv) * .5 + uNoise);\n  // float maxColor = uMaxColor;\n  // textureNoise.r = clamp(textureNoise.r, 0.0, maxColor);\n  // textureNoise.g = clamp(textureNoise.g, 0.0, maxColor);\n  // textureNoise.b = clamp(textureNoise.b, 0.0, maxColor);\n\n  // gl_FragColor = vec4(textureNoise, 1.);\n\n  // gl_FragColor.r = clamp(gl_FragColor.r, color.r, 1.0);\n  // gl_FragColor.g = clamp(gl_FragColor.g, color.g, 1.0);\n  // gl_FragColor.b = clamp(gl_FragColor.b, color.b, 1.0);\n"
}, function(e, t, n) {
    "use strict";
    t.a = "\nprecision highp float;\n#define GLSLIFY 1\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nuniform vec2 uResolution;\nuniform float uNoise;\nuniform float uMaxColor;\nuniform float uMinColor;\nuniform float uTime;\n\nvarying vec2 vP0;\nvarying vec2 vP1;\nvarying vec4 vColorA;\nvarying vec4 vColorB;\nvarying vec4 vColorC;\nvarying vec4 vColorD;\n\nvoid main() {\n  vec2 uv = gl_FragCoord.xy / uResolution.xy;\n\n  float mixValue0 = distance(uv, vP0);\n  float mixValue1 = distance(uv, vP1);\n\n  mixValue0 = clamp(mixValue0, 0.0, 1.0);\n  mixValue1 = clamp(mixValue1, 0.0, 1.0);\n\n  mixValue0 = smoothstep(0.0, 1.0, mixValue0);\n  mixValue1 = smoothstep(0.0, 1.0, mixValue1);\n\n  vec4 radialA = mix(vColorA, vColorB, mixValue0);\n  vec4 radialB = mix(vColorC, vColorD, mixValue1);\n\n  vec4 color = mix(radialA, radialB, uv.x);\n\n  // Add noise\n  uv *= 4.91 * 100.;\n  // uv += uTime * 1.3;\n\n  vec3 textureNoise = vec3(snoise(uv)) * 1.35;\n  float maxColor = uMaxColor;\n  float minColor = uMinColor;\n\n  textureNoise.r = clamp(textureNoise.r, minColor, maxColor);\n  textureNoise.g = clamp(textureNoise.g, minColor, maxColor);\n  textureNoise.b = clamp(textureNoise.b, minColor, maxColor);\n\n  gl_FragColor = vec4(mix(textureNoise, color.rgb, 0.87), 1.);\n}\n"
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return b
        }));
        var i = n(13),
            r = n(62),
            o = n(63),
            a = n(15),
            s = n.n(a),
            c = n(2),
            l = n(1),
            u = n(24),
            h = n.n(u),
            d = n(21),
            p = n.n(d);

        function f(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function m(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function v(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var g = ["PROJECTS", "MILESTONES", "ABOUT"],
            y = [l.g, l.f, l.e],
            b = function() {
                function t() {
                    var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    f(this, t), v(this, "guiController", {
                        uProgress: 0,
                        uProgressY: 0,
                        uZoom: .28
                    }), v(this, "index", 0), this.index = n;
                    for (var r = i.a.subjects.ibmplexsans.bmfont, o = h()({
                            font: r,
                            text: g[n],
                            width: 1e5,
                            lineHeight: 1,
                            letterSpacing: 5
                        }), a = [], s = o.attributes.position.count, c = 0; c < s; c++) a.push(1 + Math.floor(c / 4));
                    o.setAttribute("indexChar", new e.Float32BufferAttribute(a, 1)), o.computeBoundingBox();
                    var l = this.initMaterial(o);
                    this.mesh = new e.Mesh(o, l), this.mesh.scale.set(1, -1, 1)
                }
                var n, a, l;
                return n = t, (a = [{
                    key: "initMaterial",
                    value: function(t) {
                        return this.uniforms = {
                            map: {
                                value: i.a.subjects.ibmplexsans_glyph.texture
                            },
                            opacity: {
                                value: 1
                            },
                            uNbChars: {
                                value: t.layout.glyphs.length
                            },
                            uHeight: {
                                value: t.layout.height
                            },
                            uReverse: {
                                value: !1
                            },
                            uProgress: {
                                value: this.guiController.uProgress
                            },
                            uProgressY: {
                                value: this.guiController.uProgressY
                            },
                            uSize: {
                                value: new e.Vector2(t.boundingBox.max.x, t.boundingBox.max.y)
                            },
                            uColor: {
                                value: new e.Color("rgb(".concat(y[this.index][0].r, ", ").concat(y[this.index][0].g, ", ").concat(y[this.index][0].b, ")"))
                            },
                            uZoom: {
                                value: this.guiController.uZoom
                            }
                        }, new e.RawShaderMaterial(p()({
                            vertexShader: s()(r.a),
                            fragmentShader: s()(o.a),
                            side: e.DoubleSide,
                            transparent: !0,
                            negate: !1,
                            uniforms: this.uniforms
                        }))
                    }
                }, {
                    key: "animate",
                    value: function() {
                        var e, t = this;
                        null === (e = this.tl) || void 0 === e || e.kill(), this.tl = new c.c({
                            repeat: 0
                        }), this.uniforms.uReverse.value = !1, this.uniforms.uProgress.value = 0, this.uniforms.uProgressY.value = 0, this.tl.add((function() {
                            t.uniforms.uReverse.value = !1
                        })), this.tl.fromTo(this.uniforms.uProgressY, {
                            value: 0
                        }, {
                            duration: 1.2,
                            ease: "quart.out",
                            value: 1
                        }, "animIn"), this.tl.fromTo(this.uniforms.uProgress, {
                            value: 0
                        }, {
                            duration: 2.3,
                            ease: "quart.out",
                            value: 1
                        }, "animIn"), this.tl.add((function() {
                            t.uniforms.uReverse.value = !0, t.uniforms.uProgress.value = 0, t.uniforms.uProgressY.value = 0
                        }), "animIn+=".concat(1.5)), this.tl.fromTo(this.uniforms.uProgress, {
                            value: 0
                        }, {
                            duration: 2.3,
                            ease: "quart.out",
                            value: 1
                        }, "animIn+=".concat(1.5)), this.tl.fromTo(this.uniforms.uProgressY, {
                            value: 0
                        }, {
                            duration: 1.2,
                            ease: "quart.out",
                            value: 1
                        }, "animIn+=".concat(1.5))
                    }
                }, {
                    key: "kill",
                    value: function() {
                        var e;
                        null === (e = this.tl) || void 0 === e || e.kill(), this.uniforms.uReverse.value = !1, this.uniforms.uProgress.value = 0, this.uniforms.uProgressY.value = 0
                    }
                }]) && m(n.prototype, a), l && m(n, l), t
            }()
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    t.a = "#define GLSLIFY 1\nattribute vec2 uv;\nattribute vec4 position;\nattribute float indexChar;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec2 uSize;\nuniform float uProgressY;\nuniform float uProgress;\nuniform bool uReverse;\nuniform float uZoom;\nuniform float uHeight;\nuniform float uNbChars;\n\nvarying vec2 vUv;\nvarying vec2 vUvLine;\nvarying float vUvLineHeight;\n\nconst float SCALE = 2. * 2.;\nconst float INIT_Y = 18.; // Note that Y is reversed with scale.set(1, -1, 1)\n\n#define PI 3.14159265358979323846\n\nvec2 angleToVec2(float angleInDegrees) {\n  float angleInRadians = angleInDegrees * PI / 180.;\n  float x = sin(angleInRadians);\n  float y = cos(angleInRadians);\n  return vec2(x, y);\n}\n\nvoid main(void) {\n  // UVs for creating a grid on based on the size of the word\n  vUvLine = vec2(position.x / uSize.x, position.y / uSize.y );\n  // values in Y here goes to 0 to negative max Height\n  vUvLineHeight = -position.y / uHeight;\n  // UVs for MSDF shader\n  vUv = uv;\n\n  vec3 mPosition = vec3(position.x, position.y, position.z);\n\n  // Y letter stagger progress\n  // Letter percent\n  float segment = 1. / uNbChars;\n  float letter = indexChar * segment;\n\n  if (!uReverse) {\n    float offsetYProgress = max(INIT_Y * (1. - uProgressY / letter), 0.);\n    mPosition.y += (offsetYProgress);\n    // rotation\n    vec2 angleVec = angleToVec2(-7.5 * (1. - uProgressY));\n    vec2 rotatedPosition = vec2(\n      mPosition.x * angleVec.y + mPosition.y * angleVec.x,\n      mPosition.y * angleVec.y - mPosition.x * angleVec.x);\n\n    mPosition.x = rotatedPosition.x;\n    mPosition.y = rotatedPosition.y;\n  }\n\n  // center geometry\n  mPosition.y += uHeight / 2. - uSize.y;\n  mPosition.x -= uSize.x / 2.;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(mPosition / SCALE, 1.0);\n}\n"
}, function(e, t, n) {
    "use strict";
    t.a = "#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform vec3 uColor;\nuniform float uProgress;\nuniform vec2 uSize;\nuniform float uZoom;\nuniform bool uReverse;\n// MSDF\nuniform sampler2D map;\nuniform float opacity;\n\nvarying vec2 vUv;\nvarying vec2 vUvLine;\nvarying float vUvLineHeight;\n\n#define PI 3.14159265358979323846\n\nfloat circle(vec2 uv, float radius) {\n\tfloat border = 0.01;\n\tfloat dist = radius - distance(uv, vec2(0.5));\n  // top right corner\n  float distTR = radius - distance(uv - vec2(1.0 / 3.0, 1.0), vec2(0.5));\n  float tr = smoothstep(0.0, border, distTR);\n\n  // top left corner\n  float distTL = radius - distance(uv - vec2(-2.0 / 3.0, 1.0), vec2(0.5));\n  float tl = smoothstep(0.0, border, distTL);\n\n  // bottom right corner\n  float distBR = radius - distance(uv - vec2(2.0 / 3.0, -1.0), vec2(0.5));\n  float br = smoothstep(0.0, border, distBR);\n\n  // bottom left corner\n  float distBL = radius - distance(uv - vec2(-1.0 / 3.0, -1.0), vec2(0.5));\n  float bl = smoothstep(0.0, border, distBL);\n\n  float center = smoothstep(0.0, border, dist);\n\n  return center + tr + tl + br + bl;\n}\n\nfloat median(float r, float g, float b) {\n  return max(min(r, g), min(max(r, g), b));\n}\n\nvoid main(void) {\n  // Circles fill animation\n\n  // Set up grid\n  vec2 grid = vec2(vUvLine.x * uSize.x * uZoom, vUvLine.y * uSize.y * uZoom);\n  // offset on 3 parts\n  grid.x += step(1.0, mod(grid.y, 3.0)) * 2.0 / 3.0;\n  grid.x += step(1.0, mod(grid.y + 1.0, 3.0)) * 1.0 / 3.0;\n  // grid.x += step(1.0, mod(grid.y, 2.0)) * 0.5;\n\n  grid = fract(grid); // Wrap around 1.0\n\n  // progress\n  float uvXY = (vUvLine.x + vUvLineHeight) / 2.0;\n  float progress;\n\n  if (uReverse) {\n    progress = 1.0 + uvXY - (uProgress * 2.0);\n  } else {\n    progress = (1.0 - uvXY) - (1.0 - uProgress * 2.0);\n  }\n\n  float alpha = circle(grid, progress);\n\n  // MSDF code\n  vec3 sample = texture2D(map, vUv).rgb;\n  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;\n  alpha *= clamp(sigDist/fwidth(sigDist) + 0.5, 0.0, 1.0);\n\n  gl_FragColor = vec4(uColor, alpha * opacity);\n  if (gl_FragColor.a < 0.0001) discard;\n\n}\n"
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return y
        }));
        var i = n(43),
            r = n(29),
            o = n(30),
            a = n(5),
            s = n(1),
            c = n(8),
            l = n(2),
            u = n(44);

        function h(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var i = Object.getOwnPropertySymbols(e);
                t && (i = i.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }))), n.push.apply(n, i)
            }
            return n
        }

        function d(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? h(Object(n), !0).forEach((function(t) {
                    f(e, t, n[t])
                })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : h(Object(n)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                }))
            }
            return e
        }

        function p(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function f(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        for (var m = [s.g[0], s.f[0], s.e[0]], v = [], g = 0; g < 6; g++) v.push(.17 + .13 * g);
        var y = function() {
            function t(e) {
                var n = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), f(this, "items", []), f(this, "canRender", !0), f(this, "nbOverableItems", 0), f(this, "disable", (function() {
                    n.items.forEach((function(e) {
                        e.object3D.visible = !1
                    })), n.canRender = !1
                })), f(this, "enable", (function() {
                    n.items.forEach((function(e) {
                        (e.isFadedIn || e.isTriggered) && (e.object3D.visible = !0)
                    })), n.canRender = !0
                })), f(this, "handleRAF", (function(e) {
                    if (n.canRender) {
                        for (var t = 0; t < n.items.length; t++) {
                            var i = n.items[t];
                            "function" == typeof i.render && i.render(e.detail.now)
                        }
                        n.nbOverableItems > 0 && n.hoverObjects()
                    }
                })), f(this, "handleScroll", (function() {
                    for (var e = 0; e < n.items.length; e++) {
                        var t = n.items[e],
                            i = t.columns ? .03 : 0,
                            r = t.columns ? .03 : 0;
                        a.a.progress + .09 < t.scrollValue || a.a.progress - t.scrollValue > .02 + r ? t.isReset || (t.reset(), 0 !== e && 1 !== e && 2 !== e && 3 !== e && 4 !== e && 5 !== e || (c.a.updateObserver({}), n.nbOverableItems -= 1)) : a.a.progress + .09 > t.scrollValue && a.a.progress + .035 < t.scrollValue && t.isReset ? t.isFadedIn || (t.fadeIn(), 0 !== e && 1 !== e && 2 !== e && 3 !== e && 4 !== e && 5 !== e || (c.a.updateObserver({}), n.nbOverableItems += 1)) : a.a.progress + .035 > t.scrollValue && a.a.progress - t.scrollValue < .03 + i && t.isFadedIn && t.triggered()
                    }
                })), f(this, "handleClick", (function() {
                    n.obstacleHovered && n.obstacleHovered.click(n.meshHovered)
                })), this.initMaterials();
                var o = new r.b([this.materialElectronGrain.material, this.materialElectronPattern.material, this.materialElectronPlain.material], v[0], 0);
                e.add(o.object3D);
                var l = new u.a(this.materialElectronGrain.material, v[1], 0);
                e.add(l.object3D);
                var h = new i.a(this.materialBox.material, v[2], 0);
                e.add(h.object3D);
                var d = new r.b([this.materialElectronGrain.material, this.materialElectronPattern.material, this.materialElectronPlain.material], v[3], 1);
                e.add(d.object3D);
                var p = new u.a(this.materialElectronGrain.material, v[4], 1);
                e.add(p.object3D);
                var m = new i.a(this.materialBox.material, v[5], 1);
                e.add(m.object3D), this.items.push(o), this.items.push(d), this.items.push(h), this.items.push(m), this.items.push(l), this.items.push(p), c.a.addObstacles([o, d], [h, m], [l, p]), window.addEventListener(s.F, this.handleRAF), window.addEventListener(s.J, this.handleScroll), window.addEventListener(s.n, this.disable), window.addEventListener(s.a, this.enable), document.body.addEventListener("click", this.handleClick)
            }
            var n, h, g;
            return n = t, (h = [{
                key: "initMaterials",
                value: function() {
                    this.materialBox = new o.a({
                        uLightIntensity: 1.2,
                        uNoiseCoef: 2.6,
                        uNoiseMin: .76,
                        uNoiseMax: 22.09,
                        uAlpha: !1,
                        uFract: 2,
                        index: 1
                    }), this.materialElectronGrain = new o.a({
                        uLightIntensity: 1.6,
                        uNoiseCoef: 1.4,
                        uNoiseMin: .76,
                        uNoiseMax: 22.09,
                        uAlpha: !1,
                        uFract: 2,
                        index: 0
                    }), this.materialElectronPattern = new o.a({
                        uLightIntensity: 2,
                        uNoiseCoef: 1.4,
                        uNoiseMin: .76,
                        uNoiseMax: 22.09,
                        uAlpha: !1,
                        uFract: .23,
                        uPattern: !0,
                        index: 4
                    }), this.materialElectronPlain = new o.a({
                        uLightIntensity: 1.2,
                        uNoiseCoef: 1.4,
                        uNoiseMin: .76,
                        uNoiseMax: 22.09,
                        uAlpha: !1,
                        uFract: 2,
                        uPlain: !0,
                        index: 3
                    })
                }
            }, {
                key: "showAll",
                value: function() {
                    this.nbOverableItems = 0, this.canRender = !0;
                    for (var e = 0; e < this.items.length; e++) this.items[e].fadeIn();
                    c.a.updateObserver({})
                }
            }, {
                key: "hideAll",
                value: function() {
                    for (var e = 0; e < this.items.length; e++) this.items[e].reset();
                    c.a.updateObserver({}), this.nbOverableItems = 0
                }
            }, {
                key: "hoverObjects",
                value: function() {
                    if (c.a.isReady) {
                        var e = c.a.intersects;
                        if (e.length)
                            for (var t = 0; t < e.length; t++) {
                                var n = e[t];
                                "electronCenter_0" === n.object.name ? (this.obstacleHovered = this.items[0], this.items[0].expand()) : "electronCenter_1" === n.object.name ? (this.obstacleHovered = this.items[1], this.items[1].expand()) : "obstacle_box_0" === n.object.name ? this.obstacleHovered = this.items[2] : "obstacle_box_1" === n.object.name ? this.obstacleHovered = this.items[3] : n.object.name.includes("obstacle_column_0") ? this.obstacleHovered = this.items[4] : n.object.name.includes("obstacle_column_1") && (this.obstacleHovered = this.items[5]), this.meshHovered = n.object
                            } else this.obstacleHovered = null, this.meshHovered = null, this.items[0].shrink(), this.items[1].shrink()
                    }
                }
            }, {
                key: "transitionToColor",
                value: function(t, n) {
                    var i = this,
                        r = d({}, m[t]),
                        o = d({}, m[n]);
                    l.d.to(r, {
                        r: o.r,
                        g: o.g,
                        b: o.b,
                        ease: "expo.out",
                        duration: 2,
                        onUpdate: function() {
                            var t = new e.Color(r.r / 255, r.g / 255, r.b / 255);
                            i.materialBox.material.uniforms.uBgColor.value = t, i.materialElectronGrain.material.uniforms.uBgColor.value = t, i.materialElectronPattern.material.uniforms.uBgColor.value = t, i.materialElectronPlain.material.uniforms.uBgColor.value = t
                        }
                    })
                }
            }]) && p(n.prototype, h), g && p(n, g), t
        }()
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return i
        }));
        var i = function t(n) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t);
            var i = new e.Mesh(new e.SphereBufferGeometry(10, 32, 32), new e.MeshBasicMaterial({
                    color: 16711680
                })),
                r = new e.Vector3(n.x, n.y, n.z);
            return i.position.copy(r), i
        }
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return d
        }));
        var i = n(12),
            r = n(5),
            o = n(1),
            a = n(67),
            s = n(7),
            c = n(32),
            l = n(71);

        function u(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function h(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var d = function() {
            function t(n) {
                var a = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), h(this, "object3D", new e.Object3D), h(this, "isVisible", !1), h(this, "scrollValue", o.A - .115), h(this, "handleScroll", (function() {
                    r.a.progress + .11 > a.scrollValue && r.a.progress - a.scrollValue < -.007 ? a.isVisible || a.fadeIn() : a.isVisible && a.fadeOut()
                })), h(this, "handleRAF", (function(e) {
                    var t = e.detail.deltaTime;
                    a.stick.render(t)
                })), this.scene = n;
                var c = i.a.mainRoad.points,
                    l = c[Math.round(c.length * this.scrollValue)],
                    u = l.angle,
                    d = l.position,
                    p = l.center,
                    f = 100 * Math.cos(Object(s.a)(u)) + p.x,
                    m = 100 * Math.sin(Object(s.a)(u));
                this.position = new e.Vector3(f, d.y, m), this.lookAt = i.a.mainTrail.getPoint(Math.max(0, this.scrollValue - .02)), this.init(), window.addEventListener(o.J, this.handleScroll), window.addEventListener(o.F, this.handleRAF)
            }
            var n, d, p;
            return n = t, (d = [{
                key: "init",
                value: function() {
                    this.stick = new c.a(this.position, this.lookAt, "about"), this.texts = new a.a(this.position, this.lookAt), this.socials = new l.a(this.object3D, this.position, this.lookAt), this.object3D.add(this.stick.object3d), this.object3D.add(this.texts.object3d), this.scene.add(this.object3D)
                }
            }, {
                key: "fadeIn",
                value: function() {
                    this.isVisible = !0, this.texts.fadeIn(), this.stick.fadeIn(), this.socials.fadeIn()
                }
            }, {
                key: "fadeOut",
                value: function() {
                    this.isVisible = !1, this.texts.fadeOut(), this.stick.fadeOut(), this.socials.fadeOut()
                }
            }]) && u(n.prototype, d), p && u(n, p), t
        }()
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return f
        }));
        var i = n(13),
            r = n(2),
            o = n(68),
            a = n(1),
            s = n(24),
            c = n.n(s),
            l = n(21),
            u = n.n(l),
            h = n(69),
            d = n(70);

        function p(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }
        var f = function() {
            function t(n, r) {
                var s = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t, n) {
                    t in e ? Object.defineProperty(e, t, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : e[t] = n
                }(this, "object3d", new e.Object3D), this.position = n, this.position.y += a.E + 4, this.lookAt = r, this.lookAt.y += a.E + 4, this.font = i.a.subjects.lato.bmfont, this.size = .035, this.paragraphs = [], o.descriptions.forEach((function(e, t) {
                    var n = "left";
                    1 === t && (n = "center");
                    var i = s.createParagraph(e, n);
                    s.paragraphs.push(i), s.object3d.add(i)
                })), this.object3d.position.copy(this.position), this.object3d.lookAt(this.lookAt);
                for (var c = 3, l = this.paragraphs.length - 1; l >= 0; l--) {
                    var u = this.paragraphs[l],
                        h = this.paragraphs[l + 1];
                    h && (c += h.geometry.layout.height * this.size, c += 1.7), u.translateY(c), u.initY = u.position.y
                }
            }
            var n, s, l;
            return n = t, (s = [{
                key: "createParagraph",
                value: function(t, n) {
                    var r = c()({
                        font: this.font,
                        text: t,
                        width: 1400,
                        align: n,
                        lineHeight: 52
                    });
                    r.computeBoundingBox(), this.uniforms = {
                        map: {
                            value: i.a.subjects.lato_glyph.texture
                        },
                        opacity: {
                            value: 0
                        },
                        uNbChars: {
                            value: r.layout.glyphs.length
                        },
                        uHeight: {
                            value: r.layout.height
                        },
                        uProgress: {
                            value: 0
                        },
                        uSize: {
                            value: new e.Vector2(r.boundingBox.max.x, r.boundingBox.max.y)
                        },
                        color: {
                            value: new e.Color(a.h)
                        }
                    };
                    var o = new e.RawShaderMaterial(u()({
                            vertexShader: h.a,
                            fragmentShader: d.a,
                            side: e.DoubleSide,
                            transparent: !0,
                            negate: !1,
                            uniforms: this.uniforms
                        })),
                        s = new e.Mesh(r, o);
                    return this.geometry = r, s.scale.set(this.size, -this.size, this.size), s
                }
            }, {
                key: "fadeIn",
                value: function() {
                    var e;
                    null === (e = this.tlFadeOut) || void 0 === e || e.kill();
                    var t = new r.c;
                    this.paragraphs.forEach((function(e, n) {
                        var i = e.initY;
                        t.fromTo(e.position, {
                            y: i - 2.5
                        }, {
                            y: i,
                            ease: "quart.out",
                            duration: 1.2
                        }, .5 + .1 * n), t.fromTo(e.material.uniforms.opacity, {
                            value: 0
                        }, {
                            value: 1,
                            ease: "linear",
                            duration: 1
                        }, .5 + .1 * n)
                    })), this.tlFadeIn = t
                }
            }, {
                key: "fadeOut",
                value: function() {
                    var e;
                    null === (e = this.tlFadeIn) || void 0 === e || e.kill();
                    var t = new r.c;
                    this.paragraphs.forEach((function(e, n) {
                        t.to(e.material.uniforms.opacity, {
                            value: 0,
                            ease: "linear",
                            duration: .5
                        }, 0)
                    })), this.tlFadeOut = t
                }
            }]) && p(n.prototype, s), l && p(n, l), t
        }()
    }).call(this, n(0))
}, function(e) {
    e.exports = JSON.parse('{"descriptions":["We, are Prantae, Design : Device : Detection","How welcoming would it be if we could know well ahead that something is at the brink of tripping in our seemingly healthy lives leading us to illness or simply reduce our optimum performance. Is it not late enough if we rely on present day diagnostics that only confirms that there is something wrong with us.Or celebrate the power of modern tools of genomics that only tell us that we have a pre-disposition of having a life threatening disease, but provide no clue of when? Imagine, How many lives could be saved if we just knew that our health is on the verge of tipping to the dark side.","Feel free to contact us, let\'s create together."],"links":[{"link":"#","text":"email"},{"link":"#","text":"Twitter"},{"link":"#","text":"Github"}]}')
}, function(e, t, n) {
    "use strict";
    t.a = "#define GLSLIFY 1\n// Variable qualifiers that come with the msdf shader\nattribute vec2 uv;\nattribute vec4 position;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\n// We passed this one\nuniform float time;\nuniform vec2 uSize;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n\n  vec3 p = vec3(position.x, position.y, position.z);\n\n  // center horizontally geometry\n  p.x -= uSize.x / 2.;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(p, 1.0);\n}\n"
}, function(e, t, n) {
    "use strict";
    t.a = "#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n// Variable qualifiers that come with the shader\nprecision highp float;\n#define GLSLIFY 1\nuniform float opacity;\nuniform vec3 color;\nuniform sampler2D map;\nvarying vec2 vUv;\n// We passed this one\nuniform float time;\n\nfloat median(float r, float g, float b) {\n  return max(min(r, g), min(max(r, g), b));\n}\n\nvoid main() {\n  // This is the code that comes to produce msdf\n  vec3 sample = texture2D(map, vUv).rgb;\n  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;\n  float alpha = clamp(sigDist/fwidth(sigDist) + 0.5, 0.0, 1.0);\n\n  gl_FragColor = vec4(color, alpha * opacity);\n  if (gl_FragColor.a < 0.0001) discard;\n}\n"
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return c
        }));
        var i = n(8),
            r = n(72),
            o = n(28);

        function a(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function s(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var c = function() {
            function t(n, a, c) {
                var l = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), s(this, "object3D", new e.Object3D), s(this, "items", []), s(this, "handleClick", (function(e) {
                    var t = e.clientX / window.innerWidth * 2 - 1,
                        n = -e.clientY / window.innerHeight * 2 + 1;
                    if (i.a.mouse.x = t, i.a.mouse.y = n, i.a.updateCurrentIntersect({
                            x: t,
                            y: n
                        }), i.a.currentIntersect) {
                        var r = i.a.currentIntersect.object.name;
                        l.items.forEach((function(e, t) {
                            r === "social-".concat(o.socials[t].name) && e.onClick()
                        }))
                    }
                }));
                var u = -3;
                o.socials.forEach((function(e) {
                    var t = new r.a(e.name, e.link);
                    t.object3D.position.x += u, u += 3, l.object3D.add(t.object3D), l.items.push(t)
                })), this.object3D.position.copy(a), this.object3D.lookAt(c), n.add(this.object3D), document.body.addEventListener("click", this.handleClick)
            }
            var n, c, l;
            return n = t, (c = [{
                key: "fadeIn",
                value: function() {
                    for (var e = [], t = 0; t < this.items.length; t++) {
                        var n = this.items[t];
                        n.fadeIn(.1 * t), e.push(n.faceMesh)
                    }
                    i.a.updateObserver({
                        socials: e
                    })
                }
            }, {
                key: "fadeOut",
                value: function() {
                    for (var e = 0; e < this.items.length; e++) this.items[e].fadeOut();
                    i.a.updateObserver({
                        socials: []
                    })
                }
            }]) && a(n.prototype, c), l && a(n, l), t
        }()
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return u
        }));
        var i = n(13),
            r = n(1),
            o = n(7),
            a = n(2);

        function s(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function c(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var l = new e.CylinderGeometry(1, 1, .6, 32),
            u = function() {
                function t(n, s) {
                    var u = this;
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), c(this, "object3D", new e.Object3D), c(this, "onClick", (function() {
                        var e;
                        null === (e = u.tlClick) || void 0 === e || e.kill();
                        var t = {
                            value: 1
                        };
                        u.tlClick = new a.c, u.tlClick.to(t, {
                            value: .1,
                            duration: .3,
                            onUpdate: function() {
                                u.object3D.scale.set(1, 1, t.value)
                            }
                        }), u.tlClick.to(t, {
                            value: 1,
                            duration: .3,
                            onUpdate: function() {
                                u.object3D.scale.set(1, 1, t.value)
                            }
                        }), u.tlClick.add((function() {
                            window.open(u.link, "_blank").focus()
                        }), .3)
                    }));
                    var h = i.a.subjects[n].texture,
                        d = new e.MeshBasicMaterial({
                            transparent: !0,
                            opacity: 0,
                            map: h
                        });
                    this.faceMesh = new e.Mesh(r.b, d), this.faceMesh.name = "social-".concat(n), this.link = s, this.faceMesh.position.z = .3 + .04;
                    var p = r.e[0],
                        f = new e.MeshBasicMaterial({
                            color: new e.Color("rgb(".concat(p.r, ", ").concat(p.g, ", ").concat(p.b, ")")),
                            transparent: !0,
                            opacity: 0
                        });
                    this.cylinderMesh = new e.Mesh(l, f), this.cylinderMesh.rotation.x += Object(o.a)(-90), this.object3D.add(this.cylinderMesh), this.object3D.add(this.faceMesh);
                    this.object3D.scale.set(1, 1, 1)
                }
                var n, u, h;
                return n = t, (u = [{
                    key: "fadeOut",
                    value: function() {
                        var e;
                        null === (e = this.tlFadeIn) || void 0 === e || e.kill(), this.tlFadeOut = new a.c, this.tlFadeOut.to(this.cylinderMesh.material, {
                            opacity: 0,
                            duration: 1
                        }, 0), this.tlFadeOut.to(this.faceMesh.material, {
                            opacity: 0,
                            duration: 1
                        }, 0)
                    }
                }, {
                    key: "fadeIn",
                    value: function(e) {
                        var t, n = 1.1 + e;
                        null === (t = this.tlFadeOut) || void 0 === t || t.kill(), this.tlFadeIn = new a.c, this.tlFadeIn.to(this.cylinderMesh.material, {
                            opacity: 1,
                            duration: .8
                        }, n), this.tlFadeIn.to(this.faceMesh.material, {
                            opacity: 1,
                            duration: .8
                        }, n)
                    }
                }]) && s(n.prototype, u), h && s(n, h), t
            }()
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return h
        }));
        var i = n(1),
            r = n(4),
            o = n(11),
            a = n(74),
            s = n(75),
            c = n(2),
            l = n(10);

        function u(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var h = function t() {
            var n = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), u(this, "progress", {
                value: 0
            }), u(this, "duration", 2.2), u(this, "durationPause", 1), u(this, "distance", 10), u(this, "guiController", {
                uProgress: 1,
                uZoom: .03
            }), u(this, "transitionInOut", (function() {
                var e;
                null === (e = n.tl) || void 0 === e || e.kill(), n.tl = new c.c, n.mesh.visible = !0, n.uniforms.uReverse.value = !1;
                n.tl.add((function() {
                    n.uniforms.uReverse.value = !1, n.uniforms.uProgress.value = 0
                })), c.d.to([l.a.targetProject], {
                    duration: .2,
                    opacity: 0
                }), l.a.menu.hide(), l.a.hideFooter(), n.tl.fromTo(n.uniforms.uProgress, {
                    value: 0
                }, {
                    duration: n.duration,
                    ease: "quad.out",
                    value: 1
                }, "animIn"), n.tl.add((function() {
                    n.uniforms.uReverse.value = !0, n.uniforms.uProgress.value = 0
                }), "animIn+=".concat(n.durationPause)), n.tl.fromTo(n.uniforms.uProgress, {
                    value: 0
                }, {
                    duration: n.duration,
                    ease: "quad.out",
                    value: 1
                }, "animIn+=".concat(n.durationPause)), n.tl.add((function() {
                    n.mesh.visible = !1
                })), n.tl.to([l.a.targetProject], {
                    duration: .2,
                    opacity: 1
                }, "animIn+=".concat(n.durationPause + .5))
            })), u(this, "introOut", (function() {
                n.tl = new c.c, n.tl.add((function() {
                    n.uniforms.uProgress.value = 0
                })), n.tl.fromTo(n.uniforms.uProgress, {
                    value: 0
                }, {
                    duration: n.duration,
                    ease: "quad.out",
                    value: 1
                }, .5), n.tl.add((function() {
                    n.mesh.visible = !1
                }))
            })), u(this, "handleResize", (function() {
                n.uniforms.uSize.value = new e.Vector2(r.b.width, r.b.height)
            }));
            var h = new e.PlaneGeometry(1, 1);
            this.uniforms = {
                distance: {
                    value: this.distance
                },
                fov: {
                    value: .5 * e.Math.degToRad(o.a.camera.fov)
                },
                uColor: {
                    value: new e.Color(16777215)
                },
                uSize: {
                    value: new e.Vector2(r.b.width, r.b.height)
                },
                uReverse: {
                    value: !0
                },
                uZoom: {
                    value: r.b.breakpoint === i.r ? .04 : this.guiController.uZoom
                },
                uProgress: {
                    value: this.guiController.uProgress
                }
            };
            var d = new e.ShaderMaterial({
                uniforms: this.uniforms,
                vertexShader: a.a,
                fragmentShader: s.a,
                transparent: !0
            });
            this.mesh = new e.Mesh(h, d), window.addEventListener(i.Q, this.handleResize, !1), window.addEventListener(i.v, this.introOut), window.addEventListener(i.w, this.transitionInOut)
        }
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    t.a = "#define GLSLIFY 1\nuniform float distance;\nuniform float fov;\nuniform vec2 uSize;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n\n  // make plane fullscreen size\n  vec3 pSign = sign(position);\n  float h = distance * tan(fov);\n  vec3 p = vec3(h, h, position.z) * pSign;\n\n  p.x = h * (uSize.x / uSize.y) * pSign.x;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( p, 1.0 );\n}\n"
}, function(e, t, n) {
    "use strict";
    t.a = "precision highp float;\n#define GLSLIFY 1\n\nuniform float uProgress;\nuniform vec2 uSize;\nuniform float uZoom;\nuniform bool uReverse;\nuniform vec3 uColor;\n\nvarying vec2 vUv;\n\nfloat circle(vec2 uv, float radius) {\n\tfloat border = 0.02;\n\tfloat dist = radius - distance(uv, vec2(0.5));\n  // top right corner\n  float distTR = radius - distance(uv - vec2(1.0 / 3.0, 1.0), vec2(0.5));\n  float tr = smoothstep(0.0, border, distTR);\n\n  // top left corner\n  float distTL = radius - distance(uv - vec2(-2.0 / 3.0, 1.0), vec2(0.5));\n  float tl = smoothstep(0.0, border, distTL);\n\n  // bottom right corner\n  float distBR = radius - distance(uv - vec2(2.0 / 3.0, -1.0), vec2(0.5));\n  float br = smoothstep(0.0, border, distBR);\n\n  // bottom left corner\n  float distBL = radius - distance(uv - vec2(-1.0 / 3.0, -1.0), vec2(0.5));\n  float bl = smoothstep(0.0, border, distBL);\n\n  float center = smoothstep(0.0, border, dist);\n\n  return center + tr + tl + br + bl;\n}\n\nvoid main() {\n  // Circles fill animation\n\n  // Set up grid\n  vec2 grid = vec2(vUv.x * uSize.x, vUv.y * uSize.y) * uZoom;\n  // offset on 3 parts\n  grid.x += step(1.0, mod(grid.y, 3.0)) * 2.0 / 3.0;\n  grid.x += step(1.0, mod(grid.y + 1.0, 3.0)) * 1.0 / 3.0;\n  // grid.x += step(1.0, mod(grid.y, 2.0)) * 0.5;\n\n  grid = fract(grid); // Wrap around 1.0\n\n  // progress\n  float uvXY = (vUv.x + vUv.y) / 2.0;\n  float progress;\n\n  if (uReverse) {\n    progress = 1.0 + uvXY - (uProgress * 2.0);\n  } else {\n    progress = (1.0 - uvXY) - (1.0 - uProgress * 2.0);\n  }\n\n  float alpha = circle(grid, progress);\n\n  gl_FragColor = vec4(uColor, alpha);\n}\n"
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return c
        }));
        var i = n(12),
            r = n(77),
            o = n(7);

        function a(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function s(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var c = function() {
            function t(n, a) {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), s(this, "object3D", new e.Object3D), s(this, "items", []);
                var c = a.materialElectronGrain,
                    l = a.materialElectronPattern,
                    u = a.materialElectronPlain;
                this.materialPattern = l;
                for (var h = 0, d = i.a.mainRoad.points, p = 0; p < 22; p++) {
                    var f = d[Math.round(d.length * h)],
                        m = f.angle,
                        v = f.position,
                        g = f.center;
                    h += 1 / 22;
                    var y = 1;
                    2 !== p && 5 !== p || (y = -1);
                    var b = Math.cos(Object(o.a)(m)) * (100 + 85 * y) + g.x,
                        x = Math.sin(Object(o.a)(m)) * (100 + 85 * y),
                        w = new e.Vector3(b, v.y, x),
                        _ = new r.a([c.material, l.material, u.material], h, w, p);
                    this.object3D.add(_.object3D), this.items.push(_)
                }
                n.add(this.object3D)
            }
            var n, c, l;
            return n = t, (c = [{
                key: "render",
                value: function(e) {
                    for (var t = 0; t < this.items.length; t++) this.items[t].render(e);
                    this.materialPattern.material.uniforms.uFract.value = (Math.sin(e) + 1) / 2 * .7 + .15
                }
            }, {
                key: "hideAll",
                value: function() {
                    clearTimeout(this.timeoutShowAll);
                    for (var e = 0; e < this.items.length; e++) this.items[e].fadeOut(!0)
                }
            }, {
                key: "showAll",
                value: function() {
                    var e = this;
                    this.timeoutShowAll = setTimeout((function() {
                        for (var t = 0; t < e.items.length; t++) e.items[t].scrollDetect = !0
                    }), 3e3)
                }
            }]) && a(n.prototype, c), l && a(n, l), t
        }()
    }).call(this, n(0))
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return u
        }));
        var i = n(2),
            r = n(12),
            o = n(5),
            a = n(3),
            s = n(29);

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        function l(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        var u = function() {
            function t(n, i, o, c) {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), l(this, "progress", 0), l(this, "object3D", new e.Object3D), l(this, "objScales", []), l(this, "canRender", !1), l(this, "scrollDetect", !0), this.materials = n, this.progress = i, this.index = c, this.mainPoints = r.a.mainRoad.points;
                var u = Object(a.d)(2, 4);
                0 !== c && 1 !== c || (u = 4);
                for (var h = 0; h < u; h++) {
                    var d = new e.Mesh(s.a, this.materials[h % 3]),
                        p = Object(a.c)(1, 2.5);
                    d.position.x = 1 === c ? Object(a.c)(-14, 0) : Object(a.c)(-14, 14), d.position.y = Object(a.c)(-19, 9), d.position.z = 1 === c ? Object(a.c)(-14, 0) : Object(a.c)(-14, 14), d.initScale = p, d.scale.set(p, p, p), d.speed = Object(a.c)(.4, .8), d.rangeY = Object(a.c)(3, 6), d.offset = Object(a.c)(1, 100), d.initY = d.position.y, d.rangeX = Object(a.c)(1, 3), d.speedX = Object(a.c)(.1, .3), d.initX = d.position.x, this.object3D.add(d), this.objScales.push({
                        value: .01
                    })
                }
                this.object3D.position.copy(o), this.object3D.position.y += Object(a.c)(8, 12), this.canRender = !1, this.object3D.visible = !1
            }
            var n, u, h;
            return n = t, (u = [{
                key: "render",
                value: function(e) {
                    if (this.scrollDetect && (o.a.progress + .12 > this.progress && o.a.progress - this.progress < .01 ? this.object3D.visible || this.fadeIn() : this.object3D.visible && this.fadeOut(), this.canRender))
                        for (var t = 0; t < this.object3D.children.length; t++) {
                            var n = this.object3D.children[t];
                            n.position.y = n.initY + Math.sin(n.offset + e * n.speed) * n.rangeY, n.position.x = n.initX + Math.sin(n.offset + e * n.speedX) * n.rangeX;
                            var i = this.objScales[t].value * n.initScale;
                            n.scale.set(i, i, i)
                        }
                }
            }, {
                key: "fadeIn",
                value: function() {
                    var e = this;
                    this.canRender = !0, this.isFadedIn || (this.isFadedIn = !0, this.object3D.visible = !0, i.d.fromTo(this.objScales, {
                        value: .01
                    }, {
                        value: 1,
                        duration: 1.5,
                        ease: "expo.out",
                        stagger: .15,
                        onComplete: function() {
                            e.isFadedIn = !1
                        }
                    }))
                }
            }, {
                key: "fadeOut",
                value: function(e) {
                    var t = this;
                    this.isFadedIn = !1, e && (this.scrollDetect = !1), i.d.to(this.objScales, {
                        value: .01,
                        duration: .5,
                        ease: "expo.out",
                        onComplete: function() {
                            t.canRender = !1, t.object3D.visible = !1
                        }
                    })
                }
            }]) && c(n.prototype, u), h && c(n, h), t
        }()
    }).call(this, n(0))
}, , , , , , , , , , function(e, t, n) {
    ! function(e) {
        var t = /\S/,
            n = /\"/g,
            i = /\n/g,
            r = /\r/g,
            o = /\\/g,
            a = /\u2028/,
            s = /\u2029/;

        function c(e) {
            "}" === e.n.substr(e.n.length - 1) && (e.n = e.n.substring(0, e.n.length - 1))
        }

        function l(e) {
            return e.trim ? e.trim() : e.replace(/^\s*|\s*$/g, "")
        }

        function u(e, t, n) {
            if (t.charAt(n) != e.charAt(0)) return !1;
            for (var i = 1, r = e.length; i < r; i++)
                if (t.charAt(n + i) != e.charAt(i)) return !1;
            return !0
        }
        e.tags = {
            "#": 1,
            "^": 2,
            "<": 3,
            $: 4,
            "/": 5,
            "!": 6,
            ">": 7,
            "=": 8,
            _v: 9,
            "{": 10,
            "&": 11,
            _t: 12
        }, e.scan = function(n, i) {
            var r = n.length,
                o = 0,
                a = null,
                s = null,
                h = "",
                d = [],
                p = !1,
                f = 0,
                m = 0,
                v = "{{",
                g = "}}";

            function y() {
                h.length > 0 && (d.push({
                    tag: "_t",
                    text: new String(h)
                }), h = "")
            }

            function b(n, i) {
                if (y(), n && function() {
                        for (var n = !0, i = m; i < d.length; i++)
                            if (!(n = e.tags[d[i].tag] < e.tags._v || "_t" == d[i].tag && null === d[i].text.match(t))) return !1;
                        return n
                    }())
                    for (var r, o = m; o < d.length; o++) d[o].text && ((r = d[o + 1]) && ">" == r.tag && (r.indent = d[o].text.toString()), d.splice(o, 1));
                else i || d.push({
                    tag: "\n"
                });
                p = !1, m = d.length
            }

            function x(e, t) {
                var n = "=" + g,
                    i = e.indexOf(n, t),
                    r = l(e.substring(e.indexOf("=", t) + 1, i)).split(" ");
                return v = r[0], g = r[r.length - 1], i + n.length - 1
            }
            for (i && (i = i.split(" "), v = i[0], g = i[1]), f = 0; f < r; f++) 0 == o ? u(v, n, f) ? (--f, y(), o = 1) : "\n" == n.charAt(f) ? b(p) : h += n.charAt(f) : 1 == o ? (f += v.length - 1, "=" == (a = (s = e.tags[n.charAt(f + 1)]) ? n.charAt(f + 1) : "_v") ? (f = x(n, f), o = 0) : (s && f++, o = 2), p = f) : u(g, n, f) ? (d.push({
                tag: a,
                n: l(h),
                otag: v,
                ctag: g,
                i: "/" == a ? p - v.length : f + g.length
            }), h = "", f += g.length - 1, o = 0, "{" == a && ("}}" == g ? f++ : c(d[d.length - 1]))) : h += n.charAt(f);
            return b(p, !0), d
        };
        var h = {
            _t: !0,
            "\n": !0,
            $: !0,
            "/": !0
        };

        function d(e, t) {
            for (var n = 0, i = t.length; n < i; n++)
                if (t[n].o == e.n) return e.tag = "#", !0
        }

        function p(e, t, n) {
            for (var i = 0, r = n.length; i < r; i++)
                if (n[i].c == e && n[i].o == t) return !0
        }

        function f(e) {
            var t = [];
            for (var n in e.partials) t.push('"' + v(n) + '":{name:"' + v(e.partials[n].name) + '", ' + f(e.partials[n]) + "}");
            return "partials: {" + t.join(",") + "}, subs: " + function(e) {
                var t = [];
                for (var n in e) t.push('"' + v(n) + '": function(c,p,t,i) {' + e[n] + "}");
                return "{ " + t.join(",") + " }"
            }(e.subs)
        }
        e.stringify = function(t, n, i) {
            return "{code: function (c,p,i) { " + e.wrapMain(t.code) + " }," + f(t) + "}"
        };
        var m = 0;

        function v(e) {
            return e.replace(o, "\\\\").replace(n, '\\"').replace(i, "\\n").replace(r, "\\r").replace(a, "\\u2028").replace(s, "\\u2029")
        }

        function g(e) {
            return ~e.indexOf(".") ? "d" : "f"
        }

        function y(e, t) {
            var n = "<" + (t.prefix || "") + e.n + m++;
            return t.partials[n] = {
                name: e.n,
                partials: {}
            }, t.code += 't.b(t.rp("' + v(n) + '",c,p,"' + (e.indent || "") + '"));', n
        }

        function b(e, t) {
            t.code += "t.b(t.t(t." + g(e.n) + '("' + v(e.n) + '",c,p,0)));'
        }

        function x(e) {
            return "t.b(" + e + ");"
        }
        e.generate = function(t, n, i) {
            m = 0;
            var r = {
                code: "",
                subs: {},
                partials: {}
            };
            return e.walk(t, r), i.asString ? this.stringify(r, n, i) : this.makeTemplate(r, n, i)
        }, e.wrapMain = function(e) {
            return 'var t=this;t.b(i=i||"");' + e + "return t.fl();"
        }, e.template = e.Template, e.makeTemplate = function(e, t, n) {
            var i = this.makePartials(e);
            return i.code = new Function("c", "p", "i", this.wrapMain(e.code)), new this.template(i, t, this, n)
        }, e.makePartials = function(e) {
            var t, n = {
                subs: {},
                partials: e.partials,
                name: e.name
            };
            for (t in n.partials) n.partials[t] = this.makePartials(n.partials[t]);
            for (t in e.subs) n.subs[t] = new Function("c", "p", "t", "i", e.subs[t]);
            return n
        }, e.codegen = {
            "#": function(t, n) {
                n.code += "if(t.s(t." + g(t.n) + '("' + v(t.n) + '",c,p,1),c,p,0,' + t.i + "," + t.end + ',"' + t.otag + " " + t.ctag + '")){t.rs(c,p,function(c,p,t){', e.walk(t.nodes, n), n.code += "});c.pop();}"
            },
            "^": function(t, n) {
                n.code += "if(!t.s(t." + g(t.n) + '("' + v(t.n) + '",c,p,1),c,p,1,0,0,"")){', e.walk(t.nodes, n), n.code += "};"
            },
            ">": y,
            "<": function(t, n) {
                var i = {
                    partials: {},
                    code: "",
                    subs: {},
                    inPartial: !0
                };
                e.walk(t.nodes, i);
                var r = n.partials[y(t, n)];
                r.subs = i.subs, r.partials = i.partials
            },
            $: function(t, n) {
                var i = {
                    subs: {},
                    code: "",
                    partials: n.partials,
                    prefix: t.n
                };
                e.walk(t.nodes, i), n.subs[t.n] = i.code, n.inPartial || (n.code += 't.sub("' + v(t.n) + '",c,p,i);')
            },
            "\n": function(e, t) {
                t.code += x('"\\n"' + (e.last ? "" : " + i"))
            },
            _v: function(e, t) {
                t.code += "t.b(t.v(t." + g(e.n) + '("' + v(e.n) + '",c,p,0)));'
            },
            _t: function(e, t) {
                t.code += x('"' + v(e.text) + '"')
            },
            "{": b,
            "&": b
        }, e.walk = function(t, n) {
            for (var i, r = 0, o = t.length; r < o; r++)(i = e.codegen[t[r].tag]) && i(t[r], n);
            return n
        }, e.parse = function(t, n, i) {
            return function t(n, i, r, o) {
                var a, s = [],
                    c = null,
                    l = null;
                for (a = r[r.length - 1]; n.length > 0;) {
                    if (l = n.shift(), a && "<" == a.tag && !(l.tag in h)) throw new Error("Illegal content in < super tag.");
                    if (e.tags[l.tag] <= e.tags.$ || d(l, o)) r.push(l), l.nodes = t(n, l.tag, r, o);
                    else {
                        if ("/" == l.tag) {
                            if (0 === r.length) throw new Error("Closing tag without opener: /" + l.n);
                            if (c = r.pop(), l.n != c.n && !p(l.n, c.n, o)) throw new Error("Nesting error: " + c.n + " vs. " + l.n);
                            return c.end = l.i, s
                        }
                        "\n" == l.tag && (l.last = 0 == n.length || "\n" == n[0].tag)
                    }
                    s.push(l)
                }
                if (r.length > 0) throw new Error("missing closing tag: " + r.pop().n);
                return s
            }(t, 0, [], (i = i || {}).sectionTags || [])
        }, e.cache = {}, e.cacheKey = function(e, t) {
            return [e, !!t.asString, !!t.disableLambda, t.delimiters, !!t.modelGet].join("||")
        }, e.compile = function(t, n) {
            n = n || {};
            var i = e.cacheKey(t, n),
                r = this.cache[i];
            if (r) {
                var o = r.partials;
                for (var a in o) delete o[a].instance;
                return r
            }
            return r = this.generate(this.parse(this.scan(t, n.delimiters), t, n), t, n), this.cache[i] = r
        }
    }(t)
}, function(e, t, n) {
    ! function(e) {
        function t(e, t, n) {
            var i;
            return t && "object" == typeof t && (void 0 !== t[e] ? i = t[e] : n && t.get && "function" == typeof t.get && (i = t.get(e))), i
        }
        e.Template = function(e, t, n, i) {
            e = e || {}, this.r = e.code || this.r, this.c = n, this.options = i || {}, this.text = t || "", this.partials = e.partials || {}, this.subs = e.subs || {}, this.buf = ""
        }, e.Template.prototype = {
            r: function(e, t, n) {
                return ""
            },
            v: function(e) {
                return e = c(e), s.test(e) ? e.replace(n, "&amp;").replace(i, "&lt;").replace(r, "&gt;").replace(o, "&#39;").replace(a, "&quot;") : e
            },
            t: c,
            render: function(e, t, n) {
                return this.ri([e], t || {}, n)
            },
            ri: function(e, t, n) {
                return this.r(e, t, n)
            },
            ep: function(e, t) {
                var n = this.partials[e],
                    i = t[n.name];
                if (n.instance && n.base == i) return n.instance;
                if ("string" == typeof i) {
                    if (!this.c) throw new Error("No compiler available.");
                    i = this.c.compile(i, this.options)
                }
                if (!i) return null;
                if (this.partials[e].base = i, n.subs) {
                    for (key in t.stackText || (t.stackText = {}), n.subs) t.stackText[key] || (t.stackText[key] = void 0 !== this.activeSub && t.stackText[this.activeSub] ? t.stackText[this.activeSub] : this.text);
                    i = function(e, t, n, i, r, o) {
                        function a() {}

                        function s() {}
                        var c;
                        a.prototype = e, s.prototype = e.subs;
                        var l = new a;
                        for (c in l.subs = new s, l.subsText = {}, l.buf = "", i = i || {}, l.stackSubs = i, l.subsText = o, t) i[c] || (i[c] = t[c]);
                        for (c in i) l.subs[c] = i[c];
                        for (c in r = r || {}, l.stackPartials = r, n) r[c] || (r[c] = n[c]);
                        for (c in r) l.partials[c] = r[c];
                        return l
                    }(i, n.subs, n.partials, this.stackSubs, this.stackPartials, t.stackText)
                }
                return this.partials[e].instance = i, i
            },
            rp: function(e, t, n, i) {
                var r = this.ep(e, n);
                return r ? r.ri(t, n, i) : ""
            },
            rs: function(e, t, n) {
                var i = e[e.length - 1];
                if (l(i))
                    for (var r = 0; r < i.length; r++) e.push(i[r]), n(e, t, this), e.pop();
                else n(e, t, this)
            },
            s: function(e, t, n, i, r, o, a) {
                var s;
                return (!l(e) || 0 !== e.length) && ("function" == typeof e && (e = this.ms(e, t, n, i, r, o, a)), s = !!e, !i && s && t && t.push("object" == typeof e ? e : t[t.length - 1]), s)
            },
            d: function(e, n, i, r) {
                var o, a = e.split("."),
                    s = this.f(a[0], n, i, r),
                    c = this.options.modelGet,
                    u = null;
                if ("." === e && l(n[n.length - 2])) s = n[n.length - 1];
                else
                    for (var h = 1; h < a.length; h++) void 0 !== (o = t(a[h], s, c)) ? (u = s, s = o) : s = "";
                return !(r && !s) && (r || "function" != typeof s || (n.push(u), s = this.mv(s, n, i), n.pop()), s)
            },
            f: function(e, n, i, r) {
                for (var o = !1, a = !1, s = this.options.modelGet, c = n.length - 1; c >= 0; c--)
                    if (void 0 !== (o = t(e, n[c], s))) {
                        a = !0;
                        break
                    }
                return a ? (r || "function" != typeof o || (o = this.mv(o, n, i)), o) : !r && ""
            },
            ls: function(e, t, n, i, r) {
                var o = this.options.delimiters;
                return this.options.delimiters = r, this.b(this.ct(c(e.call(t, i)), t, n)), this.options.delimiters = o, !1
            },
            ct: function(e, t, n) {
                if (this.options.disableLambda) throw new Error("Lambda features disabled.");
                return this.c.compile(e, this.options).render(t, n)
            },
            b: function(e) {
                this.buf += e
            },
            fl: function() {
                var e = this.buf;
                return this.buf = "", e
            },
            ms: function(e, t, n, i, r, o, a) {
                var s, c = t[t.length - 1],
                    l = e.call(c);
                return "function" == typeof l ? !!i || (s = this.activeSub && this.subsText && this.subsText[this.activeSub] ? this.subsText[this.activeSub] : this.text, this.ls(l, c, n, s.substring(r, o), a)) : l
            },
            mv: function(e, t, n) {
                var i = t[t.length - 1],
                    r = e.call(i);
                return "function" == typeof r ? this.ct(c(r.call(i)), i, n) : r
            },
            sub: function(e, t, n, i) {
                var r = this.subs[e];
                r && (this.activeSub = e, r(t, n, this, i), this.activeSub = !1)
            }
        };
        var n = /&/g,
            i = /</g,
            r = />/g,
            o = /\'/g,
            a = /\"/g,
            s = /[&<>\"\']/;

        function c(e) {
            return String(null == e ? "" : e)
        }
        var l = Array.isArray || function(e) {
            return "[object Array]" === Object.prototype.toString.call(e)
        }
    }(t)
}, function(e, t, n) {
    var i = n(35),
        r = n(90),
        o = n(92),
        a = Math.max,
        s = Math.min;
    e.exports = function(e, t, n) {
        var c, l, u, h, d, p, f = 0,
            m = !1,
            v = !1,
            g = !0;
        if ("function" != typeof e) throw new TypeError("Expected a function");

        function y(t) {
            var n = c,
                i = l;
            return c = l = void 0, f = t, h = e.apply(i, n)
        }

        function b(e) {
            return f = e, d = setTimeout(w, t), m ? y(e) : h
        }

        function x(e) {
            var n = e - p;
            return void 0 === p || n >= t || n < 0 || v && e - f >= u
        }

        function w() {
            var e = r();
            if (x(e)) return _(e);
            d = setTimeout(w, function(e) {
                var n = t - (e - p);
                return v ? s(n, u - (e - f)) : n
            }(e))
        }

        function _(e) {
            return d = void 0, g && c ? y(e) : (c = l = void 0, h)
        }

        function M() {
            var e = r(),
                n = x(e);
            if (c = arguments, l = this, p = e, n) {
                if (void 0 === d) return b(p);
                if (v) return clearTimeout(d), d = setTimeout(w, t), y(p)
            }
            return void 0 === d && (d = setTimeout(w, t)), h
        }
        return t = o(t) || 0, i(n) && (m = !!n.leading, u = (v = "maxWait" in n) ? a(o(n.maxWait) || 0, t) : u, g = "trailing" in n ? !!n.trailing : g), M.cancel = function() {
            void 0 !== d && clearTimeout(d), f = 0, c = p = l = d = void 0
        }, M.flush = function() {
            return void 0 === d ? h : _(r())
        }, M
    }
}, function(e, t, n) {
    var i = n(45);
    e.exports = function() {
        return i.Date.now()
    }
}, function(e, t, n) {
    (function(t) {
        var n = "object" == typeof t && t && t.Object === Object && t;
        e.exports = n
    }).call(this, n(31))
}, function(e, t, n) {
    var i = n(35),
        r = n(93),
        o = /^\s+|\s+$/g,
        a = /^[-+]0x[0-9a-f]+$/i,
        s = /^0b[01]+$/i,
        c = /^0o[0-7]+$/i,
        l = parseInt;
    e.exports = function(e) {
        if ("number" == typeof e) return e;
        if (r(e)) return NaN;
        if (i(e)) {
            var t = "function" == typeof e.valueOf ? e.valueOf() : e;
            e = i(t) ? t + "" : t
        }
        if ("string" != typeof e) return 0 === e ? e : +e;
        e = e.replace(o, "");
        var n = s.test(e);
        return n || c.test(e) ? l(e.slice(2), n ? 2 : 8) : a.test(e) ? NaN : +e
    }
}, function(e, t, n) {
    var i = n(94),
        r = n(97);
    e.exports = function(e) {
        return "symbol" == typeof e || r(e) && "[object Symbol]" == i(e)
    }
}, function(e, t, n) {
    var i = n(46),
        r = n(95),
        o = n(96),
        a = i ? i.toStringTag : void 0;
    e.exports = function(e) {
        return null == e ? void 0 === e ? "[object Undefined]" : "[object Null]" : a && a in Object(e) ? r(e) : o(e)
    }
}, function(e, t, n) {
    var i = n(46),
        r = Object.prototype,
        o = r.hasOwnProperty,
        a = r.toString,
        s = i ? i.toStringTag : void 0;
    e.exports = function(e) {
        var t = o.call(e, s),
            n = e[s];
        try {
            e[s] = void 0;
            var i = !0
        } catch (e) {}
        var r = a.call(e);
        return i && (t ? e[s] = n : delete e[s]), r
    }
}, function(e, t) {
    var n = Object.prototype.toString;
    e.exports = function(e) {
        return n.call(e)
    }
}, function(e, t) {
    e.exports = function(e) {
        return null != e && "object" == typeof e
    }
}, function(e, t, n) {
    "use strict";
    t.byteLength = function(e) {
        var t = l(e),
            n = t[0],
            i = t[1];
        return 3 * (n + i) / 4 - i
    }, t.toByteArray = function(e) {
        var t, n, i = l(e),
            a = i[0],
            s = i[1],
            c = new o(function(e, t, n) {
                return 3 * (t + n) / 4 - n
            }(0, a, s)),
            u = 0,
            h = s > 0 ? a - 4 : a;
        for (n = 0; n < h; n += 4) t = r[e.charCodeAt(n)] << 18 | r[e.charCodeAt(n + 1)] << 12 | r[e.charCodeAt(n + 2)] << 6 | r[e.charCodeAt(n + 3)], c[u++] = t >> 16 & 255, c[u++] = t >> 8 & 255, c[u++] = 255 & t;
        2 === s && (t = r[e.charCodeAt(n)] << 2 | r[e.charCodeAt(n + 1)] >> 4, c[u++] = 255 & t);
        1 === s && (t = r[e.charCodeAt(n)] << 10 | r[e.charCodeAt(n + 1)] << 4 | r[e.charCodeAt(n + 2)] >> 2, c[u++] = t >> 8 & 255, c[u++] = 255 & t);
        return c
    }, t.fromByteArray = function(e) {
        for (var t, n = e.length, r = n % 3, o = [], a = 0, s = n - r; a < s; a += 16383) o.push(u(e, a, a + 16383 > s ? s : a + 16383));
        1 === r ? (t = e[n - 1], o.push(i[t >> 2] + i[t << 4 & 63] + "==")) : 2 === r && (t = (e[n - 2] << 8) + e[n - 1], o.push(i[t >> 10] + i[t >> 4 & 63] + i[t << 2 & 63] + "="));
        return o.join("")
    };
    for (var i = [], r = [], o = "undefined" != typeof Uint8Array ? Uint8Array : Array, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, c = a.length; s < c; ++s) i[s] = a[s], r[a.charCodeAt(s)] = s;

    function l(e) {
        var t = e.length;
        if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
        var n = e.indexOf("=");
        return -1 === n && (n = t), [n, n === t ? 0 : 4 - n % 4]
    }

    function u(e, t, n) {
        for (var r, o, a = [], s = t; s < n; s += 3) r = (e[s] << 16 & 16711680) + (e[s + 1] << 8 & 65280) + (255 & e[s + 2]), a.push(i[(o = r) >> 18 & 63] + i[o >> 12 & 63] + i[o >> 6 & 63] + i[63 & o]);
        return a.join("")
    }
    r["-".charCodeAt(0)] = 62, r["_".charCodeAt(0)] = 63
}, function(e, t) {
    t.read = function(e, t, n, i, r) {
        var o, a, s = 8 * r - i - 1,
            c = (1 << s) - 1,
            l = c >> 1,
            u = -7,
            h = n ? r - 1 : 0,
            d = n ? -1 : 1,
            p = e[t + h];
        for (h += d, o = p & (1 << -u) - 1, p >>= -u, u += s; u > 0; o = 256 * o + e[t + h], h += d, u -= 8);
        for (a = o & (1 << -u) - 1, o >>= -u, u += i; u > 0; a = 256 * a + e[t + h], h += d, u -= 8);
        if (0 === o) o = 1 - l;
        else {
            if (o === c) return a ? NaN : 1 / 0 * (p ? -1 : 1);
            a += Math.pow(2, i), o -= l
        }
        return (p ? -1 : 1) * a * Math.pow(2, o - i)
    }, t.write = function(e, t, n, i, r, o) {
        var a, s, c, l = 8 * o - r - 1,
            u = (1 << l) - 1,
            h = u >> 1,
            d = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
            p = i ? 0 : o - 1,
            f = i ? 1 : -1,
            m = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
        for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0, a = u) : (a = Math.floor(Math.log(t) / Math.LN2), t * (c = Math.pow(2, -a)) < 1 && (a--, c *= 2), (t += a + h >= 1 ? d / c : d * Math.pow(2, 1 - h)) * c >= 2 && (a++, c /= 2), a + h >= u ? (s = 0, a = u) : a + h >= 1 ? (s = (t * c - 1) * Math.pow(2, r), a += h) : (s = t * Math.pow(2, h - 1) * Math.pow(2, r), a = 0)); r >= 8; e[n + p] = 255 & s, p += f, s /= 256, r -= 8);
        for (a = a << r | s, l += r; l > 0; e[n + p] = 255 & a, p += f, a /= 256, l -= 8);
        e[n + p - f] |= 128 * m
    }
}, function(e, t) {
    var n = {}.toString;
    e.exports = Array.isArray || function(e) {
        return "[object Array]" == n.call(e)
    }
}, function(e, t, n) {
    "use strict";
    var i = n(102),
        r = n(103),
        o = n(104),
        a = n(37);

    function s(e, t, n) {
        var i = e;
        return r(t) ? (n = t, "string" == typeof e && (i = {
            uri: e
        })) : i = a(t, {
            uri: e
        }), i.callback = n, i
    }

    function c(e, t, n) {
        return l(t = s(e, t, n))
    }

    function l(e) {
        if (void 0 === e.callback) throw new Error("callback argument missing");
        var t = !1,
            n = function(n, i, r) {
                t || (t = !0, e.callback(n, i, r))
            };

        function i() {
            var e = void 0;
            if (e = u.response ? u.response : u.responseText || function(e) {
                    try {
                        if ("document" === e.responseType) return e.responseXML;
                        var t = e.responseXML && "parsererror" === e.responseXML.documentElement.nodeName;
                        if ("" === e.responseType && !t) return e.responseXML
                    } catch (e) {}
                    return null
                }(u), g) try {
                e = JSON.parse(e)
            } catch (e) {}
            return e
        }

        function r(e) {
            return clearTimeout(h), e instanceof Error || (e = new Error("" + (e || "Unknown XMLHttpRequest Error"))), e.statusCode = 0, n(e, y)
        }

        function a() {
            if (!l) {
                var t;
                clearTimeout(h), t = e.useXDR && void 0 === u.status ? 200 : 1223 === u.status ? 204 : u.status;
                var r = y,
                    a = null;
                return 0 !== t ? (r = {
                    body: i(),
                    statusCode: t,
                    method: p,
                    headers: {},
                    url: d,
                    rawRequest: u
                }, u.getAllResponseHeaders && (r.headers = o(u.getAllResponseHeaders()))) : a = new Error("Internal XMLHttpRequest Error"), n(a, r, r.body)
            }
        }
        var s, l, u = e.xhr || null;
        u || (u = e.cors || e.useXDR ? new c.XDomainRequest : new c.XMLHttpRequest);
        var h, d = u.url = e.uri || e.url,
            p = u.method = e.method || "GET",
            f = e.body || e.data,
            m = u.headers = e.headers || {},
            v = !!e.sync,
            g = !1,
            y = {
                body: void 0,
                headers: {},
                statusCode: 0,
                method: p,
                url: d,
                rawRequest: u
            };
        if ("json" in e && !1 !== e.json && (g = !0, m.accept || m.Accept || (m.Accept = "application/json"), "GET" !== p && "HEAD" !== p && (m["content-type"] || m["Content-Type"] || (m["Content-Type"] = "application/json"), f = JSON.stringify(!0 === e.json ? f : e.json))), u.onreadystatechange = function() {
                4 === u.readyState && setTimeout(a, 0)
            }, u.onload = a, u.onerror = r, u.onprogress = function() {}, u.onabort = function() {
                l = !0
            }, u.ontimeout = r, u.open(p, d, !v, e.username, e.password), v || (u.withCredentials = !!e.withCredentials), !v && e.timeout > 0 && (h = setTimeout((function() {
                if (!l) {
                    l = !0, u.abort("timeout");
                    var e = new Error("XMLHttpRequest timeout");
                    e.code = "ETIMEDOUT", r(e)
                }
            }), e.timeout)), u.setRequestHeader)
            for (s in m) m.hasOwnProperty(s) && u.setRequestHeader(s, m[s]);
        else if (e.headers && ! function(e) {
                for (var t in e)
                    if (e.hasOwnProperty(t)) return !1;
                return !0
            }(e.headers)) throw new Error("Headers cannot be set on an XDomainRequest object");
        return "responseType" in e && (u.responseType = e.responseType), "beforeSend" in e && "function" == typeof e.beforeSend && e.beforeSend(u), u.send(f || null), u
    }
    e.exports = c, e.exports.default = c, c.XMLHttpRequest = i.XMLHttpRequest || function() {}, c.XDomainRequest = "withCredentials" in new c.XMLHttpRequest ? c.XMLHttpRequest : i.XDomainRequest,
        function(e, t) {
            for (var n = 0; n < e.length; n++) t(e[n])
        }(["get", "put", "post", "patch", "head", "delete"], (function(e) {
            c["delete" === e ? "del" : e] = function(t, n, i) {
                return (n = s(t, n, i)).method = e.toUpperCase(), l(n)
            }
        }))
}, function(e, t, n) {
    (function(t) {
        var n;
        n = "undefined" != typeof window ? window : void 0 !== t ? t : "undefined" != typeof self ? self : {}, e.exports = n
    }).call(this, n(31))
}, function(e, t) {
    e.exports = function(e) {
        if (!e) return !1;
        var t = n.call(e);
        return "[object Function]" === t || "function" == typeof e && "[object RegExp]" !== t || "undefined" != typeof window && (e === window.setTimeout || e === window.alert || e === window.confirm || e === window.prompt)
    };
    var n = Object.prototype.toString
}, function(e, t) {
    var n = function(e) {
        return e.replace(/^\s+|\s+$/g, "")
    };
    e.exports = function(e) {
        if (!e) return {};
        for (var t, i = {}, r = n(e).split("\n"), o = 0; o < r.length; o++) {
            var a = r[o],
                s = a.indexOf(":"),
                c = n(a.slice(0, s)).toLowerCase(),
                l = n(a.slice(s + 1));
            void 0 === i[c] ? i[c] = l : (t = i[c], "[object Array]" === Object.prototype.toString.call(t) ? i[c].push(l) : i[c] = [i[c], l])
        }
        return i
    }
}, function(e, t) {
    function n(e, t) {
        if (!(e = e.replace(/\t+/g, " ").trim())) return null;
        var n = e.indexOf(" ");
        if (-1 === n) throw new Error("no named row at line " + t);
        var r = e.substring(0, n);
        e = (e = (e = (e = e.substring(n + 1)).replace(/letter=[\'\"]\S+[\'\"]/gi, "")).split("=")).map((function(e) {
            return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)
        }));
        for (var o = [], a = 0; a < e.length; a++) {
            var s = e[a];
            0 === a ? o.push({
                key: s[0],
                data: ""
            }) : a === e.length - 1 ? o[o.length - 1].data = i(s[0]) : (o[o.length - 1].data = i(s[0]), o.push({
                key: s[1],
                data: ""
            }))
        }
        var c = {
            key: r,
            data: {}
        };
        return o.forEach((function(e) {
            c.data[e.key] = e.data
        })), c
    }

    function i(e) {
        return e && 0 !== e.length ? 0 === e.indexOf('"') || 0 === e.indexOf("'") ? e.substring(1, e.length - 1) : -1 !== e.indexOf(",") ? function(e) {
            return e.split(",").map((function(e) {
                return parseInt(e, 10)
            }))
        }(e) : parseInt(e, 10) : ""
    }
    e.exports = function(e) {
        if (!e) throw new Error("no data provided");
        var t = {
                pages: [],
                chars: [],
                kernings: []
            },
            i = (e = e.toString().trim()).split(/\r\n?|\n/g);
        if (0 === i.length) throw new Error("no data in BMFont file");
        for (var r = 0; r < i.length; r++) {
            var o = n(i[r], r);
            if (o)
                if ("page" === o.key) {
                    if ("number" != typeof o.data.id) throw new Error("malformed file at line " + r + " -- needs page id=N");
                    if ("string" != typeof o.data.file) throw new Error("malformed file at line " + r + ' -- needs page file="path"');
                    t.pages[o.data.id] = o.data.file
                } else "chars" === o.key || "kernings" === o.key || ("char" === o.key ? t.chars.push(o.data) : "kerning" === o.key ? t.kernings.push(o.data) : t[o.key] = o.data)
        }
        return t
    }
}, function(e, t, n) {
    var i = n(107),
        r = n(108),
        o = {
            scaleh: "scaleH",
            scalew: "scaleW",
            stretchh: "stretchH",
            lineheight: "lineHeight",
            alphachnl: "alphaChnl",
            redchnl: "redChnl",
            greenchnl: "greenChnl",
            bluechnl: "blueChnl"
        };

    function a(e) {
        return function(e) {
            for (var t = [], n = 0; n < e.attributes.length; n++) t.push(e.attributes[n]);
            return t
        }(e).reduce((function(e, t) {
            var n;
            return e[(n = t.nodeName, o[n.toLowerCase()] || n)] = t.nodeValue, e
        }), {})
    }
    e.exports = function(e) {
        e = e.toString();
        var t = r(e),
            n = {
                pages: [],
                chars: [],
                kernings: []
            };
        ["info", "common"].forEach((function(e) {
            var r = t.getElementsByTagName(e)[0];
            r && (n[e] = i(a(r)))
        }));
        var o = t.getElementsByTagName("pages")[0];
        if (!o) throw new Error("malformed file -- no <pages> element");
        for (var s = o.getElementsByTagName("page"), c = 0; c < s.length; c++) {
            var l = s[c],
                u = parseInt(l.getAttribute("id"), 10),
                h = l.getAttribute("file");
            if (isNaN(u)) throw new Error('malformed file -- page "id" attribute is NaN');
            if (!h) throw new Error('malformed file -- needs page "file" attribute');
            n.pages[parseInt(u, 10)] = h
        }
        return ["chars", "kernings"].forEach((function(e) {
            var r = t.getElementsByTagName(e)[0];
            if (r)
                for (var o = e.substring(0, e.length - 1), s = r.getElementsByTagName(o), c = 0; c < s.length; c++) {
                    var l = s[c];
                    n[e].push(i(a(l)))
                }
        })), n
    }
}, function(e, t) {
    e.exports = function(e) {
        for (var t in "chasrset" in e && (e.charset = e.chasrset, delete e.chasrset), e) "face" !== t && "charset" !== t && (e[t] = "padding" === t || "spacing" === t ? e[t].split(",").map((function(e) {
            return parseInt(e, 10)
        })) : parseInt(e[t], 10));
        return e
    }
}, function(e, t) {
    e.exports = void 0 !== self.DOMParser ? function(e) {
        return (new self.DOMParser).parseFromString(e, "application/xml")
    } : void 0 !== self.ActiveXObject && new self.ActiveXObject("Microsoft.XMLDOM") ? function(e) {
        var t = new self.ActiveXObject("Microsoft.XMLDOM");
        return t.async = "false", t.loadXML(e), t
    } : function(e) {
        var t = document.createElement("div");
        return t.innerHTML = e, t
    }
}, function(e, t) {
    var n = [66, 77, 70];

    function i(e, t, n) {
        if (n > t.length - 1) return 0;
        var i = t.readUInt8(n++),
            o = t.readInt32LE(n);
        switch (n += 4, i) {
            case 1:
                e.info = function(e, t) {
                    var n = {};
                    n.size = e.readInt16LE(t);
                    var i = e.readUInt8(t + 2);
                    n.smooth = i >> 7 & 1, n.unicode = i >> 6 & 1, n.italic = i >> 5 & 1, n.bold = i >> 4 & 1, i >> 3 & 1 && (n.fixedHeight = 1);
                    return n.charset = e.readUInt8(t + 3) || "", n.stretchH = e.readUInt16LE(t + 4), n.aa = e.readUInt8(t + 6), n.padding = [e.readInt8(t + 7), e.readInt8(t + 8), e.readInt8(t + 9), e.readInt8(t + 10)], n.spacing = [e.readInt8(t + 11), e.readInt8(t + 12)], n.outline = e.readUInt8(t + 13), n.face = function(e, t) {
                        return r(e, t).toString("utf8")
                    }(e, t + 14), n
                }(t, n);
                break;
            case 2:
                e.common = function(e, t) {
                    var n = {};
                    n.lineHeight = e.readUInt16LE(t), n.base = e.readUInt16LE(t + 2), n.scaleW = e.readUInt16LE(t + 4), n.scaleH = e.readUInt16LE(t + 6), n.pages = e.readUInt16LE(t + 8);
                    e.readUInt8(t + 10);
                    return n.packed = 0, n.alphaChnl = e.readUInt8(t + 11), n.redChnl = e.readUInt8(t + 12), n.greenChnl = e.readUInt8(t + 13), n.blueChnl = e.readUInt8(t + 14), n
                }(t, n);
                break;
            case 3:
                e.pages = function(e, t, n) {
                    for (var i = [], o = r(e, t), a = o.length + 1, s = n / a, c = 0; c < s; c++) i[c] = e.slice(t, t + o.length).toString("utf8"), t += a;
                    return i
                }(t, n, o);
                break;
            case 4:
                e.chars = function(e, t, n) {
                    for (var i = [], r = n / 20, o = 0; o < r; o++) {
                        var a = {},
                            s = 20 * o;
                        a.id = e.readUInt32LE(t + 0 + s), a.x = e.readUInt16LE(t + 4 + s), a.y = e.readUInt16LE(t + 6 + s), a.width = e.readUInt16LE(t + 8 + s), a.height = e.readUInt16LE(t + 10 + s), a.xoffset = e.readInt16LE(t + 12 + s), a.yoffset = e.readInt16LE(t + 14 + s), a.xadvance = e.readInt16LE(t + 16 + s), a.page = e.readUInt8(t + 18 + s), a.chnl = e.readUInt8(t + 19 + s), i[o] = a
                    }
                    return i
                }(t, n, o);
                break;
            case 5:
                e.kernings = function(e, t, n) {
                    for (var i = [], r = n / 10, o = 0; o < r; o++) {
                        var a = {},
                            s = 10 * o;
                        a.first = e.readUInt32LE(t + 0 + s), a.second = e.readUInt32LE(t + 4 + s), a.amount = e.readInt16LE(t + 8 + s), i[o] = a
                    }
                    return i
                }(t, n, o)
        }
        return 5 + o
    }

    function r(e, t) {
        for (var n = t; n < e.length && 0 !== e[n]; n++);
        return e.slice(t, n)
    }
    e.exports = function(e) {
        if (e.length < 6) throw new Error("invalid buffer length for BMFont");
        if (!n.every((function(t, n) {
                return e.readUInt8(n) === t
            }))) throw new Error("BMFont missing BMF byte header");
        var t = 3;
        if (e.readUInt8(t++) > 3) throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");
        for (var r = {
                kernings: [],
                chars: []
            }, o = 0; o < 5; o++) t += i(r, e, t);
        return r
    }
}, function(e, t, n) {
    (function(t) {
        var i = n(111),
            r = t.from([66, 77, 70, 3]);
        e.exports = function(e) {
            return "string" == typeof e ? "BMF" === e.substring(0, 3) : e.length > 4 && i(e.slice(0, 4), r)
        }
    }).call(this, n(36).Buffer)
}, function(e, t, n) {
    var i = n(36).Buffer;
    e.exports = function(e, t) {
        if (i.isBuffer(e) && i.isBuffer(t)) {
            if ("function" == typeof e.equals) return e.equals(t);
            if (e.length !== t.length) return !1;
            for (var n = 0; n < e.length; n++)
                if (e[n] !== t[n]) return !1;
            return !0
        }
    }
}, function(e, t, n) {
    var i = n(113),
        r = n(37),
        o = n(114),
        a = ["x", "e", "a", "o", "n", "s", "r", "c", "u", "m", "v", "w", "z"],
        s = ["m", "w"],
        c = ["H", "I", "N", "E", "F", "K", "L", "T", "U", "V", "W", "X", "Y", "Z"],
        l = "\t".charCodeAt(0),
        u = " ".charCodeAt(0);

    function h(e) {
        this.glyphs = [], this._measure = this.computeMetrics.bind(this), this.update(e)
    }

    function d(e) {
        return new Function(["return function " + e + "() {", "  return this._" + e, "}"].join("\n"))()
    }

    function p(e, t) {
        if (!e.chars || 0 === e.chars.length) return null;
        var n = m(e.chars, t);
        return n >= 0 ? e.chars[n] : null
    }

    function f(e, t, n) {
        if (!e.kernings || 0 === e.kernings.length) return 0;
        for (var i = e.kernings, r = 0; r < i.length; r++) {
            var o = i[r];
            if (o.first === t && o.second === n) return o.amount
        }
        return 0
    }

    function m(e, t, n) {
        for (var i = n = n || 0; i < e.length; i++)
            if (e[i].id === t) return i;
        return -1
    }
    e.exports = function(e) {
        return new h(e)
    }, h.prototype.update = function(e) {
        if (e = r({
                measure: this._measure
            }, e), this._opt = e, this._opt.tabSize = o(this._opt.tabSize, 4), !e.font) throw new Error("must provide a valid bitmap font");
        var t = this.glyphs,
            n = e.text || "",
            s = e.font;
        this._setupSpaceGlyphs(s);
        var l = i.lines(n, e),
            u = e.width || 0;
        t.length = 0;
        var h = l.reduce((function(e, t) {
                return Math.max(e, t.width, u)
            }), 0),
            d = 0,
            p = 0,
            v = o(e.lineHeight, s.common.lineHeight),
            g = s.common.base,
            y = v - g,
            b = e.letterSpacing || 0,
            x = v * l.length - y,
            w = function(e) {
                if ("center" === e) return 1;
                if ("right" === e) return 2;
                return 0
            }(this._opt.align);
        p -= x, this._width = h, this._height = x, this._descender = v - g, this._baseline = g, this._xHeight = function(e) {
            for (var t = 0; t < a.length; t++) {
                var n = a[t].charCodeAt(0),
                    i = m(e.chars, n);
                if (i >= 0) return e.chars[i].height
            }
            return 0
        }(s), this._capHeight = function(e) {
            for (var t = 0; t < c.length; t++) {
                var n = c[t].charCodeAt(0),
                    i = m(e.chars, n);
                if (i >= 0) return e.chars[i].height
            }
            return 0
        }(s), this._lineHeight = v, this._ascender = v - y - this._xHeight;
        var _ = this;
        l.forEach((function(e, i) {
            for (var r, o = e.start, a = e.end, c = e.width, l = o; l < a; l++) {
                var u = n.charCodeAt(l),
                    m = _.getGlyph(s, u);
                if (m) {
                    r && (d += f(s, r.id, m.id));
                    var g = d;
                    1 === w ? g += (h - c) / 2 : 2 === w && (g += h - c), t.push({
                        position: [g, p],
                        data: m,
                        index: l,
                        line: i
                    }), d += m.xadvance + b, r = m
                }
            }
            p += v, d = 0
        })), this._linesTotal = l.length
    }, h.prototype._setupSpaceGlyphs = function(e) {
        if (this._fallbackSpaceGlyph = null, this._fallbackTabGlyph = null, e.chars && 0 !== e.chars.length) {
            var t = p(e, u) || function(e) {
                    for (var t = 0; t < s.length; t++) {
                        var n = s[t].charCodeAt(0),
                            i = m(e.chars, n);
                        if (i >= 0) return e.chars[i]
                    }
                    return 0
                }(e) || e.chars[0],
                n = this._opt.tabSize * t.xadvance;
            this._fallbackSpaceGlyph = t, this._fallbackTabGlyph = r(t, {
                x: 0,
                y: 0,
                xadvance: n,
                id: l,
                xoffset: 0,
                yoffset: 0,
                width: 0,
                height: 0
            })
        }
    }, h.prototype.getGlyph = function(e, t) {
        var n = p(e, t);
        return n || (t === l ? this._fallbackTabGlyph : t === u ? this._fallbackSpaceGlyph : null)
    }, h.prototype.computeMetrics = function(e, t, n, i) {
        var r, o = this._opt.letterSpacing || 0,
            a = this._opt.font,
            s = 0,
            c = 0,
            l = 0;
        if (!a.chars || 0 === a.chars.length) return {
            start: t,
            end: t,
            width: 0
        };
        n = Math.min(e.length, n);
        for (var u = t; u < n; u++) {
            var h, d = e.charCodeAt(u);
            if (h = this.getGlyph(a, d)) {
                h.xoffset;
                var p = (s += r ? f(a, r.id, h.id) : 0) + h.xadvance + o,
                    m = s + h.width;
                if (m >= i || p >= i) break;
                s = p, c = m, r = h
            }
            l++
        }
        return r && (c += r.xoffset), {
            start: t,
            end: t + l,
            width: c
        }
    }, ["width", "height", "descender", "ascender", "xHeight", "baseline", "capHeight", "lineHeight"].forEach((function(e) {
        Object.defineProperty(h.prototype, e, {
            get: d(e),
            configurable: !0
        })
    }))
}, function(e, t) {
    var n = /\n/,
        i = /\s/;

    function r(e, t, n, i) {
        var r = e.indexOf(t, n);
        return -1 === r || r > i ? i : r
    }

    function o(e) {
        return i.test(e)
    }

    function a(e, t, n, i) {
        return {
            start: t,
            end: t + Math.min(i, n - t)
        }
    }
    e.exports = function(t, n) {
        return e.exports.lines(t, n).map((function(e) {
            return t.substring(e.start, e.end)
        })).join("\n")
    }, e.exports.lines = function(e, t) {
        if (0 === (t = t || {}).width && "nowrap" !== t.mode) return [];
        e = e || "";
        var i = "number" == typeof t.width ? t.width : Number.MAX_VALUE,
            s = Math.max(0, t.start || 0),
            c = "number" == typeof t.end ? t.end : e.length,
            l = t.mode,
            u = t.measure || a;
        return "pre" === l ? function(e, t, i, r, o) {
            for (var a = [], s = i, c = i; c < r && c < t.length; c++) {
                var l = t.charAt(c),
                    u = n.test(l);
                if (u || c === r - 1) {
                    var h = e(t, s, u ? c : c + 1, o);
                    a.push(h), s = c + 1
                }
            }
            return a
        }(u, e, s, c, i) : function(e, t, n, i, a, s) {
            var c = [],
                l = a;
            "nowrap" === s && (l = Number.MAX_VALUE);
            for (; n < i && n < t.length;) {
                for (var u = r(t, "\n", n, i); n < u && o(t.charAt(n));) n++;
                var h = e(t, n, u, l),
                    d = n + (h.end - h.start),
                    p = d + "\n".length;
                if (d < u) {
                    for (; d > n && !o(t.charAt(d));) d--;
                    if (d === n) p > n + "\n".length && p--, d = p;
                    else
                        for (p = d; d > n && o(t.charAt(d - "\n".length));) d--
                }
                if (d >= n) {
                    var f = e(t, n, d, l);
                    c.push(f)
                }
                n = p
            }
            return c
        }(u, e, s, c, i, l)
    }
}, function(e, t) {
    e.exports = function(e, t) {
        return "number" == typeof e ? e : "number" == typeof t ? t : 0
    }
}, function(e, t) {
    "function" == typeof Object.create ? e.exports = function(e, t) {
        t && (e.super_ = t, e.prototype = Object.create(t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }))
    } : e.exports = function(e, t) {
        if (t) {
            e.super_ = t;
            var n = function() {};
            n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e
        }
    }
}, function(e, t, n) {
    var i = n(117),
        r = n(118),
        o = n(119),
        a = [0, 2, 3],
        s = [2, 1, 3];
    e.exports = function(e, t) {
        e && (r(e) || o(e)) || (t = e || {}, e = null);
        for (var n = "string" == typeof(t = "number" == typeof t ? {
                count: t
            } : t || {}).type ? t.type : "uint16", c = "number" == typeof t.count ? t.count : 1, l = t.start || 0, u = !1 !== t.clockwise ? a : s, h = u[0], d = u[1], p = u[2], f = 6 * c, m = e || new(i(n))(f), v = 0, g = 0; v < f; v += 6, g += 4) {
            var y = v + l;
            m[y + 0] = g + 0, m[y + 1] = g + 1, m[y + 2] = g + 2, m[y + 3] = g + h, m[y + 4] = g + d, m[y + 5] = g + p
        }
        return m
    }
}, function(e, t) {
    e.exports = function(e) {
        switch (e) {
            case "int8":
                return Int8Array;
            case "int16":
                return Int16Array;
            case "int32":
                return Int32Array;
            case "uint8":
                return Uint8Array;
            case "uint16":
                return Uint16Array;
            case "uint32":
                return Uint32Array;
            case "float32":
                return Float32Array;
            case "float64":
                return Float64Array;
            case "array":
                return Array;
            case "uint8_clamped":
                return Uint8ClampedArray
        }
    }
}, function(e, t) {
    var n = Object.prototype.toString;
    e.exports = function(e) {
        return e.BYTES_PER_ELEMENT && "[object ArrayBuffer]" === n.call(e.buffer) || Array.isArray(e)
    }
}, function(e, t) {
    function n(e) {
        return !!e.constructor && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e)
    }
    /*!
     * Determine if an object is a Buffer
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     */
    e.exports = function(e) {
        return null != e && (n(e) || function(e) {
            return "function" == typeof e.readFloatLE && "function" == typeof e.slice && n(e.slice(0, 0))
        }(e) || !!e._isBuffer)
    }
}, function(e, t) {
    e.exports.pages = function(e) {
        var t = new Float32Array(4 * e.length * 1),
            n = 0;
        return e.forEach((function(e) {
            var i = e.data.page || 0;
            t[n++] = i, t[n++] = i, t[n++] = i, t[n++] = i
        })), t
    }, e.exports.uvs = function(e, t, n, i) {
        var r = new Float32Array(4 * e.length * 2),
            o = 0;
        return e.forEach((function(e) {
            var a = e.data,
                s = a.x + a.width,
                c = a.y + a.height,
                l = a.x / t,
                u = a.y / n,
                h = s / t,
                d = c / n;
            i && (u = (n - a.y) / n, d = (n - c) / n), r[o++] = l, r[o++] = u, r[o++] = l, r[o++] = d, r[o++] = h, r[o++] = d, r[o++] = h, r[o++] = u
        })), r
    }, e.exports.positions = function(e) {
        var t = new Float32Array(4 * e.length * 2),
            n = 0;
        return e.forEach((function(e) {
            var i = e.data,
                r = e.position[0] + i.xoffset,
                o = e.position[1] + i.yoffset,
                a = i.width,
                s = i.height;
            t[n++] = r, t[n++] = o, t[n++] = r, t[n++] = o + s, t[n++] = r + a, t[n++] = o + s, t[n++] = r + a, t[n++] = o
        })), t
    }
}, function(e, t) {
    var n = {
        min: [0, 0],
        max: [0, 0]
    };

    function i(e) {
        var t = e.length / 2;
        n.min[0] = e[0], n.min[1] = e[1], n.max[0] = e[0], n.max[1] = e[1];
        for (var i = 0; i < t; i++) {
            var r = e[2 * i + 0],
                o = e[2 * i + 1];
            n.min[0] = Math.min(r, n.min[0]), n.min[1] = Math.min(o, n.min[1]), n.max[0] = Math.max(r, n.max[0]), n.max[1] = Math.max(o, n.max[1])
        }
    }
    e.exports.computeBox = function(e, t) {
        i(e), t.min.set(n.min[0], n.min[1], 0), t.max.set(n.max[0], n.max[1], 0)
    }, e.exports.computeSphere = function(e, t) {
        i(e);
        var r = n.min[0],
            o = n.min[1],
            a = n.max[0] - r,
            s = n.max[1] - o,
            c = Math.sqrt(a * a + s * s);
        t.center.set(r + a / 2, o + s / 2, 0), t.radius = c / 2
    }
}, function(e, t, n) {
    "use strict";
    /*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */
    var i = Object.getOwnPropertySymbols,
        r = Object.prototype.hasOwnProperty,
        o = Object.prototype.propertyIsEnumerable;

    function a(e) {
        if (null == e) throw new TypeError("Object.assign cannot be called with null or undefined");
        return Object(e)
    }
    e.exports = function() {
        try {
            if (!Object.assign) return !1;
            var e = new String("abc");
            if (e[5] = "de", "5" === Object.getOwnPropertyNames(e)[0]) return !1;
            for (var t = {}, n = 0; n < 10; n++) t["_" + String.fromCharCode(n)] = n;
            if ("0123456789" !== Object.getOwnPropertyNames(t).map((function(e) {
                    return t[e]
                })).join("")) return !1;
            var i = {};
            return "abcdefghijklmnopqrst".split("").forEach((function(e) {
                i[e] = e
            })), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, i)).join("")
        } catch (e) {
            return !1
        }
    }() ? Object.assign : function(e, t) {
        for (var n, s, c = a(e), l = 1; l < arguments.length; l++) {
            for (var u in n = Object(arguments[l])) r.call(n, u) && (c[u] = n[u]);
            if (i) {
                s = i(n);
                for (var h = 0; h < s.length; h++) o.call(n, s[h]) && (c[s[h]] = n[s[h]])
            }
        }
        return c
    }
}, function(e, t, n) {
    var i = function(e) {
        "use strict";
        var t = Object.prototype,
            n = t.hasOwnProperty,
            i = "function" == typeof Symbol ? Symbol : {},
            r = i.iterator || "@@iterator",
            o = i.asyncIterator || "@@asyncIterator",
            a = i.toStringTag || "@@toStringTag";

        function s(e, t, n) {
            return Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }), e[t]
        }
        try {
            s({}, "")
        } catch (e) {
            s = function(e, t, n) {
                return e[t] = n
            }
        }

        function c(e, t, n, i) {
            var r = t && t.prototype instanceof h ? t : h,
                o = Object.create(r.prototype),
                a = new M(i || []);
            return o._invoke = function(e, t, n) {
                var i = "suspendedStart";
                return function(r, o) {
                    if ("executing" === i) throw new Error("Generator is already running");
                    if ("completed" === i) {
                        if ("throw" === r) throw o;
                        return S()
                    }
                    for (n.method = r, n.arg = o;;) {
                        var a = n.delegate;
                        if (a) {
                            var s = x(a, n);
                            if (s) {
                                if (s === u) continue;
                                return s
                            }
                        }
                        if ("next" === n.method) n.sent = n._sent = n.arg;
                        else if ("throw" === n.method) {
                            if ("suspendedStart" === i) throw i = "completed", n.arg;
                            n.dispatchException(n.arg)
                        } else "return" === n.method && n.abrupt("return", n.arg);
                        i = "executing";
                        var c = l(e, t, n);
                        if ("normal" === c.type) {
                            if (i = n.done ? "completed" : "suspendedYield", c.arg === u) continue;
                            return {
                                value: c.arg,
                                done: n.done
                            }
                        }
                        "throw" === c.type && (i = "completed", n.method = "throw", n.arg = c.arg)
                    }
                }
            }(e, n, a), o
        }

        function l(e, t, n) {
            try {
                return {
                    type: "normal",
                    arg: e.call(t, n)
                }
            } catch (e) {
                return {
                    type: "throw",
                    arg: e
                }
            }
        }
        e.wrap = c;
        var u = {};

        function h() {}

        function d() {}

        function p() {}
        var f = {};
        s(f, r, (function() {
            return this
        }));
        var m = Object.getPrototypeOf,
            v = m && m(m(T([])));
        v && v !== t && n.call(v, r) && (f = v);
        var g = p.prototype = h.prototype = Object.create(f);

        function y(e) {
            ["next", "throw", "return"].forEach((function(t) {
                s(e, t, (function(e) {
                    return this._invoke(t, e)
                }))
            }))
        }

        function b(e, t) {
            var i;
            this._invoke = function(r, o) {
                function a() {
                    return new t((function(i, a) {
                        ! function i(r, o, a, s) {
                            var c = l(e[r], e, o);
                            if ("throw" !== c.type) {
                                var u = c.arg,
                                    h = u.value;
                                return h && "object" == typeof h && n.call(h, "__await") ? t.resolve(h.__await).then((function(e) {
                                    i("next", e, a, s)
                                }), (function(e) {
                                    i("throw", e, a, s)
                                })) : t.resolve(h).then((function(e) {
                                    u.value = e, a(u)
                                }), (function(e) {
                                    return i("throw", e, a, s)
                                }))
                            }
                            s(c.arg)
                        }(r, o, i, a)
                    }))
                }
                return i = i ? i.then(a, a) : a()
            }
        }

        function x(e, t) {
            var n = e.iterator[t.method];
            if (void 0 === n) {
                if (t.delegate = null, "throw" === t.method) {
                    if (e.iterator.return && (t.method = "return", t.arg = void 0, x(e, t), "throw" === t.method)) return u;
                    t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method")
                }
                return u
            }
            var i = l(n, e.iterator, t.arg);
            if ("throw" === i.type) return t.method = "throw", t.arg = i.arg, t.delegate = null, u;
            var r = i.arg;
            return r ? r.done ? (t[e.resultName] = r.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", t.arg = void 0), t.delegate = null, u) : r : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), t.delegate = null, u)
        }

        function w(e) {
            var t = {
                tryLoc: e[0]
            };
            1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t)
        }

        function _(e) {
            var t = e.completion || {};
            t.type = "normal", delete t.arg, e.completion = t
        }

        function M(e) {
            this.tryEntries = [{
                tryLoc: "root"
            }], e.forEach(w, this), this.reset(!0)
        }

        function T(e) {
            if (e) {
                var t = e[r];
                if (t) return t.call(e);
                if ("function" == typeof e.next) return e;
                if (!isNaN(e.length)) {
                    var i = -1,
                        o = function t() {
                            for (; ++i < e.length;)
                                if (n.call(e, i)) return t.value = e[i], t.done = !1, t;
                            return t.value = void 0, t.done = !0, t
                        };
                    return o.next = o
                }
            }
            return {
                next: S
            }
        }

        function S() {
            return {
                value: void 0,
                done: !0
            }
        }
        return d.prototype = p, s(g, "constructor", p), s(p, "constructor", d), d.displayName = s(p, a, "GeneratorFunction"), e.isGeneratorFunction = function(e) {
            var t = "function" == typeof e && e.constructor;
            return !!t && (t === d || "GeneratorFunction" === (t.displayName || t.name))
        }, e.mark = function(e) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(e, p) : (e.__proto__ = p, s(e, a, "GeneratorFunction")), e.prototype = Object.create(g), e
        }, e.awrap = function(e) {
            return {
                __await: e
            }
        }, y(b.prototype), s(b.prototype, o, (function() {
            return this
        })), e.AsyncIterator = b, e.async = function(t, n, i, r, o) {
            void 0 === o && (o = Promise);
            var a = new b(c(t, n, i, r), o);
            return e.isGeneratorFunction(n) ? a : a.next().then((function(e) {
                return e.done ? e.value : a.next()
            }))
        }, y(g), s(g, a, "Generator"), s(g, r, (function() {
            return this
        })), s(g, "toString", (function() {
            return "[object Generator]"
        })), e.keys = function(e) {
            var t = [];
            for (var n in e) t.push(n);
            return t.reverse(),
                function n() {
                    for (; t.length;) {
                        var i = t.pop();
                        if (i in e) return n.value = i, n.done = !1, n
                    }
                    return n.done = !0, n
                }
        }, e.values = T, M.prototype = {
            constructor: M,
            reset: function(e) {
                if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(_), !e)
                    for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0)
            },
            stop: function() {
                this.done = !0;
                var e = this.tryEntries[0].completion;
                if ("throw" === e.type) throw e.arg;
                return this.rval
            },
            dispatchException: function(e) {
                if (this.done) throw e;
                var t = this;

                function i(n, i) {
                    return a.type = "throw", a.arg = e, t.next = n, i && (t.method = "next", t.arg = void 0), !!i
                }
                for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                    var o = this.tryEntries[r],
                        a = o.completion;
                    if ("root" === o.tryLoc) return i("end");
                    if (o.tryLoc <= this.prev) {
                        var s = n.call(o, "catchLoc"),
                            c = n.call(o, "finallyLoc");
                        if (s && c) {
                            if (this.prev < o.catchLoc) return i(o.catchLoc, !0);
                            if (this.prev < o.finallyLoc) return i(o.finallyLoc)
                        } else if (s) {
                            if (this.prev < o.catchLoc) return i(o.catchLoc, !0)
                        } else {
                            if (!c) throw new Error("try statement without catch or finally");
                            if (this.prev < o.finallyLoc) return i(o.finallyLoc)
                        }
                    }
                }
            },
            abrupt: function(e, t) {
                for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                    var r = this.tryEntries[i];
                    if (r.tryLoc <= this.prev && n.call(r, "finallyLoc") && this.prev < r.finallyLoc) {
                        var o = r;
                        break
                    }
                }
                o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null);
                var a = o ? o.completion : {};
                return a.type = e, a.arg = t, o ? (this.method = "next", this.next = o.finallyLoc, u) : this.complete(a)
            },
            complete: function(e, t) {
                if ("throw" === e.type) throw e.arg;
                return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), u
            },
            finish: function(e) {
                for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                    var n = this.tryEntries[t];
                    if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), _(n), u
                }
            },
            catch: function(e) {
                for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                    var n = this.tryEntries[t];
                    if (n.tryLoc === e) {
                        var i = n.completion;
                        if ("throw" === i.type) {
                            var r = i.arg;
                            _(n)
                        }
                        return r
                    }
                }
                throw new Error("illegal catch attempt")
            },
            delegateYield: function(e, t, n) {
                return this.delegate = {
                    iterator: T(e),
                    resultName: t,
                    nextLoc: n
                }, "next" === this.method && (this.arg = void 0), u
            }
        }, e
    }(e.exports);
    try {
        regeneratorRuntime = i
    } catch (e) {
        "object" == typeof globalThis ? globalThis.regeneratorRuntime = i : Function("r", "regeneratorRuntime = r")(i)
    }
}, function(e, t, n) {}, function(e, t, n) {
    "use strict";
    n.r(t);
    var i = n(9),
        r = n(1),
        o = n(20);

    function a(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var s = new function e() {
            var t = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), a(this, "handleRAF", (function(e) {
                var n = Date.now(),
                    o = n - t.time;
                t.time = n, window.dispatchEvent(Object(i.a)(r.F, {
                    now: e,
                    deltaTime: o
                }))
            })), a(this, "start", (function() {
                t.hasBeenInit = !0, o.a.ticker.add(t.handleRAF)
            })), a(this, "pause", (function() {
                o.a.ticker.remove(t.handleRAF)
            })), this.time = Date.now(), document.addEventListener("visibilitychange", (function() {
                document.hidden ? t.pause() : t.start()
            }))
        },
        c = n(4),
        l = n(5);
    new function e() {
        var t = this;
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e),
        function(e, t, n) {
            t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n
        }(this, "handleResize", (function() {
            c.b.breakpoint === r.r && window.innerHeight > window.innerWidth ? t.el.classList.add("is-visible") : t.el.classList.remove("is-visible")
        })), this.el = document.querySelector("[data-rotate-device]"), window.addEventListener(r.Q, this.handleResize), this.handleResize()
    };
    var u = n(19),
        h = /[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,
        d = /[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,
        p = Math.PI / 180,
        f = (Math.PI, Math.sin),
        m = Math.cos,
        v = Math.abs,
        g = Math.sqrt,
        y = (Math.atan2, function(e) {
            return "number" == typeof e
        }),
        b = function(e) {
            return Math.round(1e5 * e) / 1e5 || 0
        };

    function x(e, t, n, i, r, o, a, s, c) {
        if (e !== s || t !== c) {
            n = v(n), i = v(i);
            var l = r % 360 * p,
                u = m(l),
                h = f(l),
                d = Math.PI,
                y = 2 * d,
                b = (e - s) / 2,
                x = (t - c) / 2,
                w = u * b + h * x,
                _ = -h * b + u * x,
                M = w * w,
                T = _ * _,
                S = M / (n * n) + T / (i * i);
            S > 1 && (n = g(S) * n, i = g(S) * i);
            var E = n * n,
                A = i * i,
                P = (E * A - E * T - A * M) / (E * T + A * M);
            P < 0 && (P = 0);
            var L = (o === a ? -1 : 1) * g(P),
                C = L * (n * _ / i),
                R = L * (-i * w / n),
                O = (e + s) / 2 + (u * C - h * R),
                D = (t + c) / 2 + (h * C + u * R),
                I = (w - C) / n,
                j = (_ - R) / i,
                k = (-w - C) / n,
                F = (-_ - R) / i,
                N = I * I + j * j,
                z = (j < 0 ? -1 : 1) * Math.acos(I / g(N)),
                B = (I * F - j * k < 0 ? -1 : 1) * Math.acos((I * k + j * F) / g(N * (k * k + F * F)));
            isNaN(B) && (B = d), !a && B > 0 ? B -= y : a && B < 0 && (B += y), z %= y, B %= y;
            var U, V = Math.ceil(v(B) / (y / 4)),
                H = [],
                G = B / V,
                W = 4 / 3 * f(G / 2) / (1 + m(G / 2)),
                q = u * n,
                Y = h * n,
                X = h * -i,
                Z = u * i;
            for (U = 0; U < V; U++) w = m(r = z + U * G), _ = f(r), I = m(r += G), j = f(r), H.push(w - W * _, _ + W * w, I + W * j, j - W * I, I, j);
            for (U = 0; U < H.length; U += 2) w = H[U], _ = H[U + 1], H[U] = w * q + _ * X + O, H[U + 1] = w * Y + _ * Z + D;
            return H[U - 2] = s, H[U - 1] = c, H
        }
    }

    function w(e) {
        var t, n, i, r, o, a, s, c, l, u, p, f, m, g, y, b = (e + "").replace(d, (function(e) {
                var t = +e;
                return t < 1e-4 && t > -1e-4 ? 0 : t
            })).match(h) || [],
            w = [],
            _ = 0,
            M = 0,
            T = b.length,
            S = 0,
            E = "ERROR: malformed path: " + e,
            A = function(e, t, n, i) {
                u = (n - e) / 3, p = (i - t) / 3, s.push(e + u, t + p, n - u, i - p, n, i)
            };
        if (!e || !isNaN(b[0]) || isNaN(b[1])) return console.log(E), w;
        for (t = 0; t < T; t++)
            if (m = o, isNaN(b[t]) ? a = (o = b[t].toUpperCase()) !== b[t] : t--, i = +b[t + 1], r = +b[t + 2], a && (i += _, r += M), t || (c = i, l = r), "M" === o) s && (s.length < 8 ? w.length -= 1 : S += s.length), _ = c = i, M = l = r, s = [i, r], w.push(s), t += 2, o = "L";
            else if ("C" === o) s || (s = [0, 0]), a || (_ = M = 0), s.push(i, r, _ + 1 * b[t + 3], M + 1 * b[t + 4], _ += 1 * b[t + 5], M += 1 * b[t + 6]), t += 6;
        else if ("S" === o) u = _, p = M, "C" !== m && "S" !== m || (u += _ - s[s.length - 4], p += M - s[s.length - 3]), a || (_ = M = 0), s.push(u, p, i, r, _ += 1 * b[t + 3], M += 1 * b[t + 4]), t += 4;
        else if ("Q" === o) u = _ + 2 / 3 * (i - _), p = M + 2 / 3 * (r - M), a || (_ = M = 0), _ += 1 * b[t + 3], M += 1 * b[t + 4], s.push(u, p, _ + 2 / 3 * (i - _), M + 2 / 3 * (r - M), _, M), t += 4;
        else if ("T" === o) u = _ - s[s.length - 4], p = M - s[s.length - 3], s.push(_ + u, M + p, i + 2 / 3 * (_ + 1.5 * u - i), r + 2 / 3 * (M + 1.5 * p - r), _ = i, M = r), t += 2;
        else if ("H" === o) A(_, M, _ = i, M), t += 1;
        else if ("V" === o) A(_, M, _, M = i + (a ? M - _ : 0)), t += 1;
        else if ("L" === o || "Z" === o) "Z" === o && (i = c, r = l, s.closed = !0), ("L" === o || v(_ - i) > .5 || v(M - r) > .5) && (A(_, M, i, r), "L" === o && (t += 2)), _ = i, M = r;
        else if ("A" === o) {
            if (g = b[t + 4], y = b[t + 5], u = b[t + 6], p = b[t + 7], n = 7, g.length > 1 && (g.length < 3 ? (p = u, u = y, n--) : (p = y, u = g.substr(2), n -= 2), y = g.charAt(1), g = g.charAt(0)), f = x(_, M, +b[t + 1], +b[t + 2], +b[t + 3], +g, +y, (a ? _ : 0) + 1 * u, (a ? M : 0) + 1 * p), t += n, f)
                for (n = 0; n < f.length; n++) s.push(f[n]);
            _ = s[s.length - 2], M = s[s.length - 1]
        } else console.log(E);
        return (t = s.length) < 6 ? (w.pop(), t = 0) : s[0] === s[t - 2] && s[1] === s[t - 1] && (s.closed = !0), w.totalPoints = S + t, w
    }

    function _(e) {
        y(e[0]) && (e = [e]);
        var t, n, i, r, o = "",
            a = e.length;
        for (n = 0; n < a; n++) {
            for (r = e[n], o += "M" + b(r[0]) + "," + b(r[1]) + " C", t = r.length, i = 2; i < t; i++) o += b(r[i++]) + "," + b(r[i++]) + " " + b(r[i++]) + "," + b(r[i++]) + " " + b(r[i++]) + "," + b(r[i]) + " ";
            r.closed && (o += "z")
        }
        return o
    }

    function M(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }
    /*!
     * CustomEase 3.6.0
     * https://greensock.com
     *
     * @license Copyright 2008-2021, GreenSock. All rights reserved.
     * Subject to the terms at https://greensock.com/standard-license or for
     * Last Stop GreenSock members, the agreement issued with that membership.
     * @author: Jack Doyle, jack@greensock.com
     */
    var T, S, E = function() {
            return T || "undefined" != typeof window && (T = window.gsap) && T.registerPlugin && T
        },
        A = function() {
            (T = E()) ? (T.registerEase("_CE", O.create), S = 1) : console.warn("Please gsap.registerPlugin(CustomEase)")
        },
        P = function(e) {
            return ~~(1e3 * e + (e < 0 ? -.5 : .5)) / 1e3
        },
        L = /[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,
        C = /[cLlsSaAhHvVtTqQ]/g,
        R = function e(t, n, i, r, o, a, s, c, l, u, h) {
            var d, p = (t + i) / 2,
                f = (n + r) / 2,
                m = (i + o) / 2,
                v = (r + a) / 2,
                g = (o + s) / 2,
                y = (a + c) / 2,
                b = (p + m) / 2,
                x = (f + v) / 2,
                w = (m + g) / 2,
                _ = (v + y) / 2,
                M = (b + w) / 2,
                T = (x + _) / 2,
                S = s - t,
                E = c - n,
                A = Math.abs((i - s) * E - (r - c) * S),
                P = Math.abs((o - s) * E - (a - c) * S);
            return u || (u = [{
                x: t,
                y: n
            }, {
                x: s,
                y: c
            }], h = 1), u.splice(h || u.length - 1, 0, {
                x: M,
                y: T
            }), (A + P) * (A + P) > l * (S * S + E * E) && (d = u.length, e(t, n, p, f, b, x, M, T, l, u, h), e(M, T, w, _, g, y, s, c, l, u, h + 1 + (u.length - d))), u
        },
        O = function() {
            function e(t, n, i) {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), S || A(), this.id = t, this.setData(n, i)
            }
            var t, n, i;
            return t = e, i = [{
                key: "create",
                value: function(t, n, i) {
                    return new e(t, n, i).ease
                }
            }, {
                key: "register",
                value: function(e) {
                    T = e, A()
                }
            }, {
                key: "get",
                value: function(e) {
                    return T.parseEase(e)
                }
            }, {
                key: "getSVGData",
                value: function(t, n) {
                    var i, r, o, a, s, c, l, u, h, d, p = (n = n || {}).width || 100,
                        f = n.height || 100,
                        m = n.x || 0,
                        v = (n.y || 0) + f,
                        g = T.utils.toArray(n.path)[0];
                    if (n.invert && (f = -f, v = 0), "string" == typeof t && (t = T.parseEase(t)), t.custom && (t = t.custom), t instanceof e) i = _(function(e, t, n, i, r, o, a) {
                        for (var s, c, l, u, h, d = e.length; --d > -1;)
                            for (c = (s = e[d]).length, l = 0; l < c; l += 2) u = s[l], h = s[l + 1], s[l] = u * t + h * i + o, s[l + 1] = u * n + h * r + a;
                        return e._dirty = 1, e
                    }([t.segment], p, 0, 0, -f, m, v));
                    else {
                        for (i = [m, v], a = 1 / (l = Math.max(5, 200 * (n.precision || 1))), u = 5 / (l += 2), h = P(m + a * p), r = ((d = P(v + t(a) * -f)) - v) / (h - m), o = 2; o < l; o++) s = P(m + o * a * p), c = P(v + t(o * a) * -f), (Math.abs((c - d) / (s - h) - r) > u || o === l - 1) && (i.push(h, d), r = (c - d) / (s - h)), h = s, d = c;
                        i = "M" + i.join(",")
                    }
                    return g && g.setAttribute("d", i), i
                }
            }], (n = [{
                key: "setData",
                value: function(e, t) {
                    t = t || {};
                    var n, i, r, o, a, s, c, l, u, h = (e = e || "0,0,1,1").match(L),
                        d = 1,
                        p = [],
                        f = [],
                        m = t.precision || 1,
                        v = m <= 1;
                    if (this.data = e, (C.test(e) || ~e.indexOf("M") && e.indexOf("C") < 0) && (h = w(e)[0]), 4 === (n = h.length)) h.unshift(0, 0), h.push(1, 1), n = 8;
                    else if ((n - 2) % 6) throw "Invalid CustomEase";
                    for (0 == +h[0] && 1 == +h[n - 2] || function(e, t, n) {
                            n || 0 === n || (n = Math.max(+e[e.length - 1], +e[1]));
                            var i, r = -1 * +e[0],
                                o = -n,
                                a = e.length,
                                s = 1 / (+e[a - 2] + r),
                                c = -t || (Math.abs(+e[a - 1] - +e[1]) < .01 * (+e[a - 2] - +e[0]) ? function(e) {
                                    var t, n = e.length,
                                        i = 1e20;
                                    for (t = 1; t < n; t += 6) + e[t] < i && (i = +e[t]);
                                    return i
                                }(e) + o : +e[a - 1] + o);
                            for (c = c ? 1 / c : -s, i = 0; i < a; i += 2) e[i] = (+e[i] + r) * s, e[i + 1] = (+e[i + 1] + o) * c
                        }(h, t.height, t.originY), this.segment = h, o = 2; o < n; o += 6) i = {
                        x: +h[o - 2],
                        y: +h[o - 1]
                    }, r = {
                        x: +h[o + 4],
                        y: +h[o + 5]
                    }, p.push(i, r), R(i.x, i.y, +h[o], +h[o + 1], +h[o + 2], +h[o + 3], r.x, r.y, 1 / (2e5 * m), p, p.length - 1);
                    for (n = p.length, o = 0; o < n; o++) c = p[o], l = p[o - 1] || c, (c.x > l.x || l.y !== c.y && l.x === c.x || c === l) && c.x <= 1 ? (l.cx = c.x - l.x, l.cy = c.y - l.y, l.n = c, l.nx = c.x, v && o > 1 && Math.abs(l.cy / l.cx - p[o - 2].cy / p[o - 2].cx) > 2 && (v = 0), l.cx < d && (l.cx ? d = l.cx : (l.cx = .001, o === n - 1 && (l.x -= .001, d = Math.min(d, .001), v = 0)))) : (p.splice(o--, 1), n--);
                    if (a = 1 / (n = 1 / d + 1 | 0), s = 0, c = p[0], v) {
                        for (o = 0; o < n; o++) u = o * a, c.nx < u && (c = p[++s]), i = c.y + (u - c.x) / c.cx * c.cy, f[o] = {
                            x: u,
                            cx: a,
                            y: i,
                            cy: 0,
                            nx: 9
                        }, o && (f[o - 1].cy = i - f[o - 1].y);
                        f[n - 1].cy = p[p.length - 1].y - i
                    } else {
                        for (o = 0; o < n; o++) c.nx < o * a && (c = p[++s]), f[o] = c;
                        s < p.length - 1 && (f[o - 1] = p[p.length - 2])
                    }
                    return this.ease = function(e) {
                        var t = f[e * n | 0] || f[n - 1];
                        return t.nx < e && (t = t.n), t.y + (e - t.x) / t.cx * t.cy
                    }, this.ease.custom = this, this.id && T.registerEase(this.id, this.ease), this
                }
            }, {
                key: "getSVGData",
                value: function(t) {
                    return e.getSVGData(this, t)
                }
            }]) && M(t.prototype, n), i && M(t, i), e
        }();
    E() && T.registerPlugin(O), O.version = "3.6.0", u.a.registerPlugin(O), O.create("smooth.y", "0.00, 0.16, 1.00, 1.00"), O.create("smooth.x", "0.00, 0.00, 0.42, 1.00"), O.create("bounce.out", "0.22, 1.4, 0.36, 1"), O.create("bounce.in", "0.43, 0.00, 0.79, -0.28"), O.create("quart", "0.76, 0.00, 0.24, 1.00"), O.create("quart.in", "0.52, 0.00, 0.74, 0.00"), O.create("quart.out", "0.26, 1.00, 0.48, 1.00"), O.create("quint", "0.84, 0.00, 0.16, 1.00"), O.create("quint.in", "0.64, 0.00, 0.78, 0.00"), O.create("quint.out", "0.22, 1.00, 0.36, 1.00"), O.create("expo", "1, 0, 0, 1"), O.create("expo.in", "0.95, 0.05, 0.795, 0.035"), O.create("expo.out", "0.19, 1, 0.22, 1"), O.create("quad", "0.455, 0.03, 0.515, 0.955"), O.create("quad.in", "0.55, 0.085, 0.68, 0.53"), O.create("quad.out", "0.165, 0.84, 0.44, 1");
    var D = n(0),
        I = function(e, t) {
            var n, i, r, o, a;
            void 0 === t && console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'), t === document && console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'), this.object = e, this.domElement = t, this.enabled = !0, this.target = new D.Vector3, this.minDistance = 0, this.maxDistance = 1 / 0, this.minZoom = 0, this.maxZoom = 1 / 0, this.minPolarAngle = 0, this.maxPolarAngle = Math.PI, this.minAzimuthAngle = -1 / 0, this.maxAzimuthAngle = 1 / 0, this.enableDamping = !1, this.dampingFactor = .05, this.enableZoom = !0, this.zoomSpeed = 1, this.enableRotate = !0, this.rotateSpeed = 1, this.enablePan = !0, this.panSpeed = 1, this.screenSpacePanning = !1, this.keyPanSpeed = 7, this.autoRotate = !1, this.autoRotateSpeed = 2, this.enableKeys = !0, this.keys = {
                LEFT: 37,
                UP: 38,
                RIGHT: 39,
                BOTTOM: 40
            }, this.mouseButtons = {
                LEFT: D.MOUSE.ROTATE,
                MIDDLE: D.MOUSE.DOLLY,
                RIGHT: D.MOUSE.PAN
            }, this.touches = {
                ONE: D.TOUCH.ROTATE,
                TWO: D.TOUCH.DOLLY_PAN
            }, this.target0 = this.target.clone(), this.position0 = this.object.position.clone(), this.zoom0 = this.object.zoom, this.getPolarAngle = function() {
                return f.phi
            }, this.getAzimuthalAngle = function() {
                return f.theta
            }, this.saveState = function() {
                s.target0.copy(s.target), s.position0.copy(s.object.position), s.zoom0 = s.object.zoom
            }, this.reset = function() {
                s.target.copy(s.target0), s.object.position.copy(s.position0), s.object.zoom = s.zoom0, s.object.updateProjectionMatrix(), s.dispatchEvent(c), s.update(), d = h.NONE
            }, this.update = (n = new D.Vector3, i = (new D.Quaternion).setFromUnitVectors(e.up, new D.Vector3(0, 1, 0)), r = i.clone().inverse(), o = new D.Vector3, a = new D.Quaternion, function() {
                var e = s.object.position;
                return n.copy(e).sub(s.target), n.applyQuaternion(i), f.setFromVector3(n), s.autoRotate && d === h.NONE && L(2 * Math.PI / 60 / 60 * s.autoRotateSpeed), s.enableDamping ? (f.theta += m.theta * s.dampingFactor, f.phi += m.phi * s.dampingFactor) : (f.theta += m.theta, f.phi += m.phi), f.theta = Math.max(s.minAzimuthAngle, Math.min(s.maxAzimuthAngle, f.theta)), f.phi = Math.max(s.minPolarAngle, Math.min(s.maxPolarAngle, f.phi)), f.makeSafe(), f.radius *= v, f.radius = Math.max(s.minDistance, Math.min(s.maxDistance, f.radius)), !0 === s.enableDamping ? s.target.addScaledVector(g, s.dampingFactor) : s.target.add(g), n.setFromSpherical(f), n.applyQuaternion(r), e.copy(s.target).add(n), s.object.lookAt(s.target), !0 === s.enableDamping ? (m.theta *= 1 - s.dampingFactor, m.phi *= 1 - s.dampingFactor, g.multiplyScalar(1 - s.dampingFactor)) : (m.set(0, 0, 0), g.set(0, 0, 0)), v = 1, !!(y || o.distanceToSquared(s.object.position) > p || 8 * (1 - a.dot(s.object.quaternion)) > p) && (s.dispatchEvent(c), o.copy(s.object.position), a.copy(s.object.quaternion), y = !1, !0)
            }), this.dispose = function() {
                s.domElement.removeEventListener("contextmenu", ee, !1), s.domElement.removeEventListener("mousedown", q, !1), s.domElement.removeEventListener("wheel", Z, !1), s.domElement.removeEventListener("touchstart", K, !1), s.domElement.removeEventListener("touchend", $, !1), s.domElement.removeEventListener("touchmove", Q, !1), document.removeEventListener("mousemove", Y, !1), document.removeEventListener("mouseup", X, !1), s.domElement.removeEventListener("keydown", J, !1)
            };
            var s = this,
                c = {
                    type: "change"
                },
                l = {
                    type: "start"
                },
                u = {
                    type: "end"
                },
                h = {
                    NONE: -1,
                    ROTATE: 0,
                    DOLLY: 1,
                    PAN: 2,
                    TOUCH_ROTATE: 3,
                    TOUCH_PAN: 4,
                    TOUCH_DOLLY_PAN: 5,
                    TOUCH_DOLLY_ROTATE: 6
                },
                d = h.NONE,
                p = 1e-6,
                f = new D.Spherical,
                m = new D.Spherical,
                v = 1,
                g = new D.Vector3,
                y = !1,
                b = new D.Vector2,
                x = new D.Vector2,
                w = new D.Vector2,
                _ = new D.Vector2,
                M = new D.Vector2,
                T = new D.Vector2,
                S = new D.Vector2,
                E = new D.Vector2,
                A = new D.Vector2;

            function P() {
                return Math.pow(.95, s.zoomSpeed)
            }

            function L(e) {
                m.theta -= e
            }

            function C(e) {
                m.phi -= e
            }
            var R, O = (R = new D.Vector3, function(e, t) {
                    R.setFromMatrixColumn(t, 0), R.multiplyScalar(-e), g.add(R)
                }),
                I = function() {
                    var e = new D.Vector3;
                    return function(t, n) {
                        !0 === s.screenSpacePanning ? e.setFromMatrixColumn(n, 1) : (e.setFromMatrixColumn(n, 0), e.crossVectors(s.object.up, e)), e.multiplyScalar(t), g.add(e)
                    }
                }(),
                j = function() {
                    var e = new D.Vector3;
                    return function(t, n) {
                        var i = s.domElement;
                        if (s.object.isPerspectiveCamera) {
                            var r = s.object.position;
                            e.copy(r).sub(s.target);
                            var o = e.length();
                            o *= Math.tan(s.object.fov / 2 * Math.PI / 180), O(2 * t * o / i.clientHeight, s.object.matrix), I(2 * n * o / i.clientHeight, s.object.matrix)
                        } else s.object.isOrthographicCamera ? (O(t * (s.object.right - s.object.left) / s.object.zoom / i.clientWidth, s.object.matrix), I(n * (s.object.top - s.object.bottom) / s.object.zoom / i.clientHeight, s.object.matrix)) : (console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."), s.enablePan = !1)
                    }
                }();

            function k(e) {
                s.object.isPerspectiveCamera ? v /= e : s.object.isOrthographicCamera ? (s.object.zoom = Math.max(s.minZoom, Math.min(s.maxZoom, s.object.zoom * e)), s.object.updateProjectionMatrix(), y = !0) : (console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."), s.enableZoom = !1)
            }

            function F(e) {
                s.object.isPerspectiveCamera ? v *= e : s.object.isOrthographicCamera ? (s.object.zoom = Math.max(s.minZoom, Math.min(s.maxZoom, s.object.zoom / e)), s.object.updateProjectionMatrix(), y = !0) : (console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."), s.enableZoom = !1)
            }

            function N(e) {
                b.set(e.clientX, e.clientY)
            }

            function z(e) {
                _.set(e.clientX, e.clientY)
            }

            function B(e) {
                if (1 == e.touches.length) b.set(e.touches[0].pageX, e.touches[0].pageY);
                else {
                    var t = .5 * (e.touches[0].pageX + e.touches[1].pageX),
                        n = .5 * (e.touches[0].pageY + e.touches[1].pageY);
                    b.set(t, n)
                }
            }

            function U(e) {
                if (1 == e.touches.length) _.set(e.touches[0].pageX, e.touches[0].pageY);
                else {
                    var t = .5 * (e.touches[0].pageX + e.touches[1].pageX),
                        n = .5 * (e.touches[0].pageY + e.touches[1].pageY);
                    _.set(t, n)
                }
            }

            function V(e) {
                var t = e.touches[0].pageX - e.touches[1].pageX,
                    n = e.touches[0].pageY - e.touches[1].pageY,
                    i = Math.sqrt(t * t + n * n);
                S.set(0, i)
            }

            function H(e) {
                if (1 == e.touches.length) x.set(e.touches[0].pageX, e.touches[0].pageY);
                else {
                    var t = .5 * (e.touches[0].pageX + e.touches[1].pageX),
                        n = .5 * (e.touches[0].pageY + e.touches[1].pageY);
                    x.set(t, n)
                }
                w.subVectors(x, b).multiplyScalar(s.rotateSpeed);
                var i = s.domElement;
                L(2 * Math.PI * w.x / i.clientHeight), C(2 * Math.PI * w.y / i.clientHeight), b.copy(x)
            }

            function G(e) {
                if (1 == e.touches.length) M.set(e.touches[0].pageX, e.touches[0].pageY);
                else {
                    var t = .5 * (e.touches[0].pageX + e.touches[1].pageX),
                        n = .5 * (e.touches[0].pageY + e.touches[1].pageY);
                    M.set(t, n)
                }
                T.subVectors(M, _).multiplyScalar(s.panSpeed), j(T.x, T.y), _.copy(M)
            }

            function W(e) {
                var t = e.touches[0].pageX - e.touches[1].pageX,
                    n = e.touches[0].pageY - e.touches[1].pageY,
                    i = Math.sqrt(t * t + n * n);
                E.set(0, i), A.set(0, Math.pow(E.y / S.y, s.zoomSpeed)), k(A.y), S.copy(E)
            }

            function q(e) {
                if (!1 !== s.enabled) {
                    var t;
                    switch (e.preventDefault(), s.domElement.focus ? s.domElement.focus() : window.focus(), e.button) {
                        case 0:
                            t = s.mouseButtons.LEFT;
                            break;
                        case 1:
                            t = s.mouseButtons.MIDDLE;
                            break;
                        case 2:
                            t = s.mouseButtons.RIGHT;
                            break;
                        default:
                            t = -1
                    }
                    switch (t) {
                        case D.MOUSE.DOLLY:
                            if (!1 === s.enableZoom) return;
                            ! function(e) {
                                S.set(e.clientX, e.clientY)
                            }(e), d = h.DOLLY;
                            break;
                        case D.MOUSE.ROTATE:
                            if (e.ctrlKey || e.metaKey || e.shiftKey) {
                                if (!1 === s.enablePan) return;
                                z(e), d = h.PAN
                            } else {
                                if (!1 === s.enableRotate) return;
                                N(e), d = h.ROTATE
                            }
                            break;
                        case D.MOUSE.PAN:
                            if (e.ctrlKey || e.metaKey || e.shiftKey) {
                                if (!1 === s.enableRotate) return;
                                N(e), d = h.ROTATE
                            } else {
                                if (!1 === s.enablePan) return;
                                z(e), d = h.PAN
                            }
                            break;
                        default:
                            d = h.NONE
                    }
                    d !== h.NONE && (document.addEventListener("mousemove", Y, !1), document.addEventListener("mouseup", X, !1), s.dispatchEvent(l))
                }
            }

            function Y(e) {
                if (!1 !== s.enabled) switch (e.preventDefault(), d) {
                    case h.ROTATE:
                        if (!1 === s.enableRotate) return;
                        ! function(e) {
                            x.set(e.clientX, e.clientY), w.subVectors(x, b).multiplyScalar(s.rotateSpeed);
                            var t = s.domElement;
                            L(2 * Math.PI * w.x / t.clientHeight), C(2 * Math.PI * w.y / t.clientHeight), b.copy(x), s.update()
                        }(e);
                        break;
                    case h.DOLLY:
                        if (!1 === s.enableZoom) return;
                        ! function(e) {
                            E.set(e.clientX, e.clientY), A.subVectors(E, S), A.y > 0 ? k(P()) : A.y < 0 && F(P()), S.copy(E), s.update()
                        }(e);
                        break;
                    case h.PAN:
                        if (!1 === s.enablePan) return;
                        ! function(e) {
                            M.set(e.clientX, e.clientY), T.subVectors(M, _).multiplyScalar(s.panSpeed), j(T.x, T.y), _.copy(M), s.update()
                        }(e)
                }
            }

            function X(e) {
                !1 !== s.enabled && (document.removeEventListener("mousemove", Y, !1), document.removeEventListener("mouseup", X, !1), s.dispatchEvent(u), d = h.NONE)
            }

            function Z(e) {
                !1 === s.enabled || !1 === s.enableZoom || d !== h.NONE && d !== h.ROTATE || (e.preventDefault(), e.stopPropagation(), s.dispatchEvent(l), function(e) {
                    e.deltaY < 0 ? F(P()) : e.deltaY > 0 && k(P()), s.update()
                }(e), s.dispatchEvent(u))
            }

            function J(e) {
                !1 !== s.enabled && !1 !== s.enableKeys && !1 !== s.enablePan && function(e) {
                    var t = !1;
                    switch (e.keyCode) {
                        case s.keys.UP:
                            j(0, s.keyPanSpeed), t = !0;
                            break;
                        case s.keys.BOTTOM:
                            j(0, -s.keyPanSpeed), t = !0;
                            break;
                        case s.keys.LEFT:
                            j(s.keyPanSpeed, 0), t = !0;
                            break;
                        case s.keys.RIGHT:
                            j(-s.keyPanSpeed, 0), t = !0
                    }
                    t && (e.preventDefault(), s.update())
                }(e)
            }

            function K(e) {
                if (!1 !== s.enabled) {
                    switch (e.preventDefault(), e.touches.length) {
                        case 1:
                            switch (s.touches.ONE) {
                                case D.TOUCH.ROTATE:
                                    if (!1 === s.enableRotate) return;
                                    B(e), d = h.TOUCH_ROTATE;
                                    break;
                                case D.TOUCH.PAN:
                                    if (!1 === s.enablePan) return;
                                    U(e), d = h.TOUCH_PAN;
                                    break;
                                default:
                                    d = h.NONE
                            }
                            break;
                        case 2:
                            switch (s.touches.TWO) {
                                case D.TOUCH.DOLLY_PAN:
                                    if (!1 === s.enableZoom && !1 === s.enablePan) return;
                                    ! function(e) {
                                        s.enableZoom && V(e), s.enablePan && U(e)
                                    }(e), d = h.TOUCH_DOLLY_PAN;
                                    break;
                                case D.TOUCH.DOLLY_ROTATE:
                                    if (!1 === s.enableZoom && !1 === s.enableRotate) return;
                                    ! function(e) {
                                        s.enableZoom && V(e), s.enableRotate && B(e)
                                    }(e), d = h.TOUCH_DOLLY_ROTATE;
                                    break;
                                default:
                                    d = h.NONE
                            }
                            break;
                        default:
                            d = h.NONE
                    }
                    d !== h.NONE && s.dispatchEvent(l)
                }
            }

            function Q(e) {
                if (!1 !== s.enabled) switch (e.preventDefault(), e.stopPropagation(), d) {
                    case h.TOUCH_ROTATE:
                        if (!1 === s.enableRotate) return;
                        H(e), s.update();
                        break;
                    case h.TOUCH_PAN:
                        if (!1 === s.enablePan) return;
                        G(e), s.update();
                        break;
                    case h.TOUCH_DOLLY_PAN:
                        if (!1 === s.enableZoom && !1 === s.enablePan) return;
                        ! function(e) {
                            s.enableZoom && W(e), s.enablePan && G(e)
                        }(e), s.update();
                        break;
                    case h.TOUCH_DOLLY_ROTATE:
                        if (!1 === s.enableZoom && !1 === s.enableRotate) return;
                        ! function(e) {
                            s.enableZoom && W(e), s.enableRotate && H(e)
                        }(e), s.update();
                        break;
                    default:
                        d = h.NONE
                }
            }

            function $(e) {
                !1 !== s.enabled && (s.dispatchEvent(u), d = h.NONE)
            }

            function ee(e) {
                !1 !== s.enabled && e.preventDefault()
            }
            s.domElement.addEventListener("contextmenu", ee, !1), s.domElement.addEventListener("mousedown", q, !1), s.domElement.addEventListener("wheel", Z, !1), s.domElement.addEventListener("touchstart", K, !1), s.domElement.addEventListener("touchend", $, !1), s.domElement.addEventListener("touchmove", Q, !1), s.domElement.addEventListener("keydown", J, !1), -1 === s.domElement.tabIndex && (s.domElement.tabIndex = 0), this.update()
        };
    (I.prototype = Object.create(D.EventDispatcher.prototype)).constructor = I;
    var j = function(e, t) {
        I.call(this, e, t), this.mouseButtons.LEFT = D.MOUSE.PAN, this.mouseButtons.RIGHT = D.MOUSE.ROTATE, this.touches.ONE = D.TOUCH.PAN, this.touches.TWO = D.TOUCH.DOLLY_ROTATE
    };
    (j.prototype = Object.create(D.EventDispatcher.prototype)).constructor = j;
    var k, F, N, z = {
        uniforms: {
            tDiffuse: {
                value: null
            },
            opacity: {
                value: 1
            }
        },
        vertexShader: ["varying vec2 vUv;", "void main() {", "\tvUv = uv;", "\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
        fragmentShader: ["uniform float opacity;", "uniform sampler2D tDiffuse;", "varying vec2 vUv;", "void main() {", "\tvec4 texel = texture2D( tDiffuse, vUv );", "\tgl_FragColor = opacity * texel;", "}"].join("\n")
    };

    function B() {
        this.enabled = !0, this.needsSwap = !0, this.clear = !1, this.renderToScreen = !1
    }
    Object.assign(B.prototype, {
        setSize: function() {},
        render: function() {
            console.error("THREE.Pass: .render() must be implemented in derived pass.")
        }
    }), B.FullScreenQuad = (k = new D.OrthographicCamera(-1, 1, 1, -1, 0, 1), F = new D.PlaneBufferGeometry(2, 2), N = function(e) {
        this._mesh = new D.Mesh(F, e)
    }, Object.defineProperty(N.prototype, "material", {
        get: function() {
            return this._mesh.material
        },
        set: function(e) {
            this._mesh.material = e
        }
    }), Object.assign(N.prototype, {
        dispose: function() {
            this._mesh.geometry.dispose()
        },
        render: function(e) {
            e.render(this._mesh, k)
        }
    }), N);
    var U = function(e, t) {
        B.call(this), this.textureID = void 0 !== t ? t : "tDiffuse", e instanceof D.ShaderMaterial ? (this.uniforms = e.uniforms, this.material = e) : e && (this.uniforms = D.UniformsUtils.clone(e.uniforms), this.material = new D.ShaderMaterial({
            defines: Object.assign({}, e.defines),
            uniforms: this.uniforms,
            vertexShader: e.vertexShader,
            fragmentShader: e.fragmentShader
        })), this.fsQuad = new B.FullScreenQuad(this.material)
    };
    U.prototype = Object.assign(Object.create(B.prototype), {
        constructor: U,
        render: function(e, t, n) {
            this.uniforms[this.textureID] && (this.uniforms[this.textureID].value = n.texture), this.fsQuad.material = this.material, this.renderToScreen ? (e.setRenderTarget(null), this.fsQuad.render(e)) : (e.setRenderTarget(t), this.clear && e.clear(e.autoClearColor, e.autoClearDepth, e.autoClearStencil), this.fsQuad.render(e))
        }
    });
    var V = function(e, t) {
        B.call(this), this.scene = e, this.camera = t, this.clear = !0, this.needsSwap = !1, this.inverse = !1
    };
    V.prototype = Object.assign(Object.create(B.prototype), {
        constructor: V,
        render: function(e, t, n) {
            var i, r, o = e.getContext(),
                a = e.state;
            a.buffers.color.setMask(!1), a.buffers.depth.setMask(!1), a.buffers.color.setLocked(!0), a.buffers.depth.setLocked(!0), this.inverse ? (i = 0, r = 1) : (i = 1, r = 0), a.buffers.stencil.setTest(!0), a.buffers.stencil.setOp(o.REPLACE, o.REPLACE, o.REPLACE), a.buffers.stencil.setFunc(o.ALWAYS, i, 4294967295), a.buffers.stencil.setClear(r), a.buffers.stencil.setLocked(!0), e.setRenderTarget(n), this.clear && e.clear(), e.render(this.scene, this.camera), e.setRenderTarget(t), this.clear && e.clear(), e.render(this.scene, this.camera), a.buffers.color.setLocked(!1), a.buffers.depth.setLocked(!1), a.buffers.stencil.setLocked(!1), a.buffers.stencil.setFunc(o.EQUAL, 1, 4294967295), a.buffers.stencil.setOp(o.KEEP, o.KEEP, o.KEEP), a.buffers.stencil.setLocked(!0)
        }
    });
    var H = function() {
        B.call(this), this.needsSwap = !1
    };
    H.prototype = Object.create(B.prototype), Object.assign(H.prototype, {
        render: function(e) {
            e.state.buffers.stencil.setLocked(!1), e.state.buffers.stencil.setTest(!1)
        }
    });
    var G = function(e, t) {
        if (this.renderer = e, void 0 === t) {
            var n = {
                    minFilter: D.LinearFilter,
                    magFilter: D.LinearFilter,
                    format: D.RGBAFormat,
                    stencilBuffer: !1
                },
                i = e.getSize(new D.Vector2);
            this._pixelRatio = e.getPixelRatio(), this._width = i.width, this._height = i.height, (t = new D.WebGLRenderTarget(this._width * this._pixelRatio, this._height * this._pixelRatio, n)).texture.name = "EffectComposer.rt1"
        } else this._pixelRatio = 1, this._width = t.width, this._height = t.height;
        this.renderTarget1 = t, this.renderTarget2 = t.clone(), this.renderTarget2.texture.name = "EffectComposer.rt2", this.writeBuffer = this.renderTarget1, this.readBuffer = this.renderTarget2, this.renderToScreen = !0, this.passes = [], void 0 === z && console.error("THREE.EffectComposer relies on CopyShader"), void 0 === U && console.error("THREE.EffectComposer relies on ShaderPass"), this.copyPass = new U(z), this.clock = new D.Clock
    };
    Object.assign(G.prototype, {
        swapBuffers: function() {
            var e = this.readBuffer;
            this.readBuffer = this.writeBuffer, this.writeBuffer = e
        },
        addPass: function(e) {
            this.passes.push(e), e.setSize(this._width * this._pixelRatio, this._height * this._pixelRatio)
        },
        insertPass: function(e, t) {
            this.passes.splice(t, 0, e)
        },
        isLastEnabledPass: function(e) {
            for (var t = e + 1; t < this.passes.length; t++)
                if (this.passes[t].enabled) return !1;
            return !0
        },
        render: function(e) {
            void 0 === e && (e = this.clock.getDelta());
            var t, n, i = this.renderer.getRenderTarget(),
                r = !1,
                o = this.passes.length;
            for (n = 0; n < o; n++)
                if (!1 !== (t = this.passes[n]).enabled) {
                    if (t.renderToScreen = this.renderToScreen && this.isLastEnabledPass(n), t.render(this.renderer, this.writeBuffer, this.readBuffer, e, r), t.needsSwap) {
                        if (r) {
                            var a = this.renderer.getContext(),
                                s = this.renderer.state.buffers.stencil;
                            s.setFunc(a.NOTEQUAL, 1, 4294967295), this.copyPass.render(this.renderer, this.writeBuffer, this.readBuffer, e), s.setFunc(a.EQUAL, 1, 4294967295)
                        }
                        this.swapBuffers()
                    }
                    void 0 !== V && (t instanceof V ? r = !0 : t instanceof H && (r = !1))
                }
            this.renderer.setRenderTarget(i)
        },
        reset: function(e) {
            if (void 0 === e) {
                var t = this.renderer.getSize(new D.Vector2);
                this._pixelRatio = this.renderer.getPixelRatio(), this._width = t.width, this._height = t.height, (e = this.renderTarget1.clone()).setSize(this._width * this._pixelRatio, this._height * this._pixelRatio)
            }
            this.renderTarget1.dispose(), this.renderTarget2.dispose(), this.renderTarget1 = e, this.renderTarget2 = e.clone(), this.writeBuffer = this.renderTarget1, this.readBuffer = this.renderTarget2
        },
        setSize: function(e, t) {
            this._width = e, this._height = t;
            var n = this._width * this._pixelRatio,
                i = this._height * this._pixelRatio;
            this.renderTarget1.setSize(n, i), this.renderTarget2.setSize(n, i);
            for (var r = 0; r < this.passes.length; r++) this.passes[r].setSize(n, i)
        },
        setPixelRatio: function(e) {
            this._pixelRatio = e, this.setSize(this._width, this._height)
        }
    });
    var W = function() {
        this.enabled = !0, this.needsSwap = !0, this.clear = !1, this.renderToScreen = !1
    };
    Object.assign(W.prototype, {
        setSize: function() {},
        render: function() {
            console.error("THREE.Pass: .render() must be implemented in derived pass.")
        }
    }), W.FullScreenQuad = function() {
        var e = new D.OrthographicCamera(-1, 1, 1, -1, 0, 1),
            t = new D.PlaneBufferGeometry(2, 2),
            n = function(e) {
                this._mesh = new D.Mesh(t, e)
            };
        return Object.defineProperty(n.prototype, "material", {
            get: function() {
                return this._mesh.material
            },
            set: function(e) {
                this._mesh.material = e
            }
        }), Object.assign(n.prototype, {
            dispose: function() {
                this._mesh.geometry.dispose()
            },
            render: function(t) {
                t.render(this._mesh, e)
            }
        }), n
    }();
    var q = function(e, t, n, i, r) {
        B.call(this), this.scene = e, this.camera = t, this.overrideMaterial = n, this.clearColor = i, this.clearAlpha = void 0 !== r ? r : 0, this.clear = !0, this.clearDepth = !1, this.needsSwap = !1
    };
    q.prototype = Object.assign(Object.create(B.prototype), {
        constructor: q,
        render: function(e, t, n) {
            var i, r, o = e.autoClear;
            e.autoClear = !1, this.scene.overrideMaterial = this.overrideMaterial, this.clearColor && (i = e.getClearColor().getHex(), r = e.getClearAlpha(), e.setClearColor(this.clearColor, this.clearAlpha)), this.clearDepth && e.clearDepth(), e.setRenderTarget(this.renderToScreen ? null : n), this.clear && e.clear(e.autoClearColor, e.autoClearDepth, e.autoClearStencil), e.render(this.scene, this.camera), this.clearColor && e.setClearColor(i, r), this.scene.overrideMaterial = null, e.autoClear = o
        }
    });
    var Y = {
            defines: {
                SMAA_THRESHOLD: "0.1"
            },
            uniforms: {
                tDiffuse: {
                    value: null
                },
                resolution: {
                    value: new D.Vector2(1 / 1024, 1 / 512)
                }
            },
            vertexShader: ["uniform vec2 resolution;", "varying vec2 vUv;", "varying vec4 vOffset[ 3 ];", "void SMAAEdgeDetectionVS( vec2 texcoord ) {", "\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 );", "\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 );", "\tvOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 );", "}", "void main() {", "\tvUv = uv;", "\tSMAAEdgeDetectionVS( vUv );", "\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
            fragmentShader: ["uniform sampler2D tDiffuse;", "varying vec2 vUv;", "varying vec4 vOffset[ 3 ];", "vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {", "\tvec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );", "\tvec4 delta;", "\tvec3 C = texture2D( colorTex, texcoord ).rgb;", "\tvec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;", "\tvec3 t = abs( C - Cleft );", "\tdelta.x = max( max( t.r, t.g ), t.b );", "\tvec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;", "\tt = abs( C - Ctop );", "\tdelta.y = max( max( t.r, t.g ), t.b );", "\tvec2 edges = step( threshold, delta.xy );", "\tif ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )", "\t\tdiscard;", "\tvec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;", "\tt = abs( C - Cright );", "\tdelta.z = max( max( t.r, t.g ), t.b );", "\tvec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;", "\tt = abs( C - Cbottom );", "\tdelta.w = max( max( t.r, t.g ), t.b );", "\tfloat maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );", "\tvec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;", "\tt = abs( C - Cleftleft );", "\tdelta.z = max( max( t.r, t.g ), t.b );", "\tvec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;", "\tt = abs( C - Ctoptop );", "\tdelta.w = max( max( t.r, t.g ), t.b );", "\tmaxDelta = max( max( maxDelta, delta.z ), delta.w );", "\tedges.xy *= step( 0.5 * maxDelta, delta.xy );", "\treturn vec4( edges, 0.0, 0.0 );", "}", "void main() {", "\tgl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );", "}"].join("\n")
        },
        X = {
            defines: {
                SMAA_MAX_SEARCH_STEPS: "8",
                SMAA_AREATEX_MAX_DISTANCE: "16",
                SMAA_AREATEX_PIXEL_SIZE: "( 1.0 / vec2( 160.0, 560.0 ) )",
                SMAA_AREATEX_SUBTEX_SIZE: "( 1.0 / 7.0 )"
            },
            uniforms: {
                tDiffuse: {
                    value: null
                },
                tArea: {
                    value: null
                },
                tSearch: {
                    value: null
                },
                resolution: {
                    value: new D.Vector2(1 / 1024, 1 / 512)
                }
            },
            vertexShader: ["uniform vec2 resolution;", "varying vec2 vUv;", "varying vec4 vOffset[ 3 ];", "varying vec2 vPixcoord;", "void SMAABlendingWeightCalculationVS( vec2 texcoord ) {", "\tvPixcoord = texcoord / resolution;", "\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 );", "\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 );", "\tvOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );", "}", "void main() {", "\tvUv = uv;", "\tSMAABlendingWeightCalculationVS( vUv );", "\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
            fragmentShader: ["#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )", "uniform sampler2D tDiffuse;", "uniform sampler2D tArea;", "uniform sampler2D tSearch;", "uniform vec2 resolution;", "varying vec2 vUv;", "varying vec4 vOffset[3];", "varying vec2 vPixcoord;", "#if __VERSION__ == 100", "vec2 round( vec2 x ) {", "\treturn sign( x ) * floor( abs( x ) + 0.5 );", "}", "#endif", "float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {", "\te.r = bias + e.r * scale;", "\treturn 255.0 * texture2D( searchTex, e, 0.0 ).r;", "}", "float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {", "\tvec2 e = vec2( 0.0, 1.0 );", "\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {", "\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;", "\t\ttexcoord -= vec2( 2.0, 0.0 ) * resolution;", "\t\tif ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;", "\t}", "\ttexcoord.x += 0.25 * resolution.x;", "\ttexcoord.x += resolution.x;", "\ttexcoord.x += 2.0 * resolution.x;", "\ttexcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);", "\treturn texcoord.x;", "}", "float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {", "\tvec2 e = vec2( 0.0, 1.0 );", "\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {", "\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;", "\t\ttexcoord += vec2( 2.0, 0.0 ) * resolution;", "\t\tif ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;", "\t}", "\ttexcoord.x -= 0.25 * resolution.x;", "\ttexcoord.x -= resolution.x;", "\ttexcoord.x -= 2.0 * resolution.x;", "\ttexcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );", "\treturn texcoord.x;", "}", "float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {", "\tvec2 e = vec2( 1.0, 0.0 );", "\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {", "\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;", "\t\ttexcoord += vec2( 0.0, 2.0 ) * resolution;", "\t\tif ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;", "\t}", "\ttexcoord.y -= 0.25 * resolution.y;", "\ttexcoord.y -= resolution.y;", "\ttexcoord.y -= 2.0 * resolution.y;", "\ttexcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 );", "\treturn texcoord.y;", "}", "float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {", "\tvec2 e = vec2( 1.0, 0.0 );", "\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {", "\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;", "\t\ttexcoord -= vec2( 0.0, 2.0 ) * resolution;", "\t\tif ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;", "\t}", "\ttexcoord.y += 0.25 * resolution.y;", "\ttexcoord.y += resolution.y;", "\ttexcoord.y += 2.0 * resolution.y;", "\ttexcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 );", "\treturn texcoord.y;", "}", "vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {", "\tvec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;", "\ttexcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );", "\ttexcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;", "\treturn texture2D( areaTex, texcoord, 0.0 ).rg;", "}", "vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {", "\tvec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );", "\tvec2 e = texture2D( edgesTex, texcoord ).rg;", "\tif ( e.g > 0.0 ) {", "\t\tvec2 d;", "\t\tvec2 coords;", "\t\tcoords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );", "\t\tcoords.y = offset[ 1 ].y;", "\t\td.x = coords.x;", "\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).r;", "\t\tcoords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );", "\t\td.y = coords.x;", "\t\td = d / resolution.x - pixcoord.x;", "\t\tvec2 sqrt_d = sqrt( abs( d ) );", "\t\tcoords.y -= 1.0 * resolution.y;", "\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;", "\t\tweights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );", "\t}", "\tif ( e.r > 0.0 ) {", "\t\tvec2 d;", "\t\tvec2 coords;", "\t\tcoords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );", "\t\tcoords.x = offset[ 0 ].x;", "\t\td.x = coords.y;", "\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).g;", "\t\tcoords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );", "\t\td.y = coords.y;", "\t\td = d / resolution.y - pixcoord.y;", "\t\tvec2 sqrt_d = sqrt( abs( d ) );", "\t\tcoords.y -= 1.0 * resolution.y;", "\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;", "\t\tweights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );", "\t}", "\treturn weights;", "}", "void main() {", "\tgl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );", "}"].join("\n")
        },
        Z = {
            uniforms: {
                tDiffuse: {
                    value: null
                },
                tColor: {
                    value: null
                },
                resolution: {
                    value: new D.Vector2(1 / 1024, 1 / 512)
                }
            },
            vertexShader: ["uniform vec2 resolution;", "varying vec2 vUv;", "varying vec4 vOffset[ 2 ];", "void SMAANeighborhoodBlendingVS( vec2 texcoord ) {", "\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 );", "\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 );", "}", "void main() {", "\tvUv = uv;", "\tSMAANeighborhoodBlendingVS( vUv );", "\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
            fragmentShader: ["uniform sampler2D tDiffuse;", "uniform sampler2D tColor;", "uniform vec2 resolution;", "varying vec2 vUv;", "varying vec4 vOffset[ 2 ];", "vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {", "\tvec4 a;", "\ta.xz = texture2D( blendTex, texcoord ).xz;", "\ta.y = texture2D( blendTex, offset[ 1 ].zw ).g;", "\ta.w = texture2D( blendTex, offset[ 1 ].xy ).a;", "\tif ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {", "\t\treturn texture2D( colorTex, texcoord, 0.0 );", "\t} else {", "\t\tvec2 offset;", "\t\toffset.x = a.a > a.b ? a.a : -a.b;", "\t\toffset.y = a.g > a.r ? -a.g : a.r;", "\t\tif ( abs( offset.x ) > abs( offset.y )) {", "\t\t\toffset.y = 0.0;", "\t\t} else {", "\t\t\toffset.x = 0.0;", "\t\t}", "\t\tvec4 C = texture2D( colorTex, texcoord, 0.0 );", "\t\ttexcoord += sign( offset ) * resolution;", "\t\tvec4 Cop = texture2D( colorTex, texcoord, 0.0 );", "\t\tfloat s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );", "\t\tC.xyz = pow(C.xyz, vec3(2.2));", "\t\tCop.xyz = pow(Cop.xyz, vec3(2.2));", "\t\tvec4 mixed = mix(C, Cop, s);", "\t\tmixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));", "\t\treturn mixed;", "\t}", "}", "void main() {", "\tgl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );", "}"].join("\n")
        },
        J = function(e, t) {
            B.call(this), this.edgesRT = new D.WebGLRenderTarget(e, t, {
                depthBuffer: !1,
                stencilBuffer: !1,
                generateMipmaps: !1,
                minFilter: D.LinearFilter,
                format: D.RGBFormat
            }), this.edgesRT.texture.name = "SMAAPass.edges", this.weightsRT = new D.WebGLRenderTarget(e, t, {
                depthBuffer: !1,
                stencilBuffer: !1,
                generateMipmaps: !1,
                minFilter: D.LinearFilter,
                format: D.RGBAFormat
            }), this.weightsRT.texture.name = "SMAAPass.weights";
            var n = this,
                i = new Image;
            i.src = this.getAreaTexture(), i.onload = function() {
                n.areaTexture.needsUpdate = !0
            }, this.areaTexture = new D.Texture, this.areaTexture.name = "SMAAPass.area", this.areaTexture.image = i, this.areaTexture.format = D.RGBFormat, this.areaTexture.minFilter = D.LinearFilter, this.areaTexture.generateMipmaps = !1, this.areaTexture.flipY = !1;
            var r = new Image;
            r.src = this.getSearchTexture(), r.onload = function() {
                n.searchTexture.needsUpdate = !0
            }, this.searchTexture = new D.Texture, this.searchTexture.name = "SMAAPass.search", this.searchTexture.image = r, this.searchTexture.magFilter = D.NearestFilter, this.searchTexture.minFilter = D.NearestFilter, this.searchTexture.generateMipmaps = !1, this.searchTexture.flipY = !1, void 0 === Y && console.error("SMAAPass relies on SMAAShader"), this.uniformsEdges = D.UniformsUtils.clone(Y.uniforms), this.uniformsEdges.resolution.value.set(1 / e, 1 / t), this.materialEdges = new D.ShaderMaterial({
                defines: Object.assign({}, Y.defines),
                uniforms: this.uniformsEdges,
                vertexShader: Y.vertexShader,
                fragmentShader: Y.fragmentShader
            }), this.uniformsWeights = D.UniformsUtils.clone(X.uniforms), this.uniformsWeights.resolution.value.set(1 / e, 1 / t), this.uniformsWeights.tDiffuse.value = this.edgesRT.texture, this.uniformsWeights.tArea.value = this.areaTexture, this.uniformsWeights.tSearch.value = this.searchTexture, this.materialWeights = new D.ShaderMaterial({
                defines: Object.assign({}, X.defines),
                uniforms: this.uniformsWeights,
                vertexShader: X.vertexShader,
                fragmentShader: X.fragmentShader
            }), this.uniformsBlend = D.UniformsUtils.clone(Z.uniforms), this.uniformsBlend.resolution.value.set(1 / e, 1 / t), this.uniformsBlend.tDiffuse.value = this.weightsRT.texture, this.materialBlend = new D.ShaderMaterial({
                uniforms: this.uniformsBlend,
                vertexShader: Z.vertexShader,
                fragmentShader: Z.fragmentShader
            }), this.needsSwap = !1, this.fsQuad = new B.FullScreenQuad(null)
        };
    J.prototype = Object.assign(Object.create(B.prototype), {
        constructor: J,
        render: function(e, t, n) {
            this.uniformsEdges.tDiffuse.value = n.texture, this.fsQuad.material = this.materialEdges, e.setRenderTarget(this.edgesRT), this.clear && e.clear(), this.fsQuad.render(e), this.fsQuad.material = this.materialWeights, e.setRenderTarget(this.weightsRT), this.clear && e.clear(), this.fsQuad.render(e), this.uniformsBlend.tColor.value = n.texture, this.fsQuad.material = this.materialBlend, this.renderToScreen ? (e.setRenderTarget(null), this.fsQuad.render(e)) : (e.setRenderTarget(t), this.clear && e.clear(), this.fsQuad.render(e))
        },
        setSize: function(e, t) {
            this.edgesRT.setSize(e, t), this.weightsRT.setSize(e, t), this.materialEdges.uniforms.resolution.value.set(1 / e, 1 / t), this.materialWeights.uniforms.resolution.value.set(1 / e, 1 / t), this.materialBlend.uniforms.resolution.value.set(1 / e, 1 / t)
        },
        getAreaTexture: function() {
            return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAIAAACOVPcQAACBeklEQVR42u39W4xlWXrnh/3WWvuciIzMrKxrV8/0rWbY0+SQFKcb4owIkSIFCjY9AC1BT/LYBozRi+EX+cV+8IMsYAaCwRcBwjzMiw2jAWtgwC8WR5Q8mDFHZLNHTarZGrLJJllt1W2qKrsumZWZcTvn7L3W54e1vrXX3vuciLPPORFR1XE2EomorB0nVuz//r71re/y/1eMvb4Cb3N11xV/PP/2v4UBAwJG/7H8urx6/25/Gf8O5hypMQ0EEEQwAqLfoN/Z+97f/SW+/NvcgQk4sGBJK6H7N4PFVL+K+e0N11yNfkKvwUdwdlUAXPHHL38oa15f/i/46Ih6SuMSPmLAYAwyRKn7dfMGH97jaMFBYCJUgotIC2YAdu+LyW9vvubxAP8kAL8H/koAuOKP3+q6+xGnd5kdYCeECnGIJViwGJMAkQKfDvB3WZxjLKGh8VSCCzhwEWBpMc5/kBbjawT4HnwJfhr+pPBIu7uu+OOTo9vsmtQcniMBGkKFd4jDWMSCRUpLjJYNJkM+IRzQ+PQvIeAMTrBS2LEiaiR9b/5PuT6Ap/AcfAFO4Y3dA3DFH7/VS+M8k4baEAQfMI4QfbVDDGIRg7GKaIY52qAjTAgTvGBAPGIIghOCYAUrGFNgzA7Q3QhgCwfwAnwe5vDejgG44o/fbm1C5ZlYQvQDARPAIQGxCWBM+wWl37ZQESb4gImexGMDouhGLx1Cst0Saa4b4AqO4Hk4gxo+3DHAV/nx27p3JziPM2pVgoiia5MdEzCGULprIN7gEEeQ5IQxEBBBQnxhsDb5auGmAAYcHMA9eAAz8PBol8/xij9+C4Djlim4gJjWcwZBhCBgMIIYxGAVIkH3ZtcBuLdtRFMWsPGoY9rN+HoBji9VBYdwD2ZQg4cnO7OSq/z4rU5KKdwVbFAjNojCQzTlCLPFSxtamwh2jMUcEgg2Wm/6XgErIBhBckQtGN3CzbVacERgCnfgLswhnvqf7QyAq/z4rRZm1YglYE3affGITaZsdIe2FmMIpnOCap25I6jt2kCwCW0D1uAD9sZctNGXcQIHCkINDQgc78aCr+zjtw3BU/ijdpw3zhCwcaONwBvdeS2YZKkJNJsMPf2JKEvC28RXxxI0ASJyzQCjCEQrO4Q7sFArEzjZhaFc4cdv+/JFdKULM4px0DfUBI2hIsy06BqLhGTQEVdbfAIZXYMPesq6VoCHICzUyjwInO4Y411//LYLs6TDa9wvg2CC2rElgAnpTBziThxaL22MYhzfkghz6GAs2VHbbdM91VZu1MEEpupMMwKyVTb5ij9+u4VJG/5EgEMMmFF01cFai3isRbKbzb+YaU/MQbAm2XSMoUPAmvZzbuKYRIFApbtlrfFuUGd6vq2hXNnH78ZLh/iFhsQG3T4D1ib7k5CC6vY0DCbtrohgLEIClXiGtl10zc0CnEGIhhatLBva7NP58Tvw0qE8yWhARLQ8h4+AhQSP+I4F5xoU+VilGRJs6wnS7ruti/4KvAY/CfdgqjsMy4pf8fodQO8/gnuX3f/3xi3om1/h7THr+co3x93PP9+FBUfbNUjcjEmhcrkT+8K7ml7V10Jo05mpIEFy1NmCJWx9SIKKt+EjAL4Ez8EBVOB6havuT/rByPvHXK+9zUcfcbb254+9fydJknYnRr1oGfdaiAgpxu1Rx/Rek8KISftx3L+DfsLWAANn8Hvw0/AFeAGO9DFV3c6D+CcWbL8Dj9e7f+T1k8AZv/d7+PXWM/Z+VvdCrIvuAKO09RpEEQJM0Ci6+B4xhTWr4cZNOvhktabw0ta0rSJmqz3Yw5/AKXwenod7cAhTmBSPKf6JBdvH8IP17h95pXqw50/+BFnj88fev4NchyaK47OPhhtI8RFSvAfDSNh0Ck0p2gLxGkib5NJj/JWCr90EWQJvwBzO4AHcgztwAFN1evHPUVGwfXON+0debT1YeGON9Yy9/63X+OguiwmhIhQhD7l4sMqlG3D86Suc3qWZ4rWjI1X7u0Ytw6x3rIMeIOPDprfe2XzNgyj6PahhBjO4C3e6puDgXrdg+/5l948vF3bqwZetZ+z9Rx9zdIY5pInPK4Nk0t+l52xdK2B45Qd87nM8fsD5EfUhIcJcERw4RdqqH7Yde5V7m1vhNmtedkz6EDzUMF/2jJYWbC+4fzzA/Y+/8PPH3j9dcBAPIRP8JLXd5BpAu03aziOL3VVHZzz3CXWDPWd+SH2AnxIqQoTZpo9Ckc6HIrFbAbzNmlcg8Ag8NFDDAhbJvTBZXbC94P7t68EXfv6o+21gUtPETU7bbkLxvNKRFG2+KXzvtObonPP4rBvsgmaKj404DlshFole1Glfh02fE7bYR7dZ82oTewIBGn1Md6CG6YUF26X376oevOLzx95vhUmgblI6LBZwTCDY7vMq0op5WVXgsObOXJ+1x3qaBl9j1FeLxbhU9w1F+Wiba6s1X/TBz1LnUfuYDi4r2C69f1f14BWfP+p+W2GFKuC9phcELMYRRLur9DEZTUdEH+iEqWdaM7X4WOoPGI+ZYD2+wcQ+y+ioHUZ9dTDbArzxmi/bJI9BND0Ynd6lBdve/butBw8+f/T9D3ABa3AG8W3VPX4hBin+bj8dMMmSpp5pg7fJ6xrBFE2WQQEWnV8Qg3FbAWzYfM1rREEnmvkN2o1+acG2d/9u68GDzx91v3mAjb1zkpqT21OipPKO0b9TO5W0nTdOmAQm0TObts3aBKgwARtoPDiCT0gHgwnbArzxmtcLc08HgF1asN0C4Ms/fvD5I+7PhfqyXE/b7RbbrGyRQRT9ARZcwAUmgdoz0ehJ9Fn7QAhUjhDAQSw0bV3T3WbNa59jzmiP6GsWbGXDX2ytjy8+f9T97fiBPq9YeLdBmyuizZHaqXITnXiMUEEVcJ7K4j3BFPurtB4bixW8wTpweL8DC95szWMOqucFYGsWbGU7p3TxxxefP+r+oTVktxY0v5hbq3KiOKYnY8ddJVSBxuMMVffNbxwIOERShst73HZ78DZrHpmJmH3K6sGz0fe3UUj0eyRrSCGTTc+rjVNoGzNSv05srAxUBh8IhqChiQgVNIIBH3AVPnrsnXQZbLTm8ammv8eVXn/vWpaTem5IXRlt+U/LA21zhSb9cye6jcOfCnOwhIAYXAMVTUNV0QhVha9xjgA27ODJbLbmitt3tRN80lqG6N/khgot4ZVlOyO4WNg3OIMzhIZQpUEHieg2im6F91hB3I2tubql6BYNN9Hj5S7G0G2tahslBWKDnOiIvuAEDzakDQKDNFQT6gbn8E2y4BBubM230YIpBnDbMa+y3dx0n1S0BtuG62lCCXwcY0F72T1VRR3t2ONcsmDjbmzNt9RFs2LO2hQNyb022JisaI8rAWuw4HI3FuAIhZdOGIcdjLJvvObqlpqvWTJnnQbyi/1M9O8UxWhBs//H42I0q1Yb/XPGONzcmm+ri172mHKvZBpHkJaNJz6v9jxqiklDj3U4CA2ugpAaYMWqNXsdXbmJNd9egCnJEsphXNM+MnK3m0FCJ5S1kmJpa3DgPVbnQnPGWIDspW9ozbcO4K/9LkfaQO2KHuqlfFXSbdNzcEcwoqNEFE9zcIXu9/6n/ym/BC/C3aJLzEKPuYVlbFnfhZ8kcWxV3dbv4bKl28566wD+8C53aw49lTABp9PWbsB+knfc/Li3eVizf5vv/xmvnPKg5ihwKEwlrcHqucuVcVOxEv8aH37E3ZqpZypUulrHEtIWKUr+txHg+ojZDGlwnqmkGlzcVi1dLiNSJiHjfbRNOPwKpx9TVdTn3K05DBx4psIk4Ei8aCkJahRgffk4YnEXe07T4H2RR1u27E6wfQsBDofUgjFUFnwC2AiVtA+05J2zpiDK2Oa0c5fmAecN1iJzmpqFZxqYBCYhFTCsUNEmUnIcZ6aEA5rQVhEywG6w7HSW02XfOoBlQmjwulOFQAg66SvJblrTEX1YtJ3uG15T/BH1OfOQeuR8g/c0gdpT5fx2SKbs9EfHTKdM8A1GaJRHLVIwhcGyydZsbifAFVKl5EMKNU2Hryo+06BeTgqnxzYjThVySDikbtJPieco75lYfKAJOMEZBTjoITuWHXXZVhcUDIS2hpiXHV9Ku4u44bN5OYLDOkJo8w+xJSMbhBRHEdEs9JZUCkQrPMAvaHyLkxgkEHxiNkx/x2YB0mGsQ8EUWj/stW5YLhtS5SMu+/YBbNPDCkGTUybN8krRLBGPlZkVOA0j+a1+rkyQKWGaPHPLZOkJhioQYnVZ2hS3zVxMtgC46KuRwbJNd9nV2PHgb36F194ecf/Yeu2vAFe5nm/bRBFrnY4BauE8ERmZRFUn0k8hbftiVYSKMEme2dJCJSCGYAlNqh87bXOPdUkGy24P6d1ll21MBqqx48Fvv8ZHH8HZFY7j/uAq1xMJUFqCSUlJPmNbIiNsmwuMs/q9CMtsZsFO6SprzCS1Z7QL8xCQClEelpjTduDMsmWD8S1PT152BtvmIGvUeDA/yRn83u/x0/4qxoPHjx+PXY9pqX9bgMvh/Nz9kpP4pOe1/fYf3axUiMdHLlPpZCNjgtNFAhcHEDxTumNONhHrBduW+vOyY++70WWnPXj98eA4kOt/mj/5E05l9+O4o8ePx67HFqyC+qSSnyselqjZGaVK2TadbFLPWAQ4NBhHqDCCV7OTpo34AlSSylPtIdd2AJZlyzYQrDJ5lcWGNceD80CunPLGGzsfD+7wRb95NevJI5docQ3tgCyr5bGnyaPRlmwNsFELViOOx9loebGNq2moDOKpHLVP5al2cymWHbkfzGXL7kfRl44H9wZy33tvt+PB/Xnf93e+nh5ZlU18wCiRUa9m7kib9LYuOk+hudQNbxwm0AQqbfloimaB2lM5fChex+ylMwuTbfmXQtmWlenZljbdXTLuOxjI/fDDHY4Hjx8/Hrse0zXfPFxbUN1kKqSCCSk50m0Ajtx3ub9XHBKHXESb8iO6E+qGytF4nO0OG3SXzbJlhxBnKtKyl0NwybjvYCD30aMdjgePHz8eu56SVTBbgxJMliQ3Oauwg0QHxXE2Ez/EIReLdQj42Gzb4CLS0YJD9xUx7bsi0vJi5mUbW1QzL0h0PFk17rtiIPfJk52MB48fPx67npJJwyrBa2RCCQRTbGZSPCxTPOiND4G2pYyOQ4h4jINIJh5wFU1NFZt+IsZ59LSnDqBjZ2awbOku+yInunLcd8VA7rNnOxkPHj9+PGY9B0MWJJNozOJmlglvDMXDEozdhQWbgs/U6oBanGzLrdSNNnZFjOkmbi5bNt1lX7JLLhn3vXAg9/h4y/Hg8ePHI9dzQMEkWCgdRfYykYKnkP7D4rIujsujaKPBsB54vE2TS00ccvFY/Tth7JXeq1hz+qgVy04sAJawTsvOknHfCwdyT062HA8eP348Zj0vdoXF4pilKa2BROed+9fyw9rWRXeTFXESMOanvDZfJuJaSXouQdMdDJZtekZcLLvEeK04d8m474UDuaenW44Hjx8/Xns9YYqZpszGWB3AN/4VHw+k7WSFtJ3Qicuqb/NlVmgXWsxh570xg2UwxUw3WfO6B5nOuO8aA7lnZxuPB48fPx6znm1i4bsfcbaptF3zNT78eFPtwi1OaCNOqp1x3zUGcs/PN++AGD1+fMXrSVm2baTtPhPahbPhA71wIHd2bXzRa69nG+3CraTtPivahV/55tXWg8fyRY/9AdsY8VbSdp8V7cKrrgdfM//z6ILQFtJ2nxHtwmuoB4/kf74+gLeRtvvMaBdeSz34+vifx0YG20jbfTa0C6+tHrwe//NmOG0L8EbSdp8R7cLrrQe/996O+ai3ujQOskpTNULa7jOjXXj99eCd8lHvoFiwsbTdZ0a78PrrwTvlo966pLuRtB2fFe3Cm6oHP9kNH/W2FryxtN1nTLvwRurBO+Kj3pWXHidtx2dFu/Bm68Fb81HvykuPlrb7LGkX3mw9eGs+6h1Y8MbSdjegXcguQLjmevDpTQLMxtJ2N6NdyBZu9AbrwVvwUW+LbteULUpCdqm0HTelXbhNPe8G68Gb8lFvVfYfSNuxvrTdTWoXbozAzdaDZzfkorOj1oxVxlIMlpSIlpLrt8D4hrQL17z+c3h6hU/wv4Q/utps4+bm+6P/hIcf0JwQ5oQGPBL0eKPTYEXTW+eL/2DKn73J9BTXYANG57hz1cEMviVf/4tf5b/6C5pTQkMIWoAq7hTpOJjtAM4pxKu5vg5vXeUrtI09/Mo/5H+4z+Mp5xULh7cEm2QbRP2tFIKR7WM3fPf/jZ3SWCqLM2l4NxID5zB72HQXv3jj/8mLR5xXNA5v8EbFQEz7PpRfl1+MB/hlAN65qgDn3wTgH13hK7T59bmP+NIx1SHHU84nLOITt3iVz8mNO+lPrjGAnBFqmioNn1mTyk1ta47R6d4MrX7tjrnjYUpdUbv2rVr6YpVfsGG58AG8Ah9eyUN8CX4WfgV+G8LVWPDGb+Zd4cU584CtqSbMKxauxTg+dyn/LkVgA+IR8KHtejeFKRtTmLLpxN6mYVLjYxwXf5x2VofiZcp/lwKk4wGOpYDnoIZPdg/AAbwMfx0+ge9dgZvYjuqKe4HnGnykYo5TvJbG0Vj12JagRhwKa44H95ShkZa5RyLGGdfYvG7aw1TsF6iapPAS29mNS3NmsTQZCmgTzFwgL3upCTgtBTRwvGMAKrgLn4evwin8+afJRcff+8izUGUM63GOOuAs3tJkw7J4kyoNreqrpO6cYLQeFUd7TTpr5YOTLc9RUUogUOVJQ1GYJaFLAW0oTmKyYS46ZooP4S4EON3xQ5zC8/CX4CnM4c1PE8ApexpoYuzqlP3d4S3OJP8ZDK7cKWNaTlqmgDiiHwl1YsE41w1zT4iRTm3DBqxvOUsbMKKDa/EHxagtnta072ejc3DOIh5ojvh8l3tk1JF/AV6FU6jh3U8HwEazLgdCLYSQ+MYiAI2ltomkzttUb0gGHdSUUgsIYjTzLG3mObX4FBRaYtpDVNZrih9TgTeYOBxsEnN1gOCTM8Bsw/ieMc75w9kuAT6A+/AiHGvN/+Gn4KRkiuzpNNDYhDGFndWRpE6SVfm8U5bxnSgVV2jrg6JCKmneqey8VMFgq2+AM/i4L4RUbfSi27lNXZ7R7W9RTcq/q9fk4Xw3AMQd4I5ifAZz8FcVtm9SAom/dyN4lczJQW/kC42ZrHgcCoIf1oVMKkVItmMBi9cOeNHGLqOZk+QqQmrbc5YmYgxELUUN35z2iohstgfLIFmcMV7s4CFmI74L9+EFmGsi+tGnAOD4Yk9gIpo01Y4cA43BWGygMdr4YZekG3OBIUXXNukvJS8tqa06e+lSDCtnqqMFu6hWHXCF+WaYt64m9QBmNxi7Ioy7D+fa1yHw+FMAcPt7SysFLtoG4PXAk7JOA3aAxBRqUiAdU9Yp5lK3HLSRFtOim0sa8euEt08xvKjYjzeJ2GU7YawexrnKI9tmobInjFXCewpwriY9+RR4aaezFhMhGCppKwom0ChrgFlKzyPKkGlTW1YQrE9HJqu8hKGgMc6hVi5QRq0PZxNfrYNgE64utmRv6KKHRpxf6VDUaOvNP5jCEx5q185My/7RKz69UQu2im5k4/eownpxZxNLwiZ1AZTO2ZjWjkU9uaB2HFn6Q3u0JcsSx/qV9hTEApRzeBLDJQXxYmTnq7bdLa3+uqFrxLJ5w1TehnNHx5ECvCh2g2c3hHH5YsfdaSKddztfjQ6imKFGSyFwlLzxEGPp6r5IevVjk1AMx3wMqi1NxDVjLBiPs9tbsCkIY5we5/ML22zrCScFxnNtzsr9Wcc3CnD+pYO+4VXXiDE0oc/vQQ/fDK3oPESJMYXNmJa/DuloJZkcTpcYE8lIH8Dz8DJMiynNC86Mb2lNaaqP/+L7f2fcE/yP7/Lde8xfgSOdMxvOixZf/9p3+M4hT1+F+zApxg9XfUvYjc8qX2lfOOpK2gNRtB4flpFu9FTKCp2XJRgXnX6olp1zyYjTKJSkGmLE2NjUr1bxFM4AeAAHBUFIeSLqXR+NvH/M9fOnfHzOD2vCSyQJKzfgsCh+yi/Mmc35F2fUrw7miW33W9hBD1vpuUojFphIyvg7aTeoymDkIkeW3XLHmguMzbIAJejN6B5MDrhipE2y6SoFRO/AK/AcHHZHNIfiWrEe/C6cr3f/yOvrQKB+zMM55/GQdLDsR+ifr5Fiuu+/y+M78LzOE5dsNuXC3PYvYWd8NXvphLSkJIasrlD2/HOqQ+RjcRdjKTGWYhhVUm4yxlyiGPuMsZR7sMCHUBeTuNWA7if+ifXgc/hovftHXs/DV+Fvwe+f8shzMiMcweFgBly3//vwJfg5AN4450fn1Hd1Rm1aBLu22Dy3y3H2+OqMemkbGZ4jozcDjJf6596xOLpC0eMTHbKnxLxH27uZ/bMTGs2jOaMOY4m87CfQwF0dw53oa1k80JRuz/XgS+8fX3N9Af4qPIMfzKgCp4H5TDGe9GGeFPzSsZz80SlPTxXjgwJmC45njzgt2vbQ4b4OAdUK4/vWhO8d8v6EE8fMUsfakXbPpFJeLs2ubM/qdm/la3WP91uWhxXHjoWhyRUq2iJ/+5mA73zwIIo+LoZ/SgvIRjAd1IMvvn98PfgOvAJfhhm8scAKVWDuaRaK8aQ9f7vuPDH6Bj47ZXau7rqYJ66mTDwEDU6lLbCjCK0qTXyl5mnDoeNRxanj3FJbaksTk0faXxHxLrssgPkWB9LnA/MFleXcJozzjwsUvUG0X/QCve51qkMDXp9mtcyOy3rwBfdvVJK7D6/ACSzg3RoruIq5UDeESfEmVclDxnniU82vxMLtceD0hGZWzBNPMM/jSPne2OVatiTKUpY5vY7gc0LdUAWeWM5tH+O2I66AOWw9xT2BuyRVLGdoDHUsVRXOo/c+ZdRXvFfnxWyIV4upFLCl9eAL7h8Zv0QH8Ry8pA2cHzQpGesctVA37ZtklBTgHjyvdSeKY/RZw/kJMk0Y25cSNRWSigQtlULPTw+kzuJPeYEkXjQRpoGZobYsLF79pyd1dMRHInbgFTZqNLhDqiIsTNpoex2WLcy0/X6rHcdMMQvFSd5dWA++4P7xv89deACnmr36uGlL69bRCL6BSZsS6c0TU2TKK5gtWCzgAOOwQcurqk9j8whvziZSMLcq5hbuwBEsYjopUBkqw1yYBGpLA97SRElEmx5MCInBY5vgLk94iKqSWmhIGmkJ4Bi9m4L645J68LyY4wsFYBfUg5feP/6gWWm58IEmKQM89hq7KsZNaKtP5TxxrUZZVkNmMJtjbKrGxLNEbHPJxhqy7lAmbC32ZqeF6lTaknRWcYaFpfLUBh/rwaQycCCJmW15Kstv6jRHyJFry2C1ahkkIW0LO75s61+owxK1y3XqweX9m5YLM2DPFeOjn/iiqCKJ+yKXF8t5Yl/kNsqaSCryxPq5xWTFIaP8KSW0RYxqupaUf0RcTNSSdJZGcKYdYA6kdtrtmyBckfKXwqk0pHpUHlwWaffjNRBYFPUDWa8e3Lt/o0R0CdisKDM89cX0pvRHEfM8ca4t0s2Xx4kgo91MPQJ/0c9MQYq0co8MBh7bz1fio0UUHLR4aAIOvOmoYO6kwlEVODSSTliWtOtH6sPkrtctF9ZtJ9GIerBskvhdVS5cFNv9s1BU0AbdUgdK4FG+dRnjFmDTzniRMdZO1QhzMK355vigbdkpz9P6qjUGE5J2qAcXmwJ20cZUiAD0z+pGMx6xkzJkmEf40Hr4qZfVg2XzF9YOyoV5BjzVkUJngKf8lgNYwKECEHrCNDrWZzMlflS3yBhr/InyoUgBc/lKT4pxVrrC6g1YwcceK3BmNxZcAtz3j5EIpqguh9H6wc011YN75cKDLpFDxuwkrPQmUwW4KTbj9mZTwBwLq4aQMUZbHm1rylJ46dzR0dua2n3RYCWZsiHROeywyJGR7mXKlpryyCiouY56sFkBWEnkEB/raeh/Sw4162KeuAxMQpEkzy5alMY5wamMsWKKrtW2WpEWNnReZWONKWjrdsKZarpFjqCslq773PLmEhM448Pc3+FKr1+94vv/rfw4tEcu+lKTBe4kZSdijBrykwv9vbCMPcLQTygBjzVckSLPRVGslqdunwJ4oegtFOYb4SwxNgWLCmD7T9kVjTv5YDgpo0XBmN34Z/rEHp0sgyz7lngsrm4lvMm2Mr1zNOJYJ5cuxuQxwMGJq/TP5emlb8fsQBZviK4t8hFL+zbhtlpwaRSxQRWfeETjuauPsdGxsBVdO7nmP4xvzSoT29pRl7kGqz+k26B3Oy0YNV+SXbbQas1ctC/GarskRdFpKczVAF1ZXnLcpaMuzVe6lZ2g/1ndcvOVgRG3sdUAY1bKD6achijMPdMxV4muKVorSpiDHituH7rSTs7n/4y5DhRXo4FVBN4vO/zbAcxhENzGbHCzU/98Mcx5e7a31kWjw9FCe/zNeYyQjZsWb1uc7U33pN4Mji6hCLhivqfa9Ss6xLg031AgfesA/l99m9fgvnaF9JoE6bYKmkGNK3aPbHB96w3+DnxFm4hs0drLsk7U8kf/N/CvwQNtllna0rjq61sH8L80HAuvwH1tvBy2ChqWSCaYTaGN19sTvlfzFD6n+iKTbvtayfrfe9ueWh6GJFoxLdr7V72a5ZpvHcCPDzma0wTO4EgbLyedxstO81n57LYBOBzyfsOhUKsW1J1BB5vr/tz8RyqOFylQP9Tvst2JALsC5lsH8PyQ40DV4ANzYa4dedNiKNR1s+x2wwbR7q4/4cTxqEk4LWDebfisuo36JXLiWFjOtLrlNWh3K1rRS4xvHcDNlFnNmWBBAl5SWaL3oPOfnvbr5pdjVnEaeBJSYjuLEkyLLsWhKccadmOphZkOPgVdalj2QpSmfOsADhMWE2ZBu4+EEJI4wKTAuCoC4xwQbWXBltpxbjkXJtKxxabo9e7tyhlgb6gNlSbUpMh+l/FaqzVwewGu8BW1Zx7pTpQDJUjb8tsUTW6+GDXbMn3mLbXlXJiGdggxFAoUrtPS3wE4Nk02UZG2OOzlk7fRs7i95QCLo3E0jtrjnM7SR3uS1p4qtS2nJ5OwtQVHgOvArLBFijZUV9QtSl8dAY5d0E0hM0w3HS2DpIeB6m/A1+HfhJcGUq4sOxH+x3f5+VO+Ds9rYNI7zPXOYWPrtf8bYMx6fuOAX5jzNR0PdsuON+X1f7EERxMJJoU6GkTEWBvVolVlb5lh3tKCg6Wx1IbaMDdJ+9sUCc5KC46hKGCk3IVOS4TCqdBNfUs7Kd4iXf2RjnT/LLysJy3XDcHLh/vde3x8DoGvwgsa67vBk91G5Pe/HbOe7xwym0NXbtiuuDkGO2IJDh9oQvJ4cY4vdoqLDuoH9Zl2F/ofsekn8lkuhIlhQcffUtSjytFyp++p6NiE7Rqx/lodgKVoceEp/CP4FfjrquZaTtj2AvH5K/ywpn7M34K/SsoYDAdIN448I1/0/wveW289T1/lX5xBzc8N5IaHr0XMOQdHsIkDuJFifj20pBm5jzwUv9e2FhwRsvhAbalCIuIw3bhJihY3p6nTFFIZgiSYjfTf3aXuOjmeGn4bPoGvwl+CFzTRczBIuHBEeImHc37/lGfwZR0cXzVDOvaKfNHvwe+suZ771K/y/XcBlsoN996JpBhoE2toYxOznNEOS5TJc6Id5GEXLjrWo+LEWGNpPDU4WAwsIRROu+1vM+0oW37z/MBN9kqHnSArwPfgFJ7Cq/Ai3Ie7g7ncmI09v8sjzw9mzOAEXoIHxURueaAce5V80f/DOuuZwHM8vsMb5wBzOFWM7wymTXPAEvm4vcFpZ2ut0VZRjkiP2MlmLd6DIpbGSiHOjdnUHN90hRYmhTnmvhzp1iKDNj+b7t5hi79lWGwQ+HN9RsfFMy0FXbEwhfuczKgCbyxYwBmcFhhvo/7a44v+i3XWcwDP86PzpGQYdWh7csP5dBvZ1jNzdxC8pBGuxqSW5vw40nBpj5JhMwvOzN0RWqERHMr4Lv1kWX84xLR830G3j6yqZ1a8UstTlW+qJPOZ+sZ7xZPKTJLhiNOAFd6tk+jrTH31ncLOxid8+nzRb128HhUcru/y0Wn6iT254YPC6FtVSIMoW2sk727AhvTtrWKZTvgsmckfXYZWeNRXx/3YQ2OUxLDrbHtN11IwrgXT6c8dATDwLniYwxzO4RzuQqTKSC5gAofMZ1QBK3zQ4JWobFbcvJm87FK+6JXrKahLn54m3p+McXzzYtP8VF/QpJuh1OwieElEoI1pRxPS09FBrkq2tWCU59+HdhNtTIqKm8EBrw2RTOEDpG3IKo2Y7mFdLm3ZeVjYwVw11o/oznceMve4CgMfNym/utA/d/ILMR7gpXzRy9eDsgLcgbs8O2Va1L0zzIdwGGemTBuwROHeoMShkUc7P+ISY3KH5ZZeWqO8mFTxQYeXTNuzvvK5FGPdQfuu00DwYFY9dyhctEt+OJDdnucfpmyhzUJzfsJjr29l8S0bXBfwRS9ZT26tmMIdZucch5ZboMz3Nio3nIOsYHCGoDT4kUA9MiXEp9Xsui1S8th/kbWIrMBxDGLodWUQIWcvnXy+9M23xPiSMOiRPqM+YMXkUN3gXFrZJwXGzUaMpJfyRS9ZT0lPe8TpScuRlbMHeUmlaKDoNuy62iWNTWNFYjoxFzuJs8oR+RhRx7O4SVNSXpa0ZJQ0K1LAHDQ+D9IepkMXpcsq5EVCvClBUIzDhDoyKwDw1Lc59GbTeORivugw1IcuaEOaGWdNm+Ps5fQ7/tm0DjMegq3yM3vb5j12qUId5UZD2oxDSEWOZMSqFl/W+5oynWDa/aI04tJRQ2eTXusg86SQVu/nwSYwpW6wLjlqIzwLuxGIvoAvul0PS+ZNz0/akp/pniO/8JDnGyaCkzbhl6YcqmK/69prxPqtpx2+Km9al9sjL+rwMgHw4jE/C8/HQ3m1vBuL1fldbzd8mOueVJ92syqdEY4KJjSCde3mcRw2TA6szxedn+zwhZMps0XrqEsiUjnC1hw0TELC2Ek7uAAdzcheXv1BYLagspxpzSAoZZUsIzIq35MnFQ9DOrlNB30jq3L4pkhccKUAA8/ocvN1Rzx9QyOtERs4CVsJRK/DF71kPYrxYsGsm6RMh4cps5g1DOmM54Ly1ii0Hd3Y/BMk8VWFgBVmhqrkJCPBHAolwZaWzLR9Vb7bcWdX9NyUYE+uB2BKfuaeBUcjDljbYVY4DdtsVWvzRZdWnyUzDpjNl1Du3aloAjVJTNDpcIOVVhrHFF66lLfJL1zJr9PQ2nFJSBaKoDe+sAvLufZVHVzYh7W0h/c6AAZ+7Tvj6q9j68G/cTCS/3n1vLKHZwNi+P+pS0WkZNMBMUl+LDLuiE4omZy71r3UFMwNJV+VJ/GC5ixVUkBStsT4gGKh0Gm4Oy3qvq7Lbmq24nPdDuDR9deR11XzP4vFu3TYzfnIyiSVmgizUYGqkIXNdKTY9pgb9D2Ix5t0+NHkVzCdU03suWkkVZAoCONCn0T35gAeW38de43mf97sMOpSvj4aa1KYUm58USI7Wxxes03bAZdRzk6UtbzMaCQ6IxO0dy7X+XsjoD16hpsBeGz9dfzHj+R/Hp8nCxZRqkEDTaCKCSywjiaoMJ1TITE9eg7Jqnq8HL6gDwiZb0u0V0Rr/rmvqjxKuaLCX7ZWXTvAY+uvm3z8CP7nzVpngqrJpZKwWnCUjIviYVlirlGOzPLI3SMVyp/elvBUjjDkNhrtufFFErQ8pmdSlbK16toBHlt/HV8uHMX/vEGALkV3RJREiSlopxwdMXOZPLZ+ix+kAHpMKIk8UtE1ygtquttwxNhphrIZ1IBzjGF3IIGxGcBj6q8bHJBG8T9vdsoWrTFEuebEZuVxhhClH6P5Zo89OG9fwHNjtNQTpD0TG9PJLEYqvEY6Rlxy+ZZGfL0Aj62/bnQCXp//eeM4KzfQVJbgMQbUjlMFIm6TpcfWlZje7NBSV6IsEVmumWIbjiloUzQX9OzYdo8L1wjw2PrrpimONfmfNyzKklrgnEkSzT5QWYQW40YShyzqsRmMXbvVxKtGuYyMKaU1ugenLDm5Ily4iT14fP11Mx+xJv+zZ3MvnfdFqxU3a1W/FTB4m3Qfsyc1XUcdVhDeUDZXSFHHLQj/Y5jtC7ZqM0CXGwB4bP11i3LhOvzPGygYtiUBiwQV/4wFO0majijGsafHyRLu0yG6q35cL1rOpVxr2s5cM2jJYMCdc10Aj6q/blRpWJ//+dmm5psMl0KA2+AFRx9jMe2WbC4jQxnikd4DU8TwUjRVacgdlhmr3bpddzuJ9zXqr2xnxJfzP29RexdtjDVZqzkqa6PyvcojGrfkXiJ8SEtml/nYskicv0ivlxbqjemwUjMw5evdg8fUX9nOiC/lf94Q2i7MURk9nW1MSj5j8eAyV6y5CN2S6qbnw3vdA1Iwq+XOSCl663udN3IzLnrt+us25cI1+Z83SXQUldqQq0b5XOT17bGpLd6ssN1VMPf8c+jG8L3NeCnMdF+Ra3fRa9dft39/LuZ/3vwHoHrqGmQFafmiQw6eyzMxS05K4bL9uA+SKUQzCnSDkqOGokXyJvbgJ/BHI+qvY69//4rl20NsmK2ou2dTsyIALv/91/8n3P2Aao71WFGi8KKv1fRC5+J67Q/507/E/SOshqN5TsmYIjVt+kcjAx98iz/4SaojbIV1rexE7/C29HcYD/DX4a0rBOF5VTu7omsb11L/AWcVlcVZHSsqGuXLLp9ha8I//w3Mv+T4Ew7nTBsmgapoCrNFObIcN4pf/Ob/mrvHTGqqgAupL8qWjWPS9m/31jAe4DjA+4+uCoQoT/zOzlrNd3qd4SdphFxsUvYwGWbTWtISc3wNOWH+kHBMfc6kpmpwPgHWwqaSUG2ZWWheYOGQGaHB+eQ/kn6b3pOgLV+ODSn94wDvr8Bvb70/LLuiPPEr8OGVWfDmr45PZyccEmsVXZGe1pRNX9SU5+AVQkNTIVPCHF/jGmyDC9j4R9LfWcQvfiETmgMMUCMN1uNCakkweZsowdYobiMSlnKA93u7NzTXlSfe+SVbfnPQXmg9LpYAQxpwEtONyEyaueWM4FPjjyjG3uOaFmBTWDNgBXGEiQpsaWhnAqIijB07Dlsy3fUGeP989xbWkyf+FF2SNEtT1E0f4DYYVlxFlbaSMPIRMk/3iMU5pME2SIWJvjckciebkQuIRRyhUvkHg/iUljG5kzVog5hV7vIlCuBrmlhvgPfNHQM8lCf+FEGsYbMIBC0qC9a0uuy2wLXVbLBaP5kjHokCRxapkQyzI4QEcwgYHRZBp+XEFTqXFuNVzMtjXLJgX4gAid24Hjwc4N3dtVSe+NNiwTrzH4WVUOlDobUqr1FuAgYllc8pmzoVrELRHSIW8ViPxNy4xwjBpyR55I6J220qQTZYR4guvUICJiSpr9gFFle4RcF/OMB7BRiX8sSfhpNSO3lvEZCQfLUVTKT78Ek1LRLhWN+yLyTnp8qWUZ46b6vxdRGXfHVqx3eI75YaLa4iNNiK4NOW7wPW6lhbSOF9/M9qw8e/aoB3d156qTzxp8pXx5BKAsYSTOIIiPkp68GmTq7sZtvyzBQaRLNxIZ+paozHWoLFeExIhRBrWitHCAHrCF7/thhD8JhYz84wg93QRV88wLuLY8zF8sQ36qF1J455bOlgnELfshKVxYOXKVuKx0jaj22sczTQqPqtV/XDgpswmGTWWMSDw3ssyUunLLrVPGjYRsH5ggHeHSWiV8kT33ycFSfMgkoOK8apCye0J6VW6GOYvffgU9RWsukEi2kUV2nl4dOYUzRik9p7bcA4ggdJ53LxKcEe17B1R8eqAd7dOepV8sTXf5lhejoL85hUdhDdknPtKHFhljOT+bdq0hxbm35p2nc8+Ja1Iw+tJykgp0EWuAAZYwMVwac5KzYMslhvgHdHRrxKnvhTYcfKsxTxtTETkjHO7rr3zjoV25lAQHrqpV7bTiy2aXMmUhTBnKS91jhtR3GEoF0oLnWhWNnYgtcc4N0FxlcgT7yz3TgNIKkscx9jtV1ZKpWW+Ub1tc1eOv5ucdgpx+FJy9pgbLE7xDyXb/f+hLHVGeitHOi6A7ybo3sF8sS7w7cgdk0nJaOn3hLj3uyD0Zp5pazFIUXUpuTTU18d1EPkDoX8SkmWTnVIozEdbTcZjoqxhNHf1JrSS/AcvHjZ/SMHhL/7i5z+POsTUh/8BvNfYMTA8n+yU/MlTZxSJDRStqvEuLQKWwDctMTQogUDyQRoTQG5Kc6oQRE1yV1jCA7ri7jdZyK0sYTRjCR0Hnnd+y7nHxNgTULqw+8wj0mQKxpYvhjm9uSUxg+TTy7s2GtLUGcywhXSKZN275GsqlclX90J6bRI1aouxmgL7Q0Nen5ziM80SqMIo8cSOo+8XplT/5DHNWsSUr/6lLN/QQ3rDyzLruEW5enpf7KqZoShEduuSFOV7DLX7Ye+GmXb6/hnNNqKsVXuMDFpb9Y9eH3C6NGEzuOuI3gpMH/I6e+zDiH1fXi15t3vA1czsLws0TGEtmPEJdiiFPwlwKbgLHAFk4P6ZyPdymYYHGE0dutsChQBl2JcBFlrEkY/N5bQeXQ18gjunuMfMfsBlxJSx3niO485fwO4fGD5T/+3fPQqkneWVdwnw/3bMPkW9Wbqg+iC765Zk+xcT98ibKZc2EdgHcLoF8cSOo/Oc8fS+OyEULF4g4sJqXVcmfMfsc7A8v1/yfGXmL9I6Fn5pRwZhsPv0TxFNlAfZCvG+Oohi82UC5f/2IsJo0cTOm9YrDoKhFPEUr/LBYTUNht9zelHXDqwfPCIw4owp3mOcIQcLttWXFe3VZ/j5H3cIc0G6oPbCR+6Y2xF2EC5cGUm6wKC5tGEzhsWqw5hNidUiKX5gFWE1GXh4/Qplw4sVzOmx9QxU78g3EF6wnZlEN4FzJ1QPSLEZz1KfXC7vd8ssGdIbNUYpVx4UapyFUHzJoTOo1McSkeNn1M5MDQfs4qQuhhX5vQZFw8suwWTcyYTgioISk2YdmkhehG4PkE7w51inyAGGaU+uCXADabGzJR1fn3lwkty0asIo8cROm9Vy1g0yDxxtPvHDAmpu+PKnM8Ix1wwsGw91YJqhteaWgjYBmmQiebmSpwKKzE19hx7jkzSWOm66oPbzZ8Yj6kxVSpYjVAuvLzYMCRo3oTQecOOjjgi3NQ4l9K5/hOGhNTdcWVOTrlgYNkEXINbpCkBRyqhp+LdRB3g0OU6rMfW2HPCFFMV9nSp+uB2woepdbLBuJQyaw/ZFysXrlXwHxI0b0LovEkiOpXGA1Ijagf+KUNC6rKNa9bQnLFqYNkEnMc1uJrg2u64ELPBHpkgWbmwKpJoDhMwNbbGzAp7Yg31wS2T5rGtzit59PrKhesWG550CZpHEzpv2NGRaxlNjbMqpmEIzygJqQfjypycs2pg2cS2RY9r8HUqkqdEgKTWtWTKoRvOBPDYBltja2SO0RGjy9UHtxwRjA11ujbKF+ti5cIR9eCnxUg6owidtyoU5tK4NLji5Q3HCtiyF2IqLGYsHViOXTXOYxucDqG0HyttqYAKqYo3KTY1ekyDXRAm2AWh9JmsVh/ccg9WJ2E8YjG201sPq5ULxxX8n3XLXuMInbft2mk80rRGjCGctJ8/GFdmEQ9Ug4FlE1ll1Y7jtiraqm5Fe04VV8lvSVBL8hiPrfFVd8+7QH3Qbu2ipTVi8cvSGivc9cj8yvH11YMHdNSERtuOslM97feYFOPKzGcsI4zW0YGAbTAOaxCnxdfiYUmVWslxiIblCeAYr9VYR1gM7GmoPrilunSxxeT3DN/2eBQ9H11+nk1adn6VK71+5+Jfct4/el10/7KBZfNryUunWSCPxPECk1rdOv1WVSrQmpC+Tl46YD3ikQYcpunSQgzVB2VHFhxHVGKDgMEY5GLlQnP7FMDzw7IacAWnO6sBr12u+XanW2AO0wQ8pknnFhsL7KYIqhkEPmEXFkwaN5KQphbkUmG72wgw7WSm9RiL9QT925hkjiVIIhphFS9HKI6/8QAjlpXqg9W2C0apyaVDwKQwrwLY3j6ADR13ZyUNByQXHQu6RY09Hu6zMqXRaNZGS/KEJs0cJEe9VH1QdvBSJv9h09eiRmy0V2uJcqHcShcdvbSNg5fxkenkVprXM9rDVnX24/y9MVtncvbKY706anNl3ASll9a43UiacVquXGhvq4s2FP62NGKfQLIQYu9q1WmdMfmUrDGt8eDS0cXozH/fjmUH6Jruvm50hBDSaEU/2Ru2LEN/dl006TSc/g7tfJERxGMsgDUEr104pfWH9lQaN+M4KWQjwZbVc2rZVNHsyHal23wZtIs2JJqtIc/WLXXRFCpJkfE9jvWlfFbsNQ9pP5ZBS0zKh4R0aMFj1IjTcTnvi0Zz2rt7NdvQb2mgbju1plsH8MmbnEk7KbK0b+wC2iy3aX3szW8xeZvDwET6hWZYwqTXSSG+wMETKum0Dq/q+x62gt2ua2ppAo309TRk9TPazfV3qL9H8z7uhGqGqxNVg/FKx0HBl9OVUORn8Q8Jx9gFttGQUDr3tzcXX9xGgN0EpzN9mdZ3GATtPhL+CjxFDmkeEU6x56kqZRusLzALXVqkCN7zMEcqwjmywDQ6OhyUe0Xao1Qpyncrg6wKp9XfWDsaZplElvQ/b3sdweeghorwBDlHzgk1JmMc/wiERICVy2VJFdMjFuLQSp3S0W3+sngt2njwNgLssFGVQdJ0tu0KH4ky1LW4yrbkuaA6Iy9oz/qEMMXMMDWyIHhsAyFZc2peV9hc7kiKvfULxCl9iddfRK1f8kk9qvbdOoBtOg7ZkOZ5MsGrSHsokgLXUp9y88smniwWyuFSIRVmjplga3yD8Uij5QS1ZiM4U3Qw5QlSm2bXjFe6jzzBFtpg+/YBbLAWG7OPynNjlCw65fukGNdkJRf7yM1fOxVzbxOJVocFoYIaGwH22mIQkrvu1E2nGuebxIgW9U9TSiukPGU+Lt++c3DJPKhyhEEbXCQLUpae2exiKy6tMPe9mDRBFCEMTWrtwxN8qvuGnt6MoihKWS5NSyBhbH8StXoAz8PLOrRgLtOT/+4vcu+7vDLnqNvztOq7fmd8sMmY9Xzn1zj8Dq8+XVdu2Nv0IIySgEdQo3xVHps3Q5i3fLFsV4aiqzAiBhbgMDEd1uh8qZZ+lwhjkgokkOIv4xNJmyncdfUUzgB4oFMBtiu71Xumpz/P+cfUP+SlwFExwWW62r7b+LSPxqxn/gvMZ5z9C16t15UbNlq+jbGJtco7p8wbYlL4alSyfWdeuu0j7JA3JFNuVAwtst7F7FhWBbPFNKIUORndWtLraFLmMu7KFVDDOzqkeaiN33YAW/r76wR4XDN/yN1z7hejPau06EddkS/6XThfcz1fI/4K736fO48vlxt2PXJYFaeUkFS8U15XE3428xdtn2kc8GQlf1vkIaNRRnOMvLTWrZbElEHeLWi1o0dlKPAh1MVgbbVquPJ5+Cr8LU5/H/+I2QlHIU2ClXM9G8v7Rr7oc/hozfUUgsPnb3D+I+7WF8kNO92GY0SNvuxiE+2Bt8prVJTkzE64sfOstxuwfxUUoyk8VjcTlsqe2qITSFoSj6Epd4KsT6BZOWmtgE3hBfir8IzZDwgV4ZTZvD8VvPHERo8v+vL1DASHTz/i9OlKueHDjK5Rnx/JB1Vb1ioXdBra16dmt7dgik10yA/FwJSVY6XjA3oy4SqM2frqDPPSRMex9qs3XQtoWxMj7/Er8GWYsXgjaVz4OYumP2+9kbxvny/6kvWsEBw+fcb5bInc8APdhpOSs01tEqIkoiZjbAqKMruLbJYddHuHFRIyJcbdEdbl2sVLaySygunutBg96Y2/JjKRCdyHV+AEFtTvIpbKIXOamknYSiB6KV/0JetZITgcjjk5ZdaskBtWO86UF0ap6ozGXJk2WNiRUlCPFir66lzdm/SLSuK7EUdPz8f1z29Skq6F1fXg8+5UVR6bszncP4Tn4KUkkdJ8UFCY1zR1i8RmL/qQL3rlei4THG7OODlnKko4oI01kd3CaM08Ia18kC3GNoVaO9iDh+hWxSyTXFABXoau7Q6q9OxYg/OVEMw6jdbtSrJ9cBcewGmaZmg+bvkUnUUaGr+ZfnMH45Ivevl61hMcXsxYLFTu1hTm2zViCp7u0o5l+2PSUh9bDj6FgYypufBDhqK2+oXkiuHFHR3zfj+9PtA8oR0xnqX8qn+sx3bFODSbbF0X8EUvWQ8jBIcjo5bRmLOljDNtcqNtOe756h3l0VhKa9hDd2l1eqmsnh0MNMT/Cqnx6BInumhLT8luljzQ53RiJeA/0dxe5NK0o2fA1+GLXr6eNQWHNUOJssQaTRlGpLHKL9fD+IrQzTOMZS9fNQD4AnRNVxvTdjC+fJdcDDWQcyB00B0t9BDwTxXgaAfzDZ/DBXzRnfWMFRwuNqocOmX6OKNkY63h5n/fFcB28McVHqnXZVI27K0i4rDLNE9lDKV/rT+udVbD8dFFu2GGZ8mOt0kAXcoX3ZkIWVtw+MNf5NjR2FbivROHmhV1/pj2egv/fMGIOWTIWrV3Av8N9imV9IWml36H6cUjqEWNv9aNc+veb2sH46PRaHSuMBxvtW+twxctq0z+QsHhux8Q7rCY4Ct8lqsx7c6Sy0dl5T89rIeEuZKoVctIk1hNpfavER6yyH1Vvm3MbsUHy4ab4hWr/OZPcsRBphnaV65/ZcdYPNNwsjN/djlf9NqCw9U5ExCPcdhKxUgLSmfROpLp4WSUr8ojdwbncbvCf+a/YzRaEc6QOvXcGO256TXc5Lab9POvB+AWY7PigWYjzhifbovuunzRawsO24ZqQQAqguBtmpmPB7ysXJfyDDaV/aPGillgz1MdQg4u5MYaEtBNNHFjkRlSpd65lp4hd2AVPTfbV7FGpyIOfmNc/XVsPfg7vzaS/3nkvLL593ANLvMuRMGpQIhiF7kUEW9QDpAUbTWYBcbp4WpacHHY1aacqQyjGZS9HI3yCBT9kUZJhVOD+zUDvEH9ddR11fzPcTDQ5TlgB0KwqdXSavk9BC0pKp0WmcuowSw07VXmXC5guzSa4p0UvRw2lbDiYUx0ExJJRzWzi6Gm8cnEkfXXsdcG/M/jAJa0+bmCgdmQ9CYlNlSYZOKixmRsgiFxkrmW4l3KdFKv1DM8tk6WxPYJZhUUzcd8Kdtgrw/gkfXXDT7+avmfVak32qhtkg6NVdUS5wgkru1YzIkSduTW1FDwVWV3JQVJVuieTc0y4iDpFwc7/BvSalvKdQM8sv662cevz/+8sQVnjVAT0W2wLllw1JiMhJRxgDjCjLQsOzSFSgZqx7lAW1JW0e03yAD3asC+GD3NbQhbe+mN5GXH1F83KDOM4n/e5JIuH4NpdQARrFPBVptUNcjj4cVMcFSRTE2NpR1LEYbYMmfWpXgP9KejaPsLUhuvLCsVXznAG9dfx9SR1ud/3hZdCLHb1GMdPqRJgqDmm76mHbvOXDtiO2QPUcKo/TWkQ0i2JFXpBoo7vij1i1Lp3ADAo+qvG3V0rM//vFnnTE4hxd5Ka/Cor5YEdsLVJyKtDgVoHgtW11pWSjolPNMnrlrVj9Fv2Qn60twMwKPqr+N/wvr8z5tZcDsDrv06tkqyzESM85Ycv6XBWA2birlNCXrI6VbD2lx2L0vQO0QVTVVLH4SE67fgsfVXv8n7sz7/85Z7cMtbE6f088wSaR4kCkCm10s6pKbJhfqiUNGLq+0gLWC6eUAZFPnLjwqtKd8EwGvWX59t7iPW4X/eAN1svgRVSY990YZg06BD1ohLMtyFTI4pKTJsS9xREq9EOaPWiO2gpms7397x6nQJkbh+Fz2q/rqRROX6/M8bJrqlVW4l6JEptKeUFuMYUbtCQ7CIttpGc6MY93x1r1vgAnRXvY5cvwWPqb9uWQm+lP95QxdNMeWhOq1x0Db55C7GcUv2ZUuN6n8iKzsvOxibC//Yfs9Na8r2Rlz02vXXDT57FP/zJi66/EJSmsJKa8QxnoqW3VLQ+jZVUtJwJ8PNX1NQCwfNgdhhHD9on7PdRdrdGPF28rJr1F+3LBdeyv+8yYfLoMYet1vX4upNAjVvwOUWnlNXJXlkzk5Il6kqeoiL0C07qno+/CYBXq/+utlnsz7/Mzvy0tmI4zm4ag23PRN3t/CWryoUVJGm+5+K8RJ0V8Hc88/XHUX/HfiAq7t+BH+x6v8t438enWmdJwFA6ZINriLGKv/95f8lT9/FnyA1NMVEvQyaXuu+gz36f/DD73E4pwqpLcvm/o0Vle78n//+L/NPvoefp1pTJye6e4A/D082FERa5/opeH9zpvh13cNm19/4v/LDe5xMWTi8I0Ta0qKlK27AS/v3/r+/x/2GO9K2c7kVMonDpq7//jc5PKCxeNPpFVzaRr01wF8C4Pu76hXuX18H4LduTr79guuFD3n5BHfI+ZRFhY8w29TYhbbLi/bvBdqKE4fUgg1pBKnV3FEaCWOWyA+m3WpORZr/j+9TKJtW8yBTF2/ZEODI9/QavHkVdGFp/Pjn4Q+u5hXapsP5sOH+OXXA1LiKuqJxiMNbhTkbdJTCy4llEt6NnqRT4dhg1V3nbdrm6dYMecA1yTOL4PWTE9L5VzPFlLBCvlG58AhehnN4uHsAYinyJ+AZ/NkVvELbfOBUuOO5syBIEtiqHU1k9XeISX5bsimrkUUhnGDxourN8SgUsCZVtKyGbyGzHXdjOhsAvOAswSRyIBddRdEZWP6GZhNK/yjwew9ehBo+3jEADu7Ay2n8mDc+TS7awUHg0OMzR0LABhqLD4hJEh/BEGyBdGlSJoXYXtr+3HS4ijzVpgi0paWXtdruGTknXBz+11qT1Q2inxaTzQCO46P3lfLpyS4fou2PH/PupwZgCxNhGlj4IvUuWEsTkqMWm6i4xCSMc9N1RDQoCVcuGItJ/MRWefais+3synowi/dESgJjkilnWnBTGvRWmaw8oR15257t7CHmCf8HOn7cwI8+NQBXMBEmAa8PMRemrNCEhLGEhDQKcGZWS319BX9PFBEwGTbRBhLbDcaV3drFcDqk5kCTd2JF1Wp0HraqBx8U0wwBTnbpCadwBA/gTH/CDrcCs93LV8E0YlmmcyQRQnjBa8JESmGUfIjK/7fkaDJpmD2QptFNVJU1bbtIAjjWQizepOKptRjbzR9Kag6xZmMLLjHOtcLT3Tx9o/0EcTT1XN3E45u24AiwEypDJXihKjQxjLprEwcmRKclaDNZCVqr/V8mYWyFADbusiY5hvgFoU2vio49RgJLn5OsReRFN6tabeetiiy0V7KFHT3HyZLx491u95sn4K1QQSPKM9hNT0wMVvAWbzDSVdrKw4zRjZMyJIHkfq1VAVCDl/bUhNKlGq0zGr05+YAceXVPCttVk0oqjVwMPt+BBefx4yPtGVkUsqY3CHDPiCM5ngupUwCdbkpd8kbPrCWHhkmtIKLEetF2499eS1jZlIPGYnlcPXeM2KD9vLS0bW3ktYNqUllpKLn5ZrsxlIzxvDu5eHxzGLctkZLEY4PgSOg2IUVVcUONzUDBEpRaMoXNmUc0tFZrTZquiLyKxrSm3DvIW9Fil+AkhXu5PhEPx9mUNwqypDvZWdKlhIJQY7vn2OsnmBeOWnYZ0m1iwbbw1U60by5om47iHRV6fOgzjMf/DAZrlP40Z7syxpLK0lJ0gqaAK1c2KQKu7tabTXkLFz0sCftuwX++MyNeNn68k5Buq23YQhUh0SNTJa1ioQ0p4nUG2y0XilF1JqODqdImloPS4Bp111DEWT0jJjVv95uX9BBV7eB3bUWcu0acSVM23YZdd8R8UbQUxJ9wdu3oMuhdt929ME+mh6JXJ8di2RxbTi6TbrDquqV4aUKR2iwT6aZbyOwEXN3DUsWr8Hn4EhwNyHuXHh7/pdaUjtR7vnDh/d8c9xD/s5f501eQ1+CuDiCvGhk1AN/4Tf74RfxPwD3toLarR0zNtsnPzmS64KIRk861dMWCU8ArasG9T9H0ZBpsDGnjtAOM2+/LuIb2iIUGXNgl5ZmKD/Tw8TlaAuihaFP5yrw18v4x1898zIdP+DDAX1bM3GAMvPgRP/cJn3zCW013nrhHkrITyvYuwOUkcHuKlRSW5C6rzIdY4ppnF7J8aAJbQepgbJYBjCY9usGXDKQxq7RZfh9eg5d1UHMVATRaD/4BHK93/1iAgYZ/+jqPn8Dn4UExmWrpa3+ZOK6MvM3bjwfzxNWA2dhs8+51XHSPJiaAhGSpWevEs5xHLXcEGFXYiCONySH3fPWq93JIsBiSWvWyc3CAN+EcXoT7rCSANloPPoa31rt/5PUA/gp8Q/jDD3hyrjzlR8VkanfOvB1XPubt17vzxAfdSVbD1pzAnfgyF3ycadOTOTXhpEUoLC1HZyNGW3dtmjeXgr2r56JNmRwdNNWaQVBddd6rh4MhviEB9EFRD/7RGvePvCbwAL4Mx/D6M541hHO4D3e7g6PafdcZVw689z7NGTwo5om7A8sPhccT6qKcl9NJl9aM/9kX+e59Hh1yPqGuCCZxuITcsmNaJ5F7d0q6J3H48TO1/+M57085q2icdu2U+W36Ldllz9Agiv4YGljoEN908EzvDOrBF98/vtJwCC/BF2AG75xxEmjmMIcjxbjoaxqOK3/4hPOZzhMPBpYPG44CM0dTVm1LjLtUWWVz1Bcf8tEx0zs8O2A2YVHRxKYOiy/aOVoAaMu0i7ubu43njjmd4ibMHU1sIDHaQNKrZND/FZYdk54oCXetjq7E7IVl9eAL7t+oHnwXXtLx44czzoRFHBztYVwtH1d+NOMkupZ5MTM+gUmq90X+Bh9zjRlmaQ+m7YMqUL/veemcecAtOJ0yq1JnVlN27di2E0+Klp1tAJ4KRw1eMI7aJjsO3R8kPSI3fUFXnIOfdQe86sIIVtWDL7h//Ok6vj8vwDk08NEcI8zz7OhBy+WwalzZeZ4+0XniRfst9pAJqQHDGLzVQ2pheZnnv1OWhwO43/AgcvAEXEVVpa4db9sGvNK8wjaENHkfFQ4Ci5i7dqnQlPoLQrHXZDvO3BIXZbJOBrOaEbML6sFL798I4FhKihjHMsPjBUZYCMFr6nvaArxqXPn4lCa+cHfSa2cP27g3Z3ziYTRrcbQNGLQmGF3F3cBdzzzX7AILx0IB9rbwn9kx2G1FW3Inic+ZLIsVvKR8Zwfj0l1fkqo8LWY1M3IX14OX3r9RKTIO+d9XzAI8qRPGPn/4NC2n6o4rN8XJ82TOIvuVA8zLKUHRFgBCetlDZlqR1gLKjS39xoE7Bt8UvA6BxuEDjU3tFsEijgA+615tmZkXKqiEENrh41iLDDZNq4pKTWR3LZfnos81LOuNa15cD956vLMsJd1rqYp51gDUQqMYm2XsxnUhD2jg1DM7SeuJxxgrmpfISSXVIJIS5qJJSvJPEQ49DQTVIbYWJ9QWa/E2+c/oPK1drmC7WSfJRNKBO5Yjvcp7Gc3dmmI/Xh1kDTEuiSnWqQf37h+fTMhGnDf6dsS8SQfQWlqqwXXGlc/PEZ/SC5mtzIV0nAshlQdM/LvUtYutrEZ/Y+EAFtq1k28zQhOwLr1AIeANzhF8t9qzTdZf2qRKO6MWE9ohBYwibbOmrFtNmg3mcS+tB28xv2uKd/agYCvOP+GkSc+0lr7RXzyufL7QbkUpjLjEWFLqOIkAGu2B0tNlO9Eau2W1qcOUvVRgKzypKIQZ5KI3q0MLzqTNRYqiZOqmtqloIRlmkBHVpHmRYV6/HixbO6UC47KOFJnoMrVyr7wYz+SlW6GUaghYbY1I6kkxA2W1fSJokUdSh2LQ1GAimRGm0MT+uu57H5l7QgOWxERpO9moLRPgTtquWCfFlGlIjQaRly9odmzMOWY+IBO5tB4sW/0+VWGUh32qYk79EidWKrjWuiLpiVNGFWFRJVktyeXWmbgBBzVl8anPuXyNJlBJOlKLTgAbi/EYHVHxWiDaVR06GnHQNpJcWcK2jJtiCfG2sEHLzuI66sGrMK47nPIInPnu799935aOK2cvmvubrE38ZzZjrELCmXM2hM7UcpXD2oC3+ECVp7xtIuxptJ0jUr3sBmBS47TVxlvJ1Sqb/E0uLdvLj0lLr29ypdd/eMX3f6lrxGlKwKQxEGvw0qHbkbwrF3uHKwVENbIV2wZ13kNEF6zD+x24aLNMfDTCbDPnEikZFyTNttxWBXDaBuM8KtI2rmaMdUY7cXcUPstqTGvBGSrFWIpNMfbdea990bvAOC1YX0qbc6smDS1mPxSJoW4fwEXvjMmhlijDRq6qale6aJEuFGoppYDoBELQzLBuh/mZNx7jkinv0EtnUp50lO9hbNK57lZaMAWuWR5Yo9/kYwcYI0t4gWM47Umnl3YmpeBPqSyNp3K7s2DSAS/39KRuEN2bS4xvowV3dFRMx/VFcp2Yp8w2nTO9hCXtHG1kF1L4KlrJr2wKfyq77R7MKpFKzWlY9UkhYxyHWW6nBWPaudvEAl3CGcNpSXPZ6R9BbBtIl6cHL3gIBi+42CYXqCx1gfGWe7Ap0h3luyXdt1MKy4YUT9xSF01G16YEdWsouW9mgDHd3veyA97H+Ya47ZmEbqMY72oPztCGvK0onL44AvgC49saZKkWRz4veWljE1FHjbRJaWv6ZKKtl875h4CziFCZhG5rx7tefsl0aRT1bMHZjm8dwL/6u7wCRysaQblQoG5yAQN5zpatMNY/+yf8z+GLcH/Qn0iX2W2oEfXP4GvwQHuIL9AYGnaO3zqAX6946nkgqZNnUhx43DIdQtMFeOPrgy/y3Yd85HlJWwjLFkU3kFwq28xPnuPhMWeS+tDLV9Otllq7pQCf3uXJDN9wFDiUTgefHaiYbdfi3b3u8+iY6TnzhgehI1LTe8lcd7s1wJSzKbahCRxKKztTLXstGAiu3a6rPuQs5pk9TWAan5f0BZmGf7Ylxzzk/A7PAs4QPPPAHeFQ2hbFHszlgZuKZsJcUmbDC40sEU403cEjczstOEypa+YxevL4QBC8oRYqWdK6b7sK25tfE+oDZgtOQ2Jg8T41HGcBE6fTWHn4JtHcu9S7uYgU5KSCkl/mcnq+5/YBXOEr6lCUCwOTOM1taOI8mSxx1NsCXBEmLKbMAg5MkwbLmpBaFOPrNSlO2HnLiEqW3tHEwd8AeiQLmn+2gxjC3k6AxREqvKcJbTEzlpLiw4rNZK6oJdidbMMGX9FULKr0AkW+2qDEPBNNm5QAt2Ik2nftNWHetubosHLo2nG4vQA7GkcVCgVCgaDixHqo9UUn1A6OshapaNR/LPRYFV8siT1cCtJE0k/3WtaNSuUZYKPnsVIW0xXWnMUxq5+En4Kvw/MqQmVXnAXj9Z+9zM98zM/Agy7F/qqj2Nh67b8HjFnPP3iBn/tkpdzwEJX/whIcQUXOaikeliCRGUk7tiwF0rItwMEhjkZ309hikFoRAmLTpEXWuHS6y+am/KB/fM50aLEhGnSMwkpxzOov4H0AvgovwJ1iGzDLtJn/9BU+fAINfwUe6FHSLhu83viV/+/HrOePX+STT2B9uWGbrMHHLldRBlhS/CJQmcRxJFqZica01XixAZsYiH1uolZxLrR/SgxVIJjkpQP4PE9sE59LKLr7kltSBogS5tyszzH8Fvw8/AS8rNOg0xUS9fIaHwb+6et8Q/gyvKRjf5OusOzGx8evA/BP4IP11uN/grca5O0lcsPLJ5YjwI4QkJBOHa0WdMZYGxPbh2W2nR9v3WxEWqgp/G3+6VZbRLSAAZ3BhdhAaUL33VUSw9yjEsvbaQ9u4A/gGXwZXoEHOuU1GSj2chf+Mo+f8IcfcAxfIKVmyunRbYQVnoevwgfw3TXXcw++xNuP4fhyueEUNttEduRVaDttddoP0eSxLe2LENk6itYxlrxBNBYrNNKSQmeaLcm9c8UsaB5WyO6675yyQIAWSDpBVoA/gxmcwEvwoDv0m58UE7gHn+fJOa8/Ywan8EKRfjsopF83eCglX/Sfr7OeaRoQfvt1CGvIDccH5BCvw1sWIzRGC/66t0VTcLZQZtm6PlAasbOJ9iwWtUo7biktTSIPxnR24jxP1ZKaqq+2RcXM9OrBAm/AAs7hDJ5bNmGb+KIfwCs8a3jnjBrOFeMjHSCdbKr+2uOLfnOd9eiA8Hvvwwq54VbP2OqwkB48Ytc4YEOiH2vTXqodabfWEOzso4qxdbqD5L6tbtNPECqbhnA708DZH4QOJUXqScmUlks7Ot6FBuZw3n2mEbaUX7kDzxHOOQk8nKWMzAzu6ZZ8sOFw4RK+6PcuXo9tB4SbMz58ApfKDXf3szjNIIbGpD5TKTRxGkEMLjLl+K3wlWXBsCUxIDU+jbOiysESqAy1MGUJpXgwbTWzNOVEziIXZrJ+VIztl1PUBxTSo0dwn2bOmfDRPD3TRTGlfbCJvO9KvuhL1hMHhB9wPuPRLGHcdOWG2xc0U+5bQtAJT0nRTewXL1pgk2+rZAdeWmz3jxAqfNQQdzTlbF8uJ5ecEIWvTkevAHpwz7w78QujlD/Lr491bD8/1vhM2yrUQRrWXNQY4fGilfctMWYjL72UL/qS9eiA8EmN88nbNdour+PBbbAjOjIa4iBhfFg6rxeKdEGcL6p3EWR1Qq2Qkhs2DrnkRnmN9tG2EAqmgPw6hoL7Oza7B+3SCrR9tRftko+Lsf2F/mkTndN2LmzuMcKTuj/mX2+4Va3ki16+nnJY+S7MefpkidxwnV+4wkXH8TKnX0tsYzYp29DOOoSW1nf7nTh2akYiWmcJOuTidSaqESrTYpwjJJNVGQr+rLI7WsqerHW6Kp/oM2pKuV7T1QY9gjqlZp41/WfKpl56FV/0kvXQFRyeQ83xaTu5E8p5dNP3dUF34ihyI3GSpeCsywSh22ZJdWto9winhqifb7VRvgktxp13vyjrS0EjvrRfZ62uyqddSWaWYlwTPAtJZ2oZ3j/Sgi/mi+6vpzesfAcWNA0n8xVyw90GVFGuZjTXEQy+6GfLGLMLL523f5E0OmxVjDoOuRiH91RKU+vtoCtH7TgmvBLvtFXWLW15H9GTdVw8ow4IlRLeHECN9ym1e9K0I+Cbnhgv4Yu+aD2HaQJ80XDqOzSGAV4+4yCqBxrsJAX6ZTIoX36QnvzhhzzMfFW2dZVLOJfo0zbce5OvwXMFaZ81mOnlTVXpDZsQNuoYWveketKb5+6JOOsgX+NTm7H49fUTlx+WLuWL7qxnOFh4BxpmJx0p2gDzA/BUARuS6phR+pUsY7MMboAHx5xNsSVfVZcYSwqCKrqon7zM+8ecCkeS4nm3rINuaWvVNnMRI1IRpxTqx8PZUZ0Br/UEduo3B3hNvmgZfs9gQPj8vIOxd2kndir3awvJ6BLvoUuOfFWNYB0LR1OQJoUySKb9IlOBx74q1+ADC2G6rOdmFdJcD8BkfualA+BdjOOzP9uUhGUEX/TwhZsUduwRr8wNuXKurCixLBgpQI0mDbJr9dIqUuV+92ngkJZ7xduCk2yZKbfWrH1VBiTg9VdzsgRjW3CVXCvAwDd+c1z9dWw9+B+8MJL/eY15ZQ/HqvTwVdsZn5WQsgRRnMaWaecu3jFvMBEmgg+FJFZsnSl0zjB9OqPYaBD7qmoVyImFvzi41usesV0julaAR9dfR15Xzv9sEruRDyk1nb+QaLU67T885GTls6YgcY+UiMa25M/pwGrbCfzkvR3e0jjtuaFtnwuagHTSb5y7boBH119HXhvwP487jJLsLJ4XnUkHX5sLbS61dpiAXRoZSCrFJ+EjpeU3puVfitngYNo6PJrAigKktmwjyQdZpfq30mmtulaAx9Zfx15Xzv+cyeuiBFUs9zq8Kq+XB9a4PVvph3GV4E3y8HENJrN55H1X2p8VyqSKwVusJDKzXOZzplWdzBUFK9e+B4+uv468xvI/b5xtSAkBHQaPvtqWzllVvEOxPbuiE6+j2pvjcKsbvI7txnRErgfH7LdXqjq0IokKzga14GzQ23SSbCQvO6r+Or7SMIr/efOkkqSdMnj9mBx2DRsiY29Uj6+qK9ZrssCKaptR6HKURdwUYeUWA2kPzVKQO8ku2nU3Anhs/XWkBx3F/7wJtCTTTIKftthue1ty9xvNYLY/zo5KSbIuKbXpbEdSyeRyYdAIwKY2neyoc3+k1XUaufYga3T9daMUx/r8z1s10ITknIO0kuoMt+TB8jK0lpayqqjsJ2qtXAYwBU932zinimgmd6mTRDnQfr88q36NAI+tv24E8Pr8zxtasBqx0+xHH9HhlrwsxxNUfKOHQaZBITNf0uccj8GXiVmXAuPEAKSdN/4GLHhs/XWj92dN/uetNuBMnVR+XWDc25JLjo5Mg5IZIq226tmCsip2zZliL213YrTlL2hcFjpCduyim3M7/eB16q/blQsv5X/esDRbtJeabLIosWy3ycavwLhtxdWzbMmHiBTiVjJo6lCLjXZsi7p9PEPnsq6X6wd4bP11i0rD5fzPm/0A6brrIsllenZs0lCJlU4abakR59enZKrKe3BZihbTxlyZ2zl1+g0wvgmA166/bhwDrcn/7Ddz0eWZuJvfSESug6NzZsox3Z04FIxz0mUjMwVOOVTq1CQ0AhdbBGVdjG/CgsfUX7esJl3K/7ytWHRv683praW/8iDOCqWLLhpljDY1ZpzK75QiaZoOTpLKl60auHS/97oBXrv+umU9+FL+5+NtLFgjqVLCdbmj7pY5zPCPLOHNCwXGOcLquOhi8CmCWvbcuO73XmMUPab+ug3A6/A/78Bwe0bcS2+tgHn4J5pyS2WbOck0F51Vq3LcjhLvZ67p1ABbaL2H67bg78BfjKi/jr3+T/ABV3ilLmNXTI2SpvxWBtt6/Z//D0z/FXaGbSBgylzlsEGp+5//xrd4/ae4d8DUUjlslfIYS3t06HZpvfQtvv0N7AHWqtjP2pW08QD/FLy//da38vo8PNlKHf5y37Dxdfe/oj4kVIgFq3koLReSR76W/bx//n9k8jonZxzWTANVwEniDsg87sOSd/z7//PvMp3jQiptGVWFX2caezzAXwfgtzYUvbr0iozs32c3Uge7varH+CNE6cvEYmzbPZ9hMaYDdjK4V2iecf6EcEbdUDVUARda2KzO/JtCuDbNQB/iTeL0EG1JSO1jbXS+nLxtPMDPw1fh5+EPrgSEKE/8Gry5A73ui87AmxwdatyMEBCPNOCSKUeRZ2P6Myb5MRvgCHmA9ywsMifU+AYXcB6Xa5GibUC5TSyerxyh0j6QgLVpdyhfArRTTLqQjwe4HOD9s92D4Ap54odXAPBWLAwB02igG5Kkc+piN4lvODIFGAZgT+EO4Si1s7fjSR7vcQETUkRm9O+MXyo9OYhfe4xt9STQ2pcZRLayCV90b4D3jR0DYAfyxJ+eywg2IL7NTMXna7S/RpQ63JhWEM8U41ZyQGjwsVS0QBrEKLu8xwZsbi4wLcCT+OGidPIOCe1PiSc9Qt+go+vYqB7cG+B9d8cAD+WJPz0Am2gxXgU9IneOqDpAAXOsOltVuMzpdakJXrdPCzXiNVUpCeOos5cxnpQT39G+XVLhs1osQVvJKPZyNq8HDwd4d7pNDuWJPxVX7MSzqUDU6gfadKiNlUFTzLeFHHDlzO4kpa7aiKhBPGKwOqxsBAmYkOIpipyXcQSPlRTf+Tii0U3EJGaZsDER2qoB3h2hu0qe+NNwUooYU8y5mILbJe6OuX+2FTKy7bieTDAemaQyQ0CPthljSWO+xmFDIYiESjM5xKd6Ik5lvLq5GrQ3aCMLvmCA9wowLuWJb9xF59hVVP6O0CrBi3ZjZSNOvRy+I6klNVRJYRBaEzdN+imiUXQ8iVF8fsp+W4JXw7WISW7fDh7lptWkCwZ4d7QTXyBPfJMYK7SijjFppGnlIVJBJBYj7eUwtiP1IBXGI1XCsjNpbjENVpSAJ2hq2LTywEly3hUYazt31J8w2+aiLx3g3fohXixPfOMYm6zCGs9LVo9MoW3MCJE7R5u/WsOIjrqBoHUO0bJE9vxBpbhsd3+Nb4/vtPCZ4oZYCitNeYuC/8UDvDvy0qvkiW/cgqNqRyzqSZa/s0mqNGjtKOoTm14zZpUauiQgVfqtQiZjq7Q27JNaSK5ExRcrGCXO1FJYh6jR6CFqK7bZdQZ4t8g0rSlPfP1RdBtqaa9diqtzJkQ9duSryi2brQXbxDwbRUpFMBHjRj8+Nt7GDKgvph9okW7LX47gu0SpGnnFQ1S1lYldOsC7hYteR574ZuKs7Ei1lBsfdz7IZoxzzCVmmVqaSySzQbBVAWDek+N4jh9E/4VqZrJjPwiv9BC1XcvOWgO8275CVyBPvAtTVlDJfZkaZGU7NpqBogAj/xEHkeAuJihWYCxGN6e8+9JtSegFXF1TrhhLGP1fak3pebgPz192/8gB4d/6WT7+GdYnpH7hH/DJzzFiYPn/vjW0SgNpTNuPIZoAEZv8tlGw4+RLxy+ZjnKa5NdFoC7UaW0aduoYse6+bXg1DLg6UfRYwmhGEjqPvF75U558SANrElK/+MdpXvmqBpaXOa/MTZaa1DOcSiLaw9j0NNNst3c+63c7EKTpkvKHzu6bPbP0RkuHAVcbRY8ijP46MIbQeeT1mhA+5PV/inyDdQipf8LTvMXbwvoDy7IruDNVZKTfV4CTSRUYdybUCnGU7KUTDxLgCknqUm5aAW6/1p6eMsOYsphLzsHrE0Y/P5bQedx1F/4yPHnMB3/IOoTU9+BL8PhtjuFKBpZXnYNJxTuv+2XqolKR2UQgHhS5novuxVySJhBNRF3SoKK1XZbbXjVwWNyOjlqWJjrWJIy+P5bQedyldNScP+HZ61xKSK3jyrz+NiHG1hcOLL/+P+PDF2gOkekKGiNWKgJ+8Z/x8Iv4DdQHzcpZyF4v19I27w9/yPGDFQvmEpKtqv/TLiWMfn4sofMm9eAH8Ao0zzh7h4sJqYtxZd5/D7hkYPneDzl5idlzNHcIB0jVlQ+8ULzw/nc5/ojzl2juE0apD7LRnJxe04dMz2iOCFNtGFpTuXA5AhcTRo8mdN4kz30nVjEC4YTZQy4gpC7GlTlrePKhGsKKgeXpCYeO0MAd/GH7yKQUlXPLOasOH3FnSphjHuDvEu4gB8g66oNbtr6eMbFIA4fIBJkgayoXriw2XEDQPJrQeROAlY6aeYOcMf+IVYTU3XFlZufMHinGywaW3YLpObVBAsbjF4QJMsVUSayjk4voPsHJOQfPWDhCgDnmDl6XIRerD24HsGtw86RMHOLvVSHrKBdeVE26gKB5NKHzaIwLOmrqBWJYZDLhASG16c0Tn+CdRhWDgWXnqRZUTnPIHuMJTfLVpkoYy5CzylHVTGZMTwkGAo2HBlkQplrJX6U+uF1wZz2uwS1SQ12IqWaPuO4baZaEFBdukksJmkcTOm+YJSvoqPFzxFA/YUhIvWxcmSdPWTWwbAKVp6rxTtPFUZfKIwpzm4IoMfaYQLWgmlG5FME2gdBgm+J7J+rtS/XBbaVLsR7bpPQnpMFlo2doWaVceHk9+MkyguZNCJ1He+kuHTWyQAzNM5YSUg/GlTk9ZunAsg1qELVOhUSAK0LABIJHLKbqaEbHZLL1VA3VgqoiOKXYiS+HRyaEKgsfIqX64HYWbLRXy/qWoylIV9gudL1OWBNgBgTNmxA6b4txDT4gi3Ri7xFSLxtXpmmYnzAcWDZgY8d503LFogz5sbonDgkKcxGsWsE1OI+rcQtlgBBCSOKD1mtqYpIU8cTvBmAT0yZe+zUzeY92fYjTtGipXLhuR0ePoHk0ofNWBX+lo8Z7pAZDk8mEw5L7dVyZZoE/pTewbI6SNbiAL5xeygW4xPRuLCGbhcO4RIeTMFYHEJkYyEO9HmJfXMDEj/LaH781wHHZEtqSQ/69UnGpzH7LKIAZEDSPJnTesJTUa+rwTepI9dLJEawYV+ZkRn9g+QirD8vF8Mq0jFQ29js6kCS3E1+jZIhgPNanHdHFqFvPJLHqFwQqbIA4jhDxcNsOCCQLDomaL/dr5lyJaJU6FxPFjO3JOh3kVMcROo8u+C+jo05GjMF3P3/FuDLn5x2M04xXULPwaS6hBYki+MrMdZJSgPHlcB7nCR5bJ9Kr5ACUn9jk5kivdd8tk95SOGrtqu9lr2IhK65ZtEl7ZKrp7DrqwZfRUSN1el7+7NJxZbywOC8neNKTch5vsTEMNsoCCqHBCqIPRjIPkm0BjvFODGtto99rCl+d3wmHkW0FPdpZtC7MMcVtGFQjJLX5bdQ2+x9ypdc313uj8xlsrfuLgWXz1cRhZvJYX0iNVBRcVcmCXZs6aEf3RQF2WI/TcCbKmGU3IOoDJGDdDub0+hYckt6PlGu2BcxmhbTdj/klhccLGJMcqRjMJP1jW2ETqLSWJ/29MAoORluJ+6LPffBZbi5gqi5h6catQpmOT7/OFf5UorRpLzCqcMltBLhwd1are3kztrSzXO0LUbXRQcdLh/RdSZ+swRm819REDrtqzC4es6Gw4JCKlSnjYVpo0xeq33PrADbFLL3RuCmObVmPN+24kfa+AojDuM4umKe2QwCf6EN906HwjujaitDs5o0s1y+k3lgbT2W2i7FJdnwbLXhJUBq/9liTctSmFC/0OqUinb0QddTWamtjbHRFuWJJ6NpqZ8vO3fZJ37Db+2GkaPYLGHs7XTTdiFQJ68SkVJFVmY6McR5UycflNCsccHFaV9FNbR4NttLxw4pQ7wJd066Z0ohVbzihaxHVExd/ay04oxUKWt+AsdiQ9OUyZ2krzN19IZIwafSTFgIBnMV73ADj7V/K8u1MaY2sJp2HWm0f41tqwajEvdHWOJs510MaAqN4aoSiPCXtN2KSi46dUxHdaMquar82O1x5jqhDGvqmoE9LfxcY3zqA7/x3HA67r9ZG4O6Cuxu12/+TP+eLP+I+HErqDDCDVmBDO4larujNe7x8om2rMug0MX0rL1+IWwdwfR+p1TNTyNmVJ85ljWzbWuGv8/C7HD/izjkHNZNYlhZcUOKVzKFUxsxxN/kax+8zPWPSFKw80rJr9Tizyj3o1gEsdwgWGoxPezDdZ1TSENE1dLdNvuKL+I84nxKesZgxXVA1VA1OcL49dFlpFV5yJMhzyCmNQ+a4BqusPJ2bB+xo8V9u3x48VVIEPS/mc3DvAbXyoYr6VgDfh5do5hhHOCXMqBZUPhWYbWZECwVJljLgMUWOCB4MUuMaxGNUQDVI50TQ+S3kFgIcu2qKkNSHVoM0SHsgoZxP2d5HH8B9woOk4x5bPkKtAHucZsdykjxuIpbUrSILgrT8G7G5oCW+K0990o7E3T6AdW4TilH5kDjds+H64kS0mz24grtwlzDHBJqI8YJQExotPvoC4JBq0lEjjQkyBZ8oH2LnRsQ4Hu1QsgDTJbO8fQDnllitkxuVskoiKbRF9VwzMDvxHAdwB7mD9yCplhHFEyUWHx3WtwCbSMMTCUCcEmSGlg4gTXkHpZXWQ7kpznK3EmCHiXInqndkQjunG5kxTKEeGye7jWz9cyMR2mGiFQ15ENRBTbCp+Gh86vAyASdgmJq2MC6hoADQ3GosP0QHbnMHjyBQvQqfhy/BUbeHd5WY/G/9LK/8Ka8Jd7UFeNWEZvzPb458Dn8DGLOe3/wGL/4xP+HXlRt+M1PE2iLhR8t+lfgxsuh7AfO2AOf+owWhSZRYQbd622hbpKWKuU+XuvNzP0OseRDa+mObgDHJUSc/pKx31QdKffQ5OIJpt8GWjlgTwMc/w5MPCR/yl1XC2a2Yut54SvOtMev55Of45BOat9aWG27p2ZVORRvnEk1hqWMVUmqa7S2YtvlIpspuF1pt0syuZS2NV14mUidCSfzQzg+KqvIYCMljIx2YK2AO34fX4GWdu5xcIAb8MzTw+j/lyWM+Dw/gjs4GD6ehNgA48kX/AI7XXM/XAN4WHr+9ntywqoCakCqmKP0rmQrJJEErG2Upg1JObr01lKQy4jskWalKYfJ/EDLMpjNSHFEUAde2fltaDgmrNaWQ9+AAb8I5vKjz3L1n1LriB/BXkG/wwR9y/oRX4LlioHA4LzP2inzRx/DWmutRweFjeP3tNeSGlaE1Fde0OS11yOpmbIp2u/jF1n2RRZviJM0yBT3IZl2HWImKjQOxIyeU325b/qWyU9Moj1o07tS0G7qJDoGHg5m8yeCxMoEH8GU45tnrNM84D2l297DQ9t1YP7jki/7RmutRweEA77/HWXOh3HCxkRgldDQkAjNTMl2Iloc1qN5JfJeeTlyTRzxURTdn1Ixv2uKjs12AbdEWlBtmVdk2k7FFwj07PCZ9XAwW3dG+8xKzNFr4EnwBZpy9Qzhh3jDXebBpYcpuo4fQ44u+fD1dweEnHzI7v0xuuOALRUV8rXpFyfSTQYkhd7IHm07jpyhlkCmI0ALYqPTpUxXS+z4jgDj1Pflvmz5ecuItpIBxyTHpSTGWd9g1ApfD/bvwUhL4nT1EzqgX7cxfCcNmb3mPL/qi9SwTHJ49oj5ZLjccbTG3pRmlYi6JCG0mQrAt1+i2UXTZ2dv9IlQpN5naMYtviaXlTrFpoMsl3bOAFEa8sqPj2WCMrx3Yjx99qFwO59Aw/wgx+HlqNz8oZvA3exRDvuhL1jMQHPaOJ0+XyA3fp1OfM3qObEVdhxjvynxNMXQV4+GJyvOEFqeQBaIbbO7i63rpxCltdZShPFxkjM2FPVkn3TG+Rp9pO3l2RzFegGfxGDHIAh8SteR0C4HopXzRF61nheDw6TFN05Ebvq8M3VKKpGjjO6r7nhudTEGMtYM92HTDaR1FDMXJ1eThsbKfywyoWwrzRSXkc51flG3vIid62h29bIcFbTGhfV+faaB+ohj7dPN0C2e2lC96+XouFByen9AsunLDJZ9z7NExiUc0OuoYW6UZkIyx2YUR2z6/TiRjyKMx5GbbjLHvHuf7YmtKghf34LJfx63Yg8vrvN2zC7lY0x0tvKezo4HmGYDU+Gab6dFL+KI761lDcNifcjLrrr9LWZJctG1FfU1uwhoQE22ObjdfkSzY63CbU5hzs21WeTddH2BaL11Gi7lVdlxP1nkxqhnKhVY6knS3EPgVGg1JpN5cP/hivujOelhXcPj8HC/LyI6MkteVjlolBdMmF3a3DbsuAYhL44dxzthWSN065xxUd55Lmf0wRbOYOqH09/o9WbO2VtFdaMb4qBgtFJoT1SqoN8wPXMoXLb3p1PUEhxfnnLzGzBI0Ku7FxrKsNJj/8bn/H8fPIVOd3rfrklUB/DOeO+nkghgSPzrlPxluCMtOnDL4Yml6dK1r3vsgMxgtPOrMFUZbEUbTdIzii5beq72G4PD0DKnwjmBULUVFmy8t+k7fZ3pKc0Q4UC6jpVRqS9Umv8bxw35flZVOU1X7qkjnhZlsMbk24qQ6Hz7QcuL6sDC0iHHki96Uh2UdvmgZnjIvExy2TeJdMDZNSbdZyAHe/Yd1xsQhHiKzjh7GxQ4yqMPaywPkjMamvqrYpmO7Knad+ZQC5msCuAPWUoxrxVhrGv7a+KLXFhyONdTMrZ7ke23qiO40ZJUyzgYyX5XyL0mV7NiUzEs9mjtbMN0dERqwyAJpigad0B3/zRV7s4PIfXSu6YV/MK7+OrYe/JvfGMn/PHJe2fyUdtnFrKRNpXV0Y2559aWPt/G4BlvjTMtXlVIWCnNyA3YQBDmYIodFz41PvXPSa6rq9lWZawZ4dP115HXV/M/tnFkkrBOdzg6aP4pID+MZnTJ1SuuB6iZlyiox4HT2y3YBtkUKWooacBQUDTpjwaDt5poBHl1/HXltwP887lKKXxNUEyPqpGTyA699UqY/lt9yGdlUKra0fFWS+36iylVWrAyd7Uw0CZM0z7xKTOduznLIjG2Hx8cDPLb+OvK6Bv7n1DYci4CxUuRxrjBc0bb4vD3rN5Zz36ntLb83eVJIB8LiIzCmn6SMPjlX+yNlTjvIGjs+QzHPf60Aj62/jrzG8j9vYMFtm1VoRWCJdmw7z9N0t+c8cxZpPeK4aTRicS25QhrVtUp7U578chk4q04Wx4YoQSjFryUlpcQ1AbxZ/XVMknIU//OGl7Q6z9Zpxi0+3yFhSkjUDpnCIUhLWVX23KQ+L9vKvFKI0ZWFQgkDLvBoylrHNVmaw10zwCPrr5tlodfnf94EWnQ0lFRWy8pW9LbkLsyUVDc2NSTHGDtnD1uMtchjbCeb1mpxFP0YbcClhzdLu6lfO8Bj6q+bdT2sz/+8SZCV7VIxtt0DUn9L7r4cLYWDSXnseEpOGFuty0qbOVlS7NNzs5FOGJUqQpl2Q64/yBpZf90sxbE+//PGdZ02HSipCbmD6NItmQ4Lk5XUrGpDMkhbMm2ZVheNYV+VbUWTcv99+2NyX1VoafSuC+AN6q9bFIMv5X/eagNWXZxEa9JjlMwNWb00akGUkSoepp1/yRuuqHGbUn3UdBSTxBU6SEVklzWRUkPndVvw2PrrpjvxOvzPmwHc0hpmq82npi7GRro8dXp0KXnUQmhZbRL7NEVp1uuZmO45vuzKsHrktS3GLWXODVjw+vXXLYx4Hf7njRPd0i3aoAGX6W29GnaV5YdyDj9TFkakje7GHYzDoObfddHtOSpoi2SmzJHrB3hM/XUDDEbxP2/oosszcRlehWXUvzHv4TpBVktHqwenFo8uLVmy4DKLa5d3RtLrmrM3aMFr1183E4sewf+85VWeg1c5ag276NZrM9IJVNcmLEvDNaV62aq+14IAOGFsBt973Ra8Xv11YzXwNfmft7Jg2oS+XOyoC8/cwzi66Dhmgk38kUmP1CUiYWOX1bpD2zWXt2FCp7uq8703APAa9dfNdscR/M/bZLIyouVxqJfeWvG9Je+JVckHQ9+CI9NWxz+blX/KYYvO5n2tAP/vrlZ7+8/h9y+9qeB/Hnt967e5mevX10rALDWK//FaAT5MXdBXdP0C/BAes792c40H+AiAp1e1oH8HgH94g/Lttx1gp63op1eyoM/Bvw5/G/7xFbqJPcCXnmBiwDPb/YKO4FX4OjyCb289db2/Noqicw4i7N6TVtoz8tNwDH+8x/i6Ae7lmaQVENzJFb3Di/BFeAwz+Is9SjeQySpPqbLFlNmyz47z5a/AF+AYFvDmHqibSXTEzoT4Gc3OALaqAP4KPFUJ6n+1x+rGAM6Zd78bgJ0a8QN4GU614vxwD9e1Amy6CcskNrczLx1JIp6HE5UZD/DBHrFr2oNlgG4Odv226BodoryjGJ9q2T/AR3vQrsOCS0ctXZi3ruLlhpFDJYl4HmYtjQCP9rhdn4suySLKDt6wLcC52h8xPlcjju1fn+yhuw4LZsAGUuo2b4Fx2UwQu77uqRHXGtg92aN3tQCbFexc0uk93vhTXbct6y7MulLycoUljx8ngDMBg1tvJjAazpEmOtxlzclvj1vQf1Tx7QlPDpGpqgtdSKz/d9/hdy1vTfFHSmC9dGDZbLiezz7Ac801HirGZsWjydfZyPvHXL/Y8Mjzg8BxTZiuwKz4Eb8sBE9zznszmjvFwHKPIWUnwhqfVRcd4Ck0K6ate48m1oOfrX3/yOtvAsJ8zsPAM89sjnddmuLuDPjX9Bu/L7x7xpMzFk6nWtyQfPg278Gn4Aekz2ZgOmU9eJ37R14vwE/BL8G3aibCiWMWWDQ0ZtkPMnlcGeAu/Ag+8ZyecU5BPuy2ILD+sQqyZhAKmn7XZd+jIMTN9eBL7x95xVLSX4On8EcNlXDqmBlqS13jG4LpmGbkF/0CnOi3H8ETOIXzmnmtb0a16Tzxj1sUvQCBiXZGDtmB3KAefPH94xcUa/6vwRn80GOFyjEXFpba4A1e8KQfFF+259tx5XS4egYn8fQsLGrqGrHbztr+uByTahWuL1NUGbDpsnrwBfePPwHHIf9X4RnM4Z2ABWdxUBlqQ2PwhuDxoS0vvqB1JzS0P4h2nA/QgTrsJFn+Y3AOjs9JFC07CGWX1oNX3T/yHOzgDjwPn1PM3g9Jk9lZrMEpxnlPmBbjyo2+KFXRU52TJM/2ALcY57RUzjObbjqxVw++4P6RAOf58pcVsw9Daje3htriYrpDOonre3CudSe6bfkTEgHBHuDiyu5MCsc7BHhYDx7ePxLjqigXZsw+ijMHFhuwBmtoTPtOxOrTvYJDnC75dnUbhfwu/ZW9AgYd+peL68HD+0emKquiXHhWjJg/UrkJYzuiaL3E9aI/ytrCvAd4GcYZMCkSQxfUg3v3j8c4e90j5ZTPdvmJJGHnOCI2nHS8081X013pHuBlV1gB2MX1YNmWLHqqGN/TWmG0y6clJWthxNUl48q38Bi8vtMKyzzpFdSDhxZ5WBA5ZLt8Jv3895DduBlgbPYAj8C4B8hO68FDkoh5lydC4FiWvBOVqjYdqjiLv92t8yPDjrDaiHdUD15qkSURSGmXJwOMSxWAXYwr3zaAufJ66l+94vv3AO+vPcD7aw/w/toDvL/2AO+vPcD7aw/wHuD9tQd4f+0B3l97gPfXHuD9tQd4f+0B3l97gG8LwP8G/AL8O/A5OCq0Ys2KIdv/qOIXG/4mvFAMF16gZD+2Xvu/B8as5+8bfllWyg0zaNO5bfXj6vfhhwD86/Aq3NfRS9t9WPnhfnvCIw/CT8GLcFTMnpntdF/z9V+PWc/vWoIH+FL3Znv57PitcdGP4R/C34avw5fgRVUInCwbsn1yyA8C8zm/BH8NXoXnVE6wVPjdeCI38kX/3+Ct9dbz1pTmHFRu+Hm4O9Ch3clr99negxfwj+ER/DR8EV6B5+DuQOnTgUw5rnkY+FbNU3gNXh0o/JYTuWOvyBf9FvzX663HH/HejO8LwAl8Hl5YLTd8q7sqA3wbjuExfAFegQdwfyDoSkWY8swzEf6o4Qyewefg+cHNbqMQruSL/u/WWc+E5g7vnnEXgDmcDeSGb/F4cBcCgT+GGRzDU3hZYburAt9TEtHgbM6JoxJ+6NMzzTcf6c2bycv2+KK/f+l6LBzw5IwfqZJhA3M472pWT/ajKxnjv4AFnMEpnBTPND6s2J7qHbPAqcMK74T2mZ4VGB9uJA465It+/eL1WKhYOD7xHOkr1ajK7d0C4+ke4Hy9qXZwpgLr+Znm/uNFw8xQOSy8H9IzjUrd9+BIfenYaylf9FsXr8fBAadnPIEDna8IBcwlxnuA0/Wv6GAWPd7dDIKjMdSWueAsBj4M7TOd06qBbwDwKr7oleuxMOEcTuEZTHWvDYUO7aHqAe0Bbq+HEFRzOz7WVoTDQkVds7A4sIIxfCQdCefFRoIOF/NFL1mPab/nvOakSL/Q1aFtNpUb/nFOVX6gzyg/1nISyDfUhsokIzaBR9Kxm80s5mK+6P56il1jXic7nhQxsxSm3OwBHl4fFdLqi64nDQZvqE2at7cWAp/IVvrN6/BFL1mPhYrGMBfOi4PyjuSGf6wBBh7p/FZTghCNWGgMzlBbrNJoPJX2mW5mwZfyRffXo7OFi5pZcS4qZUrlViptrXtw+GQoyhDPS+ANjcGBNRiLCQDPZPMHuiZfdFpPSTcQwwKYdRNqpkjm7AFeeT0pJzALgo7g8YYGrMHS0iocy+YTm2vyRUvvpXCIpQ5pe666TJrcygnScUf/p0NDs/iAI/nqDHC8TmQT8x3NF91l76oDdQGwu61Z6E0ABv7uO1dbf/37Zlv+Zw/Pbh8f1s4Avur6657/+YYBvur6657/+YYBvur6657/+YYBvur6657/+aYBvuL6657/+VMA8FXWX/f8zzcN8BXXX/f8zzcNMFdbf93zP38KLPiK6697/uebtuArrr/u+Z9vGmCusP6653/+1FjwVdZf9/zPN7oHX339dc//fNMu+irrr3v+50+Bi+Zq6697/uebA/jz8Pudf9ht/fWv517J/XUzAP8C/BAeX9WCDrUpZ3/dEMBxgPcfbtTVvsYV5Yn32u03B3Ac4P3b8I+vxNBKeeL9dRMAlwO83959qGO78sT769oB7g3w/vGVYFzKE++v6wV4OMD7F7tckFkmT7y/rhHgpQO8b+4Y46XyxPvrugBeNcB7BRiX8sT767oAvmCA9woAHsoT76+rBJjLBnh3txOvkifeX1dswZcO8G6N7sXyxPvr6i340gHe3TnqVfLE++uKAb50gHcXLnrX8sR7gNdPRqwzwLu7Y/FO5Yn3AK9jXCMGeHdgxDuVJ75VAI8ljP7PAb3/RfjcZfePHBB+79dpfpH1CanN30d+mT1h9GqAxxJGM5LQeeQ1+Tb+EQJrElLb38VHQ94TRq900aMIo8cSOo+8Dp8QfsB8zpqE1NO3OI9Zrj1h9EV78PqE0WMJnUdeU6E+Jjyk/hbrEFIfeWbvId8H9oTRFwdZaxJGvziW0Hn0gqYB/wyZ0PwRlxJST+BOw9m77Amj14ii1yGM/txYQudN0qDzGe4EqfA/5GJCagsHcPaEPWH0esekSwmjRxM6b5JEcZ4ww50ilvAOFxBSx4yLW+A/YU8YvfY5+ALC6NGEzhtmyZoFZoarwBLeZxUhtY4rc3bKnjB6TKJjFUHzJoTOozF2YBpsjcyxDgzhQ1YRUse8+J4wenwmaylB82hC5w0zoRXUNXaRBmSMQUqiWSWkLsaVqc/ZE0aPTFUuJWgeTei8SfLZQeMxNaZSIzbII4aE1Nmr13P2hNHjc9E9guYNCZ032YlNwESMLcZiLQHkE4aE1BFg0yAR4z1h9AiAGRA0jyZ03tyIxWMajMPWBIsxYJCnlITU5ShiHYdZ94TR4wCmSxg9jtB5KyPGYzymAYexWEMwAPIsAdYdV6aObmNPGD0aYLoEzaMJnTc0Ygs+YDw0GAtqxBjkuP38bMRWCHn73xNGjz75P73WenCEJnhwyVe3AEe8TtKdJcYhBl97wuhNAObK66lvD/9J9NS75v17wuitAN5fe4D31x7g/bUHeH/tAd5fe4D3AO+vPcD7aw/w/toDvL/2AO+vPcD7aw/w/toDvAd4f/24ABzZ8o+KLsSLS+Pv/TqTb3P4hKlQrTGh+fbIBT0Axqznnb+L/V2mb3HkN5Mb/nEHeK7d4IcDld6lmDW/iH9E+AH1MdOw/Jlu2T1xNmY98sv4wHnD7D3uNHu54WUuOsBTbQuvBsPT/UfzNxGYzwkP8c+Yz3C+r/i6DcyRL/rZ+utRwWH5PmfvcvYEt9jLDS/bg0/B64DWKrQM8AL8FPwS9beQCe6EMKNZYJol37jBMy35otdaz0Bw2H/C2Smc7+WGB0HWDELBmOByA3r5QONo4V+DpzR/hFS4U8wMW1PXNB4TOqYz9urxRV++ntWCw/U59Ty9ebdWbrgfRS9AYKKN63ZokZVygr8GZ/gfIhZXIXPsAlNjPOLBby5c1eOLvmQ9lwkOy5x6QV1j5TYqpS05JtUgUHUp5toHGsVfn4NX4RnMCe+AxTpwmApTYxqMxwfCeJGjpXzRF61nbcHhUBPqWze9svwcHJ+S6NPscKrEjug78Dx8Lj3T8D4YxGIdxmJcwhi34fzZUr7olevZCw5vkOhoClq5zBPZAnygD/Tl9EzDh6kl3VhsHYcDEb+hCtJSvuiV69kLDm+WycrOTArHmB5/VYyP6jOVjwgGawk2zQOaTcc1L+aLXrKeveDwZqlKrw8U9Y1p66uK8dEzdYwBeUQAY7DbyYNezBfdWQ97weEtAKYQg2xJIkuveAT3dYeLGH+ShrWNwZgN0b2YL7qznr3g8JYAo5bQBziPjx7BPZ0d9RCQp4UZbnFdzBddor4XHN4KYMrB2qHFRIzzcLAHQZ5the5ovui94PCWAPefaYnxIdzRwdHCbuR4B+tbiy96Lzi8E4D7z7S0mEPd+eqO3cT53Z0Y8SV80XvB4Z0ADJi/f7X113f+7p7/+UYBvur6657/+YYBvur6657/+aYBvuL6657/+aYBvuL6657/+aYBvuL6657/+aYBvuL6657/+VMA8FXWX/f8z58OgK+y/rrnf75RgLna+uue//lTA/CV1V/3/M837aKvvv6653++UQvmauuve/7nTwfAV1N/3fM/fzr24Cuuv+75nz8FFnxl9dc9//MOr/8/glixwRuUfM4AAAAASUVORK5CYII="
        },
        getSearchTexture: function() {
            return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII="
        }
    });
    var K = n(54),
        Q = n.n(K),
        $ = n(13),
        ee = n(8),
        te = n(17),
        ne = n(11),
        ie = n(33),
        re = n(32),
        oe = n(39),
        ae = n(2),
        se = n(42),
        ce = n(7),
        le = n(26),
        ue = n(56),
        he = n(6);

    function de(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function pe(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function fe(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var me = document.body.querySelector("[data-touch-zone]"),
        ve = function() {
            function e() {
                var t = this,
                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    i = n.position,
                    o = n.index,
                    a = n.guiController,
                    s = n.lookAt,
                    l = n.directionCenter,
                    u = n.data,
                    h = n.scrollValue,
                    d = n.touch,
                    p = n.type,
                    f = n.flagIndex;
                de(this, e), fe(this, "canRender", !1), fe(this, "tlFadeIn", null), fe(this, "zoomed", !1), fe(this, "listFlagExpand", (function(e) {
                    var n = e.detail,
                        i = n.index;
                    n.changeColor ? t.particleFlag.updateColors(i) : (t.particleFlag.updateTextures(i), t.circleToFlag())
                })), fe(this, "listFlagShrink", (function() {
                    t.flagToCircle()
                })), this.index = o, this.initLookAt = s, this.lookAt = new D.Vector3(this.initLookAt.x, this.initLookAt.y + r.D, this.initLookAt.z), this.progress = 0, this.guiController = a, this.amplitude = this.guiController.amplitude, this.amplitudeTarget = this.amplitude, this.position = i, this.directionCenter = l, this.data = u, this.scrollValue = h, this.touch = d, this.type = p, this.flagIndex = f, this.canUpdateAmplitude = !0, this.object3d = new D.Object3D, this.createFlag(), this.particleFlag.plane.flagIndex = f, this.particleFlag.circle.flagIndex = f, $.a.subjects["".concat(this.id, "_placholder")] && (this.placeholderTex = $.a.subjects["".concat(this.id, "_placholder")].texture), "list" !== p ? (this.createStick(), this.title = new oe.a(this), this.title.mesh.flagIndex = f, this.data.subtitle && (this.subtitle = new oe.a(this, "subtitle"), this.subtitle.mesh && (this.subtitle.mesh.flagIndex = f)), this.nextMesh = new se.a(this, "next", this.particleFlag), this.prevMesh = new se.a(this, "prev", this.particleFlag), this.fadeOut(!0)) : (this.initListFlag(), window.addEventListener(r.s, this.listFlagExpand), window.addEventListener(r.t, this.listFlagShrink)), c.b.isTouch && c.b.width <= c.a && document.body.addEventListener("click", (function() {
                    var e = t.particleFlag.textures[t.particleFlag.sliderIndex];
                    e && t.checkVideoCanPlay(e)
                }))
            }
            var t, n, i;
            return t = e, (n = [{
                key: "createStick",
                value: function() {
                    this.stickHighestPoint = new D.Vector3, this.stickHighestPoint.copy(this.position), this.stickHighestPoint.y += r.D, this.stick = new re.a(this.position, this.initLookAt), this.object3d.add(this.stick.object3d)
                }
            }, {
                key: "createFlag",
                value: function() {
                    "list" !== this.type ? (this.particleFlag = new ie.a(null, this.index, this.directionCenter, this.touch, this.type), this.particleFlag.setTextures(), this.particleFlag.placeOnRoad(this)) : (this.particleFlag = new ue.a(null, this.index, this.directionCenter, this.touch, this.type), this.object3d.add(this.particleFlag.object3d))
                }
            }, {
                key: "canPlayVideo",
                value: function(e) {
                    return e.HAVE_FUTURE_DATA
                }
            }, {
                key: "fadeIn",
                value: function() {
                    var e, t = this,
                        n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    if (null === (e = this.tlFadeOut) || void 0 === e || e.kill(), this.canRender = !0, this.object3d.visible = !0, this.tlFadeIn = new ae.c, "list" === this.type) return this.particleFlag.material.uniforms.uAlpha.value = 0, this.particleFlag.material.uniforms.uStormProgress.value = 0, this.tlFadeIn.fromTo(this.particleFlag.material.uniforms.uStormProgress, {
                        value: 0
                    }, {
                        value: 1,
                        duration: 3.5,
                        delay: 2.5
                    }, 0), void this.tlFadeIn.fromTo(this.particleFlag.material.uniforms.uAlpha, {
                        value: 0
                    }, {
                        value: 1,
                        duration: 2,
                        delay: 2.5
                    }, 0);
                    if (n) {
                        this.tlFadeIn.to(this.particleFlag.material.uniforms.uStormProgress, {
                            value: 1,
                            duration: 0
                        }, 0), this.tlFadeIn.to(this.particleFlag.material.uniforms.uAlpha, {
                            value: 1,
                            duration: 2.5
                        }, 0);
                        var i = this.particleFlag.textures[this.particleFlag.sliderIndex].video;
                        i && Object(le.a)(i) && (i.currentTime = 0, i.pause())
                    } else this.tlFadeIn.to(this.particleFlag.material.uniforms.uStormProgress, {
                        value: 1,
                        duration: 1.8
                    }, 0), this.tlFadeIn.to(this.particleFlag.material.uniforms.uAlpha, {
                        value: 1,
                        duration: 1.8
                    }, .2), this.tlFadeIn.add((function() {
                        he.b.trigger(he.a.PARTICLES), t.stick.fadeIn()
                    }), .3), this.tlFadeIn.add((function() {
                        t.title.fadeIn()
                    }), .5), this.subtitle && this.tlFadeIn.add((function() {
                        t.subtitle.fadeIn()
                    }), .55), this.isVisible = !0, this.loadTextureFirst(this.particleFlag.textures[this.particleFlag.sliderIndex])
                }
            }, {
                key: "animTextureAppear",
                value: function() {
                    this.tlTextureAppear = new ae.c, this.tlTextureAppear.to(this.particleFlag.material.uniforms.uTextureLoadProgress, {
                        value: 1,
                        duration: .5
                    }, 0)
                }
            }, {
                key: "fadeOut",
                value: function() {
                    var e, t, n, i, r = this,
                        o = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                        a = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    null === (e = this.tlFadeIn) || void 0 === e || e.kill();
                    var s = o ? 0 : 1;
                    this.tlFadeOut = new ae.c({
                        onComplete: function() {
                            r.canRender = !1, r.particleFlag.material.uniforms.uTexture.value = null, r.particleFlag.material.uniforms.uTextureNext.value = null, r.object3d.visible = !1
                        }
                    }), "list" === this.type ? (this.tlFadeOut.to(this.particleFlag.material.uniforms.uStormProgress, {
                        value: 0,
                        duration: 3.5
                    }, 0), this.tlFadeOut.to(this.particleFlag.material.uniforms.uAlpha, {
                        value: 0,
                        duration: 2
                    }, 0)) : a ? (this.tlFadeOut.to(this.particleFlag.material.uniforms.uStormProgress, {
                        value: 0,
                        duration: 3
                    }, 0), this.tlFadeOut.to(this.particleFlag.material.uniforms.uAlpha, {
                        value: 0,
                        duration: 1
                    }, 0)) : (this.tlFadeOut.to(this.particleFlag.material.uniforms.uStormProgress, {
                        value: 0,
                        duration: s
                    }, 0), this.tlFadeOut.to(this.particleFlag.material.uniforms.uAlpha, {
                        value: 0,
                        duration: s
                    }, 0)), null === (t = this.stick) || void 0 === t || t.fadeOut(), null === (n = this.title) || void 0 === n || n.fadeOut(), null === (i = this.subtitle) || void 0 === i || i.fadeOut(), this.isVisible = !1, this.particleFlag.textures.forEach((function(e) {
                        e.video && Object(le.a)(e.video) && (e.video.currentTime = 0, e.video.pause())
                    }))
                }
            }, {
                key: "initListFlag",
                value: function() {
                    this.canRender = !0, this.isVisible = !0, this.canHoverMenu = !0
                }
            }, {
                key: "loadTextureFirst",
                value: function(e) {
                    var t = this;
                    e.video && this.playVideo(e), this.particleFlag.loadTextureImage().then((function() {
                        t.animTextureAppear()
                    }))
                }
            }, {
                key: "playVideo",
                value: function(e) {
                    this.checkVideoCanPlay(e)
                }
            }, {
                key: "checkVideoCanPlay",
                value: function(e) {
                    var t = this,
                        n = function() {
                            t.particleFlag.material.uniforms.uTexture.value = e.source, t.animTextureAppear(), e.loaded = !0, e.video.pause(), e.video.currentTime = 0, e.video.play()
                        };
                    e.video.readyState >= 3 || e.loaded || c.b.isTouch && c.b.width <= c.a ? n() : (clearInterval(this.intervalCheckVid), this.intervalCheckVid = setInterval((function() {
                        e.video.readyState >= 3 && (clearInterval(t.intervalCheckVid), n())
                    }), 300))
                }
            }, {
                key: "toggleZoom",
                value: function(e) {
                    var t = this;
                    e ? (this.zoomed = !0, this.particleFlag.toggleZoom(e), this.prevMesh.fadeArrowIn(), this.nextMesh.fadeArrowIn(), this.unBend(), setTimeout((function() {
                        Object(ce.c)(t.particleFlag, ne.a.camera)
                    }), 1e3), c.b.isTouch && me.classList.add("is-visible")) : (this.zoomed = !1, this.particleFlag.toggleZoom(e), this.prevMesh.fadeArrowOut(), this.nextMesh.fadeArrowOut(), this.bend(), c.b.isTouch && me.classList.remove("is-visible"))
                }
            }, {
                key: "unBend",
                value: function() {
                    this.timelineBendIn && this.timelineBendIn.kill(), this.timelineBendOut = new ae.c, this.timelineBendOut.to(this.particleFlag.material.uniforms.uBend, {
                        value: 0,
                        duration: 2,
                        ease: "expo.out"
                    }, 0), this.timelineBendOut.to(this.particleFlag.material.uniforms.uAmplitude, {
                        value: 1,
                        duration: 2,
                        ease: "expo.out"
                    }, 0)
                }
            }, {
                key: "bend",
                value: function() {
                    this.timelineBendOut && this.timelineBendOut.kill(), this.timelineBendIn = new ae.c, this.timelineBendIn.to(this.particleFlag.material.uniforms.uBend, {
                        value: .7,
                        duration: 1.2,
                        ease: "expo.out"
                    }, 0), this.timelineBendIn.to(this.particleFlag.material.uniforms.uAmplitude, {
                        value: 3,
                        duration: 1.2,
                        ease: "expo.out"
                    }, 0)
                }
            }, {
                key: "render",
                value: function(e, t) {
                    this.canRender && (this.particleFlag.render(t), this.stick && this.stick.render(t), this.zoomed)
                }
            }, {
                key: "toOverview",
                value: function() {
                    var e, t = this;
                    null === (e = this.tlDefaultView) || void 0 === e || e.kill();
                    var n = this.particleFlag.object3d;
                    n.updateMatrix();
                    var i = r.P - 1;
                    this.textureAppeared = !1;
                    var o = new ae.c({
                            onComplete: function() {
                                t.canRender = !0, Object(ce.c)(t.particleFlag, ne.a.camera)
                            }
                        }),
                        a = {
                            value: 0
                        };
                    o.to(a, {
                        value: 1,
                        duration: i,
                        ease: "expo.out",
                        onUpdate: function() {
                            n.scale.set(5 * a.value, 5 * a.value, 5 * a.value), t.particleFlag.material.uniforms.uMenuViewProgress.value = a.value, t.particleFlag.material.uniforms.uMenuViewHoverProgress.value = 1 - a.value
                        }
                    }, 0), o.to(n.rotation, {
                        x: Object(ce.a)(-90),
                        y: 0,
                        z: 0,
                        duration: i,
                        ease: "expo.out"
                    }, 0), o.to([this.particleFlag.material.uniforms.uAmplitude, this.particleFlag.material.uniforms.uBend], {
                        value: 0,
                        duration: i,
                        ease: "expo.out"
                    }, 0), o.to(this.particleFlag.material.uniforms.uMaxAlpha, {
                        value: .8,
                        duration: i,
                        ease: "expo.out"
                    }, 0), o.to(this.particleFlag.material.uniforms.uScale, {
                        value: 5.2,
                        duration: i,
                        ease: "expo.out"
                    }, 0), o.add((function() {
                        t.fadeIn(!0), t.stick.fadeOut(), t.title.fadeOut(), t.subtitle && t.subtitle.fadeOut()
                    }), 0), o.add((function() {
                        t.canHoverMenu = !0
                    }), 1), o.to(n.position, {
                        y: this.position.y + 40,
                        duration: i,
                        ease: "expo.out"
                    }, 0), this.tlMenuView = o
                }
            }, {
                key: "toRoadview",
                value: function(e) {
                    var t, n = this;
                    null === (t = this.tlMenuView) || void 0 === t || t.kill();
                    var i = this.particleFlag.object3d;
                    i.updateMatrix();
                    var o = r.P;
                    this.particleFlag.placeOnRoad(this, !1);
                    var a = new ae.c({
                            onComplete: function() {
                                n.canHoverMenu = !1, n.canRender = !0, Object(ce.c)(n.particleFlag, ne.a.camera)
                            }
                        }),
                        s = {
                            value: 1
                        };
                    a.to(s, {
                        value: 0,
                        duration: e ? 0 : o - 1,
                        ease: "expo.out",
                        onUpdate: function() {
                            i.scale.set(1 + 4 * s.value, 1 + 4 * s.value, 1 + 4 * s.value), n.particleFlag.material.uniforms.uMenuViewProgress.value = s.value
                        }
                    }, 0), e || (a.to(this.particleFlag.material.uniforms.uAmplitude, {
                        value: this.particleFlag.guiController.uAmplitude,
                        duration: o,
                        ease: "expo.out"
                    }, 0), a.to(this.particleFlag.material.uniforms.uBend, {
                        value: this.particleFlag.guiController.uBend,
                        duration: o,
                        ease: "expo.out"
                    }, 0)), a.to(this.particleFlag.material.uniforms.uScale, {
                        value: 1,
                        duration: e ? 0 : o,
                        ease: "expo.out"
                    }, 0), this.isVisible || e ? (this.loadTextureFirst(this.particleFlag.textures[this.particleFlag.sliderIndex]), this.stick.fadeIn(), this.title.fadeIn(), this.subtitle && this.subtitle.fadeIn()) : this.fadeOut(!1, !0), this.tlDefaultView = a
                }
            }, {
                key: "circleToFlag",
                value: function() {
                    var e, t = this;
                    null === (e = this.flagToCircleTl) || void 0 === e || e.kill(), this.flagToCircleTl = null, this.circleToFlagAnimated || this.zoomed || !this.canHoverMenu || (this.circleToFlagAnimated = !0, this.flagToCircleAnimated = !1, this.circleToFlagTl = new ae.c({
                        onComplete: function() {
                            t.circleToFlagAnimated = !1, "list" === t.type && Object(ce.c)(t.particleFlag, ne.a.camera)
                        }
                    }), this.circleToFlagTl.to(this.particleFlag.material.uniforms.uMenuViewHoverProgress, {
                        value: 1,
                        duration: 1.15,
                        ease: "expo.out"
                    }, 0), this.circleToFlagTl.add((function() {
                        t.loadTextureFirst(t.particleFlag.textures[t.particleFlag.sliderIndex])
                    }), .2))
                }
            }, {
                key: "flagToCircle",
                value: function() {
                    var e;
                    if (null === (e = this.circleToFlagTl) || void 0 === e || e.kill(), this.circleToFlagTl = null, !this.flagToCircleAnimated && !this.zoomed && this.canHoverMenu) {
                        this.flagToCircleAnimated = !0, this.circleToFlagAnimated = !1, this.flagToCircleTl = new ae.c, this.flagToCircleTl.to(this.particleFlag.material.uniforms.uMenuViewHoverProgress, {
                            value: 0,
                            duration: 1,
                            ease: "expo.out"
                        }, 0);
                        var t = this.particleFlag.textures[this.particleFlag.sliderIndex].video;
                        t && Object(le.a)(t) && t.pause()
                    }
                }
            }, {
                key: "goNext",
                value: function() {
                    this.particleFlag.goNext(), this.nextMesh.onClick()
                }
            }, {
                key: "goPrev",
                value: function() {
                    this.particleFlag.goPrev(), this.prevMesh.onClick()
                }
            }]) && pe(t.prototype, n), i && pe(t, i), e
        }(),
        ge = n(12),
        ye = n(14),
        be = n(16),
        xe = n(10);

    function we(e) {
        return Math.sin(e * Math.PI / 2)
    }

    function _e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }
    var Me = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this.size = 64, this.maxAge = 60, this.radius = .15, this.trail = [], this.canDraw = !0, this.initTexture()
        }
        var t, n, i;
        return t = e, (n = [{
            key: "initTexture",
            value: function() {
                this.canvas = document.createElement("canvas"), this.canvas.width = this.canvas.height = this.size, this.ctx = this.canvas.getContext("2d"), this.ctx.fillStyle = "black", this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height), this.texture = new D.Texture(this.canvas), this.canvas.id = "touchTexture", this.canvas.style.width = this.canvas.style.height = "150px", this.canvas.style.position = "fixed", this.canvas.style.top = "0", this.canvas.style.zIndex = "10000"
            }
        }, {
            key: "update",
            value: function() {
                var e = this;
                if (this.clear(), !this.canDraw) return !1;
                this.trail.forEach((function(t, n) {
                    t.age++, t.age > e.maxAge && e.trail.splice(n, 1)
                })), this.trail.forEach((function(t, n) {
                    e.drawTouch(t)
                })), this.texture.needsUpdate = !0
            }
        }, {
            key: "clear",
            value: function() {
                this.ctx.fillStyle = "black", this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height)
            }
        }, {
            key: "addTouch",
            value: function(e) {
                var t = 0,
                    n = this.trail[this.trail.length - 1];
                if (n) {
                    var i = n.x - e.x,
                        r = n.y - e.y,
                        o = i * i + r * r;
                    t = Math.min(1e4 * o, 1)
                }
                this.trail.push({
                    x: e.x,
                    y: e.y,
                    age: 0,
                    force: t
                })
            }
        }, {
            key: "drawTouch",
            value: function(e) {
                var t = {
                        x: e.x * this.size,
                        y: (1 - e.y) * this.size
                    },
                    n = 1;
                n = e.age < .3 * this.maxAge ? we(e.age / (.3 * this.maxAge)) : we(1 - (e.age - .3 * this.maxAge) / (.7 * this.maxAge)), n *= e.force;
                var i = this.size * this.radius * n,
                    r = this.ctx.createRadialGradient(t.x, t.y, .25 * i, t.x, t.y, i);
                r.addColorStop(0, "rgba(255, 255, 255, 0.35)"), r.addColorStop(1, "rgba(0, 0, 0, 0.0)"), this.ctx.beginPath(), this.ctx.fillStyle = r, this.ctx.arc(t.x, t.y, i, 0, 2 * Math.PI), this.ctx.fill()
            }
        }, {
            key: "reset",
            value: function() {
                var e = this;
                this.trail = [], this.canDraw = !1, this.ctx.beginPath(), this.ctx.fillStyle = "rgba(0, 0, 0, 0.0)", this.ctx.fill(), clearTimeout(this.timeout), this.timeout = setTimeout((function() {
                    return e.canDraw = !0
                }), 0)
            }
        }]) && _e(t.prototype, n), i && _e(t, i), e
    }();

    function Te(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function Se(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var Ee = function() {
            function e(t) {
                var n = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), Se(this, "guiController", {
                    amplitude: .1,
                    waveDistance: 23743,
                    waveClamping: -5e4,
                    time: 0
                }), Se(this, "flags", []), Se(this, "scene", null), Se(this, "currentIntersect", !1), Se(this, "hoverableObjects", []), Se(this, "flagsRendered", []), Se(this, "canTouchFlagPlane", !0), Se(this, "handleScroll", (function() {
                    for (var e = 0; e < n.flags.length; e++) {
                        var t = n.flags[e];
                        if (l.a.progress + .1 > 1 && (l.a.progress + .1) % 1 > t.scrollValue || l.a.progress + .1 > t.scrollValue && l.a.progress - t.scrollValue < .01) t.isVisible || (t.fadeIn(), n.flagsRendered = n.flags.filter((function(e) {
                            return e.isVisible
                        })), ee.a.updateObserver({}));
                        else {
                            var i = l.a.progress - t.scrollValue < .01;
                            0 === e && (i = !0), t.isVisible && (t.fadeOut(!i), n.flagsRendered = n.flags.filter((function(e) {
                                return e.isVisible
                            })), ee.a.updateObserver({}))
                        }
                    }
                })), Se(this, "handleClick", (function(e) {
                    var t = e.clientX / window.innerWidth * 2 - 1,
                        o = -e.clientY / window.innerHeight * 2 + 1;
                    ee.a.mouse.x = t, ee.a.mouse.y = o, ee.a.updateCurrentIntersect({
                        x: t,
                        y: o
                    });
                    var a = !1;
                    if (ee.a.currentIntersect && n.lastClickedFlag && ee.a.currentIntersect.object.name === "project-".concat(n.lastClickedFlag.index, "-next")) n.lastClickedFlag.goNext(), a = !0;
                    else if (ee.a.currentIntersect && n.lastClickedFlag && ee.a.currentIntersect.object.name === "project-".concat(n.lastClickedFlag.index, "-prev")) n.lastClickedFlag.goPrev(), a = !0;
                    else if (ee.a.currentIntersect && ee.a.currentIntersect.object.flagIndex > -1) {
                        if (!ne.a.onZoomProject && xe.a.menu.canSwitch) {
                            var s = ee.a.currentIntersect.object.flagIndex;
                            xe.a.menu.active ? xe.a.menu.toRoadview({
                                goToProject: !0,
                                type: n.flags[s].type,
                                index: s
                            }) : n.goToProject(s), he.b.trigger(he.a.CLICK), a = !0
                        }
                        if (ne.a.onZoomProject || xe.a.menu.active) return
                    } else if (!xe.a.menu.active && xe.a.menu.canSwitch)
                        if (xe.a.menu.cameFromView) {
                            var c = xe.a.menu.cameFromView;
                            window.dispatchEvent(Object(i.a)(r.m, {
                                view: c
                            }))
                        } else window.dispatchEvent(Object(i.a)(r.a));
                    a && he.b.trigger(he.a.CLICK)
                })), Se(this, "goToProject", (function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    xe.a.hideScrollText(), n.onZoomProject = !0;
                    var o = n.flags[e],
                        a = o.zoomPosition,
                        s = o.zoomLookAt,
                        c = o.directionCenter,
                        l = o.type;
                    window.dispatchEvent(Object(i.a)(r.n, {
                        directionCenter: c,
                        flagIndex: e,
                        type: l,
                        zoomPosition: a,
                        zoomLookAt: s,
                        fromMenuView: t
                    })), n.flags[e].toggleZoom(!0), n.lastClickedFlag = n.flags[e], n.flagsRendered = [n.flags[e]], t && (n.flags[e].isVisible || (n.flagFromMenuNotVisible = n.flags[e]), n.flags[e].isVisible = !0, n.flags[e].loadTextureFirst(n.flags[e].particleFlag.textures[n.flags[e].particleFlag.sliderIndex])), ee.a.updateObserver({})
                })), Se(this, "goToMenuFromProject", (function(e) {
                    if (ne.a.onZoomProject) {
                        var t = e.detail.view;
                        t === r.x ? xe.a.menu.toOverview() : t === r.q && xe.a.menu.toListview(), setTimeout((function() {
                            xe.a.transitionOutProject(), ne.a.onZoomProject = !1, n.lastClickedFlag && (n.lastClickedFlag.toggleZoom(!1), n.lastClickedFlag.flagToCircle()), ee.a.updateObserver({
                                view: r.x
                            })
                        }), 1e3 * r.j)
                    }
                })), Se(this, "backOnRoad", (function() {
                    ne.a.onZoomProject && (n.flagsRendered = n.flags.filter((function(e) {
                        return e.isVisible
                    })), xe.a.transitionOutProject(), ne.a.goBackRoad(), n.lastClickedFlag && n.lastClickedFlag.toggleZoom(!1), ee.a.updateObserver({}))
                })), Se(this, "menuMouseenter", (function(e) {
                    var t = n.flags[e.detail.index];
                    n.lastCircleFlagIntersect === t && (n.preventRaycasterLeave = !0, t.circleToFlagAnimated = !1), t.circleToFlag()
                })), Se(this, "menuMouseleave", (function(e) {
                    n.flags[e.detail.index].flagToCircle(), n.lastCircleFlagIntersect = !1, n.preventRaycasterLeave = !1
                })), Se(this, "switchView", (function(e) {
                    var t = e.detail,
                        i = t.type,
                        o = t.goToProject,
                        a = t.index;
                    i === r.x ? (n.flagsRendered = n.flags, n.listFlag.fadeOut(), n.flagFromMenuNotVisible && (n.flagFromMenuNotVisible.isVisible = !1)) : i === r.I ? (n.listFlag.fadeOut(), n.flagsRendered = n.flags.filter((function(e) {
                        return e.isVisible
                    }))) : i === r.q && n.listFlag.fadeIn(), n.flags.forEach((function(e, t) {
                        if (i === r.x) e.toOverview();
                        else if (i === r.q) e.fadeOut(!0, !0);
                        else {
                            var n = !1;
                            o && a === t && (n = !0), e.toRoadview(n)
                        }
                    }))
                })), this.scene = t, this.touch = new Me, this.initProjects(), this.initLabs(), this.initListFlag(), window.addEventListener(r.J, this.handleScroll), document.body.addEventListener("click", this.handleClick), window.addEventListener(r.a, this.backOnRoad), window.addEventListener(r.m, this.goToMenuFromProject), window.addEventListener(r.K, this.menuMouseenter), window.addEventListener(r.L, this.menuMouseleave), window.addEventListener(r.N, this.switchView), window.addEventListener(r.o, (function(e) {
                    var t = e.detail,
                        i = t.index;
                    t.view === r.q && n.flags[i].fadeIn(!0), n.goToProject(i, !0)
                })), setTimeout((function() {
                    n.flags[0].fadeIn(), n.flagsRendered = n.flags.filter((function(e) {
                        return e.isVisible
                    })), ee.a.updateObserver({})
                }), 1500)
            }
            var t, n, o;
            return t = e, (n = [{
                key: "initProjects",
                value: function() {
                    var e = this,
                        t = r.C / ye.length,
                        n = t;
                    this.scrollValue = n;
                    var i = ge.a.mainRoad.points;
                    ye.forEach((function(n, r) {
                        var o = i[Math.round(i.length * e.scrollValue)],
                            a = o.angle,
                            s = o.position,
                            c = o.center,
                            l = i[Math.round(i.length * e.scrollValue)].directionCenter,
                            u = 1;
                        2 !== r && 5 !== r || (u = -1, l *= -1);
                        var h = Math.cos(Object(ce.a)(a)) * (100 + 55 * u) + c.x,
                            d = Math.sin(Object(ce.a)(a)) * (100 + 55 * u),
                            p = new D.Vector3(h, s.y, d),
                            f = ge.a.mainTrail.getPoint(Math.max(0, e.scrollValue - .02)),
                            m = new ve({
                                position: p,
                                index: r,
                                guiController: e.guiController,
                                lookAt: f,
                                directionCenter: l,
                                data: n,
                                scrollValue: e.scrollValue,
                                touch: e.touch,
                                type: "project",
                                flagIndex: r
                            });
                        xe.a.menu.active && m.toOverview(), e.flags.push(m), e.scene.add(m.object3d), r !== ye.length - 1 && (e.scrollValue += t)
                    }))
                }
            }, {
                key: "initLabs",
                value: function() {
                    var e = this,
                        t = (r.B - r.C) / be.length;
                    this.scrollValue += t;
                    var n = ge.a.mainRoad.points;
                    be.forEach((function(i, r) {
                        var o = n[Math.round(n.length * e.scrollValue)],
                            a = o.angle,
                            s = o.position,
                            c = o.center,
                            l = n[Math.round(n.length * e.scrollValue)].directionCenter,
                            u = 1;
                        1 === r && (u = -1, l *= -1);
                        var h = Math.cos(Object(ce.a)(a)) * (100 + 55 * u) + c.x,
                            d = Math.sin(Object(ce.a)(a)) * (100 + 55 * u),
                            p = new D.Vector3(h, s.y, d),
                            f = ge.a.mainTrail.getPoint(Math.max(0, e.scrollValue - .02)),
                            m = new ve({
                                type: "lab",
                                position: p,
                                index: r,
                                guiController: e.guiController,
                                lookAt: f,
                                directionCenter: l,
                                data: i,
                                scrollValue: e.scrollValue,
                                touch: e.touch,
                                flagIndex: r + ye.length
                            });
                        xe.a.menu.active && m.toOverview(), e.flags.push(m), e.scene.add(m.object3d), e.scrollValue += t
                    }))
                }
            }, {
                key: "initListFlag",
                value: function() {
                    var e = new D.Vector3(0, 0, 0),
                        t = new D.Vector3(0, 0, 0);
                    this.listFlag = new ve({
                        type: "list",
                        position: e,
                        index: 0,
                        guiController: this.guiController,
                        lookAt: t,
                        directionCenter: 1,
                        touch: this.touch
                    })
                }
            }, {
                key: "render",
                value: function(e, t) {
                    for (var n = 0; n < this.flagsRendered.length; n++) this.flagsRendered[n].render(e, t);
                    this.listFlag && this.listFlag.render(e, t), this.hoverObjects()
                }
            }, {
                key: "hoverObjects",
                value: function() {
                    var e = this;
                    if (ee.a.isReady) {
                        this.touch.update();
                        var t = ee.a.currentIntersect,
                            n = ee.a.intersects;
                        if (n.length) {
                            if ("particleFlagPlane" === t.object.name && this.flags[t.object.flagIndex].isVisible) {
                                var i = this.flags[t.object.flagIndex];
                                xe.a.menu.active || (this.lastFlagIntersect && this.lastFlagIntersect !== i && (this.touch.reset(), this.lastFlagIntersect.particleFlag.material.uniforms.uTouch.value = null), setTimeout((function() {
                                    i.particleFlag.material.uniforms.uTouch.value = e.touch.texture, e.touch.addTouch(n[0].uv)
                                }), 0)), this.isTouchingFlagPlane = !0, this.lastFlagIntersect = i
                            }
                            for (var r = 0; r < n.length; r++)
                                if ("particleFlagCircle" === n[r].object.name && (this.lastCircleFlagIntersect !== this.flags[t.object.flagIndex] || this.lastCircleFlagIntersect === this.flags[t.object.flagIndex] && !this.lastCircleFlagIntersect.circleToFlagAnimated)) {
                                    var o = this.flags[t.object.flagIndex];
                                    this.lastCircleFlagIntersect !== o && (o.circleToFlag(), xe.a.menu.overviewProjects.updateText(t.object.flagIndex), this.lastCircleFlagIntersect = o, "project" === o.type ? l.a.changeColors(0, !0) : "lab" === o.type && l.a.changeColors(1, !0))
                                }
                        } else t ? this.isTouchingFlagPlane && (this.isTouchingFlagPlane = !1, xe.a.menu.active || this.flags.filter((function(t) {
                            return t !== e.lastFlagIntersect
                        })).forEach((function(e) {
                            return e.particleFlag.material.uniforms.uTouch.value = null
                        }))) : this.lastCircleFlagIntersect && (this.lastCircleFlagIntersect.flagToCircleAnimated || this.preventRaycasterLeave || (this.lastCircleFlagIntersect.flagToCircle(), xe.a.menu.overviewProjects.removeText(), this.lastCircleFlagIntersect = null))
                    }
                }
            }]) && Te(t.prototype, n), o && Te(t, o), e
        }(),
        Ae = n(57),
        Pe = n(58),
        Le = n(61),
        Ce = n(64),
        Re = {
            uniforms: {
                tDiffuse: {
                    value: null
                },
                uTime: {
                    value: 1
                },
                uForce: {
                    value: 6
                },
                uProgressSide: {
                    value: 0
                },
                uDisplaceMap: {
                    value: null
                },
                uResolution: {
                    value: null
                },
                uAccelerate: {
                    value: 1
                },
                uBgColor: {
                    value: null
                },
                uDirection: {
                    value: -1
                },
                uLighten: {
                    value: 0
                }
            },
            vertexShader: "#define GLSLIFY 1\nvarying vec2 vUv;\nvarying float vProgress;\n\nuniform float uProgressSide;\nuniform float uDirection;\n\nvoid main() {\n  vUv = uv;\n  vProgress = -(.5 * (1. - uProgressSide)) * uDirection;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",
            fragmentShader: "#define GLSLIFY 1\n#include <common>\nvarying vec2 vUv;\nvarying float vProgress;\n\nuniform sampler2D tDiffuse; // texture2D of the rendered scene\nuniform sampler2D uDisplaceMap;\nuniform vec2 uResolution;\nuniform float uForce;\nuniform float uProgressSide;\nuniform float uTime;\nuniform float uAccelerate;\nuniform vec3 uBgColor;\nuniform float uDirection;\nuniform float uLighten;\n\nconst float sideAngleCoef = .4;\nconst float offsetLeft = .56;\nconst float offsetTextureleft = -0.3;\nconst float speedCoef = 0.00003;\nconst float mainTextureOffsetValue = 0.17;\nconst float uvScale = 1.5;\nconst float ratioSquare = 1.;\n\nvoid main() {\n  float ratio = uResolution.y / uResolution.x;\n\n  // center UV, offset, scale...\n  vec2 uvDisplaceMap = (vUv - 0.5) * uvScale + 0.5;\n  uvDisplaceMap.y *= ratio / ratioSquare;\n  uvDisplaceMap.y += (1. - ratio / ratioSquare) / 2.;\n  uvDisplaceMap.x -= (offsetTextureleft - uAccelerate) * uDirection;\n  // animation\n  // uvDisplaceMap.x += uAccelerate * uDirection;\n  // upside down\n  uvDisplaceMap.y *= uDirection;\n  // multiply Displacement map\n\n  vec4 displace = texture2D(uDisplaceMap, uvDisplaceMap);\n\n  // Separation\n  float separation = 1. - vUv.y * sideAngleCoef * uDirection;\n\n  // smoothstep value from left to right for border fading\n  float amplificationForce = (1. - vUv.x - offsetLeft) * separation + vProgress;\n  if (uDirection == -1.) {\n    amplificationForce =(vUv.x - offsetLeft) * separation - vProgress;\n  }\n  amplificationForce = min(0.15, amplificationForce);\n  float coefForceUV = min(20., smoothstep(0.0, 1., amplificationForce));\n\n  // displacement\n  // increase the displacement exp from right to left\n  float powValue = 1.2;\n  float expForceX = pow((1. + (1. - vUv.x)), powValue);\n  if (uDirection == -1.) {\n    expForceX = pow((1. + (vUv.x)), powValue);\n  }\n  float displaceK = min(5., displace.g * uForce * coefForceUV / 20. * expForceX);\n\n  // Separation effect added\n\n  if (uDirection == -1. && vUv.x > offsetLeft * separation + vProgress\n  || uDirection == 1. && vUv.x < (1. - offsetLeft) * separation + vProgress) {\n    vec2 uvDisplaced = vec2((1. - vUv.x) - displaceK * uDirection, vUv.y);\n    gl_FragColor = texture2D(tDiffuse, uvDisplaced);\n    gl_FragColor.r = clamp(gl_FragColor.r, uBgColor.r, 1.0);\n    gl_FragColor.g = clamp(gl_FragColor.g, uBgColor.g, 1.0);\n    gl_FragColor.b = clamp(gl_FragColor.b, uBgColor.b, 1.0);\n    // ligthen\n    vec3 white = vec3(1.0);\n    gl_FragColor = vec4(mix(gl_FragColor.rgb, white, uLighten), 1.);\n  } else {\n    vec2 uvDisplaced = vec2(vUv.x, vUv.y);\n    gl_FragColor = texture2D(tDiffuse, uvDisplaced);\n  }\n}\n"
        };

    function Oe(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var i = Object.getOwnPropertySymbols(e);
            t && (i = i.filter((function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, i)
        }
        return n
    }

    function De(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? Oe(Object(n), !0).forEach((function(t) {
                je(e, t, n[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Oe(Object(n)).forEach((function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            }))
        }
        return e
    }

    function Ie(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function je(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var ke = [r.g[0], r.f[0], r.e[0]],
        Fe = function() {
            function e() {
                var t = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), je(this, "used", !1), je(this, "maxForce", 9), je(this, "transitionIn", (function(e, n) {
                    var i;
                    t.pass.material.uniforms.uDirection.value = -e, null === (i = t.tlBackOnRoad) || void 0 === i || i.kill(), t.used = !0;
                    var o = n ? r.j : 0;
                    ae.d.fromTo(t.pass.material.uniforms.uProgressSide, {
                        value: 0
                    }, {
                        value: 1,
                        duration: 1.4,
                        ease: "expo.out",
                        delay: o
                    }), ae.d.fromTo(t.pass.material.uniforms.uForce, {
                        value: 0
                    }, {
                        value: t.maxForce,
                        duration: 1.4,
                        ease: "linear",
                        delay: o
                    }), ae.d.fromTo(t.pass.material.uniforms.uAccelerate, {
                        value: 1
                    }, {
                        value: 0,
                        duration: 1.9,
                        ease: "expo.out",
                        delay: o
                    })
                })), je(this, "transitionOut", (function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                        n = 1.4,
                        i = e ? r.j - .5 : 0;
                    t.tlBackOnRoad = new ae.c, t.tlBackOnRoad.to(t.pass.material.uniforms.uProgressSide, {
                        value: 0,
                        duration: n,
                        ease: "expo.out"
                    }, i), t.tlBackOnRoad.to(t.pass.material.uniforms.uForce, {
                        value: 0,
                        duration: n,
                        ease: "linear",
                        onComplete: function() {
                            t.used = !1
                        }
                    }, i), t.tlBackOnRoad.to(t.pass.material.uniforms.uAccelerate, {
                        value: 0,
                        duration: 1,
                        ease: "expo.out"
                    }, i)
                })), je(this, "handleResize", (function() {
                    t.pass.material.uniforms.uResolution.value = new D.Vector2(c.b.width, c.b.height)
                }));
                var n = $.a.subjects.displacement.texture;
                n.wrapS = n.wrapT = D.RepeatWrapping, n.center.set(.5, .5), this.pass = new U(Re), this.pass.material.uniforms.uDisplaceMap.value = n, this.pass.material.uniforms.uResolution.value = new D.Vector2(c.b.width, c.b.height), this.pass.material.uniforms.uBgColor.value = new D.Color(ke[0].r / 255, ke[0].g / 255, ke[0].b / 255), this.texture = n, this.events(), this.initGUI(), this.pass.material.uniforms.uLighten.value = this.guiController.uLighten
            }
            var t, n, i;
            return t = e, (n = [{
                key: "initGUI",
                value: function() {
                    this.guiController = {
                        ppForce: 9,
                        uLighten: .62
                    }
                }
            }, {
                key: "events",
                value: function() {
                    var e = this;
                    window.addEventListener(r.Q, this.handleResize, {
                        passive: !0
                    }), window.addEventListener(r.n, (function(t) {
                        var n = t.detail,
                            i = n.directionCenter,
                            r = n.fromMenuView;
                        e.transitionIn(i, r)
                    })), window.addEventListener(r.a, (function() {
                        return e.transitionOut()
                    })), window.addEventListener(r.m, (function() {
                        return e.transitionOut(!0)
                    }))
                }
            }, {
                key: "transitionToColor",
                value: function(e, t) {
                    var n = this,
                        i = De({}, ke[e]),
                        r = De({}, ke[t]);
                    ae.d.to(i, {
                        r: r.r,
                        g: r.g,
                        b: r.b,
                        ease: "expo.out",
                        duration: 2,
                        onUpdate: function() {
                            var e = new D.Color(i.r / 255, i.g / 255, i.b / 255);
                            n.pass.material.uniforms.uBgColor.value = e
                        }
                    })
                }
            }, {
                key: "render",
                value: function(e) {
                    this.pass.material.uniforms.uTime.value += e
                }
            }]) && Ie(t.prototype, n), i && Ie(t, i), e
        }(),
        Ne = n(66);
    n(123);

    function ze(e, t, n, i) {
        return new(n || (n = Promise))((function(r, o) {
            function a(e) {
                try {
                    c(i.next(e))
                } catch (e) {
                    o(e)
                }
            }

            function s(e) {
                try {
                    c(i.throw(e))
                } catch (e) {
                    o(e)
                }
            }

            function c(e) {
                var t;
                e.done ? r(e.value) : (t = e.value, t instanceof n ? t : new n((function(e) {
                    e(t)
                }))).then(a, s)
            }
            c((i = i.apply(e, t || [])).next())
        }))
    }
    const Be = ["geforce 320m", "geforce 8600", "geforce 8600m gt", "geforce 8800 gs", "geforce 8800 gt", "geforce 9400", "geforce 9400m g", "geforce 9400m", "geforce 9600m gt", "geforce 9600m", "geforce fx go5200", "geforce gt 120", "geforce gt 130", "geforce gt 330m", "geforce gtx 285", "google swiftshader", "intel g41", "intel g45", "intel gma 4500mhd", "intel gma x3100", "intel hd 3000", "intel q45", "legacy", "mali-2", "mali-3", "mali-4", "quadro fx 1500", "quadro fx 4", "quadro fx 5", "radeon hd 2400", "radeon hd 2600", "radeon hd 4670", "radeon hd 4850", "radeon hd 4870", "radeon hd 5670", "radeon hd 5750", "radeon hd 6290", "radeon hd 6300", "radeon hd 6310", "radeon hd 6320", "radeon hd 6490m", "radeon hd 6630m", "radeon hd 6750m", "radeon hd 6770m", "radeon hd 6970m", "radeon r9 200", "sgx 543", "sgx543"],
        Ue = e => e.toLowerCase().replace(/^angle ?\((.+)\)*$/, "$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g, ""),
        Ve = "undefined" == typeof window,
        He = (() => {
            if (Ve) return;
            const {
                userAgent: e,
                platform: t,
                maxTouchPoints: n
            } = window.navigator, i = /(iphone|ipod|ipad)/i.test(e), r = "iPad" === t || "MacIntel" === t && n > 0 && !window.MSStream;
            return {
                isIpad: r,
                isMobile: /android/i.test(e) || i || r,
                isSafari12: /Version\/12.+Safari/.test(e)
            }
        })(),
        Ge = [],
        We = [],
        qe = (e, t) => {
            if (e === t) return 0;
            const n = e;
            e.length > t.length && (e = t, t = n);
            let i = e.length,
                r = t.length;
            for (; i > 0 && e.charCodeAt(~-i) === t.charCodeAt(~-r);) i--, r--;
            let o, a = 0;
            for (; a < i && e.charCodeAt(a) === t.charCodeAt(a);) a++;
            if (i -= a, r -= a, 0 === i) return r;
            let s, c, l = 0,
                u = 0,
                h = 0;
            for (; u < i;) We[u] = e.charCodeAt(a + u), Ge[u] = ++u;
            for (; h < r;)
                for (o = t.charCodeAt(a + h), s = h++, l = h, u = 0; u < i; u++) c = o === We[u] ? s : s + 1, s = Ge[u], l = Ge[u] = s > l ? c > l ? l + 1 : c : c > s ? s + 1 : c;
            return l
        },
        Ye = ({
            mobileTiers: e = [0, 15, 30, 60],
            desktopTiers: t = [0, 15, 30, 60],
            override: n = {},
            glContext: i,
            failIfMajorPerformanceCaveat: r = !1,
            benchmarksURL: o = "https://unpkg.com/detect-gpu@3.1.11/dist/benchmarks"
        } = {}) => ze(void 0, void 0, void 0, (function*() {
            const a = {};
            if (Ve) return {
                tier: 0,
                type: "SSR"
            };
            const {
                isIpad: s = !!(null == He ? void 0 : He.isIpad),
                isMobile: c = !!(null == He ? void 0 : He.isMobile),
                screenSize: l = window.screen,
                loadBenchmarks: u = (e => ze(void 0, void 0, void 0, (function*() {
                    const t = yield fetch(`${o}/${e}`).then(e => e.json());
                    return t.shift(), t
                })))
            } = n;
            let {
                renderer: h
            } = n;
            const d = (e, t, n, i, r) => ({
                device: r,
                fps: i,
                gpu: n,
                isMobile: c,
                tier: e,
                type: t
            });
            let p, f = "";
            if (h) h = Ue(h), p = [h];
            else {
                const e = i || ((e, t = !1) => {
                    const n = {
                        alpha: !1,
                        antialias: !1,
                        depth: !1,
                        failIfMajorPerformanceCaveat: t,
                        powerPreference: "high-performance",
                        stencil: !1
                    };
                    e && delete n.powerPreference;
                    const i = window.document.createElement("canvas"),
                        r = i.getContext("webgl", n) || i.getContext("experimental-webgl", n);
                    return null != r ? r : void 0
                })(null == He ? void 0 : He.isSafari12, r);
                if (!e) return d(0, "WEBGL_UNSUPPORTED");
                const t = e.getExtension("WEBGL_debug_renderer_info");
                if (t && (h = e.getParameter(t.UNMASKED_RENDERER_WEBGL)), !h) return d(1, "FALLBACK");
                f = h, h = Ue(h), p = ((e, t, n) => "apple gpu" === t ? ((e, t, n) => {
                    let i = [t];
                    if (n) {
                        const t = "\n      precision highp float;\n      attribute vec3 aPosition;\n      varying float vvv;\n      void main() {\n        vvv = 0.31622776601683794;\n        gl_Position = vec4(aPosition, 1.0);\n      }\n    ",
                            n = "\n      precision highp float;\n      varying float vvv;\n      void main() {\n        vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;\n        enc = fract(enc);\n        enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\n        gl_FragColor = enc;\n      }\n    ",
                            r = e.createShader(35633),
                            o = e.createShader(35632),
                            a = e.createProgram();
                        if (o && r && a) {
                            e.shaderSource(r, t), e.shaderSource(o, n), e.compileShader(r), e.compileShader(o), e.attachShader(a, r), e.attachShader(a, o), e.linkProgram(a), e.detachShader(a, r), e.detachShader(a, o), e.deleteShader(r), e.deleteShader(o), e.useProgram(a);
                            const s = e.createBuffer();
                            e.bindBuffer(34962, s), e.bufferData(34962, new Float32Array([-1, -1, 0, 3, -1, 0, -1, 3, 0]), 35044);
                            const c = e.getAttribLocation(a, "aPosition");
                            e.vertexAttribPointer(c, 3, 5126, !1, 0, 0), e.enableVertexAttribArray(c), e.clearColor(1, 1, 1, 1), e.clear(16384), e.viewport(0, 0, 1, 1), e.drawArrays(4, 0, 3);
                            const l = new Uint8Array(4);
                            e.readPixels(0, 0, 1, 1, 6408, 5121, l), e.deleteProgram(a), e.deleteBuffer(s), i = {
                                801621810: (null == He ? void 0 : He.isIpad) ? ["apple a12x gpu"] : ["apple a11 gpu", "apple a12 gpu", "apple a13 gpu", "apple a14 gpu"],
                                8016218135: (null == He ? void 0 : He.isIpad) ? ["apple a9x gpu", "apple a10 gpu", "apple a10x gpu"] : ["apple a9 gpu", "apple a10 gpu"]
                            }[l.join("")] || i
                        }
                    }
                    return i
                })(e, t, n) : [t])(e, h, c)
            }
            const m = (yield Promise.all(p.map(e => ze(void 0, void 0, void 0, (function*() {
                const t = (e => {
                    const t = c ? ["adreno", "apple", "mali-t", "mali", "nvidia", "powervr"] : ["intel", "amd", "radeon", "nvidia", "geforce"];
                    for (const n of t)
                        if (e.includes(n)) return n
                })(e);
                if (!t) return;
                const n = `${c?"m":"d"}-${t}.json`,
                    i = a[n] = a[n] || u(n);
                let r;
                try {
                    r = yield i
                } catch (t) {
                    return
                }
                const o = (e => {
                        var t;
                        const n = (e = e.replace(/\([^)]+\)/, "")).match(/\d+/) || e.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);
                        return null !== (t = null == n ? void 0 : n.join("").replace(/\W|amd/g, "")) && void 0 !== t ? t : ""
                    })(e),
                    h = "apple" === t;
                let d = r.filter(([, e]) => e === o);
                d.length || (d = r.filter(([t]) => t.includes(e)));
                const p = d.length;
                if (0 === p) return;
                let f, [m, , , v] = p > 1 ? d.map(t => [t, qe(e, t[0])]).sort(([, e], [, t]) => e - t)[0][0] : d[0],
                    g = Number.MAX_VALUE;
                const {
                    devicePixelRatio: y
                } = window, b = l.width * y * (l.height * y);
                h && c && (v = v.filter(([, , , e]) => {
                    var t;
                    return (null !== (t = null == e ? void 0 : e.indexOf(s ? "ipad" : "iphone")) && void 0 !== t ? t : -1) > -1
                }));
                for (const e of v) {
                    const [t, n] = e, i = t * n, r = Math.abs(b - i);
                    r < g && (g = r, f = e)
                }
                if (!f) return;
                const [, , x, w] = f;
                return [g, x, m, w]
            }))))).filter(e => !!e);
            if (!m.length) {
                const e = Be.find(e => h.includes(e));
                return e ? d(0, "BLOCKLISTED", e) : d(1, "FALLBACK", `${h} (${f})`)
            }
            const [, v, g, y] = m.sort(([e = Number.MAX_VALUE], [t = Number.MAX_VALUE]) => e - t)[0];
            if (-1 === v) return d(0, "BLOCKLISTED", g, v, y);
            const b = c ? e : t;
            let x = 0;
            for (let e = 0; e < b.length; e++) v >= b[e] && (x = e);
            return d(x, "BENCHMARK", g, v, y)
        }));
    var Xe = n(23);

    function Ze(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function Je(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var Ke = function() {
            function e() {
                var t = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), Je(this, "splittedTexts", []), Je(this, "resetAnimationPath", (function(e) {
                    var n = e.target;
                    t.isReady && !n.nextSibling.nextSibling && (t.paths.forEach((function(e) {
                        e.classList.remove("is-animated")
                    })), t.start())
                })), Je(this, "finishLoaded", (function() {
                    t.isReady = !0
                })), Je(this, "handleClickButton", (function() {
                    window.dispatchEvent(Object(i.a)(r.M)), setTimeout((function() {
                        t.destroy(), window.dispatchEvent(Object(i.a)(r.v))
                    }), 500)
                })), this.el = document.body.querySelector("[data-intro]"), this.elSvg = document.body.querySelector("[data-intro-svg]"), this.btnEl = document.body.querySelector("[data-intro-button]"), this.paths = this.elSvg.querySelectorAll(".intro__logo__path"), this.textEls = document.body.querySelectorAll("[data-split-text]"), this.textEls.forEach((function(e) {
                    t.splittedTexts.push(new Xe.a(e)), e.classList.remove("is-hidden")
                })), window.addEventListener(r.d, this.handleClickButton), this.animatePaths()
            }
            var t, n, o;
            return t = e, (n = [{
                key: "animatePaths",
                value: function() {
                    var e = this;
                    setTimeout((function() {
                        e.elSvg.classList.add("is-visible"), e.paths.forEach((function(t, n) {
                            e.loopCssAnimations(t)
                        }))
                    }))
                }
            }, {
                key: "loopCssAnimations",
                value: function(e) {
                    e.addEventListener("animationiteration", this.resetAnimationPath)
                }
            }, {
                key: "start",
                value: function() {
                    var e = this;
                    s.start(), setTimeout((function() {
                        e.elSvg.classList.remove("is-visible"), e.btnEl.classList.add("is-visible")
                    }), 1e3), this.splittedTexts.forEach((function(e, t) {
                        setTimeout((function() {
                            e.show()
                        }), 500 * t)
                    }))
                }
            }, {
                key: "destroy",
                value: function() {
                    var e = this;
                    this.paths.forEach((function(t) {
                        t.removeEventListener("animationiteration", e.resetAnimationPath)
                    })), this.el.remove()
                }
            }]) && Ze(t.prototype, n), o && Ze(t, o), e
        }(),
        Qe = n(73),
        $e = n(76);

    function et(e, t, n, i, r, o, a) {
        try {
            var s = e[o](a),
                c = s.value
        } catch (e) {
            return void n(e)
        }
        s.done ? t(c) : Promise.resolve(c).then(i, r)
    }

    function tt(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    function nt(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var it = "assets-scene/",
        rt = function() {
            function e(t) {
                var n = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), nt(this, "load", (function() {
                    c.b.handleResize();
                    var e = [{
                        name: "displacement",
                        texture: "".concat(it, "ripple-logo10.png")
                    }, {
                        name: "arrow",
                        texture: "".concat(it, "arrow.jpeg")
                    }, {
                        name: "twitter",
                        texture: "".concat(it, "twitter.jpg")
                    }, {
                        name: "email",
                        texture: "".concat(it, "email.jpg")
                    }, {
                        name: "github",
                        texture: "".concat(it, "github.jpg")
                    }, {
                        name: "alvar",
                        bmfont: "fonts/Silka-RegularItalic.fnt"
                    }, {
                        name: "alvar_glyph",
                        texture: "fonts/Silka-RegularItalic-atlas.png"
                    }, {
                        name: "roadgeek",
                        bmfont: "fonts/Roadgeek-2005-Mittelschrift.fnt"
                    }, {
                        name: "roadgeek_glyph",
                        texture: "fonts/Roadgeek-2005-Mittelschrift-atlas.png"
                    }, {
                        name: "lato",
                        bmfont: "fonts/Lato-Regular.fnt"
                    }, {
                        name: "lato_glyph",
                        texture: "fonts/Lato-Regular-atlas.png"
                    }, {
                        name: "ibmplexsans",
                        bmfont: "fonts/IBMPlexSans-Bold.fnt"
                    }, {
                        name: "ibmplexsans_glyph",
                        texture: "fonts/IBMPlexSans-Bold-Atlas.png"
                    }];
                    c.b.breakpoint, r.r, c.b.breakpoint, r.r;
                    $.a.load(e, n.intro.finishLoaded), window.addEventListener(r.M, n.init)
                })), nt(this, "init", (function() {
                    var e;
                    n.initGUI(), n.buildStats(), n.buildScene(), n.buildRender(), xe.a.transitionInFooter(), xe.a.transitionInSidebar(), n.road = new Ae.a(n.scene), n.sectionTitles = [];
                    for (var t = 0; t < 3; t++) {
                        var i = new Le.a(t);
                        n.sectionTitles.push(i)
                    }
                    ne.a.init(n.scene), n.overlay = new Qe.a, ne.a.addSectionTitle(n.sectionTitles), ne.a.addOverlay(n.overlay), n.flags = new Ee(n.scene), ne.a.addListFlag(n.flags.listFlag), n.obstacles = new Ce.a(n.scene), n.asteroids = new $e.a(n.scene, n.obstacles), n.about = new Ne.a(n.scene), ee.a.add(n.flags), te.mode ? (document.body.classList.add("is-debug"), n.buildControls(), n.scene.add(ne.a.camera)) : (document.body.classList.remove("is-debug"), n.scene.add(ne.a.cameraBox)), n.gradientT = new Pe.a, n.projectPostProcessing = new Fe, l.a.addGradient(n.gradientT), l.a.addObstacles(n.obstacles), l.a.addSectionTitles(n.sectionTitles), l.a.addProjectPP(n.projectPostProcessing), l.a.addRoad(n.road), n.scene.background = n.gradientT.rTarget.texture, n.events(!0), n.composer = new G(n.renderer);
                    var r = new q(n.scene, ne.a.camera);
                    n.composer.addPass(r), n.composer.addPass(n.projectPostProcessing.pass), n.smaaPass = new J(c.b.width, c.b.height), c.b.tier >= 3 && n.composer.addPass(n.smaaPass), ee.a.isReady = !0, ne.a.introToDefaultView(), null === (e = n.road) || void 0 === e || e.introToDefaultView()
                })), nt(this, "guiChange", (function() {
                    n.hasBeenReset = !0, te.mode = n.guiController.debug, te.toggle_helpers = n.guiController.toggle_helpers, n.destroy(), n.init()
                })), nt(this, "switchView", (function(e) {
                    var t = e.detail.type;
                    t === r.x ? (n.asteroids.hideAll(), n.obstacles.showAll()) : t === r.I && (n.asteroids.showAll(), n.obstacles.hideAll())
                })), nt(this, "render", (function(e) {
                    var t = e.detail,
                        i = t.now,
                        r = t.deltaTime;
                    n.stats.begin(), n.controls && n.controls.update(), n.flags && n.flags.render(i, r), n.road && n.road.render(r), n.particlesLine && n.particlesLine.render(r), n.asteroids && l.a.introFinished && n.asteroids.render(i), ne.a.render(i, r), n.gradientT && n.gradientT.render(r), n.renderer.setRenderTarget(n.gradientT.rTarget), n.renderer.render(n.gradientT.scene, n.gradientT.camera), n.renderer.setRenderTarget(null), n.projectPostProcessing.used ? (n.projectPostProcessing.render(r), n.composer.render()) : n.renderer.render(n.scene, ne.a.camera), n.stats.end()
                })), nt(this, "handleResize", (function() {
                    ne.a.camera.aspect = c.b.width / c.b.height, ne.a.camera.updateProjectionMatrix(), n.setSizes(), n.smaaPass.setSize(c.b.width, c.b.height)
                })), nt(this, "setRendererDPR", (function() {
                    n.renderer.setPixelRatio(c.b.dpr)
                })), this.canvas = t, this.hasBeenReset = !1, this.intro = new Ke, this.testGPU(this.load), "scrollRestoration" in history && (history.scrollRestoration = "manual")
            }
            var t, n, i, o, a;
            return t = e, (n = [{
                key: "testGPU",
                value: (o = regeneratorRuntime.mark((function e(t) {
                    var n;
                    return regeneratorRuntime.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, Ye();
                            case 2:
                                n = e.sent, c.b.setPixelRatio(n), t();
                            case 5:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })), a = function() {
                    var e = this,
                        t = arguments;
                    return new Promise((function(n, i) {
                        var r = o.apply(e, t);

                        function a(e) {
                            et(r, n, i, a, s, "next", e)
                        }

                        function s(e) {
                            et(r, n, i, a, s, "throw", e)
                        }
                        a(void 0)
                    }))
                }, function(e) {
                    return a.apply(this, arguments)
                })
            }, {
                key: "initGUI",
                value: function() {
                    this.guiController = {
                        debug: te.mode,
                        toggle_helpers: te.toggle_helpers,
                        ppForce: 1
                    }
                }
            }, {
                key: "events",
                value: function() {
                    var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],
                        t = e ? "addEventListener" : "removeEventListener";
                    window[t](r.Q, this.handleResize, {
                        passive: !0
                    }), window[t](r.F, this.render, {
                        passive: !0
                    }), window[t](r.N, this.switchView)
                }
            }, {
                key: "buildStats",
                value: function() {
                    this.stats = new Q.a, this.stats.showPanel(0)
                }
            }, {
                key: "buildScene",
                value: function() {
                    this.scene = new D.Scene, this.scene.background = new D.Color(16777215)
                }
            }, {
                key: "buildRender",
                value: function() {
                    this.renderer = new D.WebGLRenderer({
                        canvas: this.canvas,
                        antialias: !0,
                        alpha: !1,
                        premultipliedAlpha: !1,
                        transparent: !1
                    }), this.setRendererDPR(), this.setSizes()
                }
            }, {
                key: "buildControls",
                value: function() {
                    this.controls = new I(ne.a.camera, this.renderer.domElement)
                }
            }, {
                key: "setSizes",
                value: function() {
                    var e;
                    this.renderer.setSize(c.b.width, c.b.height), null === (e = this.composer) || void 0 === e || e.setSize(c.b.width, c.b.height), this.testGPU(this.setRendererDPR)
                }
            }, {
                key: "destroy",
                value: function() {
                    for (var e = this.scene.children.length - 1; e >= 0; e--) {
                        var t = this.scene.children[e];
                        this.scene.remove(t)
                    }
                    this.events(!1)
                }
            }]) && tt(t.prototype, n), i && tt(t, i), e
        }();
    ! function() {
        window.scrollTo(0, 0);
        var e = document.querySelector("[data-scene-canvas]");
        new rt(e)
    }();
    n(124)
}]);
//# sourceMappingURL=bundle.21737518fc6eb8ab1fac.js.map